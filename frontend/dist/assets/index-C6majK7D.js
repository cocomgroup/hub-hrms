(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))c(m);new MutationObserver(m=>{for(const d of m)if(d.type==="childList")for(const y of d.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&c(y)}).observe(document,{childList:!0,subtree:!0});function i(m){const d={};return m.integrity&&(d.integrity=m.integrity),m.referrerPolicy&&(d.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?d.credentials="include":m.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(m){if(m.ep)return;m.ep=!0;const d=i(m);fetch(m.href,d)}})();const gl=!1;var nl=Array.isArray,Xr=Array.prototype.indexOf,vl=Array.from,sr=Object.defineProperty,Ss=Object.getOwnPropertyDescriptor,lr=Object.getOwnPropertyDescriptors,Kr=Object.prototype,Zr=Array.prototype,jl=Object.getPrototypeOf,Rl=Object.isExtensible;const Qa=()=>{};function Qr(l){return l()}function al(l){for(var r=0;r<l.length;r++)l[r]()}function rr(){var l,r,i=new Promise((c,m)=>{l=c,r=m});return{promise:i,resolve:l,reject:r}}function ei(l,r){if(Array.isArray(l))return l;if(!(Symbol.iterator in l))return Array.from(l);const i=[];for(const c of l)if(i.push(c),i.length===r)break;return i}const oa=2,ql=4,dl=8,ti=1<<24,Ya=16,Ga=32,ms=64,cl=128,qa=512,ra=1024,ma=2048,Ba=4096,ya=8192,Wa=16384,Cl=32768,qs=65536,Ll=1<<17,ir=1<<18,Ts=1<<19,or=1<<20,Ha=1<<25,us=32768,xl=1<<21,Al=1<<22,es=1<<23,ts=Symbol("$state"),ai=Symbol("legacy props"),si=Symbol(""),Es=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function li(l){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ri(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ii(l){throw new Error("https://svelte.dev/e/effect_in_teardown")}function oi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ni(l){throw new Error("https://svelte.dev/e/effect_orphan")}function vi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function di(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ci(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ui(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function pi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const _i=1,fi=2,nr=4,mi=8,bi=16,hi=2,yi=4,gi=8,vr=1,xi=2,na=Symbol(),wi="http://www.w3.org/1999/xhtml";function ki(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function $i(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function dr(l){return l===this.v}function cr(l,r){return l!=l?r==r:l!==r||l!==null&&typeof l=="object"||typeof l=="function"}function ur(l){return!cr(l,this.v)}let Ms=!1,Ei=!1;function Si(){Ms=!0}let Yt=null;function Cs(l){Yt=l}function Jt(l,r=!1,i){Yt={p:Yt,i:!1,c:null,e:null,s:l,x:null,l:Ms&&!r?{s:null,u:null,$:[]}:null}}function Vt(l){var r=Yt,i=r.e;if(i!==null){r.e=null;for(var c of i)zr(c)}return l!==void 0&&(r.x=l),r.i=!0,Yt=r.p,l??{}}function Js(){return!Ms||Yt!==null&&Yt.l===null}let is=[];function pr(){var l=is;is=[],al(l)}function Vs(l){if(is.length===0&&!Rs){var r=is;queueMicrotask(()=>{r===is&&pr()})}is.push(l)}function zi(){for(;is.length>0;)pr()}function _r(l){var r=Lt;if(r===null)return It.f|=es,l;if((r.f&Cl)===0){if((r.f&cl)===0)throw l;r.b.error(l)}else As(l,r)}function As(l,r){for(;r!==null;){if((r.f&cl)!==0)try{r.b.error(l);return}catch(i){l=i}r=r.parent}throw l}const Qs=new Set;let Nt=null,Ns=null,Ea=null,ka=[],ul=null,wl=!1,Rs=!1;class Da{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#s=0;#a=0;#n=null;#r=[];#l=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#a>0}process(r){ka=[],Ns=null,this.apply();var i={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const c of r)this.#i(c,i);this.is_fork||this.#d(),this.is_deferred()?(this.#o(i.effects),this.#o(i.render_effects),this.#o(i.block_effects)):(Ns=this,Nt=null,Ul(i.render_effects),Ul(i.effects),Ns=null,this.#n?.resolve()),Ea=null}#i(r,i){r.f^=ra;for(var c=r.first;c!==null;){var m=c.f,d=(m&(Ga|ms))!==0,y=d&&(m&ra)!==0,u=y||(m&ya)!==0||this.skipped_effects.has(c);if((c.f&cl)!==0&&c.b?.is_pending()&&(i={parent:i,effect:c,effects:[],render_effects:[],block_effects:[]}),!u&&c.fn!==null){d?c.f^=ra:(m&ql)!==0?i.effects.push(c):Bs(c)&&((c.f&Ya)!==0&&i.block_effects.push(c),Ds(c));var _=c.first;if(_!==null){c=_;continue}}var f=c.parent;for(c=c.next;c===null&&f!==null;)f===i.effect&&(this.#o(i.effects),this.#o(i.render_effects),this.#o(i.block_effects),i=i.parent),c=f.next,f=f.parent}}#o(r){for(const i of r)((i.f&ma)!==0?this.#r:this.#l).push(i),this.#v(i.deps),ia(i,ra)}#v(r){if(r!==null)for(const i of r)(i.f&oa)===0||(i.f&us)===0||(i.f^=us,this.#v(i.deps))}capture(r,i){this.previous.has(r)||this.previous.set(r,i),(r.f&es)===0&&(this.current.set(r,r.v),Ea?.set(r,r.v))}activate(){Nt=this,this.apply()}deactivate(){Nt===this&&(Nt=null,Ea=null)}flush(){if(this.activate(),ka.length>0){if(fr(),Nt!==null&&Nt!==this)return}else this.#s===0&&this.process([]);this.deactivate()}discard(){for(const r of this.#t)r(this);this.#t.clear()}#d(){if(this.#a===0){for(const r of this.#e)r();this.#e.clear()}this.#s===0&&this.#c()}#c(){if(Qs.size>1){this.previous.clear();var r=Ea,i=!0,c={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const d of Qs){if(d===this){i=!1;continue}const y=[];for(const[_,f]of this.current){if(d.current.has(_))if(i&&f!==d.current.get(_))d.current.set(_,f);else continue;y.push(_)}if(y.length===0)continue;const u=[...d.current.keys()].filter(_=>!this.current.has(_));if(u.length>0){var m=ka;ka=[];const _=new Set,f=new Map;for(const x of y)mr(x,u,_,f);if(ka.length>0){Nt=d,d.apply();for(const x of ka)d.#i(x,c);d.deactivate()}ka=m}}Nt=null,Ea=r}this.committed=!0,Qs.delete(this)}increment(r){this.#s+=1,r&&(this.#a+=1)}decrement(r){this.#s-=1,r&&(this.#a-=1),this.revive()}revive(){for(const r of this.#r)ia(r,ma),ps(r);for(const r of this.#l)ia(r,Ba),ps(r);this.#r=[],this.#l=[],this.flush()}oncommit(r){this.#e.add(r)}ondiscard(r){this.#t.add(r)}settled(){return(this.#n??=rr()).promise}static ensure(){if(Nt===null){const r=Nt=new Da;Qs.add(Nt),Rs||Da.enqueue(()=>{Nt===r&&r.flush()})}return Nt}static enqueue(r){Vs(r)}apply(){}}function ji(l){var r=Rs;Rs=!0;try{for(var i;;){if(zi(),ka.length===0&&(Nt?.flush(),ka.length===0))return ul=null,i;fr()}}finally{Rs=r}}function fr(){var l=vs;wl=!0;var r=null;try{var i=0;for(ll(!0);ka.length>0;){var c=Da.ensure();if(i++>1e3){var m,d;qi()}c.process(ka),as.clear()}}finally{wl=!1,ll(l),ul=null}}function qi(){try{vi()}catch(l){As(l,ul)}}let La=null;function Ul(l){var r=l.length;if(r!==0){for(var i=0;i<r;){var c=l[i++];if((c.f&(Wa|ya))===0&&Bs(c)&&(La=new Set,Ds(c),c.deps===null&&c.first===null&&c.nodes===null&&(c.teardown===null&&c.ac===null?Cr(c):c.fn=null),La?.size>0)){as.clear();for(const m of La){if((m.f&(Wa|ya))!==0)continue;const d=[m];let y=m.parent;for(;y!==null;)La.has(y)&&(La.delete(y),d.push(y)),y=y.parent;for(let u=d.length-1;u>=0;u--){const _=d[u];(_.f&(Wa|ya))===0&&Ds(_)}}La.clear()}}La=null}}function mr(l,r,i,c){if(!i.has(l)&&(i.add(l),l.reactions!==null))for(const m of l.reactions){const d=m.f;(d&oa)!==0?mr(m,r,i,c):(d&(Al|Ya))!==0&&(d&ma)===0&&br(m,r,c)&&(ia(m,ma),ps(m))}}function br(l,r,i){const c=i.get(l);if(c!==void 0)return c;if(l.deps!==null)for(const m of l.deps){if(r.includes(m))return!0;if((m.f&oa)!==0&&br(m,r,i))return i.set(m,!0),!0}return i.set(l,!1),!1}function ps(l){for(var r=ul=l;r.parent!==null;){r=r.parent;var i=r.f;if(wl&&r===Lt&&(i&Ya)!==0&&(i&ir)===0)return;if((i&(ms|Ga))!==0){if((i&ra)===0)return;r.f^=ra}}ka.push(r)}function Ci(l){let r=0,i=_s(0),c;return()=>{Hs()&&(e(i),Gs(()=>(r===0&&(c=n(()=>l(()=>Ls(i)))),r+=1,()=>{Vs(()=>{r-=1,r===0&&(c?.(),c=void 0,Ls(i))})})))}}var Ai=qs|Ts|cl;function Di(l,r,i){new Pi(l,r,i)}class Pi{parent;#e=!1;#t;#s=null;#a;#n;#r;#l=null;#i=null;#o=null;#v=null;#d=null;#c=0;#u=0;#_=!1;#p=null;#y=Ci(()=>(this.#p=_s(this.#c),()=>{this.#p=null}));constructor(r,i,c){this.#t=r,this.#a=i,this.#n=c,this.parent=Lt.b,this.#e=!!this.#a.pending,this.#r=Tl(()=>{Lt.b=this;{var m=this.#b();try{this.#l=$a(()=>c(m))}catch(d){this.error(d)}this.#u>0?this.#m():this.#e=!1}return()=>{this.#d?.remove()}},Ai)}#g(){try{this.#l=$a(()=>this.#n(this.#t))}catch(r){this.error(r)}this.#e=!1}#x(){const r=this.#a.pending;r&&(this.#i=$a(()=>r(this.#t)),Da.enqueue(()=>{var i=this.#b();this.#l=this.#f(()=>(Da.ensure(),$a(()=>this.#n(i)))),this.#u>0?this.#m():(ns(this.#i,()=>{this.#i=null}),this.#e=!1)}))}#b(){var r=this.#t;return this.#e&&(this.#d=Ja(),this.#t.before(this.#d),r=this.#d),r}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#a.pending}#f(r){var i=Lt,c=It,m=Yt;Ma(this.#r),_a(this.#r),Cs(this.#r.ctx);try{return r()}catch(d){return _r(d),null}finally{Ma(i),_a(c),Cs(m)}}#m(){const r=this.#a.pending;this.#l!==null&&(this.#v=document.createDocumentFragment(),this.#v.append(this.#d),Pr(this.#l,this.#v)),this.#i===null&&(this.#i=$a(()=>r(this.#t)))}#h(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#h(r);return}this.#u+=r,this.#u===0&&(this.#e=!1,this.#i&&ns(this.#i,()=>{this.#i=null}),this.#v&&(this.#t.before(this.#v),this.#v=null))}update_pending_count(r){this.#h(r),this.#c+=r,this.#p&&fs(this.#p,this.#c)}get_effect_pending(){return this.#y(),e(this.#p)}error(r){var i=this.#a.onerror;let c=this.#a.failed;if(this.#_||!i&&!c)throw r;this.#l&&(fa(this.#l),this.#l=null),this.#i&&(fa(this.#i),this.#i=null),this.#o&&(fa(this.#o),this.#o=null);var m=!1,d=!1;const y=()=>{if(m){$i();return}m=!0,d&&pi(),Da.ensure(),this.#c=0,this.#o!==null&&ns(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#l=this.#f(()=>(this.#_=!1,$a(()=>this.#n(this.#t)))),this.#u>0?this.#m():this.#e=!1};var u=It;try{_a(null),d=!0,i?.(r,y),d=!1}catch(_){As(_,this.#r&&this.#r.parent)}finally{_a(u)}c&&Vs(()=>{this.#o=this.#f(()=>{Da.ensure(),this.#_=!0;try{return $a(()=>{c(this.#t,()=>r,()=>y)})}catch(_){return As(_,this.#r.parent),null}finally{this.#_=!1}})})}}function Ti(l,r,i,c){const m=Js()?pl:zs;if(i.length===0&&l.length===0){c(r.map(m));return}var d=Nt,y=Lt,u=Mi();function _(){Promise.all(i.map(f=>Bi(f))).then(f=>{u();try{c([...r.map(m),...f])}catch(x){(y.f&Wa)===0&&As(x,y)}d?.deactivate(),sl()}).catch(f=>{As(f,y)})}l.length>0?Promise.all(l).then(()=>{u();try{return _()}finally{d?.deactivate(),sl()}}):_()}function Mi(){var l=Lt,r=It,i=Yt,c=Nt;return function(d=!0){Ma(l),_a(r),Cs(i),d&&c?.activate()}}function sl(){Ma(null),_a(null),Cs(null)}function pl(l){var r=oa|ma,i=It!==null&&(It.f&oa)!==0?It:null;return Lt!==null&&(Lt.f|=Ts),{ctx:Yt,deps:null,effects:null,equals:dr,f:r,fn:l,reactions:null,rv:0,v:na,wv:0,parent:i??Lt,ac:null}}function Bi(l,r){let i=Lt;i===null&&ri();var c=i.b,m=void 0,d=_s(na),y=!It,u=new Map;return Vi(()=>{var _=rr();m=_.promise;try{Promise.resolve(l()).then(_.resolve,_.reject).then(()=>{f===Nt&&f.committed&&f.deactivate(),sl()})}catch(B){_.reject(B),sl()}var f=Nt;if(y){var x=!c.is_pending();c.update_pending_count(1),f.increment(x),u.get(f)?.reject(Es),u.delete(f),u.set(f,_)}const T=(B,k=void 0)=>{if(f.activate(),k)k!==Es&&(d.f|=es,fs(d,k));else{(d.f&es)!==0&&(d.f^=es),fs(d,B);for(const[N,j]of u){if(u.delete(N),N===f)break;j.reject(Es)}}y&&(c.update_pending_count(-1),f.decrement(x))};_.promise.then(T,B=>T(null,B||"unknown"))}),fl(()=>{for(const _ of u.values())_.reject(Es)}),new Promise(_=>{function f(x){function T(){x===m?_(d):f(m)}x.then(T,T)}f(m)})}function Sa(l){const r=pl(l);return Tr(r),r}function zs(l){const r=pl(l);return r.equals=ur,r}function hr(l){var r=l.effects;if(r!==null){l.effects=null;for(var i=0;i<r.length;i+=1)fa(r[i])}}function Oi(l){for(var r=l.parent;r!==null;){if((r.f&oa)===0)return(r.f&Wa)===0?r:null;r=r.parent}return null}function Dl(l){var r,i=Lt;Ma(Oi(l));try{l.f&=~us,hr(l),r=Fr(l)}finally{Ma(i)}return r}function yr(l){var r=Dl(l);if(l.equals(r)||(Nt?.is_fork||(l.v=r),l.wv=Br()),!bs)if(Ea!==null)(Hs()||Nt?.is_fork)&&Ea.set(l,r);else{var i=(l.f&qa)===0?Ba:ra;ia(l,i)}}let kl=new Set;const as=new Map;let gr=!1;function _s(l,r){var i={f:0,v:l,reactions:null,equals:dr,rv:0,wv:0};return i}function Qe(l,r){const i=_s(l);return Tr(i),i}function Z(l,r=!1,i=!0){const c=_s(l);return r||(c.equals=ur),Ms&&i&&Yt!==null&&Yt.l!==null&&(Yt.l.s??=[]).push(c),c}function st(l,r){return s(l,n(()=>e(l))),r}function s(l,r,i=!1){It!==null&&(!Pa||(It.f&Ll)!==0)&&Js()&&(It.f&(oa|Ya|Al|Ll))!==0&&!Va?.includes(l)&&ui();let c=i?Rt(r):r;return fs(l,c)}function fs(l,r){if(!l.equals(r)){var i=l.v;bs?as.set(l,r):as.set(l,i),l.v=r;var c=Da.ensure();c.capture(l,i),(l.f&oa)!==0&&((l.f&ma)!==0&&Dl(l),ia(l,(l.f&qa)!==0?ra:Ba)),l.wv=Br(),xr(l,ma),Js()&&Lt!==null&&(Lt.f&ra)!==0&&(Lt.f&(Ga|ms))===0&&(wa===null?Ki([l]):wa.push(l)),!c.is_fork&&kl.size>0&&!gr&&Fi()}return r}function Fi(){gr=!1;var l=vs;ll(!0);const r=Array.from(kl);try{for(const i of r)(i.f&ra)!==0&&ia(i,Ba),Bs(i)&&Ds(i)}finally{ll(l)}kl.clear()}function Hl(l,r=1){var i=e(l),c=r===1?i++:i--;return s(l,i),c}function Ls(l){s(l,l.v+1)}function xr(l,r){var i=l.reactions;if(i!==null)for(var c=Js(),m=i.length,d=0;d<m;d++){var y=i[d],u=y.f;if(!(!c&&y===Lt)){var _=(u&ma)===0;if(_&&ia(y,r),(u&oa)!==0){var f=y;Ea?.delete(f),(u&us)===0&&(u&qa&&(y.f|=us),xr(f,Ba))}else _&&((u&Ya)!==0&&La!==null&&La.add(y),ps(y))}}}function Rt(l){if(typeof l!="object"||l===null||ts in l)return l;const r=jl(l);if(r!==Kr&&r!==Zr)return l;var i=new Map,c=nl(l),m=Qe(0),d=ds,y=u=>{if(ds===d)return u();var _=It,f=ds;_a(null),Gl(d);var x=u();return _a(_),Gl(f),x};return c&&i.set("length",Qe(l.length)),new Proxy(l,{defineProperty(u,_,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&di();var x=i.get(_);return x===void 0?x=y(()=>{var T=Qe(f.value);return i.set(_,T),T}):s(x,f.value,!0),!0},deleteProperty(u,_){var f=i.get(_);if(f===void 0){if(_ in u){const x=y(()=>Qe(na));i.set(_,x),Ls(m)}}else s(f,na),Ls(m);return!0},get(u,_,f){if(_===ts)return l;var x=i.get(_),T=_ in u;if(x===void 0&&(!T||Ss(u,_)?.writable)&&(x=y(()=>{var k=Rt(T?u[_]:na),N=Qe(k);return N}),i.set(_,x)),x!==void 0){var B=e(x);return B===na?void 0:B}return Reflect.get(u,_,f)},getOwnPropertyDescriptor(u,_){var f=Reflect.getOwnPropertyDescriptor(u,_);if(f&&"value"in f){var x=i.get(_);x&&(f.value=e(x))}else if(f===void 0){var T=i.get(_),B=T?.v;if(T!==void 0&&B!==na)return{enumerable:!0,configurable:!0,value:B,writable:!0}}return f},has(u,_){if(_===ts)return!0;var f=i.get(_),x=f!==void 0&&f.v!==na||Reflect.has(u,_);if(f!==void 0||Lt!==null&&(!x||Ss(u,_)?.writable)){f===void 0&&(f=y(()=>{var B=x?Rt(u[_]):na,k=Qe(B);return k}),i.set(_,f));var T=e(f);if(T===na)return!1}return x},set(u,_,f,x){var T=i.get(_),B=_ in u;if(c&&_==="length")for(var k=f;k<T.v;k+=1){var N=i.get(k+"");N!==void 0?s(N,na):k in u&&(N=y(()=>Qe(na)),i.set(k+"",N))}if(T===void 0)(!B||Ss(u,_)?.writable)&&(T=y(()=>Qe(void 0)),s(T,Rt(f)),i.set(_,T));else{B=T.v!==na;var j=y(()=>Rt(f));s(T,j)}var $=Reflect.getOwnPropertyDescriptor(u,_);if($?.set&&$.set.call(x,f),!B){if(c&&typeof _=="string"){var P=i.get("length"),A=Number(_);Number.isInteger(A)&&A>=P.v&&s(P,A+1)}Ls(m)}return!0},ownKeys(u){e(m);var _=Reflect.ownKeys(u).filter(T=>{var B=i.get(T);return B===void 0||B.v!==na});for(var[f,x]of i)x.v!==na&&!(f in u)&&_.push(f);return _},setPrototypeOf(){ci()}})}function Wl(l){try{if(l!==null&&typeof l=="object"&&ts in l)return l[ts]}catch{}return l}function Ii(l,r){return Object.is(Wl(l),Wl(r))}var Jl,wr,kr,$r;function Ni(){if(Jl===void 0){Jl=window,wr=/Firefox/.test(navigator.userAgent);var l=Element.prototype,r=Node.prototype,i=Text.prototype;kr=Ss(r,"firstChild").get,$r=Ss(r,"nextSibling").get,Rl(l)&&(l.__click=void 0,l.__className=void 0,l.__attributes=null,l.__style=void 0,l.__e=void 0),Rl(i)&&(i.__t=void 0)}}function Ja(l=""){return document.createTextNode(l)}function Ua(l){return kr.call(l)}function Ys(l){return $r.call(l)}function t(l,r){return Ua(l)}function lt(l,r=!1){{var i=Ua(l);return i instanceof Comment&&i.data===""?Ys(i):i}}function a(l,r=1,i=!1){let c=l;for(;r--;)c=Ys(c);return c}function Ri(l){l.textContent=""}function Er(){return!1}let Vl=!1;function Li(){Vl||(Vl=!0,document.addEventListener("reset",l=>{Promise.resolve().then(()=>{if(!l.defaultPrevented)for(const r of l.target.elements)r.__on_r?.()})},{capture:!0}))}function _l(l){var r=It,i=Lt;_a(null),Ma(null);try{return l()}finally{_a(r),Ma(i)}}function Pl(l,r,i,c=i){l.addEventListener(r,()=>_l(i));const m=l.__on_r;m?l.__on_r=()=>{m(),c(!0)}:l.__on_r=()=>c(!0),Li()}function Sr(l){Lt===null&&(It===null&&ni(),oi()),bs&&ii()}function Ui(l,r){var i=r.last;i===null?r.last=r.first=l:(i.next=l,l.prev=i,r.last=l)}function Oa(l,r,i){var c=Lt;c!==null&&(c.f&ya)!==0&&(l|=ya);var m={ctx:Yt,deps:null,nodes:null,f:l|ma|qa,first:null,fn:r,last:null,next:null,parent:c,b:c&&c.b,prev:null,teardown:null,wv:0,ac:null};if(i)try{Ds(m),m.f|=Cl}catch(u){throw fa(m),u}else r!==null&&ps(m);var d=m;if(i&&d.deps===null&&d.teardown===null&&d.nodes===null&&d.first===d.last&&(d.f&Ts)===0&&(d=d.first,(l&Ya)!==0&&(l&qs)!==0&&d!==null&&(d.f|=qs)),d!==null&&(d.parent=c,c!==null&&Ui(d,c),It!==null&&(It.f&oa)!==0&&(l&ms)===0)){var y=It;(y.effects??=[]).push(d)}return m}function Hs(){return It!==null&&!Pa}function fl(l){const r=Oa(dl,null,!1);return ia(r,ra),r.teardown=l,r}function Ta(l){Sr();var r=Lt.f,i=!It&&(r&Ga)!==0&&(r&Cl)===0;if(i){var c=Yt;(c.e??=[]).push(l)}else return zr(l)}function zr(l){return Oa(ql|or,l,!1)}function Hi(l){return Sr(),Oa(dl|or,l,!0)}function Wi(l){Da.ensure();const r=Oa(ms|Ts,l,!0);return(i={})=>new Promise(c=>{i.outro?ns(r,()=>{fa(r),c(void 0)}):(fa(r),c(void 0))})}function Ji(l){return Oa(ql,l,!1)}function Ht(l,r){var i=Yt,c={effect:null,ran:!1,deps:l};i.l.$.push(c),c.effect=Gs(()=>{l(),!c.ran&&(c.ran=!0,n(r))})}function ss(){var l=Yt;Gs(()=>{for(var r of l.l.$){r.deps();var i=r.effect;(i.f&ra)!==0&&ia(i,Ba),Bs(i)&&Ds(i),r.ran=!1}})}function Vi(l){return Oa(Al|Ts,l,!0)}function Gs(l,r=0){return Oa(dl|r,l,!0)}function E(l,r=[],i=[],c=[]){Ti(c,r,i,m=>{Oa(dl,()=>l(...m.map(e)),!0)})}function Tl(l,r=0){var i=Oa(Ya|r,l,!0);return i}function $a(l){return Oa(Ga|Ts,l,!0)}function jr(l){var r=l.teardown;if(r!==null){const i=bs,c=It;Yl(!0),_a(null);try{r.call(null)}finally{Yl(i),_a(c)}}}function qr(l,r=!1){var i=l.first;for(l.first=l.last=null;i!==null;){const m=i.ac;m!==null&&_l(()=>{m.abort(Es)});var c=i.next;(i.f&ms)!==0?i.parent=null:fa(i,r),i=c}}function Yi(l){for(var r=l.first;r!==null;){var i=r.next;(r.f&Ga)===0&&fa(r),r=i}}function fa(l,r=!0){var i=!1;(r||(l.f&ir)!==0)&&l.nodes!==null&&l.nodes.end!==null&&(Gi(l.nodes.start,l.nodes.end),i=!0),qr(l,r&&!i),rl(l,0),ia(l,Wa);var c=l.nodes&&l.nodes.t;if(c!==null)for(const d of c)d.stop();jr(l);var m=l.parent;m!==null&&m.first!==null&&Cr(l),l.next=l.prev=l.teardown=l.ctx=l.deps=l.fn=l.nodes=l.ac=null}function Gi(l,r){for(;l!==null;){var i=l===r?null:Ys(l);l.remove(),l=i}}function Cr(l){var r=l.parent,i=l.prev,c=l.next;i!==null&&(i.next=c),c!==null&&(c.prev=i),r!==null&&(r.first===l&&(r.first=c),r.last===l&&(r.last=i))}function ns(l,r,i=!0){var c=[];Ar(l,c,!0);var m=()=>{i&&fa(l),r&&r()},d=c.length;if(d>0){var y=()=>--d||m();for(var u of c)u.out(y)}else m()}function Ar(l,r,i){if((l.f&ya)===0){l.f^=ya;var c=l.nodes&&l.nodes.t;if(c!==null)for(const u of c)(u.is_global||i)&&r.push(u);for(var m=l.first;m!==null;){var d=m.next,y=(m.f&qs)!==0||(m.f&Ga)!==0&&(l.f&Ya)!==0;Ar(m,r,y?i:!1),m=d}}}function Ml(l){Dr(l,!0)}function Dr(l,r){if((l.f&ya)!==0){l.f^=ya,(l.f&ra)===0&&(ia(l,ma),ps(l));for(var i=l.first;i!==null;){var c=i.next,m=(i.f&qs)!==0||(i.f&Ga)!==0;Dr(i,m?r:!1),i=c}var d=l.nodes&&l.nodes.t;if(d!==null)for(const y of d)(y.is_global||r)&&y.in()}}function Pr(l,r){if(l.nodes)for(var i=l.nodes.start,c=l.nodes.end;i!==null;){var m=i===c?null:Ys(i);r.append(i),i=m}}let $s=null;function Xi(l){var r=$s;try{if($s=new Set,n(l),r!==null)for(var i of $s)r.add(i);return $s}finally{$s=r}}function Tt(l){for(var r of Xi(l))fs(r,r.v)}let vs=!1;function ll(l){vs=l}let bs=!1;function Yl(l){bs=l}let It=null,Pa=!1;function _a(l){It=l}let Lt=null;function Ma(l){Lt=l}let Va=null;function Tr(l){It!==null&&(Va===null?Va=[l]:Va.push(l))}let va=null,ha=0,wa=null;function Ki(l){wa=l}let Mr=1,Ws=0,ds=Ws;function Gl(l){ds=l}function Br(){return++Mr}function Bs(l){var r=l.f;if((r&ma)!==0)return!0;if(r&oa&&(l.f&=~us),(r&Ba)!==0){var i=l.deps;if(i!==null)for(var c=i.length,m=0;m<c;m++){var d=i[m];if(Bs(d)&&yr(d),d.wv>l.wv)return!0}(r&qa)!==0&&Ea===null&&ia(l,ra)}return!1}function Or(l,r,i=!0){var c=l.reactions;if(c!==null&&!Va?.includes(l))for(var m=0;m<c.length;m++){var d=c[m];(d.f&oa)!==0?Or(d,r,!1):r===d&&(i?ia(d,ma):(d.f&ra)!==0&&ia(d,Ba),ps(d))}}function Fr(l){var r=va,i=ha,c=wa,m=It,d=Va,y=Yt,u=Pa,_=ds,f=l.f;va=null,ha=0,wa=null,It=(f&(Ga|ms))===0?l:null,Va=null,Cs(l.ctx),Pa=!1,ds=++Ws,l.ac!==null&&(_l(()=>{l.ac.abort(Es)}),l.ac=null);try{l.f|=xl;var x=l.fn,T=x(),B=l.deps;if(va!==null){var k;if(rl(l,ha),B!==null&&ha>0)for(B.length=ha+va.length,k=0;k<va.length;k++)B[ha+k]=va[k];else l.deps=B=va;if(Hs()&&(l.f&qa)!==0)for(k=ha;k<B.length;k++)(B[k].reactions??=[]).push(l)}else B!==null&&ha<B.length&&(rl(l,ha),B.length=ha);if(Js()&&wa!==null&&!Pa&&B!==null&&(l.f&(oa|Ba|ma))===0)for(k=0;k<wa.length;k++)Or(wa[k],l);return m!==null&&m!==l&&(Ws++,wa!==null&&(c===null?c=wa:c.push(...wa))),(l.f&es)!==0&&(l.f^=es),T}catch(N){return _r(N)}finally{l.f^=xl,va=r,ha=i,wa=c,It=m,Va=d,Cs(y),Pa=u,ds=_}}function Zi(l,r){let i=r.reactions;if(i!==null){var c=Xr.call(i,l);if(c!==-1){var m=i.length-1;m===0?i=r.reactions=null:(i[c]=i[m],i.pop())}}i===null&&(r.f&oa)!==0&&(va===null||!va.includes(r))&&(ia(r,Ba),(r.f&qa)!==0&&(r.f^=qa,r.f&=~us),hr(r),rl(r,0))}function rl(l,r){var i=l.deps;if(i!==null)for(var c=r;c<i.length;c++)Zi(l,i[c])}function Ds(l){var r=l.f;if((r&Wa)===0){ia(l,ra);var i=Lt,c=vs;Lt=l,vs=!0;try{(r&(Ya|ti))!==0?Yi(l):qr(l),jr(l);var m=Fr(l);l.teardown=typeof m=="function"?m:null,l.wv=Mr;var d;gl&&Ei&&(l.f&ma)!==0&&l.deps}finally{vs=c,Lt=i}}}async function Qi(){await Promise.resolve(),ji()}function e(l){var r=l.f,i=(r&oa)!==0;if($s?.add(l),It!==null&&!Pa){var c=Lt!==null&&(Lt.f&Wa)!==0;if(!c&&!Va?.includes(l)){var m=It.deps;if((It.f&xl)!==0)l.rv<Ws&&(l.rv=Ws,va===null&&m!==null&&m[ha]===l?ha++:va===null?va=[l]:va.includes(l)||va.push(l));else{(It.deps??=[]).push(l);var d=l.reactions;d===null?l.reactions=[It]:d.includes(It)||d.push(It)}}}if(bs){if(as.has(l))return as.get(l);if(i){var y=l,u=y.v;return((y.f&ra)===0&&y.reactions!==null||Nr(y))&&(u=Dl(y)),as.set(y,u),u}}else i&&(!Ea?.has(l)||Nt?.is_fork&&!Hs())&&(y=l,Bs(y)&&yr(y),vs&&Hs()&&(y.f&qa)===0&&Ir(y));if(Ea?.has(l))return Ea.get(l);if((l.f&es)!==0)throw l.v;return l.v}function Ir(l){if(l.deps!==null){l.f^=qa;for(const r of l.deps)(r.reactions??=[]).push(l),(r.f&oa)!==0&&(r.f&qa)===0&&Ir(r)}}function Nr(l){if(l.v===na)return!0;if(l.deps===null)return!1;for(const r of l.deps)if(as.has(r)||(r.f&oa)!==0&&Nr(r))return!0;return!1}function n(l){var r=Pa;try{return Pa=!0,l()}finally{Pa=r}}const eo=-7169;function ia(l,r){l.f=l.f&eo|r}function rs(l){if(!(typeof l!="object"||!l||l instanceof EventTarget)){if(ts in l)$l(l);else if(!Array.isArray(l))for(let r in l){const i=l[r];typeof i=="object"&&i&&ts in i&&$l(i)}}}function $l(l,r=new Set){if(typeof l=="object"&&l!==null&&!(l instanceof EventTarget)&&!r.has(l)){r.add(l),l instanceof Date&&l.getTime();for(let c in l)try{$l(l[c],r)}catch{}const i=jl(l);if(i!==Object.prototype&&i!==Array.prototype&&i!==Map.prototype&&i!==Set.prototype&&i!==Date.prototype){const c=lr(i);for(let m in c){const d=c[m].get;if(d)try{d.call(l)}catch{}}}}}const to=["touchstart","touchmove"];function ao(l){return to.includes(l)}const Rr=new Set,El=new Set;function so(l,r,i,c={}){function m(d){if(c.capture||Fs.call(r,d),!d.cancelBubble)return _l(()=>i?.call(this,d))}return l.startsWith("pointer")||l.startsWith("touch")||l==="wheel"?Vs(()=>{r.addEventListener(l,m,c)}):r.addEventListener(l,m,c),m}function ve(l,r,i,c,m){var d={capture:c,passive:m},y=so(l,r,i,d);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&fl(()=>{r.removeEventListener(l,y,d)})}function ba(l){for(var r=0;r<l.length;r++)Rr.add(l[r]);for(var i of El)i(l)}let Xl=null;function Fs(l){var r=this,i=r.ownerDocument,c=l.type,m=l.composedPath?.()||[],d=m[0]||l.target;Xl=l;var y=0,u=Xl===l&&l.__root;if(u){var _=m.indexOf(u);if(_!==-1&&(r===document||r===window)){l.__root=r;return}var f=m.indexOf(r);if(f===-1)return;_<=f&&(y=_)}if(d=m[y]||l.target,d!==r){sr(l,"currentTarget",{configurable:!0,get(){return d||i}});var x=It,T=Lt;_a(null),Ma(null);try{for(var B,k=[];d!==null;){var N=d.assignedSlot||d.parentNode||d.host||null;try{var j=d["__"+c];j!=null&&(!d.disabled||l.target===d)&&j.call(d,l)}catch($){B?k.push($):B=$}if(l.cancelBubble||N===r||N===null)break;d=N}if(B){for(let $ of k)queueMicrotask(()=>{throw $});throw B}}finally{l.__root=r,delete l.currentTarget,_a(x),Ma(T)}}}function Lr(l){var r=document.createElement("template");return r.innerHTML=l.replaceAll("<!>","<!---->"),r.content}function Ps(l,r){var i=Lt;i.nodes===null&&(i.nodes={start:l,end:r,a:null,t:null})}function p(l,r){var i=(r&vr)!==0,c=(r&xi)!==0,m,d=!l.startsWith("<!>");return()=>{m===void 0&&(m=Lr(d?l:"<!>"+l),i||(m=Ua(m)));var y=c||wr?document.importNode(m,!0):m.cloneNode(!0);if(i){var u=Ua(y),_=y.lastChild;Ps(u,_)}else Ps(y,y);return y}}function lo(l,r,i="svg"){var c=!l.startsWith("<!>"),m=(r&vr)!==0,d=`<${i}>${c?l:"<!>"+l}</${i}>`,y;return()=>{if(!y){var u=Lr(d),_=Ua(u);if(m)for(y=document.createDocumentFragment();Ua(_);)y.appendChild(Ua(_));else y=Ua(_)}var f=y.cloneNode(!0);if(m){var x=Ua(f),T=f.lastChild;Ps(x,T)}else Ps(f,f);return f}}function Xs(l,r){return lo(l,r,"svg")}function cs(l=""){{var r=Ja(l+"");return Ps(r,r),r}}function Ct(){var l=document.createDocumentFragment(),r=document.createComment(""),i=Ja();return l.append(r,i),Ps(r,i),l}function v(l,r){l!==null&&l.before(r)}function o(l,r){var i=r==null?"":typeof r=="object"?r+"":r;i!==(l.__t??=l.nodeValue)&&(l.__t=i,l.nodeValue=i+"")}function ro(l,r){return io(l,r)}const ws=new Map;function io(l,{target:r,anchor:i,props:c={},events:m,context:d,intro:y=!0}){Ni();var u=new Set,_=T=>{for(var B=0;B<T.length;B++){var k=T[B];if(!u.has(k)){u.add(k);var N=ao(k);r.addEventListener(k,Fs,{passive:N});var j=ws.get(k);j===void 0?(document.addEventListener(k,Fs,{passive:N}),ws.set(k,1)):ws.set(k,j+1)}}};_(vl(Rr)),El.add(_);var f=void 0,x=Wi(()=>{var T=i??r.appendChild(Ja());return Di(T,{pending:()=>{}},B=>{if(d){Jt({});var k=Yt;k.c=d}m&&(c.$$events=m),f=l(B,c)||{},d&&Vt()}),()=>{for(var B of u){r.removeEventListener(B,Fs);var k=ws.get(B);--k===0?(document.removeEventListener(B,Fs),ws.delete(B)):ws.set(B,k)}El.delete(_),T!==i&&T.parentNode?.removeChild(T)}});return oo.set(f,x),f}let oo=new WeakMap;class no{anchor;#e=new Map;#t=new Map;#s=new Map;#a=new Set;#n=!0;constructor(r,i=!0){this.anchor=r,this.#n=i}#r=()=>{var r=Nt;if(this.#e.has(r)){var i=this.#e.get(r),c=this.#t.get(i);if(c)Ml(c),this.#a.delete(i);else{var m=this.#s.get(i);m&&(this.#t.set(i,m.effect),this.#s.delete(i),m.fragment.lastChild.remove(),this.anchor.before(m.fragment),c=m.effect)}for(const[d,y]of this.#e){if(this.#e.delete(d),d===r)break;const u=this.#s.get(y);u&&(fa(u.effect),this.#s.delete(y))}for(const[d,y]of this.#t){if(d===i||this.#a.has(d))continue;const u=()=>{if(Array.from(this.#e.values()).includes(d)){var f=document.createDocumentFragment();Pr(y,f),f.append(Ja()),this.#s.set(d,{effect:y,fragment:f})}else fa(y);this.#a.delete(d),this.#t.delete(d)};this.#n||!c?(this.#a.add(d),ns(y,u,!1)):u()}}};#l=r=>{this.#e.delete(r);const i=Array.from(this.#e.values());for(const[c,m]of this.#s)i.includes(c)||(fa(m.effect),this.#s.delete(c))};ensure(r,i){var c=Nt,m=Er();if(i&&!this.#t.has(r)&&!this.#s.has(r))if(m){var d=document.createDocumentFragment(),y=Ja();d.append(y),this.#s.set(r,{effect:$a(()=>i(y)),fragment:d})}else this.#t.set(r,$a(()=>i(this.anchor)));if(this.#e.set(c,r),m){for(const[u,_]of this.#t)u===r?c.skipped_effects.delete(_):c.skipped_effects.add(_);for(const[u,_]of this.#s)u===r?c.skipped_effects.delete(_.effect):c.skipped_effects.add(_.effect);c.oncommit(this.#r),c.ondiscard(this.#l)}else this.#r()}}function w(l,r,i=!1){var c=new no(l),m=i?qs:0;function d(y,u){c.ensure(y,u)}Tl(()=>{var y=!1;r((u,_=!0)=>{y=!0,d(_,u)}),y||d(!1,null)},m)}function yt(l,r){return r}function vo(l,r,i){for(var c=[],m=r.length,d,y=r.length,u=0;u<m;u++){let T=r[u];ns(T,()=>{if(d){if(d.pending.delete(T),d.done.add(T),d.pending.size===0){var B=l.outrogroups;Sl(vl(d.done)),B.delete(d),B.size===0&&(l.outrogroups=null)}}else y-=1},!1)}if(y===0){var _=c.length===0&&i!==null;if(_){var f=i,x=f.parentNode;Ri(x),x.append(f),l.items.clear()}Sl(r,!_)}else d={pending:new Set(r),done:new Set},(l.outrogroups??=new Set).add(d)}function Sl(l,r=!0){for(var i=0;i<l.length;i++)fa(l[i],r)}var Kl;function ht(l,r,i,c,m,d=null){var y=l,u=new Map,_=(r&nr)!==0;if(_){var f=l;y=f.appendChild(Ja())}var x=null,T=zs(()=>{var P=i();return nl(P)?P:P==null?[]:vl(P)}),B,k=!0;function N(){$.fallback=x,co($,B,y,r,c),x!==null&&(B.length===0?(x.f&Ha)===0?Ml(x):(x.f^=Ha,Is(x,null,y)):ns(x,()=>{x=null}))}var j=Tl(()=>{B=e(T);for(var P=B.length,A=new Set,ce=Nt,J=Er(),re=0;re<P;re+=1){var et=B[re],Ge=c(et,re),mt=k?null:u.get(Ge);mt?(mt.v&&fs(mt.v,et),mt.i&&fs(mt.i,re),J&&ce.skipped_effects.delete(mt.e)):(mt=uo(u,k?y:Kl??=Ja(),et,Ge,re,m,r,i),k||(mt.e.f|=Ha),u.set(Ge,mt)),A.add(Ge)}if(P===0&&d&&!x&&(k?x=$a(()=>d(y)):(x=$a(()=>d(Kl??=Ja())),x.f|=Ha)),!k)if(J){for(const[wt,Le]of u)A.has(wt)||ce.skipped_effects.add(Le.e);ce.oncommit(N),ce.ondiscard(()=>{})}else N();e(T)}),$={effect:j,items:u,outrogroups:null,fallback:x};k=!1}function co(l,r,i,c,m){var d=(c&mi)!==0,y=r.length,u=l.items,_=l.effect.first,f,x=null,T,B=[],k=[],N,j,$,P;if(d)for(P=0;P<y;P+=1)N=r[P],j=m(N,P),$=u.get(j).e,($.f&Ha)===0&&($.nodes?.a?.measure(),(T??=new Set).add($));for(P=0;P<y;P+=1){if(N=r[P],j=m(N,P),$=u.get(j).e,l.outrogroups!==null)for(const Le of l.outrogroups)Le.pending.delete($),Le.done.delete($);if(($.f&Ha)!==0)if($.f^=Ha,$===_)Is($,null,i);else{var A=x?x.next:_;$===l.effect.last&&(l.effect.last=$.prev),$.prev&&($.prev.next=$.next),$.next&&($.next.prev=$.prev),Za(l,x,$),Za(l,$,A),Is($,A,i),x=$,B=[],k=[],_=x.next;continue}if(($.f&ya)!==0&&(Ml($),d&&($.nodes?.a?.unfix(),(T??=new Set).delete($))),$!==_){if(f!==void 0&&f.has($)){if(B.length<k.length){var ce=k[0],J;x=ce.prev;var re=B[0],et=B[B.length-1];for(J=0;J<B.length;J+=1)Is(B[J],ce,i);for(J=0;J<k.length;J+=1)f.delete(k[J]);Za(l,re.prev,et.next),Za(l,x,re),Za(l,et,ce),_=ce,x=et,P-=1,B=[],k=[]}else f.delete($),Is($,_,i),Za(l,$.prev,$.next),Za(l,$,x===null?l.effect.first:x.next),Za(l,x,$),x=$;continue}for(B=[],k=[];_!==null&&_!==$;)(f??=new Set).add(_),k.push(_),_=_.next;if(_===null)continue}($.f&Ha)===0&&B.push($),x=$,_=$.next}if(l.outrogroups!==null){for(const Le of l.outrogroups)Le.pending.size===0&&(Sl(vl(Le.done)),l.outrogroups?.delete(Le));l.outrogroups.size===0&&(l.outrogroups=null)}if(_!==null||f!==void 0){var Ge=[];if(f!==void 0)for($ of f)($.f&ya)===0&&Ge.push($);for(;_!==null;)(_.f&ya)===0&&_!==l.fallback&&Ge.push(_),_=_.next;var mt=Ge.length;if(mt>0){var wt=(c&nr)!==0&&y===0?i:null;if(d){for(P=0;P<mt;P+=1)Ge[P].nodes?.a?.measure();for(P=0;P<mt;P+=1)Ge[P].nodes?.a?.fix()}vo(l,Ge,wt)}}d&&Vs(()=>{if(T!==void 0)for($ of T)$.nodes?.a?.apply()})}function uo(l,r,i,c,m,d,y,u){var _=(y&_i)!==0?(y&bi)===0?Z(i,!1,!1):_s(i):null,f=(y&fi)!==0?_s(m):null;return{v:_,i:f,e:$a(()=>(d(r,_??i,f??m,u),()=>{l.delete(c)}))}}function Is(l,r,i){if(l.nodes)for(var c=l.nodes.start,m=l.nodes.end,d=r&&(r.f&Ha)===0?r.nodes.start:i;c!==null;){var y=Ys(c);if(d.before(c),c===m)return;c=y}}function Za(l,r,i){r===null?l.effect.first=i:r.next=i,i===null?l.effect.last=r:i.prev=r}const Zl=[...` 	
\r\f¬†\v\uFEFF`];function po(l,r,i){var c=l==null?"":""+l;if(r&&(c=c?c+" "+r:r),i){for(var m in i)if(i[m])c=c?c+" "+m:m;else if(c.length)for(var d=m.length,y=0;(y=c.indexOf(m,y))>=0;){var u=y+d;(y===0||Zl.includes(c[y-1]))&&(u===c.length||Zl.includes(c[u]))?c=(y===0?"":c.substring(0,y))+c.substring(u+1):y=u}}return c===""?null:c}function _o(l,r){return l==null?null:String(l)}function tt(l,r,i,c,m,d){var y=l.__className;if(y!==i||y===void 0){var u=po(i,c,d);u==null?l.removeAttribute("class"):r?l.className=u:l.setAttribute("class",u),l.__className=i}else if(d&&m!==d)for(var _ in d){var f=!!d[_];(m==null||f!==!!m[_])&&l.classList.toggle(_,f)}return d}function il(l,r,i,c){var m=l.__style;if(m!==r){var d=_o(r);d==null?l.removeAttribute("style"):l.style.cssText=d,l.__style=r}return c}function Bl(l,r,i=!1){if(l.multiple){if(r==null)return;if(!nl(r))return ki();for(var c of l.options)c.selected=r.includes(Us(c));return}for(c of l.options){var m=Us(c);if(Ii(m,r)){c.selected=!0;return}}(!i||r!==void 0)&&(l.selectedIndex=-1)}function Ur(l){var r=new MutationObserver(()=>{Bl(l,l.__value)});r.observe(l,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),fl(()=>{r.disconnect()})}function At(l,r,i=r){var c=new WeakSet,m=!0;Pl(l,"change",d=>{var y=d?"[selected]":":checked",u;if(l.multiple)u=[].map.call(l.querySelectorAll(y),Us);else{var _=l.querySelector(y)??l.querySelector("option:not([disabled])");u=_&&Us(_)}i(u),Nt!==null&&c.add(Nt)}),Ji(()=>{var d=r();if(l===document.activeElement){var y=Ns??Nt;if(c.has(y))return}if(Bl(l,d,m),m&&d===void 0){var u=l.querySelector(":checked");u!==null&&(d=Us(u),i(d))}l.__value=d,m=!1}),Ur(l)}function Us(l){return"__value"in l?l.__value:l.value}const fo=Symbol("is custom element"),mo=Symbol("is html");function pa(l,r,i,c){var m=bo(l);m[r]!==(m[r]=i)&&(r==="loading"&&(l[si]=i),i==null?l.removeAttribute(r):typeof i!="string"&&ho(l).includes(r)?l[r]=i:l.setAttribute(r,i))}function bo(l){return l.__attributes??={[fo]:l.nodeName.includes("-"),[mo]:l.namespaceURI===wi}}var Ql=new Map;function ho(l){var r=l.getAttribute("is")||l.nodeName,i=Ql.get(r);if(i)return i;Ql.set(r,i=[]);for(var c,m=l,d=Element.prototype;d!==m;){c=lr(m);for(var y in c)c[y].set&&i.push(y);m=jl(m)}return i}function Ze(l,r,i=r){var c=new WeakSet;Pl(l,"input",async m=>{var d=m?l.defaultValue:l.value;if(d=hl(l)?yl(d):d,i(d),Nt!==null&&c.add(Nt),await Qi(),d!==(d=r())){var y=l.selectionStart,u=l.selectionEnd,_=l.value.length;if(l.value=d??"",u!==null){var f=l.value.length;y===u&&u===_&&f>_?(l.selectionStart=f,l.selectionEnd=f):(l.selectionStart=y,l.selectionEnd=Math.min(u,f))}}}),n(r)==null&&l.value&&(i(hl(l)?yl(l.value):l.value),Nt!==null&&c.add(Nt)),Gs(()=>{var m=r();if(l===document.activeElement){var d=Ns??Nt;if(c.has(d))return}hl(l)&&m===yl(l.value)||l.type==="date"&&!m&&!l.value||m!==l.value&&(l.value=m??"")})}function os(l,r,i=r){Pl(l,"change",c=>{var m=c?l.defaultChecked:l.checked;i(m)}),n(r)==null&&i(l.checked),Gs(()=>{var c=r();l.checked=!!c})}function hl(l){var r=l.type;return r==="number"||r==="range"}function yl(l){return l===""?null:+l}function Gt(l){return function(...r){var i=r[0];return i.stopPropagation(),l?.apply(this,r)}}function js(l){return function(...r){var i=r[0];return i.preventDefault(),l?.apply(this,r)}}function za(l=!1){const r=Yt,i=r.l.u;if(!i)return;let c=()=>rs(r.s);if(l){let m=0,d={};const y=pl(()=>{let u=!1;const _=r.s;for(const f in _)_[f]!==d[f]&&(d[f]=_[f],u=!0);return u&&m++,m});c=()=>e(y)}i.b.length&&Hi(()=>{er(r,c),al(i.b)}),Ta(()=>{const m=n(()=>i.m.map(Qr));return()=>{for(const d of m)typeof d=="function"&&d()}}),i.a.length&&Ta(()=>{er(r,c),al(i.a)})}function er(l,r){if(l.l.s)for(const i of l.l.s)e(i);r()}function Zt(l,r){var i=l.$$events?.[r.type],c=nl(i)?i.slice():i==null?[]:[i];for(var m of c)m.call(this,r)}function Ol(l,r,i){if(l==null)return r(void 0),i&&i(void 0),Qa;const c=n(()=>l.subscribe(r,i));return c.unsubscribe?()=>c.unsubscribe():c}const ks=[];function yo(l,r){return{subscribe:Fl(l,r).subscribe}}function Fl(l,r=Qa){let i=null;const c=new Set;function m(u){if(cr(l,u)&&(l=u,i)){const _=!ks.length;for(const f of c)f[1](),ks.push(f,l);if(_){for(let f=0;f<ks.length;f+=2)ks[f][0](ks[f+1]);ks.length=0}}}function d(u){m(u(l))}function y(u,_=Qa){const f=[u,_];return c.add(f),c.size===1&&(i=r(m,d)||Qa),u(l),()=>{c.delete(f),c.size===0&&i&&(i(),i=null)}}return{set:m,update:d,subscribe:y}}function Ks(l,r,i){const c=!Array.isArray(l),m=c?[l]:l;if(!m.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const d=r.length<2;return yo(i,(y,u)=>{let _=!1;const f=[];let x=0,T=Qa;const B=()=>{if(x)return;T();const N=r(c?f[0]:f,y,u);d?y(N):T=typeof N=="function"?N:Qa},k=m.map((N,j)=>Ol(N,$=>{f[j]=$,x&=~(1<<j),_&&B()},()=>{x|=1<<j}));return _=!0,B(),function(){al(k),T(),_=!1}})}function go(l){let r;return Ol(l,i=>r=i)(),r}let el=!1,zl=Symbol();function da(l,r,i){const c=i[r]??={store:null,source:Z(void 0),unsubscribe:Qa};if(c.store!==l&&!(zl in i))if(c.unsubscribe(),c.store=l??null,l==null)c.source.v=void 0,c.unsubscribe=Qa;else{var m=!0;c.unsubscribe=Ol(l,d=>{m?c.source.v=d:s(c.source,d)}),m=!1}return l&&zl in i?go(l):e(c.source)}function ca(){const l={};function r(){fl(()=>{for(var i in l)l[i].unsubscribe();sr(l,zl,{enumerable:!1,value:!0})})}return[l,r]}function xo(l){var r=el;try{return el=!1,[l(),el]}finally{el=r}}function ol(l,r,i,c){var m=!Ms||(i&hi)!==0,d=(i&gi)!==0,y=c,u=!0,_=()=>(u&&(u=!1,y=c),y),f;{var x=ts in l||ai in l;f=Ss(l,r)?.set??(x&&r in l?A=>l[r]=A:void 0)}var T,B=!1;[T,B]=xo(()=>l[r]);var k;if(m?k=()=>{var A=l[r];return A===void 0?_():(u=!0,A)}:k=()=>{var A=l[r];return A!==void 0&&(y=void 0),A===void 0?y:A},m&&(i&yi)===0)return k;if(f){var N=l.$$legacy;return(function(A,ce){return arguments.length>0?((!m||!ce||N||B)&&f(ce?k():A),A):k()})}var j=!1,$=zs(()=>(j=!1,k()));e($);var P=Lt;return(function(A,ce){if(arguments.length>0){const J=ce?e($):m&&d?Rt(A):A;return s($,J),j=!0,y!==void 0&&(y=J),A}return bs&&j||(P.f&Wa)!==0?$.v:e($)})}function ea(l){Yt===null&&li(),Ms&&Yt.l!==null?wo(Yt).m.push(l):Ta(()=>{const r=n(l);if(typeof r=="function")return r})}function wo(l){var r=l.l;return r.u??={a:[],b:[],m:[]}}const ko="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ko);const $o={token:null,user:null,employee:null,isAuthenticated:!1},aa=Fl($o),Eo="https://hub-hrms-alb-1594482096.us-east-1.elb.amazonaws.com/api";function ja(){return Eo}var So=p('<div class="error-message svelte-110obhz"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-110obhz"><circle cx="12" cy="12" r="10" class="svelte-110obhz"></circle><line x1="12" y1="8" x2="12" y2="12" class="svelte-110obhz"></line><line x1="12" y1="16" x2="12.01" y2="16" class="svelte-110obhz"></line></svg> <span class="svelte-110obhz"> </span></div>'),zo=Xs('<svg class="spinner svelte-110obhz" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-width="4" class="svelte-110obhz"></circle></svg> Signing in...',1),jo=p('<div class="login-container svelte-110obhz"><div class="login-card svelte-110obhz"><div class="login-header svelte-110obhz"><div class="logo svelte-110obhz"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-110obhz"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" class="svelte-110obhz"></path><circle cx="12" cy="7" r="4" class="svelte-110obhz"></circle></svg></div> <h1 class="svelte-110obhz">Welcome Back</h1> <p class="svelte-110obhz">Sign in to your account</p></div> <!> <form class="svelte-110obhz"><div class="form-group svelte-110obhz"><label for="email" class="svelte-110obhz">Email</label> <input id="email" type="email" placeholder="Enter your email" required class="svelte-110obhz"/></div> <div class="form-group svelte-110obhz"><label for="password" class="svelte-110obhz">Password</label> <input id="password" type="password" placeholder="Enter your password" required class="svelte-110obhz"/></div> <button type="submit" class="login-btn svelte-110obhz"><!></button></form> <div class="login-footer svelte-110obhz"><p class="svelte-110obhz">HRMS - Human Resource Management System</p></div></div></div>');function qo(l,r){Jt(r,!0);const i=ja();let c=Qe(""),m=Qe(""),d=Qe(""),y=Qe(!1);async function u(re){if(re.preventDefault(),!e(c)||!e(m)){s(d,"Please enter email and password");return}s(y,!0),s(d,"");try{const et=await fetch(`${i}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e(c),password:e(m)})});if(et.ok){const Ge=await et.json();localStorage.setItem("token",Ge.token),localStorage.setItem("user",JSON.stringify(Ge.user)),Ge.employee&&localStorage.setItem("employee",JSON.stringify(Ge.employee)),aa.set({token:Ge.token,user:Ge.user,employee:Ge.employee,isAuthenticated:!0})}else{const Ge=await et.json();s(d,Ge.error||"Login failed",!0)}}catch(et){console.error("Login error:",et),s(d,"Network error. Please try again.")}finally{s(y,!1)}}var _=jo(),f=t(_),x=a(t(f),2);{var T=re=>{var et=So(),Ge=a(t(et),2),mt=t(Ge);E(()=>o(mt,e(d))),v(re,et)};w(x,re=>{e(d)&&re(T)})}var B=a(x,2),k=t(B),N=a(t(k),2),j=a(k,2),$=a(t(j),2),P=a(j,2),A=t(P);{var ce=re=>{var et=zo();v(re,et)},J=re=>{var et=cs("Sign In");v(re,et)};w(A,re=>{e(y)?re(ce):re(J,!1)})}E(()=>{N.disabled=e(y),$.disabled=e(y),P.disabled=e(y)}),ve("submit",B,u),Ze(N,()=>e(c),re=>s(c,re)),Ze($,()=>e(m),re=>s(m,re)),v(l,_),Vt()}var Co=p(`<div class="dashboard svelte-1thed0a"><header class="page-header svelte-1thed0a"><div><h1 class="svelte-1thed0a">Dashboard</h1> <p class="svelte-1thed0a">Welcome back! Here's what's happening with your team today.</p></div></header> <div class="stats-grid svelte-1thed0a"><div class="stat-card svelte-1thed0a"><div class="stat-icon svelte-1thed0a" style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg></div> <div class="stat-content svelte-1thed0a"><div class="stat-value svelte-1thed0a"> </div> <div class="stat-label svelte-1thed0a">Total Employees</div></div></div> <div class="stat-card svelte-1thed0a"><div class="stat-icon svelte-1thed0a" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg></div> <div class="stat-content svelte-1thed0a"><div class="stat-value svelte-1thed0a"> </div> <div class="stat-label svelte-1thed0a">Active Onboarding</div></div></div> <div class="stat-card svelte-1thed0a"><div class="stat-icon svelte-1thed0a" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div> <div class="stat-content svelte-1thed0a"><div class="stat-value svelte-1thed0a"> </div> <div class="stat-label svelte-1thed0a">Pending PTO Requests</div></div></div> <div class="stat-card svelte-1thed0a"><div class="stat-icon svelte-1thed0a" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg></div> <div class="stat-content svelte-1thed0a"><div class="stat-value svelte-1thed0a"> </div> <div class="stat-label svelte-1thed0a">Days to Payroll</div></div></div></div> <div class="dashboard-grid svelte-1thed0a"><div class="dashboard-card svelte-1thed0a"><h2 class="svelte-1thed0a">Recent Activity</h2> <div class="activity-list svelte-1thed0a"><div class="activity-item svelte-1thed0a"><div class="activity-icon svelte-1thed0a">üë§</div> <div class="activity-content svelte-1thed0a"><p class="activity-text svelte-1thed0a"><strong>Sarah Johnson</strong> completed onboarding</p> <p class="activity-time svelte-1thed0a">2 hours ago</p></div></div> <div class="activity-item svelte-1thed0a"><div class="activity-icon svelte-1thed0a">üìÖ</div> <div class="activity-content svelte-1thed0a"><p class="activity-text svelte-1thed0a"><strong>Mike Chen</strong> requested PTO for Dec 20-24</p> <p class="activity-time svelte-1thed0a">5 hours ago</p></div></div> <div class="activity-item svelte-1thed0a"><div class="activity-icon svelte-1thed0a">‚è∞</div> <div class="activity-content svelte-1thed0a"><p class="activity-text svelte-1thed0a"><strong>Emily Davis</strong> submitted timesheet</p> <p class="activity-time svelte-1thed0a">1 day ago</p></div></div></div></div> <div class="dashboard-card svelte-1thed0a"><h2 class="svelte-1thed0a">Upcoming Events</h2> <div class="events-list svelte-1thed0a"><div class="event-item svelte-1thed0a"><div class="event-date svelte-1thed0a"><div class="event-month svelte-1thed0a">DEC</div> <div class="event-day svelte-1thed0a">15</div></div> <div class="event-content svelte-1thed0a"><p class="event-title svelte-1thed0a">Payroll Processing</p> <p class="event-desc svelte-1thed0a">Bi-weekly payroll run</p></div></div> <div class="event-item svelte-1thed0a"><div class="event-date svelte-1thed0a"><div class="event-month svelte-1thed0a">JAN</div> <div class="event-day svelte-1thed0a">01</div></div> <div class="event-content svelte-1thed0a"><p class="event-title svelte-1thed0a">Benefits Enrollment</p> <p class="event-desc svelte-1thed0a">Open enrollment period begins</p></div></div></div></div></div></div>`);function Ao(l,r){Jt(r,!0);let i=Qe(Rt({totalEmployees:0,activeOnboarding:0,pendingPTO:0,upcomingPayroll:0}));Ta(()=>{s(i,{totalEmployees:127,activeOnboarding:8,pendingPTO:12,upcomingPayroll:3},!0)});var c=Co(),m=a(t(c),2),d=t(m),y=a(t(d),2),u=t(y),_=t(u),f=a(d,2),x=a(t(f),2),T=t(x),B=t(T),k=a(f,2),N=a(t(k),2),j=t(N),$=t(j),P=a(k,2),A=a(t(P),2),ce=t(A),J=t(ce);E(()=>{o(_,e(i).totalEmployees),o(B,e(i).activeOnboarding),o($,e(i).pendingPTO),o(J,e(i).upcomingPayroll)}),v(l,c),Vt()}var Do=p('<div class="error-banner svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> </div>'),Po=p("<option> </option>"),To=p('<div class="loading svelte-10nlu23"><div class="spinner svelte-10nlu23"></div> <p class="svelte-10nlu23">Loading employees...</p></div>'),Mo=p('<div class="empty-state svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <p class="svelte-10nlu23">No employees found</p> <button class="btn-secondary svelte-10nlu23">Add First Employee</button></div>'),Bo=p('<div class="employee-card svelte-10nlu23"><div class="employee-header svelte-10nlu23"><div class="employee-avatar svelte-10nlu23"> </div> <div class="employee-info svelte-10nlu23"><h3 class="svelte-10nlu23"> </h3> <p class="svelte-10nlu23"> </p> <span> </span></div></div> <div class="employee-details svelte-10nlu23"><div class="detail-row svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> <span> </span></div> <div class="detail-row svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg> <span> </span></div> <div class="detail-row svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <span> </span></div> <div class="detail-row svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> <span> </span></div></div> <button class="btn-edit svelte-10nlu23">Edit Details</button></div>'),Oo=p('<div class="employee-grid svelte-10nlu23"></div>'),Fo=p('<div class="modal-overlay svelte-10nlu23" role="button" tabindex="0" aria-label="Close modal"><div class="modal svelte-10nlu23" role="dialog" aria-modal="true" aria-labelledby="add-employee-title" tabindex="-1"><div class="modal-header svelte-10nlu23"><h2 id="add-employee-title" class="svelte-10nlu23">Add New Employee</h2> <button class="close-btn svelte-10nlu23">√ó</button></div> <form class="modal-body svelte-10nlu23"><div class="form-grid svelte-10nlu23"><div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Personal Information</h3> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">First Name *<input type="text" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Last Name *<input type="text" required class="svelte-10nlu23"/></label></div></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Email *<input type="email" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Phone *<input type="tel" required class="svelte-10nlu23"/></label></div></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Date of Birth<input type="date" class="svelte-10nlu23"/></label></div></div> <div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Employment Details</h3> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Department *<input type="text" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Position *<input type="text" required class="svelte-10nlu23"/></label></div></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Employment Type *<select required class="svelte-10nlu23"><option>Full-time</option><option>Part-time</option><option>Contract</option><option>Intern</option></select></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Hire Date *<input type="date" required class="svelte-10nlu23"/></label></div></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Status *<select required class="svelte-10nlu23"><option>Active</option><option>On Leave</option><option>Terminated</option></select></label></div></div> <div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Address</h3> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Street Address<input type="text" class="svelte-10nlu23"/></label></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">City<input type="text" class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">State<input type="text" class="svelte-10nlu23"/></label></div></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">ZIP Code<input type="text" class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Country<input type="text" class="svelte-10nlu23"/></label></div></div></div> <div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Emergency Contact</h3> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Contact Name<input type="text" class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Contact Phone<input type="tel" class="svelte-10nlu23"/></label></div></div></div> <div class="modal-footer svelte-10nlu23"><button type="button" class="btn-secondary svelte-10nlu23">Cancel</button> <button type="submit" class="btn-primary svelte-10nlu23">Create Employee</button></div></form></div></div>'),Io=p('<div class="modal-overlay svelte-10nlu23" role="button" tabindex="0" aria-label="Close modal"><div class="modal svelte-10nlu23" role="dialog" aria-modal="true" aria-labelledby="edit-employee-title" tabindex="-1"><div class="modal-header svelte-10nlu23"><h2 id="edit-employee-title" class="svelte-10nlu23">Edit Employee</h2> <button class="close-btn svelte-10nlu23">√ó</button></div> <form class="modal-body svelte-10nlu23"><div class="form-grid svelte-10nlu23"><div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Personal Information</h3> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">First Name *<input type="text" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Last Name *<input type="text" required class="svelte-10nlu23"/></label></div></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Email *<input type="email" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Phone *<input type="tel" required class="svelte-10nlu23"/></label></div></div></div> <div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Employment Details</h3> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Department *<input type="text" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Position *<input type="text" required class="svelte-10nlu23"/></label></div></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Status *<select required class="svelte-10nlu23"><option>Active</option><option>On Leave</option><option>Terminated</option></select></label></div></div></div> <div class="modal-footer svelte-10nlu23"><button type="button" class="btn-secondary svelte-10nlu23">Cancel</button> <button type="submit" class="btn-primary svelte-10nlu23">Update Employee</button></div></form></div></div>'),No=p(`<div class="employees-page svelte-10nlu23"><header class="page-header svelte-10nlu23"><div><h1 class="svelte-10nlu23">Employees</h1> <p class="svelte-10nlu23">Manage your organization's employees</p></div> <button class="btn-primary svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M12 5v14M5 12h14"></path></svg> Add Employee</button></header> <!> <div class="filters svelte-10nlu23"><div class="search-box svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <input type="text" placeholder="Search employees..." class="svelte-10nlu23"/></div> <select class="filter-select svelte-10nlu23"><option>All Departments</option><!></select> <select class="filter-select svelte-10nlu23"><option>All Status</option><option>Active</option><option>On Leave</option><option>Terminated</option></select></div> <!></div> <!> <!>`,1);function Ro(l,r){Jt(r,!0);let i=Qe(Rt([])),c=Qe(!0),m=Qe(""),d=Qe(!1),y=Qe(!1),u=Qe(null),_=Qe(""),f=Qe("all"),x=Qe("active"),T=Qe(Rt({first_name:"",last_name:"",email:"",phone:"",date_of_birth:"",hire_date:new Date().toISOString().split("T")[0],department:"",position:"",employment_type:"full-time",status:"active",street_address:"",city:"",state:"",zip_code:"",country:"USA",emergency_contact_name:"",emergency_contact_phone:""}));Ta(()=>{B()});async function B(){s(c,!0),s(m,"");try{const Fe=localStorage.getItem("token"),Ye=await fetch("/api/employees",{headers:{Authorization:`Bearer ${Fe}`}});if(!Ye.ok)throw new Error("Failed to load employees");const _t=await Ye.json();s(i,(_t||[]).filter(St=>St.email!=="admin@hub-hrms.local"),!0)}catch(Fe){s(m,Fe.message||"Failed to load employees",!0),s(i,[],!0)}finally{s(c,!1)}}async function k(){try{const Fe=localStorage.getItem("token"),Ye={...e(T)};Ye.date_of_birth||delete Ye.date_of_birth,console.log("Creating employee with data:",Ye);const _t=await fetch("/api/employees",{method:"POST",headers:{Authorization:`Bearer ${Fe}`,"Content-Type":"application/json"},body:JSON.stringify(Ye)});if(!_t.ok){const St=await _t.text();throw console.error("Create employee error:",St),new Error(St||"Failed to create employee")}await B(),$()}catch(Fe){console.error("Create employee exception:",Fe),s(m,Fe.message||"Failed to create employee",!0)}}async function N(){if(e(u))try{const Fe=localStorage.getItem("token");if(!(await fetch(`/api/employees/${e(u).id}`,{method:"PUT",headers:{Authorization:`Bearer ${Fe}`,"Content-Type":"application/json"},body:JSON.stringify(e(u))})).ok)throw new Error("Failed to update employee");await B(),A()}catch(Fe){s(m,Fe.message||"Failed to update employee",!0)}}function j(){s(d,!0),ce()}function $(){s(d,!1),ce()}function P(Fe){s(u,{...Fe},!0),s(y,!0)}function A(){s(y,!1),s(u,null)}function ce(){s(T,{first_name:"",last_name:"",email:"",phone:"",date_of_birth:"",hire_date:new Date().toISOString().split("T")[0],department:"",position:"",employment_type:"full-time",status:"active",street_address:"",city:"",state:"",zip_code:"",country:"USA",emergency_contact_name:"",emergency_contact_phone:""},!0)}let J=Sa(()=>()=>{let Fe=e(i);if(e(_)){const Ye=e(_).toLowerCase();Fe=Fe.filter(_t=>_t.first_name.toLowerCase().includes(Ye)||_t.last_name.toLowerCase().includes(Ye)||_t.email.toLowerCase().includes(Ye)||_t.department.toLowerCase().includes(Ye)||_t.position.toLowerCase().includes(Ye))}return e(f)!=="all"&&(Fe=Fe.filter(Ye=>Ye.department===e(f))),e(x)!=="all"&&(Fe=Fe.filter(Ye=>Ye.status===e(x))),Fe}),re=Sa(()=>()=>{const Fe=new Set(e(i).map(Ye=>Ye.department));return Array.from(Fe).sort()});function et(Fe){return Fe?new Date(Fe).toLocaleDateString():"N/A"}function Ge(Fe){switch(Fe){case"active":return"status-active";case"terminated":return"status-terminated";case"on-leave":return"status-leave";default:return""}}var mt=No(),wt=lt(mt),Le=t(wt),vt=a(t(Le),2);vt.__click=j;var Ue=a(Le,2);{var _e=Fe=>{var Ye=Do(),_t=a(t(Ye));E(()=>o(_t,` ${e(m)??""}`)),v(Fe,Ye)};w(Ue,Fe=>{e(m)&&Fe(_e)})}var nt=a(Ue,2),dt=t(nt),zt=a(t(dt),2),Ve=a(dt,2),Pe=t(Ve);Pe.value=Pe.__value="all";var Xe=a(Pe);ht(Xe,17,()=>e(re)(),yt,(Fe,Ye)=>{var _t=Po(),St=t(_t),ft={};E(()=>{o(St,e(Ye)),ft!==(ft=e(Ye))&&(_t.value=(_t.__value=e(Ye))??"")}),v(Fe,_t)});var it=a(Ve,2),xt=t(it);xt.value=xt.__value="all";var qt=a(xt);qt.value=qt.__value="active";var at=a(qt);at.value=at.__value="on-leave";var Be=a(at);Be.value=Be.__value="terminated";var ut=a(nt,2);{var Q=Fe=>{var Ye=To();v(Fe,Ye)},Oe=Fe=>{var Ye=Ct(),_t=lt(Ye);{var St=pt=>{var bt=Mo(),ye=a(t(bt),4);ye.__click=j,v(pt,bt)},ft=pt=>{var bt=Oo();ht(bt,21,()=>e(J)(),yt,(ye,b)=>{var S=Bo(),ee=t(S),me=t(ee),je=t(me),qe=a(me,2),Te=t(qe),Ie=t(Te),Ne=a(Te,2),He=t(Ne),oe=a(Ne,2),de=t(oe),le=a(ee,2),we=t(le),se=a(t(we),2),M=t(se),O=a(we,2),D=a(t(O),2),L=t(D),g=a(O,2),z=a(t(g),2),h=t(z),C=a(g,2),I=a(t(C),2),R=t(I),V=a(le,2);V.__click=()=>P(e(b)),E((K,ie)=>{o(je,`${e(b).first_name[0]??""}${e(b).last_name[0]??""}`),o(Ie,`${e(b).first_name??""} ${e(b).last_name??""}`),o(He,e(b).position),tt(oe,1,`status-badge ${K??""}`,"svelte-10nlu23"),o(de,e(b).status),o(M,e(b).email),o(L,e(b).phone),o(h,e(b).department),o(R,`Hired: ${ie??""}`)},[()=>Ge(e(b).status),()=>et(e(b).hire_date)]),v(ye,S)}),v(pt,bt)};w(_t,pt=>{e(J)().length===0?pt(St):pt(ft,!1)},!0)}v(Fe,Ye)};w(ut,Fe=>{e(c)?Fe(Q):Fe(Oe,!1)})}var Ke=a(wt,2);{var rt=Fe=>{var Ye=Fo();Ye.__click=Et=>Et.target===Et.currentTarget&&$(),Ye.__keydown=Et=>Et.key==="Escape"&&$();var _t=t(Ye),St=t(_t),ft=a(t(St),2);ft.__click=$;var pt=a(St,2),bt=t(pt),ye=t(bt),b=a(t(ye),2),S=t(b),ee=t(S),me=a(t(ee)),je=a(S,2),qe=t(je),Te=a(t(qe)),Ie=a(b,2),Ne=t(Ie),He=t(Ne),oe=a(t(He)),de=a(Ne,2),le=t(de),we=a(t(le)),se=a(Ie,2),M=t(se),O=a(t(M)),D=a(ye,2),L=a(t(D),2),g=t(L),z=t(g),h=a(t(z)),C=a(g,2),I=t(C),R=a(t(I)),V=a(L,2),K=t(V),ie=t(K),H=a(t(ie)),Y=t(H);Y.value=Y.__value="full-time";var W=a(Y);W.value=W.__value="part-time";var U=a(W);U.value=U.__value="contract";var te=a(U);te.value=te.__value="intern";var pe=a(K,2),fe=t(pe),G=a(t(fe)),he=a(V,2),ze=t(he),Ee=a(t(ze)),De=t(Ee);De.value=De.__value="active";var xe=a(De);xe.value=xe.__value="on-leave";var q=a(xe);q.value=q.__value="terminated";var F=a(D,2),ae=a(t(F),2),X=t(ae),ne=a(t(X)),Re=a(ae,2),$e=t(Re),ue=t($e),ge=a(t(ue)),We=a($e,2),Se=t(We),Ce=a(t(Se)),ct=a(Re,2),ke=t(ct),Me=t(ke),Ae=a(t(Me)),be=a(ke,2),gt=t(be),$t=a(t(gt)),Je=a(F,2),Pt=a(t(Je),2),jt=t(Pt),Mt=a(t(jt)),Dt=a(Pt,2),Ot=t(Dt),Bt=a(t(Ot)),Ut=a(bt,2),Ft=t(Ut);Ft.__click=$,ve("submit",pt,Et=>{Et.preventDefault(),k()}),Ze(me,()=>e(T).first_name,Et=>e(T).first_name=Et),Ze(Te,()=>e(T).last_name,Et=>e(T).last_name=Et),Ze(oe,()=>e(T).email,Et=>e(T).email=Et),Ze(we,()=>e(T).phone,Et=>e(T).phone=Et),Ze(O,()=>e(T).date_of_birth,Et=>e(T).date_of_birth=Et),Ze(h,()=>e(T).department,Et=>e(T).department=Et),Ze(R,()=>e(T).position,Et=>e(T).position=Et),At(H,()=>e(T).employment_type,Et=>e(T).employment_type=Et),Ze(G,()=>e(T).hire_date,Et=>e(T).hire_date=Et),At(Ee,()=>e(T).status,Et=>e(T).status=Et),Ze(ne,()=>e(T).street_address,Et=>e(T).street_address=Et),Ze(ge,()=>e(T).city,Et=>e(T).city=Et),Ze(Ce,()=>e(T).state,Et=>e(T).state=Et),Ze(Ae,()=>e(T).zip_code,Et=>e(T).zip_code=Et),Ze($t,()=>e(T).country,Et=>e(T).country=Et),Ze(Mt,()=>e(T).emergency_contact_name,Et=>e(T).emergency_contact_name=Et),Ze(Bt,()=>e(T).emergency_contact_phone,Et=>e(T).emergency_contact_phone=Et),v(Fe,Ye)};w(Ke,Fe=>{e(d)&&Fe(rt)})}var ot=a(Ke,2);{var kt=Fe=>{var Ye=Io();Ye.__click=W=>W.target===W.currentTarget&&A(),Ye.__keydown=W=>W.key==="Escape"&&A();var _t=t(Ye),St=t(_t),ft=a(t(St),2);ft.__click=A;var pt=a(St,2),bt=t(pt),ye=t(bt),b=a(t(ye),2),S=t(b),ee=t(S),me=a(t(ee)),je=a(S,2),qe=t(je),Te=a(t(qe)),Ie=a(b,2),Ne=t(Ie),He=t(Ne),oe=a(t(He)),de=a(Ne,2),le=t(de),we=a(t(le)),se=a(ye,2),M=a(t(se),2),O=t(M),D=t(O),L=a(t(D)),g=a(O,2),z=t(g),h=a(t(z)),C=a(M,2),I=t(C),R=a(t(I)),V=t(R);V.value=V.__value="active";var K=a(V);K.value=K.__value="on-leave";var ie=a(K);ie.value=ie.__value="terminated";var H=a(bt,2),Y=t(H);Y.__click=A,ve("submit",pt,W=>{W.preventDefault(),N()}),Ze(me,()=>e(u).first_name,W=>e(u).first_name=W),Ze(Te,()=>e(u).last_name,W=>e(u).last_name=W),Ze(oe,()=>e(u).email,W=>e(u).email=W),Ze(we,()=>e(u).phone,W=>e(u).phone=W),Ze(L,()=>e(u).department,W=>e(u).department=W),Ze(h,()=>e(u).position,W=>e(u).position=W),At(R,()=>e(u).status,W=>e(u).status=W),v(Fe,Ye)};w(ot,Fe=>{e(y)&&e(u)&&Fe(kt)})}Ze(zt,()=>e(_),Fe=>s(_,Fe)),At(Ve,()=>e(f),Fe=>s(f,Fe)),At(it,()=>e(x),Fe=>s(x,Fe)),v(l,mt),Vt()}ba(["click","keydown"]);var Lo=p('<button class="btn-disabled svelte-1a2zdqh" disabled><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1a2zdqh"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> Complete All Tasks to Proceed</button>'),Uo=p('<div class="onboarding-container svelte-1a2zdqh"><div class="onboarding-header svelte-1a2zdqh"><h1 class="svelte-1a2zdqh">Welcome to the Team! üéâ</h1> <p class="svelte-1a2zdqh">Please complete your onboarding tasks to get started</p> <div class="status-badge svelte-1a2zdqh"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1a2zdqh"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> Status: Onboarding</div></div> <div class="tasks-section svelte-1a2zdqh"></div> <div class="completion-section svelte-1a2zdqh"><!></div></div>');function Ho(l,r){Jt(r,!0);const i=()=>da(aa,"$authStore",c),[c,m]=ca();let d=Rt(i().employee);ea(()=>{d?.status!=="onboarding"&&r.navigate("employee-dashboard")});var y=Uo(),u=a(t(y),4),_=t(u);{var f=x=>{var T=Lo();v(x,T)};w(_,x=>{x(f,!1)})}v(l,y),Vt(),m()}ba(["click"]);Si();var Wo=p('<div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6"> </div>'),Jo=p('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div></div>'),Vo=p('<div class="bg-white rounded-lg shadow p-12 text-center"><svg style="width: 48px; height: 48px;" class="mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No workflows found</h3> <p class="mt-1 text-sm text-gray-500">Get started by creating a new workflow.</p> <div class="mt-6"><button class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"><svg style="width: 20px; height: 20px; margin-left: -4px; margin-right: 8px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Workflow</button></div></div>'),Yo=p('<span class="text-xs text-gray-500"> </span>'),Go=p('<div role="button" tabindex="0" class="bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer"><div class="p-6"><div class="flex items-start justify-between mb-4"><div class="flex-1"><h3 class="text-lg font-semibold text-gray-900 capitalize"> </h3> <p class="text-sm text-gray-500 mt-1"> </p></div> <span> </span></div> <div class="mb-4"><div class="flex justify-between items-center mb-2"><span class="text-sm font-medium text-gray-700">Progress</span> <span class="text-sm font-bold text-gray-900"> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-blue-600 h-2 rounded-full transition-all duration-300"></div></div></div> <div class="flex items-center justify-between"><span> </span> <!></div></div></div>'),Xo=p('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),Ko=p("<option> </option>"),Zo=p("<option> </option>"),Qo=p('<div class="mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"> </div>'),en=p('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl max-w-md w-full"><div class="p-6"><h2 class="text-xl font-bold text-gray-900 mb-4">Create New Workflow</h2> <div class="space-y-4"><div><label for="employee-select" class="block text-sm font-medium text-gray-700 mb-2">Select Employee</label> <select id="employee-select" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>Choose an employee...</option><!></select></div> <div><label for="template-select" class="block text-sm font-medium text-gray-700 mb-2">Workflow Template</label> <select id="template-select" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></select></div> <div class="bg-blue-50 border border-blue-200 rounded-lg p-4"><p class="text-sm text-blue-800"><!></p></div></div> <!> <div class="flex gap-3 mt-6"><button class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">Cancel</button> <button class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed">Create Workflow</button></div></div></div></div>'),tn=p('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="mb-8"><h1 class="text-3xl font-bold text-gray-900">Onboarding Workflows</h1> <p class="mt-2 text-sm text-gray-600">Manage and monitor employee onboarding workflows with intelligent automation</p></div> <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"><div class="bg-white rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-1"><p class="text-sm font-medium text-gray-600">Total Workflows</p> <p class="text-3xl font-bold text-gray-900"> </p></div> <div style="width: 48px; height: 48px; min-width: 48px; min-height: 48px;" class="bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0"><svg style="width: 24px; height: 24px;" class="text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div></div></div> <div class="bg-white rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-1"><p class="text-sm font-medium text-gray-600">Active</p> <p class="text-3xl font-bold text-green-600"> </p></div> <div style="width: 48px; height: 48px; min-width: 48px; min-height: 48px;" class="bg-green-100 rounded-full flex items-center justify-center flex-shrink-0"><svg style="width: 24px; height: 24px;" class="text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div></div></div> <div class="bg-white rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-1"><p class="text-sm font-medium text-gray-600">Completed</p> <p class="text-3xl font-bold text-blue-600"> </p></div> <div style="width: 48px; height: 48px; min-width: 48px; min-height: 48px;" class="bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0"><svg style="width: 24px; height: 24px;" class="text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div></div> <div class="bg-white rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-1"><p class="text-sm font-medium text-gray-600">On Hold</p> <p class="text-3xl font-bold text-yellow-600"> </p></div> <div style="width: 48px; height: 48px; min-width: 48px; min-height: 48px;" class="bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0"><svg style="width: 24px; height: 24px;" class="text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div></div></div> <div class="bg-white rounded-lg shadow mb-6"><div class="p-6"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"><div class="flex flex-col sm:flex-row gap-4 flex-1"><div class="flex-1"><input type="text" placeholder="Search workflows..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div> <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>All Status</option><option>Active</option><option>Completed</option><option>Cancelled</option><option>On Hold</option></select></div> <button class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 whitespace-nowrap"><svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Workflow</button></div></div></div> <!> <!></div> <!>',1);function an(l,r){Jt(r,!1);const i=Z(),c=Z(),m=Z(),d=Z();let y=ol(r,"navigate",8),u=Z([]),_=Z(!0),f=Z(""),x=Z("all"),T=Z(""),B=Z(!1),k=Z([]),N=Z(""),j=Z("software-engineer");const $=[{value:"software-engineer",label:"Software Engineer (17 steps)"},{value:"generic",label:"Generic Employee (4 steps)"},{value:"sales-representative",label:"Sales Representative"},{value:"manager",label:"Manager"}];ea(()=>{P(),A()});async function P(){s(_,!0),s(f,"");try{const oe=localStorage.getItem("token");if(!oe){s(f,"Not authenticated. Please login again."),s(_,!1);return}let de="/api/workflows";e(x)!=="all"&&(de+=`?status=${e(x)}`),console.log("Fetching workflows from:",de);const le=await fetch(de,{headers:{Authorization:`Bearer ${oe}`}});if(console.log("Response status:",le.status),!le.ok){const se=await le.text();throw console.error("Error response:",se),new Error(`Failed to load workflows: ${le.status} ${le.statusText}`)}const we=await le.json();console.log("Workflows data:",we),s(u,Array.isArray(we)?we:[])}catch(oe){console.error("Load workflows error:",oe),s(f,oe.message||"Failed to load workflows"),s(u,[])}finally{s(_,!1)}}async function A(){try{const oe=localStorage.getItem("token"),de=await fetch("/api/employees",{headers:{Authorization:`Bearer ${oe}`}});if(!de.ok)throw new Error("Failed to load employees");const le=await de.json();s(k,(le||[]).filter(we=>we.status==="active"&&we.email!=="admin@cocomgroup.com"))}catch(oe){console.error("Failed to load employees:",oe)}}async function ce(){if(!e(N)){s(f,"Please select an employee");return}try{const oe=localStorage.getItem("token"),de=await fetch("/api/workflows",{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"},body:JSON.stringify({employee_id:e(N),template_name:e(j)})});if(!de.ok){const le=await de.json();throw new Error(le.error||"Failed to create workflow")}s(B,!1),s(N,""),s(j,"software-engineer"),await P()}catch(oe){s(f,oe.message||"Failed to create workflow")}}function J(oe){return{"pre-boarding":"bg-purple-100 text-purple-800","day-1":"bg-blue-100 text-blue-800","week-1":"bg-green-100 text-green-800","month-1":"bg-orange-100 text-orange-800",completed:"bg-gray-100 text-gray-800"}[oe]||"bg-gray-100 text-gray-800"}function re(oe){return{active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800","on-hold":"bg-yellow-100 text-yellow-800"}[oe]||"bg-gray-100 text-gray-800"}function et(oe){return oe?new Date(oe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}Ht(()=>(e(u),e(T)),()=>{s(i,e(u).filter(oe=>e(T)===""||oe.template_name.toLowerCase().includes(e(T).toLowerCase())))}),Ht(()=>e(u),()=>{s(c,e(u).filter(oe=>oe.status==="active").length)}),Ht(()=>e(u),()=>{s(m,e(u).filter(oe=>oe.status==="completed").length)}),Ht(()=>e(u),()=>{s(d,e(u).filter(oe=>oe.status==="on-hold").length)}),ss(),za();var Ge=tn(),mt=lt(Ge),wt=a(t(mt),2),Le=t(wt),vt=t(Le),Ue=t(vt),_e=a(t(Ue),2),nt=t(_e),dt=a(Le,2),zt=t(dt),Ve=t(zt),Pe=a(t(Ve),2),Xe=t(Pe),it=a(dt,2),xt=t(it),qt=t(xt),at=a(t(qt),2),Be=t(at),ut=a(it,2),Q=t(ut),Oe=t(Q),Ke=a(t(Oe),2),rt=t(Ke),ot=a(wt,2),kt=t(ot),Fe=t(kt),Ye=t(Fe),_t=t(Ye),St=t(_t),ft=a(_t,2);E(()=>{e(x),Tt(()=>{})});var pt=t(ft);pt.value=pt.__value="all";var bt=a(pt);bt.value=bt.__value="active";var ye=a(bt);ye.value=ye.__value="completed";var b=a(ye);b.value=b.__value="cancelled";var S=a(b);S.value=S.__value="on-hold";var ee=a(Ye,2),me=a(ot,2);{var je=oe=>{var de=Wo(),le=t(de);E(()=>o(le,e(f))),v(oe,de)};w(me,oe=>{e(f)&&oe(je)})}var qe=a(me,2);{var Te=oe=>{var de=Jo();v(oe,de)},Ie=oe=>{var de=Ct(),le=lt(de);{var we=M=>{var O=Vo(),D=a(t(O),6),L=t(D);ve("click",L,()=>s(B,!0)),v(M,O)},se=M=>{var O=Xo();ht(O,5,()=>e(i),D=>D.id,(D,L)=>{var g=Go(),z=t(g),h=t(z),C=t(h),I=t(C),R=t(I),V=a(I,2),K=t(V),ie=a(C,2),H=t(ie),Y=a(h,2),W=t(Y),U=a(t(W),2),te=t(U),pe=a(W,2),fe=t(pe),G=a(Y,2),he=t(G),ze=t(he),Ee=a(he,2);{var De=xe=>{var q=Yo(),F=t(q);E(ae=>o(F,`Due ${ae??""}`),[()=>(e(L),n(()=>et(e(L).expected_completion)))]),v(xe,q)};w(Ee,xe=>{e(L),n(()=>e(L).expected_completion)&&xe(De)})}E((xe,q,F,ae,X)=>{o(R,xe),o(K,`Started ${q??""}`),tt(ie,1,`px-3 py-1 rounded-full text-xs font-medium ${F??""} capitalize`),o(H,(e(L),n(()=>e(L).status))),o(te,`${e(L),n(()=>e(L).progress_percentage)??""}%`),il(fe,`width: ${e(L),n(()=>e(L).progress_percentage)??""}%`),tt(he,1,`px-3 py-1 rounded-full text-xs font-medium ${ae??""} capitalize`),o(ze,X)},[()=>(e(L),n(()=>e(L).template_name.replace(/-/g," "))),()=>(e(L),n(()=>et(e(L).started_at))),()=>(e(L),n(()=>re(e(L).status))),()=>(e(L),n(()=>J(e(L).current_stage))),()=>(e(L),n(()=>e(L).current_stage.replace(/-/g," ")))]),ve("click",g,()=>y()("workflow-detail",e(L).id)),ve("keydown",g,xe=>xe.key==="Enter"&&y()("workflow-detail",e(L).id)),v(D,g)}),v(M,O)};w(le,M=>{e(i),n(()=>e(i).length===0)?M(we):M(se,!1)},!0)}v(oe,de)};w(qe,oe=>{e(_)?oe(Te):oe(Ie,!1)})}var Ne=a(mt,2);{var He=oe=>{var de=en(),le=t(de),we=t(le),se=a(t(we),2),M=t(se),O=a(t(M),2);E(()=>{e(N),Tt(()=>{e(k)})});var D=t(O);D.value=D.__value="";var L=a(D);ht(L,1,()=>e(k),yt,(U,te)=>{var pe=Ko(),fe=t(pe),G={};E(()=>{o(fe,`${e(te),n(()=>e(te).first_name)??""} ${e(te),n(()=>e(te).last_name)??""} - ${e(te),n(()=>e(te).position||"No position")??""}`),G!==(G=(e(te),n(()=>e(te).id)))&&(pe.value=(pe.__value=(e(te),n(()=>e(te).id)))??"")}),v(U,pe)});var g=a(M,2),z=a(t(g),2);E(()=>{e(j),Tt(()=>{})}),ht(z,5,()=>$,yt,(U,te)=>{var pe=Zo(),fe=t(pe),G={};E(()=>{o(fe,(e(te),n(()=>e(te).label))),G!==(G=(e(te),n(()=>e(te).value)))&&(pe.value=(pe.__value=(e(te),n(()=>e(te).value)))??"")}),v(U,pe)});var h=a(g,2),C=t(h),I=t(C);{var R=U=>{var te=cs("Creates a comprehensive 17-step workflow including pre-boarding, day 1 setup, week 1 training, and month 1 review.");v(U,te)},V=U=>{var te=Ct(),pe=lt(te);{var fe=he=>{var ze=cs("Creates a basic 4-step workflow for standard employee onboarding.");v(he,ze)},G=he=>{var ze=cs("Creates a customized workflow for this role.");v(he,ze)};w(pe,he=>{e(j)==="generic"?he(fe):he(G,!1)},!0)}v(U,te)};w(I,U=>{e(j)==="software-engineer"?U(R):U(V,!1)})}var K=a(se,2);{var ie=U=>{var te=Qo(),pe=t(te);E(()=>o(pe,e(f))),v(U,te)};w(K,U=>{e(f)&&U(ie)})}var H=a(K,2),Y=t(H),W=a(Y,2);E(()=>W.disabled=!e(N)),At(O,()=>e(N),U=>s(N,U)),At(z,()=>e(j),U=>s(j,U)),ve("click",Y,()=>{s(B,!1),s(f,"")}),ve("click",W,ce),v(oe,de)};w(Ne,oe=>{e(B)&&oe(He)})}E(()=>{o(nt,(e(u),n(()=>e(u).length))),o(Xe,e(c)),o(Be,e(m)),o(rt,e(d))}),Ze(St,()=>e(T),oe=>s(T,oe)),At(ft,()=>e(x),oe=>s(x,oe)),ve("change",ft,P),ve("click",ee,()=>s(B,!0)),v(l,Ge),Vt()}var sn=p('<div class="flex justify-center items-center h-screen"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div></div>'),ln=p('<div class="max-w-7xl mx-auto px-4 py-8"><div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"> </div></div>'),rn=p('<div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6"> </div>'),on=Xs('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>'),nn=Xs('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>'),vn=p('<div class="bg-white rounded-lg shadow p-6"><p class="text-sm font-medium text-gray-600 mb-2">Steps Status</p> <div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Completed:</span> <span class="font-semibold text-green-600"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">In Progress:</span> <span class="font-semibold text-blue-600"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Pending:</span> <span class="font-semibold text-gray-600"> </span></div></div></div> <div class="bg-white rounded-lg shadow p-6"><p class="text-sm font-medium text-gray-600 mb-2">Timeline</p> <div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Days Elapsed:</span> <span class="font-semibold"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Expected Days:</span> <span class="font-semibold"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Status:</span> <span> </span></div></div></div> <div class="bg-white rounded-lg shadow p-6"><p class="text-sm font-medium text-gray-600 mb-2">Issues</p> <div class="flex items-center gap-2"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><!></svg> <div><p class="text-2xl font-bold"> </p> <p class="text-xs text-gray-600">Open Exceptions</p></div></div></div>',1),dn=Xs('<svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),cn=p('<span class="text-white font-semibold text-sm"> </span>'),un=p('<div class="flex-1 h-1 bg-gray-300 mx-2"></div>'),pn=p('<div class="flex-1 flex items-center"><div class="flex flex-col items-center"><div class="relative"><div><!></div></div> <p class="mt-2 text-xs font-medium text-gray-700 capitalize text-center"> </p></div> <!></div>'),_n=p('<span class="px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 capitalize"> </span>'),fn=p('<p class="text-sm text-gray-600 mb-2"> </p>'),mn=p("<span> </span>"),bn=p("<span> </span>"),hn=p('<button class="px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700">Start</button>'),yn=p('<button class="px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700">Complete</button>'),gn=p('<button class="px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded hover:bg-gray-50">Skip</button>'),xn=p('<div class="border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors"><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center gap-3 mb-2"><h4 class="font-medium text-gray-900"> </h4> <span> </span> <!></div> <!> <div class="flex gap-4 text-xs text-gray-500"><!> <!></div></div> <div class="flex gap-2 ml-4"><!> <!> <!></div></div></div>'),wn=p('<div class="mb-8"><h3 class="text-lg font-semibold text-gray-900 mb-4 capitalize flex items-center gap-2"><div></div> <span class="text-sm font-normal text-gray-500"> </span></h3> <div class="space-y-4"></div></div>'),kn=p('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No exceptions</h3> <p class="mt-1 text-sm text-gray-500">All steps are running smoothly.</p></div>'),$n=p('<p class="text-sm text-gray-600 mb-2"> </p>'),En=p('<div class="border border-gray-200 rounded-lg p-4"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center gap-2 mb-2"><h4 class="font-medium text-gray-900"> </h4> <span> </span></div> <!> <p class="text-xs text-gray-500"> </p></div> <span> </span></div></div>'),Sn=p('<div class="space-y-4"></div>'),zn=p('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No documents</h3> <p class="mt-1 text-sm text-gray-500">Documents will appear here as workflow progresses.</p></div>'),jn=p('<div class="border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors"><div class="flex items-start gap-3"><div class="flex-shrink-0"><svg class="h-10 w-10 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg></div> <div class="flex-1"><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-600 capitalize"> </p> <p class="text-xs text-gray-500 mt-1"> </p></div> <span> </span></div></div>'),qn=p('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>'),Cn=p('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="mb-8"><div class="flex items-center gap-4 mb-4"><button class="text-blue-600 hover:text-blue-800" aria-label="Go back to workflows list"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <h1 class="text-3xl font-bold text-gray-900"> </h1></div> <p class="text-sm text-gray-600"> </p></div> <!> <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"><div class="bg-white rounded-lg shadow p-6"><p class="text-sm font-medium text-gray-600 mb-2">Overall Progress</p> <p class="text-3xl font-bold text-gray-900"> </p> <div class="mt-4 w-full bg-gray-200 rounded-full h-2"><div class="bg-blue-600 h-2 rounded-full transition-all duration-300"></div></div></div> <!></div> <div class="bg-white rounded-lg shadow p-6 mb-8"><h2 class="text-lg font-semibold text-gray-900 mb-6">Workflow Stages</h2> <div class="flex items-center justify-between"></div></div> <div class="bg-white rounded-lg shadow mb-6"><div class="border-b border-gray-200"><nav class="flex space-x-8 px-6" aria-label="Tabs"><button> </button> <button> </button> <button> </button></nav></div> <div class="p-6"><!></div></div></div>'),An=p('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl max-w-md w-full"><div class="p-6"><h2 class="text-xl font-bold text-gray-900 mb-4">Skip Step</h2> <div class="mb-4"><label for="skip-reason" class="block text-sm font-medium text-gray-700 mb-2">Reason for skipping</label> <textarea id="skip-reason" rows="3" placeholder="Provide a reason..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea></div> <div class="flex gap-3"><button class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">Cancel</button> <button class="flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700">Skip Step</button></div></div></div></div>'),Dn=p("<!> <!>",1);function Pn(l,r){Jt(r,!1);let i=ol(r,"id",8),c=ol(r,"navigate",8),m=Z(null),d=Z(null),y=Z(!0),u=Z(""),_=Z("steps"),f=Z(!1),x=Z(""),T=Z("");ea(()=>{B(),k()});async function B(){s(y,!0),s(u,"");try{const Ue=localStorage.getItem("token"),_e=await fetch(`/api/workflows/${i()}`,{headers:{Authorization:`Bearer ${Ue}`}});if(!_e.ok)throw new Error("Failed to load workflow");s(m,await _e.json())}catch(Ue){s(u,Ue.message||"Failed to load workflow")}finally{s(y,!1)}}async function k(){try{const Ue=localStorage.getItem("token"),_e=await fetch(`/api/workflows/${i()}/progress`,{headers:{Authorization:`Bearer ${Ue}`}});_e.ok&&s(d,await _e.json())}catch(Ue){console.error("Failed to load progress:",Ue)}}async function N(Ue){try{const _e=localStorage.getItem("token");if(!(await fetch(`/api/workflows/${i()}/steps/${Ue}/complete`,{method:"PUT",headers:{Authorization:`Bearer ${_e}`}})).ok)throw new Error("Failed to complete step");await B(),await k()}catch(_e){s(u,_e.message)}}async function j(Ue){try{const _e=localStorage.getItem("token");if(!(await fetch(`/api/workflows/${i()}/steps/${Ue}/start`,{method:"PUT",headers:{Authorization:`Bearer ${_e}`}})).ok)throw new Error("Failed to start step");await B()}catch(_e){s(u,_e.message)}}async function $(){if(!e(T).trim()){s(u,"Please provide a reason for skipping");return}try{const Ue=localStorage.getItem("token");if(!(await fetch(`/api/workflows/${i()}/steps/${e(x)}/skip`,{method:"PUT",headers:{Authorization:`Bearer ${Ue}`,"Content-Type":"application/json"},body:JSON.stringify({reason:e(T)})})).ok)throw new Error("Failed to skip step");s(f,!1),s(T,""),s(x,""),await B(),await k()}catch(Ue){s(u,Ue.message)}}function P(Ue){return{pending:"bg-gray-100 text-gray-800","in-progress":"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",skipped:"bg-yellow-100 text-yellow-800",blocked:"bg-orange-100 text-orange-800"}[Ue]||"bg-gray-100 text-gray-800"}function A(Ue){return{"pre-boarding":"bg-purple-500","day-1":"bg-blue-500","week-1":"bg-green-500","month-1":"bg-orange-500"}[Ue]||"bg-gray-500"}function ce(Ue){return Ue?new Date(Ue).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function J(Ue){return{low:"bg-blue-100 text-blue-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"}[Ue]||"bg-gray-100 text-gray-800"}let re=Z();Ht(()=>e(m),()=>{s(re,e(m)?{"pre-boarding":e(m).steps.filter(Ue=>Ue.stage==="pre-boarding"),"day-1":e(m).steps.filter(Ue=>Ue.stage==="day-1"),"week-1":e(m).steps.filter(Ue=>Ue.stage==="week-1"),"month-1":e(m).steps.filter(Ue=>Ue.stage==="month-1")}:{"pre-boarding":[],"day-1":[],"week-1":[],"month-1":[]})}),ss(),za();var et=Dn(),Ge=lt(et);{var mt=Ue=>{var _e=sn();v(Ue,_e)},wt=Ue=>{var _e=Ct(),nt=lt(_e);{var dt=Ve=>{var Pe=ln(),Xe=t(Pe),it=t(Xe);E(()=>o(it,e(u)||"Workflow not found")),v(Ve,Pe)},zt=Ve=>{var Pe=Cn(),Xe=t(Pe),it=t(Xe),xt=t(it),qt=a(xt,2),at=t(qt),Be=a(it,2),ut=t(Be),Q=a(Xe,2);{var Oe=de=>{var le=rn(),we=t(le);E(()=>o(we,e(u))),v(de,le)};w(Q,de=>{e(u)&&de(Oe)})}var Ke=a(Q,2),rt=t(Ke),ot=a(t(rt),2),kt=t(ot),Fe=a(ot,2),Ye=t(Fe),_t=a(rt,2);{var St=de=>{var le=vn(),we=lt(le),se=a(t(we),2),M=t(se),O=a(t(M),2),D=t(O),L=a(M,2),g=a(t(L),2),z=t(g),h=a(L,2),C=a(t(h),2),I=t(C),R=a(we,2),V=a(t(R),2),K=t(V),ie=a(t(K),2),H=t(ie),Y=a(K,2),W=a(t(Y),2),U=t(W),te=a(Y,2),pe=a(t(te),2),fe=t(pe),G=a(R,2),he=a(t(G),2),ze=t(he),Ee=t(ze);{var De=X=>{var ne=on();v(X,ne)},xe=X=>{var ne=nn();v(X,ne)};w(Ee,X=>{e(d),n(()=>e(d).open_exceptions>0)?X(De):X(xe,!1)})}var q=a(ze,2),F=t(q),ae=t(F);E(()=>{o(D,(e(d),n(()=>e(d).completed_steps))),o(z,(e(d),n(()=>e(d).in_progress_steps))),o(I,(e(d),n(()=>e(d).pending_steps))),o(H,(e(d),n(()=>e(d).days_elapsed))),o(U,(e(d),n(()=>e(d).expected_days))),tt(pe,1,`font-semibold ${e(d),n(()=>e(d).is_on_track?"text-green-600":"text-red-600")??""}`),o(fe,(e(d),n(()=>e(d).is_on_track?"On Track":"Behind"))),tt(ze,0,`h-8 w-8 ${e(d),n(()=>e(d).open_exceptions>0?"text-red-600":"text-green-600")??""}`),o(ae,(e(d),n(()=>e(d).open_exceptions)))}),v(de,le)};w(_t,de=>{e(d)&&de(St)})}var ft=a(Ke,2),pt=a(t(ft),2);ht(pt,4,()=>["pre-boarding","day-1","week-1","month-1"],yt,(de,le,we)=>{var se=pn(),M=t(se),O=t(M),D=t(O),L=t(D);{var g=V=>{var K=dn();v(V,K)},z=V=>{var K=cn(),ie=t(K);E(H=>o(ie,`${H??""}/${e(re),n(()=>e(re)[le]?.length||0)??""}`),[()=>(e(re),n(()=>e(re)[le]?.filter(H=>H.status==="completed").length||0))]),v(V,K)};w(L,V=>{e(re),n(()=>e(re)[le]?.every(K=>K.status==="completed"||K.status==="skipped"))?V(g):V(z,!1)})}var h=a(O,2),C=t(h),I=a(M,2);{var R=V=>{var K=un();v(V,K)};w(I,V=>{we<3&&V(R)})}E((V,K)=>{tt(D,1,`h-12 w-12 rounded-full ${V??""} flex items-center justify-center ${e(m),n(()=>le===e(m).workflow.current_stage?"ring-4 ring-offset-2 ring-blue-300":"")??""} transition-all`),o(C,K)},[()=>n(()=>A(le)),()=>n(()=>le.replace(/-/g," "))]),v(de,se)});var bt=a(ft,2),ye=t(bt),b=t(ye),S=t(b),ee=t(S),me=a(S,2),je=t(me),qe=a(me,2),Te=t(qe),Ie=a(ye,2),Ne=t(Ie);{var He=de=>{var le=Ct(),we=lt(le);ht(we,1,()=>(e(re),n(()=>Object.entries(e(re)))),yt,(se,M)=>{var O=Sa(()=>ei(e(M),2));let D=()=>e(O)[0],L=()=>e(O)[1];var g=Ct(),z=lt(g);{var h=C=>{var I=wn(),R=t(I),V=t(R),K=a(V),ie=a(K),H=t(ie),Y=a(R,2);ht(Y,5,L,yt,(W,U)=>{var te=xn(),pe=t(te),fe=t(pe),G=t(fe),he=t(G),ze=t(he),Ee=a(he,2),De=t(Ee),xe=a(Ee,2);{var q=Ae=>{var be=_n(),gt=t(be);E(()=>o(gt,(e(U),n(()=>e(U).integration_type)))),v(Ae,be)};w(xe,Ae=>{e(U),n(()=>e(U).integration_type)&&Ae(q)})}var F=a(G,2);{var ae=Ae=>{var be=fn(),gt=t(be);E(()=>o(gt,(e(U),n(()=>e(U).description)))),v(Ae,be)};w(F,Ae=>{e(U),n(()=>e(U).description)&&Ae(ae)})}var X=a(F,2),ne=t(X);{var Re=Ae=>{var be=mn(),gt=t(be);E($t=>o(gt,`Due: ${$t??""}`),[()=>(e(U),n(()=>ce(e(U).due_date)))]),v(Ae,be)};w(ne,Ae=>{e(U),n(()=>e(U).due_date)&&Ae(Re)})}var $e=a(ne,2);{var ue=Ae=>{var be=bn(),gt=t(be);E($t=>o(gt,`Completed: ${$t??""}`),[()=>(e(U),n(()=>ce(e(U).completed_at)))]),v(Ae,be)};w($e,Ae=>{e(U),n(()=>e(U).completed_at)&&Ae(ue)})}var ge=a(fe,2),We=t(ge);{var Se=Ae=>{var be=hn();ve("click",be,()=>j(e(U).id)),v(Ae,be)};w(We,Ae=>{e(U),n(()=>e(U).status==="pending")&&Ae(Se)})}var Ce=a(We,2);{var ct=Ae=>{var be=yn();ve("click",be,()=>N(e(U).id)),v(Ae,be)};w(Ce,Ae=>{e(U),n(()=>e(U).status==="in-progress")&&Ae(ct)})}var ke=a(Ce,2);{var Me=Ae=>{var be=gn();ve("click",be,()=>{s(x,e(U).id),s(f,!0)}),v(Ae,be)};w(ke,Ae=>{e(U),n(()=>e(U).status!=="completed"&&e(U).status!=="skipped")&&Ae(Me)})}E((Ae,be)=>{o(ze,(e(U),n(()=>e(U).step_name))),tt(Ee,1,`px-2 py-1 rounded-full text-xs font-medium ${Ae??""} capitalize`),o(De,be)},[()=>(e(U),n(()=>P(e(U).status))),()=>(e(U),n(()=>e(U).status.replace(/-/g," ")))]),v(W,te)}),E((W,U,te)=>{tt(V,1,`h-3 w-3 rounded-full ${W??""}`),o(K,` ${U??""} `),o(H,`(${te??""}/${L(),n(()=>L().length)??""} completed)`)},[()=>(D(),n(()=>A(D()))),()=>(D(),n(()=>D().replace(/-/g," "))),()=>(L(),n(()=>L().filter(W=>W.status==="completed").length))]),v(C,I)};w(z,C=>{L(),n(()=>L().length>0)&&C(h)})}v(se,g)}),v(de,le)},oe=de=>{var le=Ct(),we=lt(le);{var se=O=>{var D=Ct(),L=lt(D);{var g=h=>{var C=kn();v(h,C)},z=h=>{var C=Sn();ht(C,5,()=>(e(m),n(()=>e(m).exceptions)),yt,(I,R)=>{var V=En(),K=t(V),ie=t(K),H=t(ie),Y=t(H),W=t(Y),U=a(Y,2),te=t(U),pe=a(H,2);{var fe=De=>{var xe=$n(),q=t(xe);E(()=>o(q,(e(R),n(()=>e(R).description)))),v(De,xe)};w(pe,De=>{e(R),n(()=>e(R).description)&&De(fe)})}var G=a(pe,2),he=t(G),ze=a(ie,2),Ee=t(ze);E((De,xe)=>{o(W,(e(R),n(()=>e(R).title))),tt(U,1,`px-2 py-1 rounded-full text-xs font-medium ${De??""} uppercase`),o(te,(e(R),n(()=>e(R).severity))),o(he,`Created: ${xe??""}`),tt(ze,1,`px-2 py-1 rounded-full text-xs font-medium ${e(R),n(()=>e(R).resolution_status==="resolved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")??""} capitalize`),o(Ee,(e(R),n(()=>e(R).resolution_status)))},[()=>(e(R),n(()=>J(e(R).severity))),()=>(e(R),n(()=>ce(e(R).created_at)))]),v(I,V)}),v(h,C)};w(L,h=>{e(m),n(()=>e(m).exceptions.length===0)?h(g):h(z,!1)})}v(O,D)},M=O=>{var D=Ct(),L=lt(D);{var g=z=>{var h=Ct(),C=lt(h);{var I=V=>{var K=zn();v(V,K)},R=V=>{var K=qn();ht(K,5,()=>(e(m),n(()=>e(m).documents)),yt,(ie,H)=>{var Y=jn(),W=t(Y),U=a(t(W),2),te=t(U),pe=t(te),fe=a(te,2),G=t(fe),he=a(fe,2),ze=t(he),Ee=a(U,2),De=t(Ee);E((xe,q,F)=>{o(pe,(e(H),n(()=>e(H).document_name))),o(G,xe),o(ze,`${q??""} ‚Ä¢ ${F??""} KB`),tt(Ee,1,`px-2 py-1 rounded-full text-xs font-medium ${e(H),n(()=>e(H).status==="signed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800")??""} capitalize`),o(De,(e(H),n(()=>e(H).status)))},[()=>(e(H),n(()=>e(H).document_type.replace(/-/g," "))),()=>(e(H),n(()=>e(H).file_type.toUpperCase())),()=>(e(H),n(()=>(e(H).file_size/1024).toFixed(0)))]),v(ie,Y)}),v(V,K)};w(C,V=>{e(m),n(()=>e(m).documents.length===0)?V(I):V(R,!1)})}v(z,h)};w(L,z=>{e(_)==="documents"&&z(g)},!0)}v(O,D)};w(we,O=>{e(_)==="exceptions"?O(se):O(M,!1)},!0)}v(de,le)};w(Ne,de=>{e(_)==="steps"?de(He):de(oe,!1)})}E(()=>{o(at,`${e(m),n(()=>e(m).employee.first_name)??""} ${e(m),n(()=>e(m).employee.last_name)??""}'s Onboarding`),o(ut,`${e(m),n(()=>e(m).employee.position)??""} ‚Ä¢ ${e(m),n(()=>e(m).employee.department)??""}`),o(kt,`${e(m),n(()=>e(m).workflow.progress_percentage)??""}%`),il(Ye,`width: ${e(m),n(()=>e(m).workflow.progress_percentage)??""}%`),tt(S,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(_)==="steps"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),o(ee,`Steps (${e(m),n(()=>e(m).steps.length)??""})`),tt(me,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(_)==="exceptions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),o(je,`Exceptions (${e(m),n(()=>e(m).exceptions.length)??""})`),tt(qe,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(_)==="documents"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),o(Te,`Documents (${e(m),n(()=>e(m).documents.length)??""})`)}),ve("click",xt,()=>c()("workflows")),ve("click",S,()=>s(_,"steps")),ve("click",me,()=>s(_,"exceptions")),ve("click",qe,()=>s(_,"documents")),v(Ve,Pe)};w(nt,Ve=>{e(m)?Ve(zt,!1):Ve(dt)},!0)}v(Ue,_e)};w(Ge,Ue=>{e(y)?Ue(mt):Ue(wt,!1)})}var Le=a(Ge,2);{var vt=Ue=>{var _e=An(),nt=t(_e),dt=t(nt),zt=a(t(dt),2),Ve=a(t(zt),2),Pe=a(zt,2),Xe=t(Pe),it=a(Xe,2);Ze(Ve,()=>e(T),xt=>s(T,xt)),ve("click",Xe,()=>{s(f,!1),s(T,""),s(x,"")}),ve("click",it,$),v(Ue,_e)};w(Le,Ue=>{e(f)&&Ue(vt)})}v(l,et),Vt()}var Tn=p('<div class="period-info svelte-1csefqm"><div class="period-dates svelte-1csefqm"> </div> <span> </span></div>'),Mn=p('<div class="alert alert-error svelte-1csefqm"> </div>'),Bn=p('<div class="alert alert-success svelte-1csefqm"> </div>'),On=p('<div class="elapsed-time svelte-1csefqm"> </div>'),Fn=p('<button class="btn btn-success btn-lg svelte-1csefqm">Clock In</button>'),In=p('<button class="btn btn-danger btn-lg svelte-1csefqm">Clock Out</button>'),Nn=p('<button class="btn btn-success svelte-1csefqm"> </button>'),Rn=p('<div class="period-status-bar"><span class="period-label svelte-1csefqm">Period:</span> <span class="period-dates svelte-1csefqm"> </span> <span> </span></div>'),Ln=p('<tr class="svelte-1csefqm"><td colspan="9" class="svelte-1csefqm"><div class="empty-state svelte-1csefqm"> <div style="margin-top: 20px; padding: 10px; background: #f0f0f0;"><strong>Debug Info:</strong><br/> <br/> <br/> </div></div></td></tr>'),Un=p('<div class="project-item svelte-1csefqm"> </div>'),Hn=p('<div class="project-list svelte-1csefqm"></div>'),Wn=p('<button class="btn-icon svelte-1csefqm" title="Edit entry" aria-label="Edit entry">‚úèÔ∏è</button> <button class="btn-icon svelte-1csefqm" title="Delete entry" aria-label="Delete entry">üóëÔ∏è</button>',1),Jn=p('<tr class="svelte-1csefqm"><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"><span> </span></td><td class="svelte-1csefqm"><!></td><td class="svelte-1csefqm"><span> </span></td><td class="svelte-1csefqm"><!></td></tr>'),Vn=p("<option> </option>"),Yn=p('<div class="project-allocation svelte-1csefqm"><select aria-label="Select project"><option>Select Project</option><!></select> <input type="number" placeholder="Hours" min="0" step="0.5" aria-label="Project hours"/> <button class="btn-icon svelte-1csefqm" title="Remove project allocation" aria-label="Remove project allocation">‚ùå</button></div>'),Gn=p('<div class="modal-overlay svelte-1csefqm"><div class="modal svelte-1csefqm"><div class="modal-header svelte-1csefqm"><h2 class="svelte-1csefqm"> </h2> <button class="close-btn svelte-1csefqm">√ó</button></div> <div class="modal-body svelte-1csefqm"><div class="form-group svelte-1csefqm"><label for="entry-date" class="svelte-1csefqm">Date</label> <input id="entry-date" type="date" class="svelte-1csefqm"/></div> <div class="form-row svelte-1csefqm"><div class="form-group svelte-1csefqm"><label for="clock-in" class="svelte-1csefqm">Clock In</label> <input id="clock-in" type="time" class="svelte-1csefqm"/></div> <div class="form-group svelte-1csefqm"><label for="clock-out" class="svelte-1csefqm">Clock Out</label> <input id="clock-out" type="time" class="svelte-1csefqm"/></div></div> <div class="form-row svelte-1csefqm"><div class="form-group svelte-1csefqm"><label for="break-duration" class="svelte-1csefqm">Break Duration (minutes)</label> <input id="break-duration" type="number" min="0" class="svelte-1csefqm"/></div> <div class="form-group svelte-1csefqm"><label for="entry-type" class="svelte-1csefqm">Entry Type</label> <select id="entry-type" class="svelte-1csefqm"><option>Regular</option><option>Overtime</option><option>PTO</option><option>Sick Leave</option><option>Holiday</option></select></div></div> <div class="form-group svelte-1csefqm"><label for="entry-notes" class="svelte-1csefqm">Notes</label> <textarea id="entry-notes" rows="2" class="svelte-1csefqm"></textarea></div> <div class="form-section svelte-1csefqm"><div class="section-header svelte-1csefqm"><h3 class="svelte-1csefqm">Project Allocations</h3> <button class="btn btn-sm btn-secondary svelte-1csefqm">+ Add Project</button></div> <!></div></div> <div class="modal-footer svelte-1csefqm"><button class="btn btn-secondary svelte-1csefqm">Cancel</button> <button class="btn btn-primary svelte-1csefqm"> </button></div></div></div>'),Xn=p('<div class="timesheet-container svelte-1csefqm"><div class="timesheet-header svelte-1csefqm"><h1>Timesheet</h1> <!></div> <!> <!> <div class="clock-section svelte-1csefqm"><div class="clock-display svelte-1csefqm"><div class="clock-status svelte-1csefqm"><div class="status-icon svelte-1csefqm"> </div> <div class="status-info svelte-1csefqm"><h3 class="svelte-1csefqm"> </h3> <p class="svelte-1csefqm"><!></p> <!></div></div></div> <div class="clock-actions svelte-1csefqm"><!></div></div> <div class="summary-cards svelte-1csefqm"><div class="card svelte-1csefqm"><h4>Regular Hours</h4> <div class="card-value svelte-1csefqm"> </div></div> <div class="card svelte-1csefqm"><h4>Overtime Hours</h4> <div class="card-value svelte-1csefqm"> </div></div> <div class="card svelte-1csefqm"><h4>PTO Hours</h4> <div class="card-value svelte-1csefqm"> </div></div> <div class="card svelte-1csefqm"><h4>Total Hours</h4> <div class="card-value svelte-1csefqm"> </div></div></div> <div class="actions-bar svelte-1csefqm"><div class="actions-left svelte-1csefqm"><button class="btn btn-primary svelte-1csefqm">+ Add Entry</button> <!></div> <!></div> <div class="entries-table svelte-1csefqm"><table class="svelte-1csefqm"><thead><tr><th class="svelte-1csefqm">Date</th><th class="svelte-1csefqm">Clock In</th><th class="svelte-1csefqm">Clock Out</th><th class="svelte-1csefqm">Break</th><th class="svelte-1csefqm">Total Hours</th><th class="svelte-1csefqm">Type</th><th class="svelte-1csefqm">Projects</th><th class="svelte-1csefqm">Status</th><th class="svelte-1csefqm">Actions</th></tr></thead><tbody class="svelte-1csefqm"><!></tbody></table></div> <!></div>');function Kn(l,r){Jt(r,!1);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=Z(),y=Z(),u=ja();let _=null,f=Z(null),x=Z([]),T=Z([]),B=Z(!1),k=Z(""),N=Z(""),j=new Date().toISOString().split("T")[0],$=Z(!1),P=Z(null),A=Z({date:new Date().toISOString().split("T")[0],clock_in:"",clock_out:"",break_minutes:0,notes:"",type:"regular",projects:[]}),ce=Z(!1),J=Z(""),re=Z("00:00:00"),et;ea(()=>{Ge(),vt()});async function Ge(){s(B,!0),s(k,"");try{await mt(),await Promise.all([wt(),Le()])}catch(q){s(k,q.message||"Failed to load data")}finally{s(B,!1)}}async function mt(){const q=await fetch("/api/timesheet/periods/current",{headers:{Authorization:`Bearer ${i().token}`}});if(!q.ok)throw new Error("Failed to load current period");s(f,await q.json())}async function wt(){const q=e(f)?.start_date||at(),F=e(f)?.end_date||Be(),ae=await fetch(`/api/timesheet/entries?start_date=${q}&end_date=${F}`,{headers:{Authorization:`Bearer ${i().token}`}});if(!ae.ok)throw new Error("Failed to load time entries");const X=await ae.json();console.log("=== TIMESHEET DEBUG START ==="),console.log("Response status:",ae.status),console.log("Response OK:",ae.ok),console.log("RAW data:",X),console.log("Data type:",typeof X),console.log("Is Array:",Array.isArray(X)),Array.isArray(X)&&(console.log("Array length:",X.length),X.length>0&&(console.log("First entry:",X[0]),console.log("First entry keys:",Object.keys(X[0])))),console.log("=== TIMESHEET DEBUG END ==="),console.log("RAW response data:",X),console.log("Is array?",Array.isArray(X)),console.log("Data type:",typeof X),X&&typeof X=="object"&&console.log("Data keys:",Object.keys(X)),console.log("About to set timeEntries, data is:",X),s(x,Array.isArray(X)?[...X]:[]),console.log("timeEntries set to:",e(x)),console.log("timeEntries length:",e(x).length)}async function Le(){const q=await fetch("/api/timesheet/projects?status=active",{headers:{Authorization:`Bearer ${i().token}`}});if(!q.ok)throw new Error("Failed to load projects");s(T,await q.json())}async function vt(){try{const q=await fetch("/api/timesheet/active",{headers:{Authorization:`Bearer ${i().token}`}});q.ok&&(_=await q.json(),_&&_.clock_in&&(s(ce,!0),s(J,_.clock_in),nt()))}catch(q){console.error("Failed to check active clock-in:",q)}}async function Ue(){s(B,!0),s(k,"");try{const q=await fetch("/api/timesheet/clock-in",{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify({notes:""})});if(!q.ok){const F=await q.json();throw new Error(F.error||"Failed to clock in")}_=await q.json(),s(ce,!0),s(J,_.clock_in),nt(),s(N,"Clocked in successfully!"),setTimeout(()=>s(N,""),3e3),await mt(),await wt()}catch(q){s(k,q.message)}finally{s(B,!1)}}async function _e(){s(B,!0),s(k,"");const q=parseInt(prompt("Break duration in minutes:","0")||"0");try{const F=await fetch("/api/timesheet/clock-out",{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify({break_duration:q,notes:""})});if(!F.ok){const ae=await F.json();throw new Error(ae.error||"Failed to clock out")}_=await F.json(),s(ce,!1),dt(),s(N,`Clocked out! Total: ${_.total_hours?.toFixed(2)} hours`),setTimeout(()=>s(N,""),3e3),await mt(),await wt()}catch(F){s(k,F.message)}finally{s(B,!1)}}function nt(){et&&clearInterval(et),et=window.setInterval(()=>{if(!e(J))return;const q=new Date(e(J)),ae=new Date().getTime()-q.getTime(),X=Math.floor(ae/36e5),ne=Math.floor(ae%36e5/6e4),Re=Math.floor(ae%6e4/1e3);s(re,`${String(X).padStart(2,"0")}:${String(ne).padStart(2,"0")}:${String(Re).padStart(2,"0")}`)},1e3)}function dt(){et&&(clearInterval(et),et=0),s(re,"00:00:00")}async function zt(){if(s(B,!0),s(k,""),e(A).clock_in&&e(A).clock_out){const q=new Date(`${e(A).date}T${e(A).clock_in}:00`);if(new Date(`${e(A).date}T${e(A).clock_out}:00`)<=q){s(k,"Clock out time must be after clock in time"),s(B,!1);return}}try{const q=e(P)?`${u}/timesheet/entries/${e(P).id}`:`${u}/timesheet/entries`,F=e(P)?"PUT":"POST",ae={...e(A),clock_in:e(A).clock_in?`${e(A).date}T${e(A).clock_in}:00Z`:null,clock_out:e(A).clock_out?`${e(A).date}T${e(A).clock_out}:00Z`:null,date:`${e(A).date}T00:00:00Z`},X=await fetch(q,{method:F,headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(ae)});if(!X.ok){const ne=await X.json();throw new Error(ne.error||"Failed to save entry")}s(N,e(P)?"Entry updated!":"Entry created!"),setTimeout(()=>s(N,""),3e3),Xe(),await mt(),await wt()}catch(q){s(k,q.message)}finally{s(B,!1)}}async function Ve(q){if(confirm("Delete this time entry?")){s(B,!0),s(k,"");try{if(!(await fetch(`/api/timesheet/entries/${q}`,{method:"DELETE",headers:{Authorization:`Bearer ${i().token}`}})).ok)throw new Error("Failed to delete entry");s(N,"Entry deleted!"),setTimeout(()=>s(N,""),3e3),await mt(),await wt()}catch(F){s(k,F.message)}finally{s(B,!1)}}}function Pe(q){s(P,q),s(A,{entry_date:q.entry_date.split("T")[0],clock_in:q.clock_in?.substring(11,16)||"",clock_out:q.clock_out?.substring(11,16)||"",break_duration:q.break_duration,notes:q.notes,entry_type:q.type,projects:q.projects?.map(F=>({project_id:F.project_id,hours:F.hours,notes:F.notes}))||[]}),s($,!0)}function Xe(){s($,!1),s(P,null),s(A,{entry_date:new Date().toISOString().split("T")[0],clock_in:"",clock_out:"",break_duration:0,notes:"",entry_type:"regular",projects:[]})}function it(){e(A).projects.push({project_id:"",hours:0,notes:""}),s(A,e(A))}function xt(q){e(A).projects.splice(q,1),s(A,e(A))}async function qt(){if(e(f)&&confirm(`Submit timesheet period with ${e(x).length} entries for manager approval?`)){s(B,!0),s(k,"");try{if(!(await fetch(`/api/timesheet/periods/${e(f).id}/submit`,{method:"POST",headers:{Authorization:`Bearer ${i().token}`}})).ok)throw new Error("Failed to submit timesheet");s(N,"Timesheet submitted for approval!"),setTimeout(()=>s(N,""),3e3),await mt()}catch(q){s(k,q.message)}finally{s(B,!1)}}}function at(){const q=new Date(j),F=q.getDay(),ae=q.getDate()-F;return new Date(q.setDate(ae)).toISOString().split("T")[0]}function Be(){const q=new Date(j),F=q.getDay(),ae=q.getDate()+(6-F);return new Date(q.setDate(ae)).toISOString().split("T")[0]}function ut(q){const F=q.split("T")[0],[ae,X,ne]=F.split("-").map(Number);return new Date(ae,X-1,ne).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function Q(q){if(!q)return"-";try{let F=q;F.includes("T")?F=F.split("T")[1].split("Z")[0]:F.includes(" ")&&(F=F.split(" ")[1]);const[ae,X]=F.split(":").map(Number);if(isNaN(ae)||isNaN(X))return"-";const ne=ae>=12?"PM":"AM";return`${(ae%12||12).toString().padStart(2,"0")}:${X.toString().padStart(2,"0")} ${ne}`}catch(F){return console.error("Error formatting time:",q,F),"-"}}Ht(()=>e(f),()=>{s(d,e(f))}),Ht(()=>e(x),()=>{s(y,e(x).filter(q=>{if(!q.date)return!1;const F=new Date(q.date);return!isNaN(F.getTime())&&F.getFullYear()>=2e3}))}),Ht(()=>e(x),()=>{s(y,e(x).filter(q=>{if(!q.date)return!1;const F=new Date(q.date);return!isNaN(F.getTime())&&F.getFullYear()>=2e3}))}),Ht(()=>e(y),()=>{console.log("Valid entries:",e(y).length,e(y))}),Ht(()=>e(f),()=>{s(d,e(f)?e(f).total_regular_hours+e(f).total_overtime_hours+e(f).total_pto_hours:0)}),Ht(()=>e(y),()=>{console.log("Valid entries:",e(y).length,e(y))}),ss(),za();var Oe=Xn(),Ke=t(Oe),rt=a(t(Ke),2);{var ot=q=>{var F=Tn(),ae=t(F),X=t(ae),ne=a(ae,2),Re=t(ne);E(($e,ue)=>{o(X,`${$e??""} - ${ue??""}`),tt(ne,1,`status-badge status-${e(f),n(()=>e(f).status)??""}`,"svelte-1csefqm"),o(Re,(e(f),n(()=>e(f).status)))},[()=>(e(f),n(()=>ut(e(f).start_date))),()=>(e(f),n(()=>ut(e(f).end_date)))]),v(q,F)};w(rt,q=>{e(f)&&q(ot)})}var kt=a(Ke,2);{var Fe=q=>{var F=Mn(),ae=t(F);E(()=>o(ae,e(k))),v(q,F)};w(kt,q=>{e(k)&&q(Fe)})}var Ye=a(kt,2);{var _t=q=>{var F=Bn(),ae=t(F);E(()=>o(ae,e(N))),v(q,F)};w(Ye,q=>{e(N)&&q(_t)})}var St=a(Ye,2),ft=t(St),pt=t(ft),bt=t(pt),ye=t(bt),b=a(bt,2),S=t(b),ee=t(S),me=a(S,2),je=t(me);{var qe=q=>{var F=cs();E(ae=>o(F,`Since ${ae??""}`),[()=>(e(J),n(()=>Q(e(J))))]),v(q,F)},Te=q=>{var F=cs("Ready to clock in");v(q,F)};w(je,q=>{e(ce)&&e(J)?q(qe):q(Te,!1)})}var Ie=a(me,2);{var Ne=q=>{var F=On(),ae=t(F);E(()=>o(ae,e(re))),v(q,F)};w(Ie,q=>{e(ce)&&q(Ne)})}var He=a(ft,2),oe=t(He);{var de=q=>{var F=Fn();F.__click=Ue,E(()=>F.disabled=e(B)),v(q,F)},le=q=>{var F=In();F.__click=_e,E(()=>F.disabled=e(B)),v(q,F)};w(oe,q=>{e(ce)?q(le,!1):q(de)})}var we=a(St,2),se=t(we),M=a(t(se),2),O=t(M),D=a(se,2),L=a(t(D),2),g=t(L),z=a(D,2),h=a(t(z),2),C=t(h),I=a(z,2),R=a(t(I),2),V=t(R),K=a(we,2),ie=t(K),H=t(ie);H.__click=()=>s($,!0);var Y=a(H,2);{var W=q=>{var F=Nn();F.__click=qt;var ae=t(F);E(()=>o(ae,`üìã Submit Period for Approval (${e(x),n(()=>e(x).length)??""} entries)`)),v(q,F)};w(Y,q=>{e(f),n(()=>e(f)?.status==="draft"||e(f)?.status==="open")&&q(W)})}var U=a(ie,2);{var te=q=>{var F=Rn(),ae=a(t(F),2),X=t(ae),ne=a(ae,2),Re=t(ne);E(($e,ue)=>{o(X,`${$e??""} - ${ue??""}`),tt(ne,1,`status-badge status-${e(f),n(()=>e(f).status)??""}`,"svelte-1csefqm"),o(Re,(e(f),n(()=>e(f).status)))},[()=>(e(f),n(()=>ut(e(f).start_date))),()=>(e(f),n(()=>ut(e(f).end_date)))]),v(q,F)};w(U,q=>{e(f)&&q(te)})}var pe=a(K,2),fe=t(pe),G=a(t(fe)),he=t(G);{var ze=q=>{var F=Ln(),ae=t(F),X=t(ae),ne=t(X),Re=a(ne),$e=a(t(Re),2),ue=a($e,2),ge=a(ue,2);E((We,Se,Ce)=>{o(ne,`No time entries found. Total loaded: ${e(x),n(()=>e(x).length)??""}, Valid: ${e(y),n(()=>e(y).length)??""}. Add your first entry above! `),o($e,` timeEntries: ${We??""}`),o(ue,` validEntries: ${Se??""}`),o(ge,` currentPeriod: ${Ce??""}`)},[()=>(e(x),n(()=>JSON.stringify(e(x)))),()=>(e(y),n(()=>JSON.stringify(e(y)))),()=>(e(f),n(()=>JSON.stringify(e(f))))]),v(q,F)},Ee=q=>{var F=Ct(),ae=lt(F);ht(ae,1,()=>e(y),yt,(X,ne)=>{var Re=Jn(),$e=t(Re),ue=t($e),ge=a($e),We=t(ge),Se=a(ge),Ce=t(Se),ct=a(Se),ke=t(ct),Me=a(ct),Ae=t(Me),be=a(Me),gt=t(be),$t=t(gt),Je=a(be),Pt=t(Je);{var jt=Wt=>{var Xt=Hn();ht(Xt,5,()=>(e(ne),n(()=>e(ne).projects)),yt,(sa,Qt)=>{var ua=Un(),Xa=t(ua);E(()=>o(Xa,`${e(Qt),n(()=>e(Qt).project_name)??""} (${e(Qt),n(()=>e(Qt).hours)??""}h)`)),v(sa,ua)}),v(Wt,Xt)},Mt=Wt=>{var Xt=cs("-");v(Wt,Xt)};w(Pt,Wt=>{e(ne),n(()=>e(ne).projects&&e(ne).projects.length>0)?Wt(jt):Wt(Mt,!1)})}var Dt=a(Je),Ot=t(Dt),Bt=t(Ot),Ut=a(Dt),Ft=t(Ut);{var Et=Wt=>{var Xt=Wn(),sa=lt(Xt);sa.__click=()=>Pe(e(ne));var Qt=a(sa,2);Qt.__click=()=>Ve(e(ne).id),v(Wt,Xt)};w(Ft,Wt=>{e(ne),n(()=>e(ne).status==="draft")&&Wt(Et)})}E((Wt,Xt,sa,Qt)=>{o(ue,Wt),o(We,Xt),o(Ce,sa),o(ke,`${e(ne),n(()=>e(ne).break_minutes)??""}m`),o(Ae,Qt),tt(gt,1,`entry-type-badge type-${e(ne),n(()=>e(ne).type)??""}`,"svelte-1csefqm"),o($t,(e(ne),n(()=>e(ne).type))),tt(Ot,1,`status-badge status-${e(ne),n(()=>e(ne).status)??""}`,"svelte-1csefqm"),o(Bt,(e(ne),n(()=>e(ne).status)))},[()=>(e(ne),n(()=>ut(e(ne).date))),()=>(e(ne),n(()=>Q(e(ne).clock_in))),()=>(e(ne),n(()=>Q(e(ne).clock_out))),()=>(e(ne),n(()=>e(ne).total_hours?.toFixed(2)||"-"))]),v(X,Re)}),v(q,F)};w(he,q=>{e(y),n(()=>!e(y)||e(y).length===0)?q(ze):q(Ee,!1)})}var De=a(pe,2);{var xe=q=>{var F=Gn();F.__click=Xe;var ae=t(F);ae.__click=Kt=>Kt.stopPropagation();var X=t(ae),ne=t(X),Re=t(ne),$e=a(ne,2);$e.__click=Xe;var ue=a(X,2),ge=t(ue),We=a(t(ge),2),Se=a(ge,2),Ce=t(Se),ct=a(t(Ce),2),ke=a(Ce,2),Me=a(t(ke),2),Ae=a(Se,2),be=t(Ae),gt=a(t(be),2),$t=a(be,2),Je=a(t($t),2);E(()=>{e(A),Tt(()=>{})});var Pt=t(Je);Pt.value=Pt.__value="regular";var jt=a(Pt);jt.value=jt.__value="overtime";var Mt=a(jt);Mt.value=Mt.__value="pto";var Dt=a(Mt);Dt.value=Dt.__value="sick";var Ot=a(Dt);Ot.value=Ot.__value="holiday";var Bt=a(Ae,2),Ut=a(t(Bt),2),Ft=a(Bt,2),Et=t(Ft),Wt=a(t(Et),2);Wt.__click=it;var Xt=a(Et,2);ht(Xt,1,()=>(e(A),n(()=>e(A).projects)),yt,(Kt,Ca,Os)=>{var ys=Yn(),Ka=t(ys);E(()=>{e(Ca),Tt(()=>{e(T)})});var Fa=t(Ka);Fa.value=Fa.__value="";var Ia=a(Fa);ht(Ia,1,()=>e(T),yt,(ga,ta)=>{var Aa=Vn(),ls=t(Aa),xs={};E(()=>{o(ls,`${e(ta),n(()=>e(ta).name)??""} (${e(ta),n(()=>e(ta).code)??""})`),xs!==(xs=(e(ta),n(()=>e(ta).id)))&&(Aa.value=(Aa.__value=(e(ta),n(()=>e(ta).id)))??"")}),v(ga,Aa)});var gs=a(Ka,2),Na=a(gs,2);Na.__click=()=>xt(Os),At(Ka,()=>e(Ca).project_id,ga=>(e(Ca).project_id=ga,Tt(()=>e(A)))),Ze(gs,()=>e(Ca).hours,ga=>(e(Ca).hours=ga,Tt(()=>e(A)))),v(Kt,ys)});var sa=a(ue,2),Qt=t(sa);Qt.__click=Xe;var ua=a(Qt,2);ua.__click=zt;var Xa=t(ua);E(()=>{o(Re,`${e(P)?"Edit":"Add"} Time Entry`),ua.disabled=e(B),o(Xa,`${e(P)?"Update":"Save"} Entry`)}),Ze(We,()=>e(A).date,Kt=>st(A,e(A).date=Kt)),Ze(ct,()=>e(A).clock_in,Kt=>st(A,e(A).clock_in=Kt)),Ze(Me,()=>e(A).clock_out,Kt=>st(A,e(A).clock_out=Kt)),Ze(gt,()=>e(A).break_minutes,Kt=>st(A,e(A).break_minutes=Kt)),At(Je,()=>e(A).type,Kt=>st(A,e(A).type=Kt)),Ze(Ut,()=>e(A).notes,Kt=>st(A,e(A).notes=Kt)),v(q,F)};w(De,q=>{e($)&&q(xe)})}E((q,F,ae,X)=>{o(ye,e(ce)?"üü¢":"‚ö™"),o(ee,e(ce)?"Clocked In":"Not Clocked In"),o(O,q),o(g,F),o(C,ae),o(V,X)},[()=>(e(f),n(()=>(e(f)?.total_regular_hours??0).toFixed(1))),()=>(e(f),n(()=>(e(f)?.total_overtime_hours??0).toFixed(1))),()=>(e(f),n(()=>(e(f)?.total_pto_hours??0).toFixed(1))),()=>(e(d),n(()=>e(d).toFixed(1)))]),v(l,Oe),Vt(),m()}ba(["click"]);var Zn=p('<div class="alert alert-error svelte-1d1464v"><span class="alert-icon svelte-1d1464v">‚ö†Ô∏è</span> </div>'),Qn=p('<div class="alert alert-success svelte-1d1464v"><span class="alert-icon svelte-1d1464v">‚úì</span> </div>'),ev=p('<div class="loading svelte-1d1464v"><div class="spinner svelte-1d1464v"></div> <p class="svelte-1d1464v">Loading your PTO information...</p></div>'),tv=p('<div class="balance-section svelte-1d1464v"><h2 class="svelte-1d1464v"> </h2> <div class="balance-cards svelte-1d1464v"><div class="balance-card vacation svelte-1d1464v"><div class="card-icon svelte-1d1464v">üèñÔ∏è</div> <div class="card-content svelte-1d1464v"><h3 class="svelte-1d1464v">Vacation Days</h3> <div class="balance-amount svelte-1d1464v"> </div> <div class="card-label svelte-1d1464v">days available</div></div></div> <div class="balance-card sick svelte-1d1464v"><div class="card-icon svelte-1d1464v">üè•</div> <div class="card-content svelte-1d1464v"><h3 class="svelte-1d1464v">Sick Days</h3> <div class="balance-amount svelte-1d1464v"> </div> <div class="card-label svelte-1d1464v">days available</div></div></div> <div class="balance-card personal svelte-1d1464v"><div class="card-icon svelte-1d1464v">‚è∞</div> <div class="card-content svelte-1d1464v"><h3 class="svelte-1d1464v">Personal Days</h3> <div class="balance-amount svelte-1d1464v"> </div> <div class="card-label svelte-1d1464v">days available</div></div></div> <div class="balance-card total svelte-1d1464v"><div class="card-icon svelte-1d1464v">üìä</div> <div class="card-content svelte-1d1464v"><h3 class="svelte-1d1464v">Total Available</h3> <div class="balance-amount svelte-1d1464v"> </div> <div class="card-label svelte-1d1464v">days total</div></div></div></div></div>'),av=p('<span class="balance-value svelte-1d1464v"> </span> vacation days',1),sv=p('<span class="balance-value svelte-1d1464v"> </span> sick days',1),lv=p('<span class="balance-value svelte-1d1464v"> </span> personal days',1),rv=p('<div class="balance-check svelte-1d1464v"><div class="balance-check-header svelte-1d1464v"><strong class="svelte-1d1464v">Available Balance</strong></div> <div class="balance-check-content svelte-1d1464v"><!></div></div>'),iv=p('<div class="modal-overlay svelte-1d1464v" role="button" tabindex="0"><div class="modal svelte-1d1464v" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1d1464v"><h2 class="svelte-1d1464v">Request Time Off</h2> <button class="close-btn svelte-1d1464v">√ó</button></div> <form class="svelte-1d1464v"><div class="modal-body svelte-1d1464v"><div class="form-group svelte-1d1464v"><label for="pto-type" class="svelte-1d1464v">Time Off Type *</label> <select id="pto-type" required class="svelte-1d1464v"><option class="svelte-1d1464v">üèñÔ∏è Vacation</option><option class="svelte-1d1464v">üè• Sick Leave</option><option class="svelte-1d1464v">‚è∞ Personal Day</option></select></div> <div class="form-row svelte-1d1464v"><div class="form-group svelte-1d1464v"><label for="start-date" class="svelte-1d1464v">Start Date *</label> <input id="start-date" type="date" required class="svelte-1d1464v"/></div> <div class="form-group svelte-1d1464v"><label for="end-date" class="svelte-1d1464v">End Date *</label> <input id="end-date" type="date" required class="svelte-1d1464v"/></div></div> <div class="form-group svelte-1d1464v"><label for="days-requested" class="svelte-1d1464v">Days Requested *</label> <input id="days-requested" type="number" step="0.5" min="0.5" required class="svelte-1d1464v"/> <small class="svelte-1d1464v">Business days calculated automatically (excluding weekends). You can adjust if needed.</small></div> <div class="form-group svelte-1d1464v"><label for="reason" class="svelte-1d1464v">Reason (Optional)</label> <textarea id="reason" rows="3" placeholder="Briefly explain your reason for this request..." class="svelte-1d1464v"></textarea></div> <!></div> <div class="modal-footer svelte-1d1464v"><button type="button" class="btn btn-secondary svelte-1d1464v">Cancel</button> <button type="submit" class="btn btn-primary svelte-1d1464v"> </button></div></form></div></div>'),ov=p('<div class="detail-item full-width svelte-1d1464v"><span class="detail-label svelte-1d1464v">Reason</span> <div class="detail-value reason svelte-1d1464v"> </div></div>'),nv=p('<div class="review-item svelte-1d1464v"><span class="review-label svelte-1d1464v">Notes:</span> <span class="review-value svelte-1d1464v"> </span></div>'),vv=p('<div class="detail-item full-width review-section svelte-1d1464v"><span class="detail-label svelte-1d1464v">Review Information</span> <div class="review-info svelte-1d1464v"><div class="review-item svelte-1d1464v"><span class="review-label svelte-1d1464v">Reviewed by:</span> <span class="review-value svelte-1d1464v"> </span></div> <div class="review-item svelte-1d1464v"><span class="review-label svelte-1d1464v">Reviewed at:</span> <span class="review-value svelte-1d1464v"> </span></div> <!></div></div>'),dv=p('<div class="modal-overlay svelte-1d1464v" role="button" tabindex="0"><div class="modal modal-detail svelte-1d1464v" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1d1464v"><h2 class="svelte-1d1464v">Request Details</h2> <button class="close-btn svelte-1d1464v">√ó</button></div> <div class="modal-body svelte-1d1464v"><div class="detail-grid svelte-1d1464v"><div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Type</span> <div class="detail-value svelte-1d1464v"><span> </span></div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Status</span> <div class="detail-value svelte-1d1464v"><span> </span></div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Start Date</span> <div class="detail-value svelte-1d1464v"> </div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">End Date</span> <div class="detail-value svelte-1d1464v"> </div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Days Requested</span> <div class="detail-value svelte-1d1464v"><strong class="svelte-1d1464v"> </strong></div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Submitted</span> <div class="detail-value svelte-1d1464v"> </div></div> <!> <!></div></div> <div class="modal-footer svelte-1d1464v"><button class="btn btn-secondary svelte-1d1464v">Close</button></div></div></div>'),cv=p('<button class="btn btn-primary svelte-1d1464v">Create Your First Request</button>'),uv=p('<button class="btn btn-secondary svelte-1d1464v">View All Requests</button>'),pv=p('<div class="empty-state svelte-1d1464v"><div class="empty-icon svelte-1d1464v">üìÖ</div> <h3 class="svelte-1d1464v"> </h3> <p class="svelte-1d1464v"> </p> <!></div>'),_v=p('<button class="btn-icon svelte-1d1464v" title="Has reason">üìù</button>'),fv=p('<button class="btn-icon svelte-1d1464v" title="Has review notes">üí¨</button>'),mv=p('<tr class="clickable-row svelte-1d1464v"><td class="svelte-1d1464v"><span> </span></td><td class="svelte-1d1464v"> </td><td class="svelte-1d1464v"> </td><td class="svelte-1d1464v"><strong class="svelte-1d1464v"> </strong></td><td class="svelte-1d1464v"><span> </span></td><td class="svelte-1d1464v"> </td><td class="svelte-1d1464v"><div class="action-icons svelte-1d1464v"><!> <!> <button class="btn-icon svelte-1d1464v" title="View details">üëÅÔ∏è</button></div></td></tr>'),bv=p('<div class="requests-table svelte-1d1464v"><table class="svelte-1d1464v"><thead class="svelte-1d1464v"><tr class="svelte-1d1464v"><th class="svelte-1d1464v">Type</th><th class="svelte-1d1464v">Start Date</th><th class="svelte-1d1464v">End Date</th><th class="svelte-1d1464v">Days</th><th class="svelte-1d1464v">Status</th><th class="svelte-1d1464v">Submitted</th><th class="svelte-1d1464v">Actions</th></tr></thead><tbody class="svelte-1d1464v"></tbody></table></div>'),hv=p('<!> <!> <!> <div class="requests-section svelte-1d1464v"><div class="section-header svelte-1d1464v"><div class="svelte-1d1464v"><h2 class="svelte-1d1464v">Your Time Off Requests</h2> <div class="request-stats svelte-1d1464v"><span class="stat svelte-1d1464v"><span class="stat-icon svelte-1d1464v">üìã</span> </span> <span class="stat svelte-1d1464v"><span class="stat-icon svelte-1d1464v">‚è≥</span> </span> <span class="stat svelte-1d1464v"><span class="stat-icon svelte-1d1464v">‚úì</span> </span></div></div> <div class="filter-group svelte-1d1464v"><label for="status-filter" class="svelte-1d1464v">Filter:</label> <select id="status-filter" class="svelte-1d1464v"><option class="svelte-1d1464v">All Requests</option><option class="svelte-1d1464v">Pending</option><option class="svelte-1d1464v">Approved</option><option class="svelte-1d1464v">Denied</option><option class="svelte-1d1464v">Cancelled</option></select></div></div> <!></div>',1),yv=p('<div class="pto-container svelte-1d1464v"><div class="header svelte-1d1464v"><div class="svelte-1d1464v"><h1 class="svelte-1d1464v">Time Off Management</h1> <p class="subtitle svelte-1d1464v">Manage your paid time off requests and balance</p></div> <button class="btn btn-primary svelte-1d1464v"><span class="btn-icon svelte-1d1464v">+</span> Request Time Off</button></div> <!> <!> <!></div>');function gv(l,r){Jt(r,!1);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=Z(),y=Z(),u=Z(),_=Z();let f=Z(null),x=Z([]),T=Z(!1),B=Z(""),k=Z(""),N=Z(!1),j=Z({pto_type:"vacation",start_date:"",end_date:"",days_requested:0,reason:""}),$=Z(null),P=Z(!1),A=Z("all");ea(()=>{ce()});async function ce(){s(T,!0),s(B,"");try{await Promise.all([J(),re()])}catch(Q){s(B,Q.message||"Failed to load data")}finally{s(T,!1)}}async function J(){const Q=await fetch("/api/pto/balance",{headers:{Authorization:`Bearer ${i().token}`}});if(!Q.ok){const Oe=await Q.json().catch(()=>({}));throw new Error(Oe.error||"Failed to load PTO balance")}s(f,await Q.json())}async function re(){const Q=await fetch("/api/pto/requests",{headers:{Authorization:`Bearer ${i().token}`}});if(!Q.ok){const Oe=await Q.json().catch(()=>({}));throw new Error(Oe.error||"Failed to load PTO requests")}s(x,await Q.json()||[])}async function et(){if(s(T,!0),s(B,""),s(k,""),!e(j).start_date||!e(j).end_date){s(B,"Please select start and end dates"),s(T,!1);return}const Q=new Date(e(j).start_date);if(new Date(e(j).end_date)<Q){s(B,"End date must be after start date"),s(T,!1);return}if(e(j).days_requested<=0){s(B,"Days requested must be greater than 0"),s(T,!1);return}if(e(f)){let Ke=0;switch(e(j).pto_type){case"vacation":Ke=e(f).vacation_days;break;case"sick":Ke=e(f).sick_days;break;case"personal":Ke=e(f).personal_days;break}if(e(j).days_requested>Ke){s(B,`Insufficient balance. You have ${Ke.toFixed(1)} ${e(j).pto_type} days available.`),s(T,!1);return}}try{const Ke=await fetch("/api/pto/requests",{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(j))});if(!Ke.ok){const rt=await Ke.json();throw new Error(rt.error||"Failed to submit request")}s(k,"PTO request submitted successfully!"),setTimeout(()=>s(k,""),3e3),Ge(),await ce()}catch(Ke){s(B,Ke.message)}finally{s(T,!1)}}function Ge(){s(N,!1),s(j,{pto_type:"vacation",start_date:"",end_date:"",days_requested:0,reason:""})}function mt(){if(!e(j).start_date||!e(j).end_date)return;const Q=new Date(e(j).start_date),Oe=new Date(e(j).end_date);if(Oe<Q){s(B,"End date must be after start date"),st(j,e(j).days_requested=0);return}let Ke=0;const rt=new Date(Q);for(;rt<=Oe;){const ot=rt.getDay();ot!==0&&ot!==6&&Ke++,rt.setDate(rt.getDate()+1)}st(j,e(j).days_requested=Ke),s(B,"")}function wt(Q){s($,Q),s(P,!0)}function Le(){s($,null),s(P,!1)}function vt(Q){return new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Ue(Q){return new Date(Q).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function _e(Q){switch(Q){case"approved":return"status-approved";case"denied":return"status-denied";case"pending":return"status-pending";case"cancelled":return"status-cancelled";default:return""}}function nt(Q){return Q.charAt(0).toUpperCase()+Q.slice(1)}function dt(Q){switch(Q){case"vacation":return"üèñÔ∏è";case"sick":return"üè•";case"personal":return"‚è∞";default:return"üìÖ"}}Ht(()=>e(f),()=>{s(d,e(f)?e(f).vacation_days+e(f).sick_days+e(f).personal_days:0)}),Ht(()=>(e(A),e(x)),()=>{s(y,e(A)==="all"?e(x):e(x).filter(Q=>Q.status===e(A)))}),Ht(()=>e(x),()=>{s(u,e(x).filter(Q=>Q.status==="pending").length)}),Ht(()=>e(x),()=>{s(_,e(x).filter(Q=>Q.status==="approved").length)}),ss(),za();var zt=yv(),Ve=t(zt),Pe=a(t(Ve),2),Xe=a(Ve,2);{var it=Q=>{var Oe=Zn(),Ke=a(t(Oe));E(()=>o(Ke,` ${e(B)??""}`)),v(Q,Oe)};w(Xe,Q=>{e(B)&&Q(it)})}var xt=a(Xe,2);{var qt=Q=>{var Oe=Qn(),Ke=a(t(Oe));E(()=>o(Ke,` ${e(k)??""}`)),v(Q,Oe)};w(xt,Q=>{e(k)&&Q(qt)})}var at=a(xt,2);{var Be=Q=>{var Oe=ev();v(Q,Oe)},ut=Q=>{var Oe=hv(),Ke=lt(Oe);{var rt=se=>{var M=tv(),O=t(M),D=t(O),L=a(O,2),g=t(L),z=a(t(g),2),h=a(t(z),2),C=t(h),I=a(g,2),R=a(t(I),2),V=a(t(R),2),K=t(V),ie=a(I,2),H=a(t(ie),2),Y=a(t(H),2),W=t(Y),U=a(ie,2),te=a(t(U),2),pe=a(t(te),2),fe=t(pe);E((G,he,ze,Ee)=>{o(D,`Your PTO Balance (${e(f),n(()=>e(f).year)??""})`),o(C,G),o(K,he),o(W,ze),o(fe,Ee)},[()=>(e(f),n(()=>e(f).vacation_days.toFixed(1))),()=>(e(f),n(()=>e(f).sick_days.toFixed(1))),()=>(e(f),n(()=>e(f).personal_days.toFixed(1))),()=>(e(d),n(()=>e(d).toFixed(1)))]),v(se,M)};w(Ke,se=>{e(f)&&se(rt)})}var ot=a(Ke,2);{var kt=se=>{var M=iv(),O=t(M),D=t(O),L=a(t(D),2),g=a(D,2),z=t(g),h=t(z),C=a(t(h),2);E(()=>{e(j),Tt(()=>{})});var I=t(C);I.value=I.__value="vacation";var R=a(I);R.value=R.__value="sick";var V=a(R);V.value=V.__value="personal";var K=a(h,2),ie=t(K),H=a(t(ie),2),Y=a(ie,2),W=a(t(Y),2),U=a(K,2),te=a(t(U),2),pe=a(U,2),fe=a(t(pe),2),G=a(pe,2);{var he=q=>{var F=rv(),ae=a(t(F),2),X=t(ae);{var ne=$e=>{var ue=av(),ge=lt(ue),We=t(ge);E(Se=>o(We,Se),[()=>(e(f),n(()=>e(f).vacation_days.toFixed(1)))]),v($e,ue)},Re=$e=>{var ue=Ct(),ge=lt(ue);{var We=Ce=>{var ct=sv(),ke=lt(ct),Me=t(ke);E(Ae=>o(Me,Ae),[()=>(e(f),n(()=>e(f).sick_days.toFixed(1)))]),v(Ce,ct)},Se=Ce=>{var ct=lv(),ke=lt(ct),Me=t(ke);E(Ae=>o(Me,Ae),[()=>(e(f),n(()=>e(f).personal_days.toFixed(1)))]),v(Ce,ct)};w(ge,Ce=>{e(j),n(()=>e(j).pto_type==="sick")?Ce(We):Ce(Se,!1)},!0)}v($e,ue)};w(X,$e=>{e(j),n(()=>e(j).pto_type==="vacation")?$e(ne):$e(Re,!1)})}v(q,F)};w(G,q=>{e(f)&&q(he)})}var ze=a(z,2),Ee=t(ze),De=a(Ee,2),xe=t(De);E(()=>{De.disabled=e(T),o(xe,e(T)?"Submitting...":"Submit Request")}),ve("click",L,Ge),At(C,()=>e(j).pto_type,q=>st(j,e(j).pto_type=q)),Ze(H,()=>e(j).start_date,q=>st(j,e(j).start_date=q)),ve("change",H,mt),Ze(W,()=>e(j).end_date,q=>st(j,e(j).end_date=q)),ve("change",W,mt),Ze(te,()=>e(j).days_requested,q=>st(j,e(j).days_requested=q)),Ze(fe,()=>e(j).reason,q=>st(j,e(j).reason=q)),ve("click",Ee,Ge),ve("submit",g,js(et)),ve("click",O,Gt(function(q){Zt.call(this,r,q)})),ve("keydown",O,Gt(function(q){Zt.call(this,r,q)})),ve("click",M,Ge),ve("keydown",M,q=>q.key==="Escape"&&Ge()),v(se,M)};w(ot,se=>{e(N)&&se(kt)})}var Fe=a(ot,2);{var Ye=se=>{var M=dv(),O=t(M),D=t(O),L=a(t(D),2),g=a(D,2),z=t(g),h=t(z),C=a(t(h),2),I=t(C),R=t(I),V=a(h,2),K=a(t(V),2),ie=t(K),H=t(ie),Y=a(V,2),W=a(t(Y),2),U=t(W),te=a(Y,2),pe=a(t(te),2),fe=t(pe),G=a(te,2),he=a(t(G),2),ze=t(he),Ee=t(ze),De=a(G,2),xe=a(t(De),2),q=t(xe),F=a(De,2);{var ae=ue=>{var ge=ov(),We=a(t(ge),2),Se=t(We);E(()=>o(Se,(e($),n(()=>e($).reason)))),v(ue,ge)};w(F,ue=>{e($),n(()=>e($).reason)&&ue(ae)})}var X=a(F,2);{var ne=ue=>{var ge=vv(),We=a(t(ge),2),Se=t(We),Ce=a(t(Se),2),ct=t(Ce),ke=a(Se,2),Me=a(t(ke),2),Ae=t(Me),be=a(ke,2);{var gt=$t=>{var Je=nv(),Pt=a(t(Je),2),jt=t(Pt);E(()=>o(jt,(e($),n(()=>e($).review_notes)))),v($t,Je)};w(be,$t=>{e($),n(()=>e($).review_notes)&&$t(gt)})}E($t=>{o(ct,(e($),n(()=>e($).reviewer_name||"Manager"))),o(Ae,$t)},[()=>(e($),n(()=>Ue(e($).reviewed_at||"")))]),v(ue,ge)};w(X,ue=>{e($),n(()=>e($).reviewed_by)&&ue(ne)})}var Re=a(g,2),$e=t(Re);E((ue,ge,We,Se,Ce,ct)=>{tt(I,1,`type-badge type-${e($),n(()=>e($).pto_type)??""}`,"svelte-1d1464v"),o(R,`${ue??""} ${ge??""}`),tt(ie,1,`status-badge ${We??""}`,"svelte-1d1464v"),o(H,(e($),n(()=>e($).status))),o(U,Se),o(fe,Ce),o(Ee,(e($),n(()=>e($).days_requested))),o(q,ct)},[()=>(e($),n(()=>dt(e($).pto_type))),()=>(e($),n(()=>nt(e($).pto_type))),()=>(e($),n(()=>_e(e($).status))),()=>(e($),n(()=>vt(e($).start_date))),()=>(e($),n(()=>vt(e($).end_date))),()=>(e($),n(()=>Ue(e($).created_at)))]),ve("click",L,Le),ve("click",$e,Le),ve("click",O,Gt(function(ue){Zt.call(this,r,ue)})),ve("keydown",O,Gt(function(ue){Zt.call(this,r,ue)})),ve("click",M,Le),ve("keydown",M,ue=>ue.key==="Escape"&&Le()),v(se,M)};w(Fe,se=>{e(P)&&e($)&&se(Ye)})}var _t=a(Fe,2),St=t(_t),ft=t(St),pt=a(t(ft),2),bt=t(pt),ye=a(t(bt)),b=a(bt,2),S=a(t(b)),ee=a(b,2),me=a(t(ee)),je=a(ft,2),qe=a(t(je),2);E(()=>{e(A),Tt(()=>{})});var Te=t(qe);Te.value=Te.__value="all";var Ie=a(Te);Ie.value=Ie.__value="pending";var Ne=a(Ie);Ne.value=Ne.__value="approved";var He=a(Ne);He.value=He.__value="denied";var oe=a(He);oe.value=oe.__value="cancelled";var de=a(St,2);{var le=se=>{var M=pv(),O=a(t(M),2),D=t(O),L=a(O,2),g=t(L),z=a(L,2);{var h=I=>{var R=cv();ve("click",R,()=>s(N,!0)),v(I,R)},C=I=>{var R=uv();ve("click",R,()=>s(A,"all")),v(I,R)};w(z,I=>{e(A)==="all"?I(h):I(C,!1)})}E(()=>{o(D,e(A)==="all"?"No Time Off Requests":`No ${e(A)} requests`),o(g,e(A)==="all"?"You haven't submitted any time off requests yet.":`You don't have any ${e(A)} requests.`)}),v(se,M)},we=se=>{var M=bv(),O=t(M),D=a(t(O));ht(D,5,()=>e(y),yt,(L,g)=>{var z=mv(),h=t(z),C=t(h),I=t(C),R=a(h),V=t(R),K=a(R),ie=t(K),H=a(K),Y=t(H),W=t(Y),U=a(H),te=t(U),pe=t(te),fe=a(U),G=t(fe),he=a(fe),ze=t(he),Ee=t(ze);{var De=ae=>{var X=_v();ve("click",X,Gt(function(ne){Zt.call(this,r,ne)})),v(ae,X)};w(Ee,ae=>{e(g),n(()=>e(g).reason)&&ae(De)})}var xe=a(Ee,2);{var q=ae=>{var X=fv();ve("click",X,Gt(function(ne){Zt.call(this,r,ne)})),v(ae,X)};w(xe,ae=>{e(g),n(()=>e(g).review_notes)&&ae(q)})}var F=a(xe,2);E((ae,X,ne,Re,$e,ue)=>{tt(C,1,`type-badge type-${e(g),n(()=>e(g).pto_type)??""}`,"svelte-1d1464v"),o(I,`${ae??""} ${X??""}`),o(V,ne),o(ie,Re),o(W,(e(g),n(()=>e(g).days_requested))),tt(te,1,`status-badge ${$e??""}`,"svelte-1d1464v"),o(pe,(e(g),n(()=>e(g).status))),o(G,ue)},[()=>(e(g),n(()=>dt(e(g).pto_type))),()=>(e(g),n(()=>nt(e(g).pto_type))),()=>(e(g),n(()=>vt(e(g).start_date))),()=>(e(g),n(()=>vt(e(g).end_date))),()=>(e(g),n(()=>_e(e(g).status))),()=>(e(g),n(()=>vt(e(g).created_at)))]),ve("click",F,Gt(()=>wt(e(g)))),ve("click",z,()=>wt(e(g))),v(L,z)}),v(se,M)};w(de,se=>{e(y),n(()=>e(y).length===0)?se(le):se(we,!1)})}E(()=>{o(ye,` ${e(x),n(()=>e(x).length)??""} total`),o(S,` ${e(u)??""} pending`),o(me,` ${e(_)??""} approved`)}),At(qe,()=>e(A),se=>s(A,se)),v(Q,Oe)};w(at,Q=>{e(T)&&!e(f)?Q(Be):Q(ut,!1)})}ve("click",Pe,()=>s(N,!0)),v(l,zt),Vt(),m()}const tl={token:null,user:null,isAuthenticated:!1,loading:!1,error:null};function xv(){const{subscribe:l,set:r,update:i}=Fl(tl);if(typeof window<"u"){const c=localStorage.getItem("auth_token"),m=localStorage.getItem("auth_user");if(c&&m)try{const d=JSON.parse(m);r({token:c,user:d,isAuthenticated:!0,loading:!1,error:null})}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")}}return{subscribe:l,login:async(c,m)=>{i(d=>({...d,loading:!0,error:null}));try{const d=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,password:m})});if(!d.ok){const u=await d.json();throw new Error(u.message||"Login failed")}const y=await d.json();return typeof window<"u"&&(localStorage.setItem("auth_token",y.token),localStorage.setItem("auth_user",JSON.stringify(y.user))),i(u=>({...u,token:y.token,user:y.user,isAuthenticated:!0,loading:!1,error:null})),y}catch(d){const y=d instanceof Error?d.message:"Login failed";throw i(u=>({...u,loading:!1,error:y})),d}},logout:()=>{typeof window<"u"&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")),r(tl)},register:async c=>{i(m=>({...m,loading:!0,error:null}));try{const m=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!m.ok){const y=await m.json();throw new Error(y.message||"Registration failed")}const d=await m.json();return typeof window<"u"&&(localStorage.setItem("auth_token",d.token),localStorage.setItem("auth_user",JSON.stringify(d.user))),i(y=>({...y,token:d.token,user:d.user,isAuthenticated:!0,loading:!1,error:null})),d}catch(m){const d=m instanceof Error?m.message:"Registration failed";throw i(y=>({...y,loading:!1,error:d})),m}},updateUser:c=>{typeof window<"u"&&localStorage.setItem("auth_user",JSON.stringify(c)),i(m=>({...m,user:c}))},clearError:()=>{i(c=>({...c,error:null}))},setLoading:c=>{i(m=>({...m,loading:c}))},checkAuth:async()=>{i(c=>({...c,loading:!0}));try{const c=typeof window<"u"?localStorage.getItem("auth_token"):null;if(!c)return i(y=>({...tl,loading:!1})),!1;const m=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${c}`}});if(!m.ok)throw new Error("Invalid token");const d=await m.json();return i(y=>({...y,user:d,isAuthenticated:!0,loading:!1})),!0}catch{return typeof window<"u"&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")),i(m=>({...tl,loading:!1})),!1}}}}const hs=xv();Ks(hs,l=>l.isAuthenticated);Ks(hs,l=>l.user);Ks(hs,l=>l.token);Ks(hs,l=>l.loading);Ks(hs,l=>l.error);var wv=p('<div class="alert alert-error svelte-13pi3zu"><span> </span> <button class="svelte-13pi3zu">‚úï</button></div>'),kv=p('<div class="alert alert-success svelte-13pi3zu"><span> </span> <button class="svelte-13pi3zu">‚úï</button></div>'),$v=p('<div class="loading-spinner svelte-13pi3zu"><div class="spinner svelte-13pi3zu"></div> <p>Loading benefits...</p></div>'),Ev=p("<option> </option>"),Sv=p('<span class="badge badge-outline svelte-13pi3zu"> </span>'),zv=p('<div class="plan-details-quick svelte-13pi3zu"><div class="detail-row svelte-13pi3zu"><span class="svelte-13pi3zu">Deductible (Single):</span> <strong> </strong></div> <div class="detail-row svelte-13pi3zu"><span class="svelte-13pi3zu">PCP Copay:</span> <strong> </strong></div> <div class="detail-row svelte-13pi3zu"><span class="svelte-13pi3zu">Specialist Copay:</span> <strong> </strong></div></div>'),jv=p('<div class="plan-card svelte-13pi3zu"><div class="plan-header svelte-13pi3zu"><div class="plan-icon svelte-13pi3zu"> </div> <div class="plan-title svelte-13pi3zu"><h3 class="svelte-13pi3zu"> </h3> <p class="plan-provider svelte-13pi3zu"> </p> <span class="badge badge-info svelte-13pi3zu"> </span> <!></div></div> <div class="plan-body svelte-13pi3zu"><p class="plan-description svelte-13pi3zu"> </p> <div class="plan-costs svelte-13pi3zu"><div class="cost-item svelte-13pi3zu"><span class="cost-label svelte-13pi3zu">Your Cost (Annual)</span> <span class="cost-value svelte-13pi3zu"> </span></div> <div class="cost-item svelte-13pi3zu"><span class="cost-label svelte-13pi3zu">Employer Contribution</span> <span class="cost-value employer svelte-13pi3zu"> </span></div> <div class="cost-item total svelte-13pi3zu"><span class="cost-label svelte-13pi3zu">Monthly Deduction</span> <span class="cost-value svelte-13pi3zu"> </span></div></div> <!></div> <div class="plan-footer svelte-13pi3zu"><button class="btn btn-outline btn-sm svelte-13pi3zu">View Details</button> <button class="btn btn-primary btn-sm svelte-13pi3zu">Enroll</button></div></div>'),qv=p('<div class="empty-state svelte-13pi3zu"><p>No plans available in this category</p></div>'),Cv=p('<div class="plans-section"><div class="filter-bar svelte-13pi3zu"><label>Filter by category: <select class="svelte-13pi3zu"><option>All Categories</option><!></select></label></div> <div class="plans-grid svelte-13pi3zu"><!> <!></div></div>'),Av=p(`<div class="empty-state svelte-13pi3zu"><div class="empty-icon svelte-13pi3zu">üìã</div> <h3 class="svelte-13pi3zu">No Enrollments</h3> <p>You haven't enrolled in any benefits yet</p> <button class="btn btn-primary svelte-13pi3zu">Browse Available Plans</button></div>`),Dv=p('<div class="dependent-card svelte-13pi3zu"><div class="dependent-icon svelte-13pi3zu"> </div> <div class="dependent-info svelte-13pi3zu"><strong class="svelte-13pi3zu"> </strong> <span class="dependent-relationship svelte-13pi3zu"> </span> <span class="dependent-dob svelte-13pi3zu"> </span></div></div>'),Pv=p('<div class="dependents-section svelte-13pi3zu"><h4 class="svelte-13pi3zu">Covered Dependents</h4> <div class="dependents-list svelte-13pi3zu"></div></div>'),Tv=p('<div class="enrollment-footer svelte-13pi3zu"><button class="btn btn-error btn-sm svelte-13pi3zu">Cancel Enrollment</button></div>'),Mv=p('<div class="termination-notice svelte-13pi3zu"> </div>'),Bv=p('<div class="enrollment-card svelte-13pi3zu"><div class="enrollment-header svelte-13pi3zu"><div><h3 class="svelte-13pi3zu"> </h3> <p class="enrollment-category svelte-13pi3zu"> </p></div> <span> </span></div> <div class="enrollment-body svelte-13pi3zu"><div class="enrollment-info-grid svelte-13pi3zu"><div class="info-item svelte-13pi3zu"><span class="info-label svelte-13pi3zu">Coverage Level</span> <span class="info-value svelte-13pi3zu"> </span></div> <div class="info-item svelte-13pi3zu"><span class="info-label svelte-13pi3zu">Effective Date</span> <span class="info-value svelte-13pi3zu"> </span></div> <div class="info-item svelte-13pi3zu"><span class="info-label svelte-13pi3zu">Your Annual Cost</span> <span class="info-value svelte-13pi3zu"> </span></div> <div class="info-item svelte-13pi3zu"><span class="info-label svelte-13pi3zu">Monthly Deduction</span> <span class="info-value svelte-13pi3zu"> </span></div></div> <!></div> <!> <!></div>'),Ov=p('<div class="enrollments-list svelte-13pi3zu"></div>'),Fv=p('<div class="enrollments-section"><!></div>'),Iv=p('<div class="breakdown-row svelte-13pi3zu"><div class="breakdown-category svelte-13pi3zu"><span class="category-icon svelte-13pi3zu"> </span> <span class="category-name svelte-13pi3zu"> </span> <span class="category-count svelte-13pi3zu"> </span></div> <div class="breakdown-costs svelte-13pi3zu"><span class="breakdown-annual svelte-13pi3zu"> </span> <span class="breakdown-monthly svelte-13pi3zu"> </span></div></div>'),Nv=p('<div class="summary-cards svelte-13pi3zu"><div class="summary-card svelte-13pi3zu"><div class="summary-icon svelte-13pi3zu">üìä</div> <div class="summary-content svelte-13pi3zu"><h3 class="svelte-13pi3zu"> </h3> <p class="svelte-13pi3zu">Active Enrollments</p></div></div> <div class="summary-card svelte-13pi3zu"><div class="summary-icon svelte-13pi3zu">üí∞</div> <div class="summary-content svelte-13pi3zu"><h3 class="svelte-13pi3zu"> </h3> <p class="svelte-13pi3zu">Your Annual Cost</p></div></div> <div class="summary-card svelte-13pi3zu"><div class="summary-icon svelte-13pi3zu">üè¢</div> <div class="summary-content svelte-13pi3zu"><h3 class="svelte-13pi3zu"> </h3> <p class="svelte-13pi3zu">Employer Contribution</p></div></div> <div class="summary-card svelte-13pi3zu"><div class="summary-icon svelte-13pi3zu">üìÖ</div> <div class="summary-content svelte-13pi3zu"><h3 class="svelte-13pi3zu"> </h3> <p class="svelte-13pi3zu">Monthly Deduction</p></div></div></div> <div class="summary-breakdown svelte-13pi3zu"><h3 class="svelte-13pi3zu">Cost Breakdown by Category</h3> <div class="breakdown-table svelte-13pi3zu"></div></div>',1),Rv=p('<div class="empty-state svelte-13pi3zu"><p>No summary data available</p></div>'),Lv=p('<div class="summary-section"><!></div>'),Uv=p('<div class="cost-calculation svelte-13pi3zu"><h4 class="svelte-13pi3zu">Cost Calculation</h4> <div class="cost-grid svelte-13pi3zu"><div class="cost-row svelte-13pi3zu"><span>Your Annual Cost:</span> <strong> </strong></div> <div class="cost-row svelte-13pi3zu"><span>Employer Contribution:</span> <strong class="text-success svelte-13pi3zu"> </strong></div> <div class="cost-row svelte-13pi3zu"><span>Total Annual Cost:</span> <strong> </strong></div> <div class="cost-row highlight svelte-13pi3zu"><span>Monthly Payroll Deduction:</span> <strong> </strong></div></div></div>'),Hv=p('<div class="dependent-form-card svelte-13pi3zu"><div class="dependent-form-header svelte-13pi3zu"><h5 class="svelte-13pi3zu"></h5> <button class="btn btn-ghost btn-xs svelte-13pi3zu">Remove</button></div> <div class="form-grid svelte-13pi3zu"><div class="form-control svelte-13pi3zu"><label class="label svelte-13pi3zu"><span class="label-text svelte-13pi3zu">First Name *</span></label> <input type="text" class="input input-bordered input-sm svelte-13pi3zu" required/></div> <div class="form-control svelte-13pi3zu"><label class="label svelte-13pi3zu"><span class="label-text svelte-13pi3zu">Last Name *</span></label> <input type="text" class="input input-bordered input-sm svelte-13pi3zu" required/></div> <div class="form-control svelte-13pi3zu"><label class="label svelte-13pi3zu"><span class="label-text svelte-13pi3zu">Relationship *</span></label> <select class="select select-bordered select-sm svelte-13pi3zu"><option>Spouse</option><option>Child</option><option>Domestic Partner</option><option>Parent</option></select></div> <div class="form-control svelte-13pi3zu"><label class="label svelte-13pi3zu"><span class="label-text svelte-13pi3zu">Date of Birth *</span></label> <input type="date" class="input input-bordered input-sm svelte-13pi3zu" required/></div> <div class="form-control col-span-2 svelte-13pi3zu"><label class="label svelte-13pi3zu"><span class="label-text svelte-13pi3zu">SSN (Optional)</span></label> <input type="text" placeholder="XXX-XX-XXXX" class="input input-bordered input-sm svelte-13pi3zu" maxlength="11"/></div></div></div>'),Wv=p('<p class="text-muted text-sm svelte-13pi3zu">Please add at least one dependent for this coverage level</p>'),Jv=p('<div class="dependents-form svelte-13pi3zu"><div class="dependents-header svelte-13pi3zu"><h4 class="svelte-13pi3zu">Dependents</h4> <button class="btn btn-sm btn-outline svelte-13pi3zu">+ Add Dependent</button></div> <!> <!></div>'),Vv=p('<div class="modal modal-open svelte-13pi3zu"><div class="modal-box max-w-3xl svelte-13pi3zu"><h3 class="font-bold text-lg mb-4"> </h3> <div class="enrollment-form svelte-13pi3zu"><div class="form-control svelte-13pi3zu"><label class="label svelte-13pi3zu" for="coverage-level"><span class="label-text svelte-13pi3zu">Coverage Level *</span></label> <select id="coverage-level" class="select select-bordered w-full svelte-13pi3zu"><option>Employee Only</option><option>Employee + Spouse</option><option>Employee + Child(ren)</option><option>Family</option></select></div> <div class="form-control svelte-13pi3zu"><label class="label svelte-13pi3zu" for="effective-date"><span class="label-text svelte-13pi3zu">Effective Date *</span></label> <input id="effective-date" type="date" class="input input-bordered w-full svelte-13pi3zu"/></div> <!> <!></div> <div class="modal-action svelte-13pi3zu"><button class="btn svelte-13pi3zu">Cancel</button> <button class="btn btn-primary svelte-13pi3zu"> </button></div></div></div>'),Yv=p('<div class="detail-section svelte-13pi3zu"><h4 class="svelte-13pi3zu">Coverage Details</h4> <div class="detail-grid svelte-13pi3zu"><div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Deductible (Single):</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Deductible (Family):</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Out-of-Pocket Max (Single):</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Out-of-Pocket Max (Family):</strong> </div></div></div> <div class="detail-section svelte-13pi3zu"><h4 class="svelte-13pi3zu">Copays</h4> <div class="detail-grid svelte-13pi3zu"><div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Primary Care:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Specialist:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Emergency Room:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Coinsurance Rate:</strong> </div></div></div>',1),Gv=p('<div class="modal modal-open svelte-13pi3zu"><div class="modal-box max-w-2xl svelte-13pi3zu"><h3 class="font-bold text-lg mb-4"> </h3> <div class="plan-details-full svelte-13pi3zu"><div class="detail-section svelte-13pi3zu"><h4 class="svelte-13pi3zu">Provider Information</h4> <div class="detail-grid svelte-13pi3zu"><div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Provider:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Plan Type:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Category:</strong> </div></div></div> <div class="detail-section svelte-13pi3zu"><h4 class="svelte-13pi3zu">Description</h4> <p> </p></div> <div class="detail-section svelte-13pi3zu"><h4 class="svelte-13pi3zu">Cost Information</h4> <div class="detail-grid svelte-13pi3zu"><div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Employee Annual Cost:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Employer Contribution:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Monthly Deduction:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Total Annual Cost:</strong> </div></div></div> <!> <div class="detail-section svelte-13pi3zu"><h4 class="svelte-13pi3zu">Enrollment Period</h4> <div class="detail-grid svelte-13pi3zu"><div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Enrollment Start:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Enrollment End:</strong> </div> <div class="svelte-13pi3zu"><strong class="svelte-13pi3zu">Coverage Effective:</strong> </div></div></div></div> <div class="modal-action svelte-13pi3zu"><button class="btn svelte-13pi3zu">Close</button> <button class="btn btn-primary svelte-13pi3zu">Enroll in This Plan</button></div></div></div>'),Xv=p('<div class="benefits-container svelte-13pi3zu"><div class="benefits-header svelte-13pi3zu"><h1 class="svelte-13pi3zu">Benefits</h1> <p class="text-muted svelte-13pi3zu">Manage your health and welfare benefits</p></div> <!> <!> <div class="tabs svelte-13pi3zu"><button>Available Plans</button> <button>My Enrollments</button> <button>Summary</button></div> <div class="tab-content"><!></div></div> <!> <!>',1);function Kv(l,r){Jt(r,!1);const i=()=>da(hs,"$authStore",c),[c,m]=ca(),d=Z(),y=Z(),u=Z();let _=Z(!1),f=Z(""),x=Z(""),T=Z("plans"),B=Z([]),k=Z([]),N=Z(null),j=Z(!1),$=Z(null),P=Z("employee"),A=Z(""),ce=Z([]),J=Z(!1),re=Z(null),et=Z("all");const Ge={employee:1,employee_spouse:1.5,employee_child:1.3,family:2};async function mt(){try{s(_,!0),s(f,"");const b=await fetch("/api/benefits/plans?active=true",{headers:{Authorization:`Bearer ${i().token}`}});if(!b.ok)throw new Error("Failed to load plans");s(B,await b.json())}catch(b){s(f,b.message)}finally{s(_,!1)}}async function wt(){try{s(_,!0),s(f,"");const b=await fetch("/api/benefits/enrollments",{headers:{Authorization:`Bearer ${i().token}`}});if(!b.ok)throw new Error("Failed to load enrollments");s(k,await b.json())}catch(b){s(f,b.message)}finally{s(_,!1)}}async function Le(){try{s(_,!0),s(f,"");const b=await fetch("/api/benefits/summary",{headers:{Authorization:`Bearer ${i().token}`}});if(!b.ok)throw new Error("Failed to load summary");s(N,await b.json())}catch(b){s(f,b.message)}finally{s(_,!1)}}async function vt(){try{if(s(_,!0),s(f,""),s(x,""),!e($)){s(f,"Please select a plan");return}if(!e(A)){s(f,"Please select an effective date");return}if((e(P)==="employee_spouse"||e(P)==="family")&&!e(ce).some(ee=>ee.relationship==="spouse")){s(f,"Spouse coverage requires at least one spouse dependent");return}if((e(P)==="employee_child"||e(P)==="family")&&!e(ce).some(ee=>ee.relationship==="child")){s(f,"Child coverage requires at least one child dependent");return}const b=await fetch("/api/benefits/enrollments",{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify({plan_id:e($).id,coverage_level:e(P),effective_date:e(A),dependents:e(ce).map(S=>({first_name:S.first_name,last_name:S.last_name,relationship:S.relationship,date_of_birth:S.date_of_birth,ssn:S.ssn||""}))})});if(!b.ok){const S=await b.json();throw new Error(S.error||"Failed to create enrollment")}s(x,"Enrollment created successfully!"),s(j,!1),nt(),await wt(),await Le()}catch(b){s(f,b.message)}finally{s(_,!1)}}async function Ue(b){if(confirm("Are you sure you want to cancel this enrollment? This will take effect at the end of the current month."))try{s(_,!0),s(f,""),s(x,"");const S=await fetch(`/api/benefits/enrollments/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${i().token}`}});if(!S.ok){const ee=await S.json();throw new Error(ee.error||"Failed to cancel enrollment")}s(x,"Enrollment cancelled successfully"),await wt(),await Le()}catch(S){s(f,S.message)}finally{s(_,!1)}}function _e(b){s($,b),s(P,"employee"),s(A,""),s(ce,[]),s(j,!0)}function nt(){s($,null),s(P,"employee"),s(A,""),s(ce,[])}function dt(){s(ce,[...e(ce),{first_name:"",last_name:"",relationship:"spouse",date_of_birth:"",ssn:""}])}function zt(b){s(ce,e(ce).filter((S,ee)=>ee!==b))}function Ve(b){s(re,b),s(J,!0)}function Pe(b){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(b)}function Xe(b){return b?new Date(b).toLocaleDateString():"N/A"}function it(b){return{health:"üè•",dental:"ü¶∑",vision:"üëÅÔ∏è",life:"üõ°Ô∏è",disability:"‚ôø",retirement:"üè¶",fsa:"üí∞",hsa:"üí≥",commuter:"üöå",wellness:"üí™",other:"üìã"}[b]||"üìã"}function xt(b){return{active:"badge-success",pending:"badge-warning",cancelled:"badge-error",expired:"badge-ghost"}[b]||"badge-ghost"}ea(()=>{mt(),wt(),Le()}),Ht(()=>(e(et),e(B)),()=>{s(d,e(et)==="all"?e(B):e(B).filter(b=>b.category===e(et)))}),Ht(()=>e(B),()=>{s(y,[...new Set(e(B).map(b=>b.category))])}),Ht(()=>(e($),e(P)),()=>{s(u,e($)?{employeeCost:e($).employee_cost*(Ge[e(P)]||1),employerCost:e($).employer_cost*(Ge[e(P)]||1),totalCost:(e($).employee_cost+e($).employer_cost)*(Ge[e(P)]||1),monthlyDeduction:e($).employee_cost*(Ge[e(P)]||1)/12}:null)}),ss(),za();var qt=Xv(),at=lt(qt),Be=a(t(at),2);{var ut=b=>{var S=wv(),ee=t(S),me=t(ee),je=a(ee,2);E(()=>o(me,e(f))),ve("click",je,()=>s(f,"")),v(b,S)};w(Be,b=>{e(f)&&b(ut)})}var Q=a(Be,2);{var Oe=b=>{var S=kv(),ee=t(S),me=t(ee),je=a(ee,2);E(()=>o(me,e(x))),ve("click",je,()=>s(x,"")),v(b,S)};w(Q,b=>{e(x)&&b(Oe)})}var Ke=a(Q,2),rt=t(Ke),ot=a(rt,2),kt=a(ot,2),Fe=a(Ke,2),Ye=t(Fe);{var _t=b=>{var S=$v();v(b,S)},St=b=>{var S=Ct(),ee=lt(S);{var me=qe=>{var Te=Cv(),Ie=t(Te),Ne=t(Ie),He=a(t(Ne));E(()=>{e(et),Tt(()=>{e(y)})});var oe=t(He);oe.value=oe.__value="all";var de=a(oe);ht(de,1,()=>e(y),yt,(O,D)=>{var L=Ev(),g=t(L),z={};E((h,C)=>{o(g,`${h??""} ${C??""}`),z!==(z=e(D))&&(L.value=(L.__value=e(D))??"")},[()=>(e(D),n(()=>it(e(D)))),()=>(e(D),n(()=>e(D).charAt(0).toUpperCase()+e(D).slice(1)))]),v(O,L)});var le=a(Ie,2),we=t(le);ht(we,1,()=>e(d),yt,(O,D)=>{var L=jv(),g=t(L),z=t(g),h=t(z),C=a(z,2),I=t(C),R=t(I),V=a(I,2),K=t(V),ie=a(V,2),H=t(ie),Y=a(ie,2);{var W=ge=>{var We=Sv(),Se=t(We);E(Ce=>o(Se,Ce),[()=>(e(D),n(()=>e(D).plan_type.toUpperCase()))]),v(ge,We)};w(Y,ge=>{e(D),n(()=>e(D).plan_type)&&ge(W)})}var U=a(g,2),te=t(U),pe=t(te),fe=a(te,2),G=t(fe),he=a(t(G),2),ze=t(he),Ee=a(G,2),De=a(t(Ee),2),xe=t(De),q=a(Ee,2),F=a(t(q),2),ae=t(F),X=a(fe,2);{var ne=ge=>{var We=zv(),Se=t(We),Ce=a(t(Se),2),ct=t(Ce),ke=a(Se,2),Me=a(t(ke),2),Ae=t(Me),be=a(ke,2),gt=a(t(be),2),$t=t(gt);E((Je,Pt,jt)=>{o(ct,Je),o(Ae,Pt),o($t,jt)},[()=>(e(D),n(()=>Pe(e(D).deductible_single))),()=>(e(D),n(()=>Pe(e(D).copay_primary_care))),()=>(e(D),n(()=>Pe(e(D).copay_specialist)))]),v(ge,We)};w(X,ge=>{e(D),n(()=>e(D).category==="health")&&ge(ne)})}var Re=a(U,2),$e=t(Re),ue=a($e,2);E((ge,We,Se,Ce)=>{o(h,ge),o(R,(e(D),n(()=>e(D).name))),o(K,(e(D),n(()=>e(D).provider))),o(H,(e(D),n(()=>e(D).category))),o(pe,(e(D),n(()=>e(D).description||"No description available"))),o(ze,We),o(xe,Se),o(ae,Ce)},[()=>(e(D),n(()=>it(e(D).category))),()=>(e(D),n(()=>Pe(e(D).employee_cost))),()=>(e(D),n(()=>Pe(e(D).employer_cost))),()=>(e(D),n(()=>Pe(e(D).employee_cost/12)))]),ve("click",$e,()=>Ve(e(D))),ve("click",ue,()=>_e(e(D))),v(O,L)});var se=a(we,2);{var M=O=>{var D=qv();v(O,D)};w(se,O=>{e(d),n(()=>e(d).length===0)&&O(M)})}At(He,()=>e(et),O=>s(et,O)),v(qe,Te)},je=qe=>{var Te=Ct(),Ie=lt(Te);{var Ne=oe=>{var de=Fv(),le=t(de);{var we=M=>{var O=Av(),D=a(t(O),6);ve("click",D,()=>s(T,"plans")),v(M,O)},se=M=>{var O=Ov();ht(O,5,()=>e(k),yt,(D,L)=>{var g=Bv(),z=t(g),h=t(z),C=t(h),I=t(C),R=a(C,2),V=t(R),K=a(h,2),ie=t(K),H=a(z,2),Y=t(H),W=t(Y),U=a(t(W),2),te=t(U),pe=a(W,2),fe=a(t(pe),2),G=t(fe),he=a(pe,2),ze=a(t(he),2),Ee=t(ze),De=a(he,2),xe=a(t(De),2),q=t(xe),F=a(Y,2);{var ae=ue=>{var ge=Pv(),We=a(t(ge),2);ht(We,5,()=>(e(L),n(()=>e(L).dependents)),yt,(Se,Ce)=>{var ct=Dv(),ke=t(ct),Me=t(ke),Ae=a(ke,2),be=t(Ae),gt=t(be),$t=a(be,2),Je=t($t),Pt=a($t,2),jt=t(Pt);E(Mt=>{o(Me,(e(Ce),n(()=>e(Ce).relationship==="spouse"?"üíë":e(Ce).relationship==="child"?"üë∂":e(Ce).relationship==="domestic_partner"?"üë•":"üë§"))),o(gt,`${e(Ce),n(()=>e(Ce).first_name)??""} ${e(Ce),n(()=>e(Ce).last_name)??""}`),o(Je,(e(Ce),n(()=>e(Ce).relationship))),o(jt,`DOB: ${Mt??""}`)},[()=>(e(Ce),n(()=>Xe(e(Ce).date_of_birth)))]),v(Se,ct)}),v(ue,ge)};w(F,ue=>{e(L),n(()=>e(L).dependents&&e(L).dependents.length>0)&&ue(ae)})}var X=a(H,2);{var ne=ue=>{var ge=Tv(),We=t(ge);ve("click",We,()=>Ue(e(L).id)),v(ue,ge)};w(X,ue=>{e(L),n(()=>e(L).status==="active")&&ue(ne)})}var Re=a(X,2);{var $e=ue=>{var ge=Mv(),We=t(ge);E(Se=>o(We,`‚ö†Ô∏è This enrollment will terminate on ${Se??""}`),[()=>(e(L),n(()=>Xe(e(L).termination_date)))]),v(ue,ge)};w(Re,ue=>{e(L),n(()=>e(L).termination_date)&&ue($e)})}E((ue,ge,We,Se,Ce)=>{o(I,(e(L),n(()=>e(L).plan_name))),o(V,(e(L),n(()=>e(L).plan_category))),tt(K,1,`badge ${ue??""}`,"svelte-13pi3zu"),o(ie,(e(L),n(()=>e(L).status))),o(te,ge),o(G,We),o(Ee,Se),o(q,Ce)},[()=>(e(L),n(()=>xt(e(L).status))),()=>(e(L),n(()=>e(L).coverage_level.replace("_"," + "))),()=>(e(L),n(()=>Xe(e(L).effective_date))),()=>(e(L),n(()=>Pe(e(L).employee_cost))),()=>(e(L),n(()=>Pe(e(L).payroll_deduction)))]),v(D,g)}),v(M,O)};w(le,M=>{e(k),n(()=>e(k).length===0)?M(we):M(se,!1)})}v(oe,de)},He=oe=>{var de=Ct(),le=lt(de);{var we=se=>{var M=Lv(),O=t(M);{var D=g=>{var z=Nv(),h=lt(z),C=t(h),I=a(t(C),2),R=t(I),V=t(R),K=a(C,2),ie=a(t(K),2),H=t(ie),Y=t(H),W=a(K,2),U=a(t(W),2),te=t(U),pe=t(te),fe=a(W,2),G=a(t(fe),2),he=t(G),ze=t(he),Ee=a(h,2),De=a(t(Ee),2);ht(De,5,()=>(e(N),n(()=>[...new Set(e(N).enrollments.filter(xe=>xe.status==="active").map(xe=>xe.plan_category))])),yt,(xe,q)=>{const F=zs(()=>(e(N),e(q),n(()=>e(N).enrollments.filter(gt=>gt.status==="active"&&gt.plan_category===e(q))))),ae=zs(()=>(rs(e(F)),n(()=>e(F).reduce((gt,$t)=>gt+$t.employee_cost,0)))),X=zs(()=>(rs(e(F)),n(()=>e(F).reduce((gt,$t)=>gt+$t.payroll_deduction,0))));var ne=Iv(),Re=t(ne),$e=t(Re),ue=t($e),ge=a($e,2),We=t(ge),Se=a(ge,2),Ce=t(Se),ct=a(Re,2),ke=t(ct),Me=t(ke),Ae=a(ke,2),be=t(Ae);E((gt,$t,Je)=>{o(ue,gt),o(We,e(q)),o(Ce,`(${rs(e(F)),n(()=>e(F).length)??""} plan${rs(e(F)),n(()=>e(F).length!==1?"s":"")??""})`),o(Me,`${$t??""}/year`),o(be,`${Je??""}/mo`)},[()=>(e(q),n(()=>it(e(q)))),()=>(rs(e(ae)),n(()=>Pe(e(ae)))),()=>(rs(e(X)),n(()=>Pe(e(X))))]),v(xe,ne)}),E((xe,q,F)=>{o(V,(e(N),n(()=>e(N).active_enrollments))),o(Y,xe),o(pe,q),o(ze,F)},[()=>(e(N),n(()=>Pe(e(N).total_employee_cost))),()=>(e(N),n(()=>Pe(e(N).total_employer_cost))),()=>(e(N),n(()=>Pe(e(N).monthly_deduction)))]),v(g,z)},L=g=>{var z=Rv();v(g,z)};w(O,g=>{e(N)?g(D):g(L,!1)})}v(se,M)};w(le,se=>{e(T)==="summary"&&se(we)},!0)}v(oe,de)};w(Ie,oe=>{e(T)==="enrollments"?oe(Ne):oe(He,!1)},!0)}v(qe,Te)};w(ee,qe=>{e(T)==="plans"?qe(me):qe(je,!1)},!0)}v(b,S)};w(Ye,b=>{e(_)?b(_t):b(St,!1)})}var ft=a(at,2);{var pt=b=>{var S=Vv(),ee=t(S),me=t(ee),je=t(me),qe=a(me,2),Te=t(qe),Ie=a(t(Te),2);E(()=>{e(P),Tt(()=>{})});var Ne=t(Ie);Ne.value=Ne.__value="employee";var He=a(Ne);He.value=He.__value="employee_spouse";var oe=a(He);oe.value=oe.__value="employee_child";var de=a(oe);de.value=de.__value="family";var le=a(Te,2),we=a(t(le),2),se=a(le,2);{var M=C=>{var I=Uv(),R=a(t(I),2),V=t(R),K=a(t(V),2),ie=t(K),H=a(V,2),Y=a(t(H),2),W=t(Y),U=a(H,2),te=a(t(U),2),pe=t(te),fe=a(U,2),G=a(t(fe),2),he=t(G);E((ze,Ee,De,xe)=>{o(ie,ze),o(W,Ee),o(pe,De),o(he,xe)},[()=>(e(u),n(()=>Pe(e(u).employeeCost))),()=>(e(u),n(()=>Pe(e(u).employerCost))),()=>(e(u),n(()=>Pe(e(u).totalCost))),()=>(e(u),n(()=>Pe(e(u).monthlyDeduction)))]),v(C,I)};w(se,C=>{e(u)&&C(M)})}var O=a(se,2);{var D=C=>{var I=Jv(),R=t(I),V=a(t(R),2),K=a(R,2);ht(K,1,()=>e(ce),yt,(Y,W,U)=>{var te=Hv(),pe=t(te),fe=t(pe);fe.textContent=`Dependent ${U+1}`;var G=a(fe,2),he=a(pe,2),ze=t(he),Ee=t(ze);pa(Ee,"for",`dependent-first-name-${U}`);var De=a(Ee,2);pa(De,"id",`dependent-first-name-${U}`);var xe=a(ze,2),q=t(xe);pa(q,"for",`dependent-last-name-${U}`);var F=a(q,2);pa(F,"id",`dependent-last-name-${U}`);var ae=a(xe,2),X=t(ae);pa(X,"for",`dependent-relationship-${U}`);var ne=a(X,2);E(()=>{e(W),Tt(()=>{})}),pa(ne,"id",`dependent-relationship-${U}`);var Re=t(ne);Re.value=Re.__value="spouse";var $e=a(Re);$e.value=$e.__value="child";var ue=a($e);ue.value=ue.__value="domestic_partner";var ge=a(ue);ge.value=ge.__value="parent";var We=a(ae,2),Se=t(We);pa(Se,"for",`dependent-dob-${U}`);var Ce=a(Se,2);pa(Ce,"id",`dependent-dob-${U}`);var ct=a(We,2),ke=t(ct);pa(ke,"for",`dependent-ssn-${U}`);var Me=a(ke,2);pa(Me,"id",`dependent-ssn-${U}`),ve("click",G,()=>zt(U)),Ze(De,()=>e(W).first_name,Ae=>(e(W).first_name=Ae,Tt(()=>e(ce)))),Ze(F,()=>e(W).last_name,Ae=>(e(W).last_name=Ae,Tt(()=>e(ce)))),At(ne,()=>e(W).relationship,Ae=>(e(W).relationship=Ae,Tt(()=>e(ce)))),Ze(Ce,()=>e(W).date_of_birth,Ae=>(e(W).date_of_birth=Ae,Tt(()=>e(ce)))),Ze(Me,()=>e(W).ssn,Ae=>(e(W).ssn=Ae,Tt(()=>e(ce)))),v(Y,te)});var ie=a(K,2);{var H=Y=>{var W=Wv();v(Y,W)};w(ie,Y=>{e(ce),n(()=>e(ce).length===0)&&Y(H)})}ve("click",V,dt),v(C,I)};w(O,C=>{e(P)!=="employee"&&C(D)})}var L=a(qe,2),g=t(L),z=a(g,2),h=t(z);E(C=>{o(je,`Enroll in ${e($),n(()=>e($).name)??""}`),pa(we,"min",C),g.disabled=e(_),z.disabled=e(_)||!e(A),o(h,e(_)?"Enrolling...":"Confirm Enrollment")},[()=>n(()=>new Date().toISOString().split("T")[0])]),At(Ie,()=>e(P),C=>s(P,C)),Ze(we,()=>e(A),C=>s(A,C)),ve("click",g,()=>{s(j,!1),nt()}),ve("click",z,vt),v(b,S)};w(ft,b=>{e(j)&&e($)&&b(pt)})}var bt=a(ft,2);{var ye=b=>{var S=Gv(),ee=t(S),me=t(ee),je=t(me),qe=a(me,2),Te=t(qe),Ie=a(t(Te),2),Ne=t(Ie),He=a(t(Ne)),oe=a(Ne,2),de=a(t(oe)),le=a(oe,2),we=a(t(le)),se=a(Te,2),M=a(t(se),2),O=t(M),D=a(se,2),L=a(t(D),2),g=t(L),z=a(t(g)),h=a(g,2),C=a(t(h)),I=a(h,2),R=a(t(I)),V=a(I,2),K=a(t(V)),ie=a(D,2);{var H=xe=>{var q=Yv(),F=lt(q),ae=a(t(F),2),X=t(ae),ne=a(t(X)),Re=a(X,2),$e=a(t(Re)),ue=a(Re,2),ge=a(t(ue)),We=a(ue,2),Se=a(t(We)),Ce=a(F,2),ct=a(t(Ce),2),ke=t(ct),Me=a(t(ke)),Ae=a(ke,2),be=a(t(Ae)),gt=a(Ae,2),$t=a(t(gt)),Je=a(gt,2),Pt=a(t(Je));E((jt,Mt,Dt,Ot,Bt,Ut,Ft)=>{o(ne,` ${jt??""}`),o($e,` ${Mt??""}`),o(ge,` ${Dt??""}`),o(Se,` ${Ot??""}`),o(Me,` ${Bt??""}`),o(be,` ${Ut??""}`),o($t,` ${Ft??""}`),o(Pt,` ${e(re),n(()=>e(re).coinsurance_rate)??""}%`)},[()=>(e(re),n(()=>Pe(e(re).deductible_single))),()=>(e(re),n(()=>Pe(e(re).deductible_family))),()=>(e(re),n(()=>Pe(e(re).out_of_pocket_max_single))),()=>(e(re),n(()=>Pe(e(re).out_of_pocket_max_family))),()=>(e(re),n(()=>Pe(e(re).copay_primary_care))),()=>(e(re),n(()=>Pe(e(re).copay_specialist))),()=>(e(re),n(()=>Pe(e(re).copay_emergency)))]),v(xe,q)};w(ie,xe=>{e(re),n(()=>e(re).category==="health")&&xe(H)})}var Y=a(ie,2),W=a(t(Y),2),U=t(W),te=a(t(U)),pe=a(U,2),fe=a(t(pe)),G=a(pe,2),he=a(t(G)),ze=a(qe,2),Ee=t(ze),De=a(Ee,2);E((xe,q,F,ae,X,ne,Re,$e)=>{o(je,(e(re),n(()=>e(re).name))),o(He,` ${e(re),n(()=>e(re).provider)??""}`),o(de,` ${xe??""}`),o(we,` ${e(re),n(()=>e(re).category)??""}`),o(O,(e(re),n(()=>e(re).description||"No description available"))),o(z,` ${q??""}`),o(C,` ${F??""}`),o(R,` ${ae??""}`),o(K,` ${X??""}`),o(te,` ${ne??""}`),o(fe,` ${Re??""}`),o(he,` ${$e??""}`)},[()=>(e(re),n(()=>e(re).plan_type?.toUpperCase()||"N/A")),()=>(e(re),n(()=>Pe(e(re).employee_cost))),()=>(e(re),n(()=>Pe(e(re).employer_cost))),()=>(e(re),n(()=>Pe(e(re).employee_cost/12))),()=>(e(re),n(()=>Pe(e(re).employee_cost+e(re).employer_cost))),()=>(e(re),n(()=>Xe(e(re).enrollment_start_date))),()=>(e(re),n(()=>Xe(e(re).enrollment_end_date))),()=>(e(re),n(()=>Xe(e(re).effective_date)))]),ve("click",Ee,()=>s(J,!1)),ve("click",De,()=>{s(J,!1),_e(e(re))}),v(b,S)};w(bt,b=>{e(J)&&e(re)&&b(ye)})}E(()=>{tt(rt,1,`tab ${e(T)==="plans"?"tab-active":""}`,"svelte-13pi3zu"),tt(ot,1,`tab ${e(T)==="enrollments"?"tab-active":""}`,"svelte-13pi3zu"),tt(kt,1,`tab ${e(T)==="summary"?"tab-active":""}`,"svelte-13pi3zu")}),ve("click",rt,()=>s(T,"plans")),ve("click",ot,()=>s(T,"enrollments")),ve("click",kt,()=>s(T,"summary")),v(l,qt),Vt(),m()}var Zv=p('<div class="alert alert-error svelte-1rpegun"><span> </span> <button class="svelte-1rpegun">‚úï</button></div>'),Qv=p('<div class="alert alert-success svelte-1rpegun"><span> </span> <button class="svelte-1rpegun">‚úï</button></div>'),ed=p("<button>Tax Withholding</button>"),td=p("<button>Admin</button>"),ad=p('<div class="loading svelte-1rpegun">Loading...</div>'),sd=p('<div class="empty-state svelte-1rpegun"><span class="empty-icon svelte-1rpegun">üìÑ</span> <p>No pay stubs available yet</p></div>'),ld=p('<div class="detail-row svelte-1rpegun"><span class="svelte-1rpegun">Hours Worked</span> <span class="svelte-1rpegun"> </span></div>'),rd=p('<div class="paystub-card svelte-1rpegun"><div class="paystub-header svelte-1rpegun"><div class="paystub-icon svelte-1rpegun">üíµ</div> <div class="paystub-info svelte-1rpegun"><div class="paystub-amount svelte-1rpegun"> </div> <div class="paystub-date svelte-1rpegun"> </div></div></div> <div class="paystub-details svelte-1rpegun"><div class="detail-row svelte-1rpegun"><span class="svelte-1rpegun">Gross Pay</span> <strong class="svelte-1rpegun"> </strong></div> <div class="detail-row svelte-1rpegun"><span class="svelte-1rpegun">Taxes</span> <span class="text-error svelte-1rpegun"> </span></div> <div class="detail-row svelte-1rpegun"><span class="svelte-1rpegun">Deductions</span> <span class="text-error svelte-1rpegun"> </span></div> <!></div> <div class="paystub-actions svelte-1rpegun"><button class="btn btn-sm btn-primary svelte-1rpegun">View Details</button> <button class="btn btn-sm btn-ghost svelte-1rpegun">üì• Download</button></div></div>'),id=p('<div class="paystubs-grid svelte-1rpegun"></div>'),od=p('<div class="section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">Your Pay Stubs</h2> <p class="text-muted svelte-1rpegun">View and download your payment history</p></div> <!></div>'),nd=p('<div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Hourly Rate</span> <span class="info-value svelte-1rpegun"> </span></div>'),vd=p('<div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Annual Salary</span> <span class="info-value svelte-1rpegun"> </span></div>'),dd=p('<div class="info-card svelte-1rpegun"><div class="info-grid svelte-1rpegun"><div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Employment Type</span> <span> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Pay Type</span> <span class="info-value svelte-1rpegun"> </span></div> <!> <!> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Pay Frequency</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Overtime Eligible</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Standard Hours/Week</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Effective Date</span> <span class="info-value svelte-1rpegun"> </span></div></div></div>'),cd=p('<div class="empty-state svelte-1rpegun"><span class="empty-icon svelte-1rpegun">üíº</span> <p>No compensation information set up</p> <button class="btn btn-primary svelte-1rpegun">Set Up Compensation</button></div>'),ud=p('<div class="section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">Compensation Information</h2> <button class="btn btn-primary svelte-1rpegun"> </button></div> <!></div>'),pd=p('<div class="info-card svelte-1rpegun"><div class="info-grid svelte-1rpegun"><div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Filing Status</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Federal Allowances</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">State Allowances</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Additional Withholding</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Federal Exempt</span> <span> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">State Exempt</span> <span> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">FICA Exempt</span> <span> </span></div></div></div>'),_d=p('<div class="empty-state svelte-1rpegun"><span class="empty-icon svelte-1rpegun">üìù</span> <p>No tax withholding information set up</p> <button class="btn btn-primary svelte-1rpegun">Set Up Tax Withholding</button></div>'),fd=p('<div class="section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">Tax Withholding (W-4)</h2> <button class="btn btn-primary svelte-1rpegun"> </button></div> <!></div>'),md=p('<button class="btn btn-sm btn-success svelte-1rpegun"> </button>'),bd=p('<tr class="svelte-1rpegun"><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"><span> </span></td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"><!></td></tr>'),hd=p("<option> </option>"),yd=p('<span class="text-muted svelte-1rpegun"> </span>'),gd=p('<span class="text-muted svelte-1rpegun">Not filed</span>'),xd=p('<div class="form-card svelte-1rpegun"><div class="form-header svelte-1rpegun"><span class="form-year svelte-1rpegun"> </span> <span> </span></div> <div class="form-amount svelte-1rpegun"> </div> <div class="form-footer svelte-1rpegun"><!></div></div>'),wd=p('<div class="section svelte-1rpegun"><div class="admin-section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">Payroll Periods</h2> <button class="btn btn-primary svelte-1rpegun">+ Create Period</button></div> <div class="periods-table svelte-1rpegun"><table class="svelte-1rpegun"><thead><tr><th class="svelte-1rpegun">Period</th><th class="svelte-1rpegun">Pay Date</th><th class="svelte-1rpegun">Status</th><th class="svelte-1rpegun">Processed</th><th class="svelte-1rpegun">Actions</th></tr></thead><tbody class="svelte-1rpegun"></tbody></table></div></div> <div class="admin-section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">1099 Forms</h2> <div style="display: flex; gap: 1rem; align-items: center;"><select class="select select-sm svelte-1rpegun"></select> <button class="btn btn-primary btn-sm svelte-1rpegun"> </button></div></div> <div class="forms-grid svelte-1rpegun"></div></div></div>'),kd=p('<tr class="svelte-1rpegun"><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td></tr>'),$d=p('<div class="detail-section svelte-1rpegun"><h3 class="svelte-1rpegun">Earnings</h3> <table class="detail-table svelte-1rpegun"><thead><tr><th class="svelte-1rpegun">Type</th><th class="svelte-1rpegun">Description</th><th class="svelte-1rpegun">Hours</th><th class="svelte-1rpegun">Rate</th><th class="svelte-1rpegun">Amount</th></tr></thead><tbody class="svelte-1rpegun"></tbody></table></div>'),Ed=p('<tr class="svelte-1rpegun"><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td></tr>'),Sd=p('<div class="detail-section svelte-1rpegun"><h3 class="svelte-1rpegun">Taxes</h3> <table class="detail-table svelte-1rpegun"><thead><tr><th class="svelte-1rpegun">Type</th><th class="svelte-1rpegun">Description</th><th class="svelte-1rpegun">Taxable Wage</th><th class="svelte-1rpegun">Rate</th><th class="svelte-1rpegun">Amount</th></tr></thead><tbody class="svelte-1rpegun"></tbody></table></div>'),zd=p('<tr class="svelte-1rpegun"><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td></tr>'),jd=p('<div class="detail-section svelte-1rpegun"><h3 class="svelte-1rpegun">Deductions</h3> <table class="detail-table svelte-1rpegun"><thead><tr><th class="svelte-1rpegun">Type</th><th class="svelte-1rpegun">Description</th><th class="svelte-1rpegun">Pre-Tax</th><th class="svelte-1rpegun">Amount</th></tr></thead><tbody class="svelte-1rpegun"></tbody></table></div>'),qd=p('<div class="modal svelte-1rpegun" role="button" tabindex="0"><div class="modal-box max-w-4xl svelte-1rpegun" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1rpegun"><h2 class="svelte-1rpegun">Pay Stub Details</h2> <button class="btn btn-circle btn-sm svelte-1rpegun">‚úï</button></div> <div class="paystub-detail svelte-1rpegun"><div class="detail-summary svelte-1rpegun"><div class="summary-item svelte-1rpegun"><span class="summary-label svelte-1rpegun">Gross Pay</span> <span class="summary-value svelte-1rpegun"> </span></div> <div class="summary-item svelte-1rpegun"><span class="summary-label svelte-1rpegun">Total Taxes</span> <span class="summary-value text-error svelte-1rpegun"> </span></div> <div class="summary-item svelte-1rpegun"><span class="summary-label svelte-1rpegun">Total Deductions</span> <span class="summary-value text-error svelte-1rpegun"> </span></div> <div class="summary-item highlight svelte-1rpegun"><span class="summary-label svelte-1rpegun">Net Pay</span> <span class="summary-value svelte-1rpegun"> </span></div></div> <!> <!> <!> <div class="detail-section svelte-1rpegun"><h3 class="svelte-1rpegun">Year-to-Date Summary</h3> <div class="ytd-grid svelte-1rpegun"><div class="ytd-item svelte-1rpegun"><span class="ytd-label svelte-1rpegun">YTD Gross Pay</span> <span class="ytd-value svelte-1rpegun"> </span></div> <div class="ytd-item svelte-1rpegun"><span class="ytd-label svelte-1rpegun">YTD Net Pay</span> <span class="ytd-value svelte-1rpegun"> </span></div></div></div></div> <div class="modal-actions svelte-1rpegun"><button class="btn btn-primary svelte-1rpegun">üì• Download PDF</button> <button class="btn btn-ghost svelte-1rpegun">Close</button></div></div></div>'),Cd=p('<div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="hourly_rate"><span class="label-text svelte-1rpegun">Hourly Rate</span></label> <input id="hourly_rate" type="number" class="input w-full svelte-1rpegun" min="0" step="0.01" required/></div>'),Ad=p('<div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="annual_salary"><span class="label-text svelte-1rpegun">Annual Salary</span></label> <input id="annual_salary" type="number" class="input w-full svelte-1rpegun" min="0" step="1000" required/></div>'),Dd=p('<div class="modal svelte-1rpegun" role="button" tabindex="0"><div class="modal-box max-w-2xl svelte-1rpegun" role="dialog" aria-modal="true" tabindex="-1"><h2>Compensation Setup</h2> <form class="form svelte-1rpegun"><div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="employment_type"><span class="label-text svelte-1rpegun">Employment Type</span></label> <select id="employment_type" class="select w-full svelte-1rpegun" required><option>W2 Employee</option><option>1099 Contractor</option></select></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="pay_type"><span class="label-text svelte-1rpegun">Pay Type</span></label> <select id="pay_type" class="select w-full svelte-1rpegun" required><option>Hourly</option><option>Salary</option><option>Commission</option></select></div> <!> <!> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="pay_frequency"><span class="label-text svelte-1rpegun">Pay Frequency</span></label> <select id="pay_frequency" class="select w-full svelte-1rpegun" required><option>Weekly</option><option>Bi-Weekly</option><option>Semi-Monthly</option><option>Monthly</option></select></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="standard_hours"><span class="label-text svelte-1rpegun">Standard Hours Per Week</span></label> <input id="standard_hours" type="number" class="input w-full svelte-1rpegun" min="0" max="80" required/></div> <div class="form-control svelte-1rpegun"><label class="label cursor-pointer svelte-1rpegun"><span class="label-text svelte-1rpegun">Overtime Eligible</span> <input type="checkbox" class="checkbox svelte-1rpegun"/></label></div> <div class="modal-actions svelte-1rpegun"><button type="submit" class="btn btn-primary svelte-1rpegun"> </button> <button type="button" class="btn btn-ghost svelte-1rpegun">Cancel</button></div></form></div></div>'),Pd=p('<div class="modal svelte-1rpegun" role="button" tabindex="0"><div class="modal-box max-w-2xl svelte-1rpegun" role="dialog" aria-modal="true" tabindex="-1"><h2>Tax Withholding (W-4)</h2> <form class="form svelte-1rpegun"><div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="filing_status"><span class="label-text svelte-1rpegun">Filing Status</span></label> <select id="filing_status" class="select w-full svelte-1rpegun" required><option>Single</option><option>Married Filing Jointly</option><option>Head of Household</option></select></div> <div class="form-row svelte-1rpegun"><div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="federal_allowances"><span class="label-text svelte-1rpegun">Federal Allowances</span></label> <input id="federal_allowances" type="number" class="input w-full svelte-1rpegun" min="0" required/></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="state_allowances"><span class="label-text svelte-1rpegun">State Allowances</span></label> <input id="state_allowances" type="number" class="input w-full svelte-1rpegun" min="0" required/></div></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="additional_withholding"><span class="label-text svelte-1rpegun">Additional Withholding (per paycheck)</span></label> <input id="additional_withholding" type="number" class="input w-full svelte-1rpegun" min="0" step="0.01"/></div> <div class="form-control svelte-1rpegun"><label class="label cursor-pointer svelte-1rpegun"><span class="label-text svelte-1rpegun">Exempt from Federal Tax</span> <input type="checkbox" class="checkbox svelte-1rpegun"/></label></div> <div class="form-control svelte-1rpegun"><label class="label cursor-pointer svelte-1rpegun"><span class="label-text svelte-1rpegun">Exempt from State Tax</span> <input type="checkbox" class="checkbox svelte-1rpegun"/></label></div> <div class="form-control svelte-1rpegun"><label class="label cursor-pointer svelte-1rpegun"><span class="label-text svelte-1rpegun">Exempt from FICA (Social Security & Medicare)</span> <input type="checkbox" class="checkbox svelte-1rpegun"/></label></div> <div class="modal-actions svelte-1rpegun"><button type="submit" class="btn btn-primary svelte-1rpegun"> </button> <button type="button" class="btn btn-ghost svelte-1rpegun">Cancel</button></div></form></div></div>'),Td=p('<div class="modal svelte-1rpegun" role="button" tabindex="0"><div class="modal-box svelte-1rpegun"><h2>Create Payroll Period</h2> <form class="form svelte-1rpegun"><div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="period_start_date"><span class="label-text svelte-1rpegun">Start Date</span></label> <input id="period_start_date" type="date" class="input w-full svelte-1rpegun" required/></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="period_end_date"><span class="label-text svelte-1rpegun">End Date</span></label> <input id="period_end_date" type="date" class="input w-full svelte-1rpegun" required/></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="period_pay_date"><span class="label-text svelte-1rpegun">Pay Date</span></label> <input id="period_pay_date" type="date" class="input w-full svelte-1rpegun" required/></div> <div class="modal-actions svelte-1rpegun"><button type="submit" class="btn btn-primary svelte-1rpegun"> </button> <button type="button" class="btn btn-ghost svelte-1rpegun">Cancel</button></div></form></div></div>'),Md=p('<div class="payroll-container svelte-1rpegun"><div class="payroll-header svelte-1rpegun"><h1 class="svelte-1rpegun">üí∞ Payroll</h1> <p class="text-muted svelte-1rpegun">View pay stubs and manage compensation</p></div> <!> <!> <div class="tabs svelte-1rpegun"><button>Pay Stubs</button> <button>Compensation</button> <!> <!></div> <div class="tab-content"><!> <!> <!> <!></div></div> <!> <!> <!> <!>',1);function Bd(l,r){Jt(r,!1);const i=()=>da(hs,"$authStore",c),[c,m]=ca(),d=Z(),y=Z();let u=Z(!1),_=Z(""),f=Z(""),x=Z("paystubs"),T=Z(!1),B=Z([]),k=Z(null),N=Z(!1),j=Z(null),$=Z(!1),P=Z({employment_type:"W2",pay_type:"hourly",hourly_rate:0,annual_salary:0,pay_frequency:"biweekly",overtime_eligible:!0,standard_hours_per_week:40}),A=Z(null),ce=Z(!1),J=Z({filing_status:"single",federal_allowances:0,state_allowances:0,additional_withholding:0,exempt_federal:!1,exempt_state:!1,exempt_fica:!1}),re=Z([]),et=Z(!1),Ge=Z({start_date:"",end_date:"",pay_date:""}),mt=Z(!1),wt=Z([]),Le=Z(new Date().getFullYear());async function vt(){try{s(u,!0),s(_,"");const g=i().user?.employee_id;if(!g){s(_,"Employee ID not found");return}const z=await fetch(`/api/payroll/paystubs/employee/${g}`,{headers:{Authorization:`Bearer ${i().token}`}});if(!z.ok)throw new Error("Failed to load pay stubs");s(B,await z.json())}catch(g){s(_,g.message)}finally{s(u,!1)}}async function Ue(g){try{s(u,!0),s(_,"");const z=await fetch(`/api/payroll/paystubs/${g}`,{headers:{Authorization:`Bearer ${i().token}`}});if(!z.ok)throw new Error("Failed to load pay stub details");s(k,await z.json()),s(N,!0)}catch(z){s(_,z.message)}finally{s(u,!1)}}async function _e(g){try{const z=await fetch(`/api/payroll/paystubs/${g}/pdf`,{headers:{Authorization:`Bearer ${i().token}`}});if(!z.ok)throw new Error("Failed to download PDF");const h=await z.blob(),C=window.URL.createObjectURL(h),I=document.createElement("a");I.href=C,I.download=`paystub_${g}.pdf`,document.body.appendChild(I),I.click(),window.URL.revokeObjectURL(C),document.body.removeChild(I)}catch(z){s(_,z.message)}}async function nt(){try{s(u,!0),s(_,"");const g=i().user?.employee_id;if(!g){s(_,"Employee ID not found");return}const z=await fetch(`/api/payroll/compensation/employee/${g}`,{headers:{Authorization:`Bearer ${i().token}`}});if(!z.ok){s(j,null);return}s(j,await z.json())}catch(g){s(_,g.message)}finally{s(u,!1)}}async function dt(){try{s(u,!0),s(_,""),s(f,"");const g=i().user?.employee_id;if(!g){s(_,"Employee ID not found");return}const z={employee_id:g,...e(P),effective_date:new Date().toISOString()},h=await fetch("/api/payroll/compensation",{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(z)});if(!h.ok){const C=await h.json();throw new Error(C.error||"Failed to save compensation")}s(f,"Compensation saved successfully"),s($,!1),await nt()}catch(g){s(_,g.message)}finally{s(u,!1)}}async function zt(){try{s(u,!0),s(_,"");const g=i().user?.employee_id;if(!g){s(_,"Employee ID not found");return}const z=await fetch(`/api/payroll/tax-withholding/${g}`,{headers:{Authorization:`Bearer ${i().token}`}});if(!z.ok){s(A,null);return}s(A,await z.json())}catch(g){s(_,g.message)}finally{s(u,!1)}}async function Ve(){try{s(u,!0),s(_,""),s(f,"");const g=i().user?.employee_id;if(!g){s(_,"Employee ID not found");return}const z=await fetch(`/api/payroll/tax-withholding/${g}`,{method:"PUT",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(J))});if(!z.ok){const h=await z.json();throw new Error(h.error||"Failed to save tax withholding")}s(f,"Tax withholding saved successfully"),s(ce,!1),await zt()}catch(g){s(_,g.message)}finally{s(u,!1)}}async function Pe(){try{s(u,!0),s(_,"");const g=await fetch("/api/payroll/periods",{headers:{Authorization:`Bearer ${i().token}`}});if(!g.ok)throw new Error("Failed to load payroll periods");s(re,await g.json())}catch(g){s(_,g.message)}finally{s(u,!1)}}async function Xe(){try{s(u,!0),s(_,""),s(f,"");const g=await fetch("/api/payroll/periods",{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(Ge))});if(!g.ok){const z=await g.json();throw new Error(z.error||"Failed to create payroll period")}s(f,"Payroll period created successfully"),s(et,!1),s(Ge,{start_date:"",end_date:"",pay_date:""}),await Pe()}catch(g){s(_,g.message)}finally{s(u,!1)}}async function it(g){if(confirm("Are you sure you want to process this payroll period? This will create pay stubs for all employees."))try{s(mt,!0),s(_,""),s(f,"");const z=await fetch(`/api/payroll/periods/${g}/process`,{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify({dry_run:!1})});if(!z.ok){const C=await z.json();throw new Error(C.error||"Failed to process payroll")}const h=await z.json();s(f,`Payroll processed successfully! ${h.total_employees} employees processed.`),await Pe()}catch(z){s(_,z.message)}finally{s(mt,!1)}}async function xt(){if(confirm(`Generate 1099 forms for ${e(Le)}? This will create forms for all 1099 contractors.`))try{s(u,!0),s(_,""),s(f,"");const g=await fetch(`/api/payroll/1099/generate/${e(Le)}`,{method:"POST",headers:{Authorization:`Bearer ${i().token}`}});if(!g.ok){const h=await g.json();throw new Error(h.error||"Failed to generate 1099 forms")}const z=await g.json();s(f,z.message||`${z.count} 1099 forms generated`),await qt()}catch(g){s(_,g.message)}finally{s(u,!1)}}async function qt(){try{s(u,!0),s(_,"");const g=await fetch(`/api/payroll/1099/${e(Le)}`,{headers:{Authorization:`Bearer ${i().token}`}});if(!g.ok)throw new Error("Failed to load 1099 forms");const z=await g.json();s(wt,z.forms||[])}catch(g){s(_,g.message)}finally{s(u,!1)}}function at(g){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g)}function Be(g){return g?new Date(g).toLocaleDateString():"N/A"}function ut(g){return(g*100).toFixed(2)+"%"}function Q(g){return{draft:"badge-info",processing:"badge-warning",processed:"badge-success",failed:"badge-error"}[g]||"badge-ghost"}function Oe(){e(j)&&s(P,{employment_type:e(j).employment_type,pay_type:e(j).pay_type,hourly_rate:e(j).hourly_rate||0,annual_salary:e(j).annual_salary||0,pay_frequency:e(j).pay_frequency,overtime_eligible:e(j).overtime_eligible,standard_hours_per_week:e(j).standard_hours_per_week}),s($,!0)}function Ke(){e(A)&&s(J,{filing_status:e(A).filing_status,federal_allowances:e(A).federal_allowances,state_allowances:e(A).state_allowances,additional_withholding:e(A).additional_withholding,exempt_federal:e(A).exempt_federal,exempt_state:e(A).exempt_state,exempt_fica:e(A).exempt_fica}),s(ce,!0)}ea(()=>{s(T,i().user?.role==="admin"),vt(),nt(),e(j)?.employment_type==="W2"&&zt(),e(T)&&Pe()}),Ht(()=>e(k),()=>{s(d,e(k)?e(k).pay_stub.federal_tax+e(k).pay_stub.state_tax+e(k).pay_stub.social_security+e(k).pay_stub.medicare:0)}),Ht(()=>e(k),()=>{s(y,e(k)?e(k).pay_stub.other_deductions+e(k).pay_stub.benefits_deductions:0)}),ss(),za();var rt=Md(),ot=lt(rt),kt=a(t(ot),2);{var Fe=g=>{var z=Zv(),h=t(z),C=t(h),I=a(h,2);E(()=>o(C,e(_))),ve("click",I,()=>s(_,"")),v(g,z)};w(kt,g=>{e(_)&&g(Fe)})}var Ye=a(kt,2);{var _t=g=>{var z=Qv(),h=t(z),C=t(h),I=a(h,2);E(()=>o(C,e(f))),ve("click",I,()=>s(f,"")),v(g,z)};w(Ye,g=>{e(f)&&g(_t)})}var St=a(Ye,2),ft=t(St),pt=a(ft,2),bt=a(pt,2);{var ye=g=>{var z=ed();E(()=>tt(z,1,`tab ${e(x)==="tax-withholding"?"tab-active":""}`,"svelte-1rpegun")),ve("click",z,()=>s(x,"tax-withholding")),v(g,z)};w(bt,g=>{e(j),n(()=>e(j)?.employment_type==="W2")&&g(ye)})}var b=a(bt,2);{var S=g=>{var z=td();E(()=>tt(z,1,`tab ${e(x)==="admin"?"tab-active":""}`,"svelte-1rpegun")),ve("click",z,()=>s(x,"admin")),v(g,z)};w(b,g=>{e(T)&&g(S)})}var ee=a(St,2),me=t(ee);{var je=g=>{var z=od(),h=a(t(z),2);{var C=R=>{var V=ad();v(R,V)},I=R=>{var V=Ct(),K=lt(V);{var ie=Y=>{var W=sd();v(Y,W)},H=Y=>{var W=id();ht(W,5,()=>e(B),yt,(U,te)=>{var pe=rd(),fe=t(pe),G=a(t(fe),2),he=t(G),ze=t(he),Ee=a(he,2),De=t(Ee),xe=a(fe,2),q=t(xe),F=a(t(q),2),ae=t(F),X=a(q,2),ne=a(t(X),2),Re=t(ne),$e=a(X,2),ue=a(t($e),2),ge=t(ue),We=a($e,2);{var Se=Me=>{var Ae=ld(),be=a(t(Ae),2),gt=t(be);E($t=>o(gt,`${$t??""} hrs`),[()=>(e(te),n(()=>e(te).hours_worked.toFixed(2)))]),v(Me,Ae)};w(We,Me=>{e(te),n(()=>e(te).hours_worked)&&Me(Se)})}var Ce=a(xe,2),ct=t(Ce),ke=a(ct,2);E((Me,Ae,be,gt,$t)=>{o(ze,Me),o(De,Ae),o(ae,be),o(Re,`-${gt??""}`),o(ge,`-${$t??""}`)},[()=>(e(te),n(()=>at(e(te).net_pay))),()=>(e(te),n(()=>Be(e(te).created_at))),()=>(e(te),n(()=>at(e(te).gross_pay))),()=>(e(te),n(()=>at(e(te).federal_tax+e(te).state_tax+e(te).social_security+e(te).medicare))),()=>(e(te),n(()=>at(e(te).other_deductions+e(te).benefits_deductions)))]),ve("click",ct,()=>Ue(e(te).id)),ve("click",ke,()=>_e(e(te).id)),v(U,pe)}),v(Y,W)};w(K,Y=>{e(B),n(()=>e(B).length===0)?Y(ie):Y(H,!1)},!0)}v(R,V)};w(h,R=>{e(u)?R(C):R(I,!1)})}v(g,z)};w(me,g=>{e(x)==="paystubs"&&g(je)})}var qe=a(me,2);{var Te=g=>{var z=ud(),h=t(z),C=a(t(h),2),I=t(C),R=a(h,2);{var V=ie=>{var H=dd(),Y=t(H),W=t(Y),U=a(t(W),2),te=t(U),pe=a(W,2),fe=a(t(pe),2),G=t(fe),he=a(pe,2);{var ze=Ce=>{var ct=nd(),ke=a(t(ct),2),Me=t(ke);E(Ae=>o(Me,`${Ae??""}/hr`),[()=>(e(j),n(()=>at(e(j).hourly_rate)))]),v(Ce,ct)};w(he,Ce=>{e(j),n(()=>e(j).hourly_rate)&&Ce(ze)})}var Ee=a(he,2);{var De=Ce=>{var ct=vd(),ke=a(t(ct),2),Me=t(ke);E(Ae=>o(Me,Ae),[()=>(e(j),n(()=>at(e(j).annual_salary)))]),v(Ce,ct)};w(Ee,Ce=>{e(j),n(()=>e(j).annual_salary)&&Ce(De)})}var xe=a(Ee,2),q=a(t(xe),2),F=t(q),ae=a(xe,2),X=a(t(ae),2),ne=t(X),Re=a(ae,2),$e=a(t(Re),2),ue=t($e),ge=a(Re,2),We=a(t(ge),2),Se=t(We);E((Ce,ct,ke)=>{tt(U,1,`info-value badge badge-${e(j),n(()=>e(j).employment_type==="W2"?"success":"info")??""}`,"svelte-1rpegun"),o(te,(e(j),n(()=>e(j).employment_type))),o(G,Ce),o(F,ct),o(ne,(e(j),n(()=>e(j).overtime_eligible?"Yes":"No"))),o(ue,(e(j),n(()=>e(j).standard_hours_per_week))),o(Se,ke)},[()=>(e(j),n(()=>e(j).pay_type.charAt(0).toUpperCase()+e(j).pay_type.slice(1))),()=>(e(j),n(()=>e(j).pay_frequency.charAt(0).toUpperCase()+e(j).pay_frequency.slice(1))),()=>(e(j),n(()=>Be(e(j).effective_date)))]),v(ie,H)},K=ie=>{var H=cd(),Y=a(t(H),4);ve("click",Y,()=>s($,!0)),v(ie,H)};w(R,ie=>{e(j)?ie(V):ie(K,!1)})}E(()=>o(I,`${e(j)?"Update":"Set Up"} Compensation`)),ve("click",C,Oe),v(g,z)};w(qe,g=>{e(x)==="compensation"&&g(Te)})}var Ie=a(qe,2);{var Ne=g=>{var z=fd(),h=t(z),C=a(t(h),2),I=t(C),R=a(h,2);{var V=ie=>{var H=pd(),Y=t(H),W=t(Y),U=a(t(W),2),te=t(U),pe=a(W,2),fe=a(t(pe),2),G=t(fe),he=a(pe,2),ze=a(t(he),2),Ee=t(ze),De=a(he,2),xe=a(t(De),2),q=t(xe),F=a(De,2),ae=a(t(F),2),X=t(ae),ne=a(F,2),Re=a(t(ne),2),$e=t(Re),ue=a(ne,2),ge=a(t(ue),2),We=t(ge);E((Se,Ce)=>{o(te,Se),o(G,(e(A),n(()=>e(A).federal_allowances))),o(Ee,(e(A),n(()=>e(A).state_allowances))),o(q,Ce),tt(ae,1,`info-value badge badge-${e(A),n(()=>e(A).exempt_federal?"warning":"ghost")??""}`,"svelte-1rpegun"),o(X,(e(A),n(()=>e(A).exempt_federal?"Yes":"No"))),tt(Re,1,`info-value badge badge-${e(A),n(()=>e(A).exempt_state?"warning":"ghost")??""}`,"svelte-1rpegun"),o($e,(e(A),n(()=>e(A).exempt_state?"Yes":"No"))),tt(ge,1,`info-value badge badge-${e(A),n(()=>e(A).exempt_fica?"warning":"ghost")??""}`,"svelte-1rpegun"),o(We,(e(A),n(()=>e(A).exempt_fica?"Yes":"No")))},[()=>(e(A),n(()=>e(A).filing_status.split("_").map(Se=>Se.charAt(0).toUpperCase()+Se.slice(1)).join(" "))),()=>(e(A),n(()=>at(e(A).additional_withholding)))]),v(ie,H)},K=ie=>{var H=_d(),Y=a(t(H),4);ve("click",Y,()=>s(ce,!0)),v(ie,H)};w(R,ie=>{e(A)?ie(V):ie(K,!1)})}E(()=>o(I,`${e(A)?"Update":"Set Up"} Tax Withholding`)),ve("click",C,Ke),v(g,z)};w(Ie,g=>{e(x)==="tax-withholding"&&g(Ne)})}var He=a(Ie,2);{var oe=g=>{var z=wd(),h=t(z),C=t(h),I=a(t(C),2),R=a(C,2),V=t(R),K=a(t(V));ht(K,5,()=>e(re),yt,(fe,G)=>{var he=bd(),ze=t(he),Ee=t(ze),De=a(ze),xe=t(De),q=a(De),F=t(q),ae=t(F),X=a(q),ne=t(X),Re=a(X),$e=t(Re);{var ue=ge=>{var We=md(),Se=t(We);E(()=>{We.disabled=e(mt),o(Se,e(mt)?"Processing...":"Process")}),ve("click",We,()=>it(e(G).id)),v(ge,We)};w($e,ge=>{e(G),n(()=>e(G).status==="draft")&&ge(ue)})}E((ge,We,Se,Ce,ct)=>{o(Ee,`${ge??""} - ${We??""}`),o(xe,Se),tt(F,1,`badge ${Ce??""}`,"svelte-1rpegun"),o(ae,(e(G),n(()=>e(G).status))),o(ne,ct)},[()=>(e(G),n(()=>Be(e(G).start_date))),()=>(e(G),n(()=>Be(e(G).end_date))),()=>(e(G),n(()=>Be(e(G).pay_date))),()=>(e(G),n(()=>Q(e(G).status))),()=>(e(G),n(()=>e(G).processed_at?Be(e(G).processed_at):"-"))]),v(fe,he)});var ie=a(h,2),H=t(ie),Y=a(t(H),2),W=t(Y);E(()=>{e(Le),Tt(()=>{})}),ht(W,4,()=>n(()=>Array(5).fill(0).map((fe,G)=>new Date().getFullYear()-G)),yt,(fe,G)=>{var he=hd(),ze=t(he),Ee={};E(()=>{o(ze,G),Ee!==(Ee=G)&&(he.value=(he.__value=G)??"")}),v(fe,he)});var U=a(W,2),te=t(U),pe=a(H,2);ht(pe,5,()=>e(wt),yt,(fe,G)=>{var he=xd(),ze=t(he),Ee=t(ze),De=t(Ee),xe=a(Ee,2),q=t(xe),F=a(ze,2),ae=t(F),X=a(F,2),ne=t(X);{var Re=ue=>{var ge=yd(),We=t(ge);E(Se=>o(We,`Filed ${Se??""}`),[()=>(e(G),n(()=>Be(e(G).filed_date)))]),v(ue,ge)},$e=ue=>{var ge=gd();v(ue,ge)};w(ne,ue=>{e(G),n(()=>e(G).filed_date)?ue(Re):ue($e,!1)})}E((ue,ge)=>{o(De,`1099-NEC ${e(G),n(()=>e(G).tax_year)??""}`),tt(xe,1,`badge ${ue??""}`,"svelte-1rpegun"),o(q,(e(G),n(()=>e(G).status))),o(ae,ge)},[()=>(e(G),n(()=>Q(e(G).status))),()=>(e(G),n(()=>at(e(G).total_payments)))]),v(fe,he)}),E(()=>o(te,`Generate ${e(Le)??""} Forms`)),ve("click",I,()=>s(et,!0)),At(W,()=>e(Le),fe=>s(Le,fe)),ve("click",U,xt),v(g,z)};w(He,g=>{e(x)==="admin"&&e(T)&&g(oe)})}var de=a(ot,2);{var le=g=>{var z=qd(),h=t(z),C=t(h),I=a(t(C),2),R=a(C,2),V=t(R),K=t(V),ie=a(t(K),2),H=t(ie),Y=a(K,2),W=a(t(Y),2),U=t(W),te=a(Y,2),pe=a(t(te),2),fe=t(pe),G=a(te,2),he=a(t(G),2),ze=t(he),Ee=a(V,2);{var De=Me=>{var Ae=$d(),be=a(t(Ae),2),gt=a(t(be));ht(gt,5,()=>(e(k),n(()=>e(k).earnings)),yt,($t,Je)=>{var Pt=kd(),jt=t(Pt),Mt=t(jt),Dt=a(jt),Ot=t(Dt),Bt=a(Dt),Ut=t(Bt),Ft=a(Bt),Et=t(Ft),Wt=a(Ft),Xt=t(Wt);E((sa,Qt,ua)=>{o(Mt,(e(Je),n(()=>e(Je).earning_type))),o(Ot,(e(Je),n(()=>e(Je).description))),o(Ut,sa),o(Et,Qt),o(Xt,ua)},[()=>(e(Je),n(()=>e(Je).hours?e(Je).hours.toFixed(2):"-")),()=>(e(Je),n(()=>e(Je).rate?at(e(Je).rate):"-")),()=>(e(Je),n(()=>at(e(Je).amount)))]),v($t,Pt)}),v(Me,Ae)};w(Ee,Me=>{e(k),n(()=>e(k).earnings.length>0)&&Me(De)})}var xe=a(Ee,2);{var q=Me=>{var Ae=Sd(),be=a(t(Ae),2),gt=a(t(be));ht(gt,5,()=>(e(k),n(()=>e(k).taxes)),yt,($t,Je)=>{var Pt=Ed(),jt=t(Pt),Mt=t(jt),Dt=a(jt),Ot=t(Dt),Bt=a(Dt),Ut=t(Bt),Ft=a(Bt),Et=t(Ft),Wt=a(Ft),Xt=t(Wt);E((sa,Qt,ua)=>{o(Mt,(e(Je),n(()=>e(Je).tax_type))),o(Ot,(e(Je),n(()=>e(Je).description))),o(Ut,sa),o(Et,Qt),o(Xt,ua)},[()=>(e(Je),n(()=>at(e(Je).taxable_wage))),()=>(e(Je),n(()=>e(Je).tax_rate?ut(e(Je).tax_rate):"-")),()=>(e(Je),n(()=>at(e(Je).amount)))]),v($t,Pt)}),v(Me,Ae)};w(xe,Me=>{e(k),n(()=>e(k).taxes.length>0)&&Me(q)})}var F=a(xe,2);{var ae=Me=>{var Ae=jd(),be=a(t(Ae),2),gt=a(t(be));ht(gt,5,()=>(e(k),n(()=>e(k).deductions)),yt,($t,Je)=>{var Pt=zd(),jt=t(Pt),Mt=t(jt),Dt=a(jt),Ot=t(Dt),Bt=a(Dt),Ut=t(Bt),Ft=a(Bt),Et=t(Ft);E(Wt=>{o(Mt,(e(Je),n(()=>e(Je).deduction_type))),o(Ot,(e(Je),n(()=>e(Je).description))),o(Ut,(e(Je),n(()=>e(Je).pre_tax?"Yes":"No"))),o(Et,Wt)},[()=>(e(Je),n(()=>at(e(Je).amount)))]),v($t,Pt)}),v(Me,Ae)};w(F,Me=>{e(k),n(()=>e(k).deductions.length>0)&&Me(ae)})}var X=a(F,2),ne=a(t(X),2),Re=t(ne),$e=a(t(Re),2),ue=t($e),ge=a(Re,2),We=a(t(ge),2),Se=t(We),Ce=a(R,2),ct=t(Ce),ke=a(ct,2);E((Me,Ae,be,gt,$t,Je)=>{o(H,Me),o(U,`-${Ae??""}`),o(fe,`-${be??""}`),o(ze,gt),o(ue,$t),o(Se,Je)},[()=>(e(k),n(()=>at(e(k).pay_stub.gross_pay))),()=>(e(d),n(()=>at(e(d)))),()=>(e(y),n(()=>at(e(y)))),()=>(e(k),n(()=>at(e(k).pay_stub.net_pay))),()=>(e(k),n(()=>at(e(k).ytd_gross_pay))),()=>(e(k),n(()=>at(e(k).ytd_net_pay)))]),ve("click",I,()=>s(N,!1)),ve("click",ct,()=>_e(e(k).pay_stub.id)),ve("click",ke,()=>s(N,!1)),ve("click",h,Gt(function(Me){Zt.call(this,r,Me)})),ve("keydown",h,Gt(function(Me){Zt.call(this,r,Me)})),ve("click",z,()=>s(N,!1)),ve("keydown",z,Me=>Me.key==="Escape"&&s(N,!1)),v(g,z)};w(de,g=>{e(N)&&e(k)&&g(le)})}var we=a(de,2);{var se=g=>{var z=Dd(),h=t(z),C=a(t(h),2),I=t(C),R=a(t(I),2);E(()=>{e(P),Tt(()=>{})});var V=t(R);V.value=V.__value="W2";var K=a(V);K.value=K.__value="1099";var ie=a(I,2),H=a(t(ie),2);E(()=>{e(P),Tt(()=>{})});var Y=t(H);Y.value=Y.__value="hourly";var W=a(Y);W.value=W.__value="salary";var U=a(W);U.value=U.__value="commission";var te=a(ie,2);{var pe=Se=>{var Ce=Cd(),ct=a(t(Ce),2);Ze(ct,()=>e(P).hourly_rate,ke=>st(P,e(P).hourly_rate=ke)),v(Se,Ce)};w(te,Se=>{e(P),n(()=>e(P).pay_type==="hourly")&&Se(pe)})}var fe=a(te,2);{var G=Se=>{var Ce=Ad(),ct=a(t(Ce),2);Ze(ct,()=>e(P).annual_salary,ke=>st(P,e(P).annual_salary=ke)),v(Se,Ce)};w(fe,Se=>{e(P),n(()=>e(P).pay_type==="salary")&&Se(G)})}var he=a(fe,2),ze=a(t(he),2);E(()=>{e(P),Tt(()=>{})});var Ee=t(ze);Ee.value=Ee.__value="weekly";var De=a(Ee);De.value=De.__value="biweekly";var xe=a(De);xe.value=xe.__value="semimonthly";var q=a(xe);q.value=q.__value="monthly";var F=a(he,2),ae=a(t(F),2),X=a(F,2),ne=t(X),Re=a(t(ne),2),$e=a(X,2),ue=t($e),ge=t(ue),We=a(ue,2);E(()=>{ue.disabled=e(u),o(ge,e(u)?"Saving...":"Save")}),At(R,()=>e(P).employment_type,Se=>st(P,e(P).employment_type=Se)),At(H,()=>e(P).pay_type,Se=>st(P,e(P).pay_type=Se)),At(ze,()=>e(P).pay_frequency,Se=>st(P,e(P).pay_frequency=Se)),Ze(ae,()=>e(P).standard_hours_per_week,Se=>st(P,e(P).standard_hours_per_week=Se)),os(Re,()=>e(P).overtime_eligible,Se=>st(P,e(P).overtime_eligible=Se)),ve("click",We,()=>s($,!1)),ve("submit",C,js(dt)),ve("click",h,Gt(function(Se){Zt.call(this,r,Se)})),ve("keydown",h,Gt(function(Se){Zt.call(this,r,Se)})),ve("click",z,()=>s($,!1)),ve("keydown",z,Se=>Se.key==="Escape"&&s($,!1)),v(g,z)};w(we,g=>{e($)&&g(se)})}var M=a(we,2);{var O=g=>{var z=Pd(),h=t(z),C=a(t(h),2),I=t(C),R=a(t(I),2);E(()=>{e(J),Tt(()=>{})});var V=t(R);V.value=V.__value="single";var K=a(V);K.value=K.__value="married";var ie=a(K);ie.value=ie.__value="head_of_household";var H=a(I,2),Y=t(H),W=a(t(Y),2),U=a(Y,2),te=a(t(U),2),pe=a(H,2),fe=a(t(pe),2),G=a(pe,2),he=t(G),ze=a(t(he),2),Ee=a(G,2),De=t(Ee),xe=a(t(De),2),q=a(Ee,2),F=t(q),ae=a(t(F),2),X=a(q,2),ne=t(X),Re=t(ne),$e=a(ne,2);E(()=>{ne.disabled=e(u),o(Re,e(u)?"Saving...":"Save")}),At(R,()=>e(J).filing_status,ue=>st(J,e(J).filing_status=ue)),Ze(W,()=>e(J).federal_allowances,ue=>st(J,e(J).federal_allowances=ue)),Ze(te,()=>e(J).state_allowances,ue=>st(J,e(J).state_allowances=ue)),Ze(fe,()=>e(J).additional_withholding,ue=>st(J,e(J).additional_withholding=ue)),os(ze,()=>e(J).exempt_federal,ue=>st(J,e(J).exempt_federal=ue)),os(xe,()=>e(J).exempt_state,ue=>st(J,e(J).exempt_state=ue)),os(ae,()=>e(J).exempt_fica,ue=>st(J,e(J).exempt_fica=ue)),ve("click",$e,()=>s(ce,!1)),ve("submit",C,js(Ve)),ve("click",h,Gt(function(ue){Zt.call(this,r,ue)})),ve("keydown",h,Gt(function(ue){Zt.call(this,r,ue)})),ve("click",z,()=>s(ce,!1)),ve("keydown",z,ue=>ue.key==="Escape"&&s(ce,!1)),v(g,z)};w(M,g=>{e(ce)&&g(O)})}var D=a(M,2);{var L=g=>{var z=Td(),h=t(z),C=a(t(h),2),I=t(C),R=a(t(I),2),V=a(I,2),K=a(t(V),2),ie=a(V,2),H=a(t(ie),2),Y=a(ie,2),W=t(Y),U=t(W),te=a(W,2);E(()=>{W.disabled=e(u),o(U,e(u)?"Creating...":"Create")}),Ze(R,()=>e(Ge).start_date,pe=>st(Ge,e(Ge).start_date=pe)),Ze(K,()=>e(Ge).end_date,pe=>st(Ge,e(Ge).end_date=pe)),Ze(H,()=>e(Ge).pay_date,pe=>st(Ge,e(Ge).pay_date=pe)),ve("click",te,()=>s(et,!1)),ve("submit",C,js(Xe)),ve("click",h,Gt(function(pe){Zt.call(this,r,pe)})),ve("click",z,()=>s(et,!1)),ve("keydown",z,pe=>pe.key==="Escape"&&s(et,!1)),v(g,z)};w(D,g=>{e(et)&&g(L)})}E(()=>{tt(ft,1,`tab ${e(x)==="paystubs"?"tab-active":""}`,"svelte-1rpegun"),tt(pt,1,`tab ${e(x)==="compensation"?"tab-active":""}`,"svelte-1rpegun")}),ve("click",ft,()=>s(x,"paystubs")),ve("click",pt,()=>s(x,"compensation")),v(l,rt),Vt(),m()}var Od=p('<div class="loading svelte-7jlt5n">Loading employee details...</div>'),Fd=p('<div class="error svelte-7jlt5n"> </div>'),Id=p('<div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Manager</label> <div class="svelte-7jlt5n"> </div></div>'),Nd=p('<div class="info-section svelte-7jlt5n"><h3 class="svelte-7jlt5n">Contact Information</h3> <div class="info-grid svelte-7jlt5n"><div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Email</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Phone</label> <div class="svelte-7jlt5n"> </div></div></div> <h3 class="svelte-7jlt5n">Employment Details</h3> <div class="info-grid svelte-7jlt5n"><div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Hire Date</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Status</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Department</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Position</label> <div class="svelte-7jlt5n"> </div></div> <!></div></div>'),Rd=p('<div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Hourly Rate</label> <div class="pay-amount svelte-7jlt5n"> </div></div>'),Ld=p('<div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Annual Salary</label> <div class="pay-amount svelte-7jlt5n"> </div></div>'),Ud=p('<h3 class="svelte-7jlt5n">Current Compensation</h3> <div class="info-grid svelte-7jlt5n"><div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Employment Type</label> <div class="employment-type svelte-7jlt5n"><span> </span></div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Pay Type</label> <div class="svelte-7jlt5n"> </div></div> <!> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Pay Frequency</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Effective Date</label> <div class="svelte-7jlt5n"> </div></div></div>',1),Hd=p('<div class="empty-state svelte-7jlt5n">No compensation information available</div>'),Wd=p('<div class="info-section svelte-7jlt5n"><!></div>'),Jd=p('<div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Employee Contribution</label> <div class="svelte-7jlt5n"> </div></div>'),Vd=p('<div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Employer Contribution</label> <div class="svelte-7jlt5n"> </div></div>'),Yd=p('<div class="benefit-card svelte-7jlt5n"><div class="benefit-header svelte-7jlt5n"><h4 class="svelte-7jlt5n"> </h4> <span> </span></div> <div class="benefit-details svelte-7jlt5n"><div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Type</label> <div class="svelte-7jlt5n"> </div></div> <div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Provider</label> <div class="svelte-7jlt5n"> </div></div> <div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Enrolled</label> <div class="svelte-7jlt5n"> </div></div> <!> <!></div></div>'),Gd=p('<div class="benefits-list svelte-7jlt5n"></div>'),Xd=p('<div class="empty-state svelte-7jlt5n">No benefits enrolled</div>'),Kd=p('<div class="info-section svelte-7jlt5n"><h3 class="svelte-7jlt5n">Enrolled Benefits</h3> <!></div>'),Zd=p('<div class="employee-header svelte-7jlt5n"><div class="employee-name svelte-7jlt5n"><h2 class="svelte-7jlt5n"> </h2> <span> </span></div> <div class="employee-meta svelte-7jlt5n"><span> </span> <span>‚Ä¢</span> <span> </span></div></div> <div class="tabs svelte-7jlt5n"><button>General Information</button> <button>Compensation</button> <button>Benefits</button></div> <div class="tab-content svelte-7jlt5n"><!></div>',1),Qd=p('<div class="employee-detail svelte-7jlt5n"><!></div>');function Hr(l,r){Jt(r,!1);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=ja();let y=ol(r,"employeeId",8),u=Z(null),_=Z(null),f=Z([]),x=Z(!0),T=Z(""),B=Z("general");ea(()=>{k()});async function k(){try{s(x,!0),s(T,"");const J=await fetch(`${d}/employees/${y()}`,{headers:{Authorization:`Bearer ${i().token}`}});if(!J.ok)throw new Error("Failed to load employee");s(u,await J.json());const re=await fetch(`${d}/payroll/compensation/${y()}`,{headers:{Authorization:`Bearer ${i().token}`}});re.ok&&s(_,await re.json());const et=await fetch(`${d}/benefits/employee/${y()}`,{headers:{Authorization:`Bearer ${i().token}`}});et.ok&&s(f,await et.json())}catch(J){s(T,J.message)}finally{s(x,!1)}}function N(J){return{onboarding:"status-onboarding",active:"status-active","on-leave":"status-leave",separated:"status-separated"}[J]||"status-default"}function j(J){return{onboarding:"Onboarding",active:"Active","on-leave":"On Leave",separated:"Separated"}[J]||J}za();var $=Qd(),P=t($);{var A=J=>{var re=Od();v(J,re)},ce=J=>{var re=Ct(),et=lt(re);{var Ge=wt=>{var Le=Fd(),vt=t(Le);E(()=>o(vt,e(T))),v(wt,Le)},mt=wt=>{var Le=Ct(),vt=lt(Le);{var Ue=_e=>{var nt=Zd(),dt=lt(nt),zt=t(dt),Ve=t(zt),Pe=t(Ve),Xe=a(Ve,2),it=t(Xe),xt=a(zt,2),qt=t(xt),at=t(qt),Be=a(qt,4),ut=t(Be),Q=a(dt,2),Oe=t(Q);let Ke;Oe.__click=()=>s(B,"general");var rt=a(Oe,2);let ot;rt.__click=()=>s(B,"compensation");var kt=a(rt,2);let Fe;kt.__click=()=>s(B,"benefits");var Ye=a(Q,2),_t=t(Ye);{var St=pt=>{var bt=Nd(),ye=a(t(bt),2),b=t(ye),S=a(t(b),2),ee=t(S),me=a(b,2),je=a(t(me),2),qe=t(je),Te=a(ye,4),Ie=t(Te),Ne=a(t(Ie),2),He=t(Ne),oe=a(Ie,2),de=a(t(oe),2),le=t(de),we=a(oe,2),se=a(t(we),2),M=t(se),O=a(we,2),D=a(t(O),2),L=t(D),g=a(O,2);{var z=h=>{var C=Id(),I=a(t(C),2),R=t(I);E(()=>o(R,(e(u),n(()=>e(u).manager_name)))),v(h,C)};w(g,h=>{e(u),n(()=>e(u).manager_name)&&h(z)})}E((h,C)=>{o(ee,(e(u),n(()=>e(u).email))),o(qe,(e(u),n(()=>e(u).phone||"Not provided"))),o(He,h),o(le,C),o(M,(e(u),n(()=>e(u).department))),o(L,(e(u),n(()=>e(u).position)))},[()=>(e(u),n(()=>new Date(e(u).hire_date).toLocaleDateString())),()=>(e(u),n(()=>j(e(u).status)))]),v(pt,bt)},ft=pt=>{var bt=Ct(),ye=lt(bt);{var b=ee=>{var me=Wd(),je=t(me);{var qe=Ie=>{var Ne=Ud(),He=a(lt(Ne),2),oe=t(He),de=a(t(oe),2),le=t(de),we=t(le),se=a(oe,2),M=a(t(se),2),O=t(M),D=a(se,2);{var L=K=>{var ie=Rd(),H=a(t(ie),2),Y=t(H);E(W=>o(Y,`$${W??""}/hr`),[()=>(e(_),n(()=>e(_).hourly_rate?.toFixed(2)))]),v(K,ie)},g=K=>{var ie=Ld(),H=a(t(ie),2),Y=t(H);E(W=>o(Y,`$${W??""}/year`),[()=>(e(_),n(()=>e(_).annual_salary?.toLocaleString()))]),v(K,ie)};w(D,K=>{e(_),n(()=>e(_).pay_type==="hourly")?K(L):K(g,!1)})}var z=a(D,2),h=a(t(z),2),C=t(h),I=a(z,2),R=a(t(I),2),V=t(R);E(K=>{tt(le,1,`badge badge-${e(_),n(()=>e(_).employment_type)??""}`,"svelte-7jlt5n"),o(we,(e(_),n(()=>e(_).employment_type))),o(O,(e(_),n(()=>e(_).pay_type==="hourly"?"Hourly":"Salary"))),o(C,(e(_),n(()=>e(_).pay_frequency))),o(V,K)},[()=>(e(_),n(()=>new Date(e(_).effective_date).toLocaleDateString()))]),v(Ie,Ne)},Te=Ie=>{var Ne=Hd();v(Ie,Ne)};w(je,Ie=>{e(_)?Ie(qe):Ie(Te,!1)})}v(ee,me)},S=ee=>{var me=Ct(),je=lt(me);{var qe=Te=>{var Ie=Kd(),Ne=a(t(Ie),2);{var He=de=>{var le=Gd();ht(le,5,()=>e(f),yt,(we,se)=>{var M=Yd(),O=t(M),D=t(O),L=t(D),g=a(D,2),z=t(g),h=a(O,2),C=t(h),I=a(t(C),2),R=t(I),V=a(C,2),K=a(t(V),2),ie=t(K),H=a(V,2),Y=a(t(H),2),W=t(Y),U=a(H,2);{var te=G=>{var he=Jd(),ze=a(t(he),2),Ee=t(ze);E(()=>o(Ee,`$${e(se),n(()=>e(se).employee_contribution)??""}/month`)),v(G,he)};w(U,G=>{e(se),n(()=>e(se).employee_contribution)&&G(te)})}var pe=a(U,2);{var fe=G=>{var he=Vd(),ze=a(t(he),2),Ee=t(ze);E(()=>o(Ee,`$${e(se),n(()=>e(se).employer_contribution)??""}/month`)),v(G,he)};w(pe,G=>{e(se),n(()=>e(se).employer_contribution)&&G(fe)})}E(G=>{o(L,(e(se),n(()=>e(se).name))),tt(g,1,`benefit-status status-${e(se),n(()=>e(se).status)??""}`,"svelte-7jlt5n"),o(z,(e(se),n(()=>e(se).status))),o(R,(e(se),n(()=>e(se).type))),o(ie,(e(se),n(()=>e(se).provider))),o(W,G)},[()=>(e(se),n(()=>new Date(e(se).enrolled_date).toLocaleDateString()))]),v(we,M)}),v(de,le)},oe=de=>{var le=Xd();v(de,le)};w(Ne,de=>{e(f),n(()=>e(f).length>0)?de(He):de(oe,!1)})}v(Te,Ie)};w(je,Te=>{e(B)==="benefits"&&Te(qe)},!0)}v(ee,me)};w(ye,ee=>{e(B)==="compensation"?ee(b):ee(S,!1)},!0)}v(pt,bt)};w(_t,pt=>{e(B)==="general"?pt(St):pt(ft,!1)})}E((pt,bt)=>{o(Pe,`${e(u),n(()=>e(u).first_name)??""} ${e(u),n(()=>e(u).last_name)??""}`),tt(Xe,1,`status-badge ${pt??""}`,"svelte-7jlt5n"),o(it,bt),o(at,(e(u),n(()=>e(u).position))),o(ut,(e(u),n(()=>e(u).department))),Ke=tt(Oe,1,"tab svelte-7jlt5n",null,Ke,{active:e(B)==="general"}),ot=tt(rt,1,"tab svelte-7jlt5n",null,ot,{active:e(B)==="compensation"}),Fe=tt(kt,1,"tab svelte-7jlt5n",null,Fe,{active:e(B)==="benefits"})},[()=>(e(u),n(()=>N(e(u).status))),()=>(e(u),n(()=>j(e(u).status)))]),v(_e,nt)};w(vt,_e=>{e(u)&&_e(Ue)},!0)}v(wt,Le)};w(et,wt=>{e(T)?wt(Ge):wt(mt,!1)},!0)}v(J,re)};w(P,J=>{e(x)?J(A):J(ce,!1)})}v(l,$),Vt(),m()}ba(["click"]);var ec=p('<div class="loading svelte-tf0mkw">Loading workflows...</div>'),tc=p('<div class="error svelte-tf0mkw"> </div>'),ac=p('<div class="empty-state svelte-tf0mkw">No workflows created yet. Use a template above to get started!</div>'),sc=p('<div class="workflow-card svelte-tf0mkw"><div class="workflow-header svelte-tf0mkw"><div><h4 class="svelte-tf0mkw"> </h4> <span class="workflow-type svelte-tf0mkw"> </span></div> <span> </span></div> <p class="workflow-description svelte-tf0mkw"> </p> <div class="workflow-meta svelte-tf0mkw"><span> </span> <span>‚Ä¢</span> <span> </span></div> <div class="workflow-actions svelte-tf0mkw"><button class="btn-secondary svelte-tf0mkw">Edit</button> <button class="btn-danger svelte-tf0mkw">Delete</button></div></div>'),lc=p('<div class="workflows-grid svelte-tf0mkw"></div>'),rc=p('<div class="quick-actions svelte-tf0mkw"><h3 class="svelte-tf0mkw">Workflow Templates</h3> <div class="template-buttons svelte-tf0mkw"><button class="btn-template onboarding svelte-tf0mkw"><span class="icon svelte-tf0mkw">üëã</span> <span class="svelte-tf0mkw">New Hire Onboarding</span></button> <button class="btn-template offboarding svelte-tf0mkw"><span class="icon svelte-tf0mkw">üëã</span> <span class="svelte-tf0mkw">Employee Offboarding</span></button> <button class="btn-template performance svelte-tf0mkw"><span class="icon svelte-tf0mkw">üìä</span> <span class="svelte-tf0mkw">Performance Review</span></button> <button class="btn-template custom svelte-tf0mkw"><span class="icon svelte-tf0mkw">‚ûï</span> <span class="svelte-tf0mkw">Custom Workflow</span></button></div></div> <div class="workflows-list svelte-tf0mkw"><h3 class="svelte-tf0mkw"> </h3> <!></div>',1),ic=p('<div class="error-banner svelte-tf0mkw"> </div>'),oc=p("<option> </option>"),nc=p('<div class="empty-state svelte-tf0mkw">No steps added yet. Click "Add Step" to create your first step.</div>'),vc=p('<span class="badge badge-required svelte-tf0mkw">Required</span>'),dc=p('<span class="badge badge-auto svelte-tf0mkw">Auto</span>'),cc=p("<span>‚Ä¢</span> <span> </span>",1),uc=p('<div class="step-card svelte-tf0mkw"><div class="step-order svelte-tf0mkw"><span class="svelte-tf0mkw"> </span> <div class="step-controls svelte-tf0mkw"><button class="btn-icon svelte-tf0mkw">‚ñ≤</button> <button class="btn-icon svelte-tf0mkw">‚ñº</button></div></div> <div class="step-content svelte-tf0mkw"><div class="step-header svelte-tf0mkw"><h4 class="svelte-tf0mkw"> </h4> <div class="step-badges svelte-tf0mkw"><span class="badge badge-type svelte-tf0mkw"> </span> <!> <!></div></div> <p class="step-description svelte-tf0mkw"> </p> <div class="step-meta svelte-tf0mkw"><span> </span> <!></div></div> <div class="step-actions svelte-tf0mkw"><button class="btn-icon svelte-tf0mkw">‚úèÔ∏è</button> <button class="btn-icon svelte-tf0mkw">üóëÔ∏è</button></div></div>'),pc=p('<div class="steps-list svelte-tf0mkw"></div>'),_c=p('<div class="modal-overlay svelte-tf0mkw" role="button" tabindex="0"><div class="modal large svelte-tf0mkw" role="dialog" aria-modal="true"><div class="modal-header svelte-tf0mkw"><h2 class="svelte-tf0mkw"> </h2> <button class="close-btn svelte-tf0mkw">√ó</button></div> <div class="modal-body svelte-tf0mkw"><!> <div class="form-section svelte-tf0mkw"><h3 class="svelte-tf0mkw">Workflow Details</h3> <div class="form-grid svelte-tf0mkw"><div class="form-group svelte-tf0mkw"><label for="workflow-name" class="svelte-tf0mkw">Workflow Name *</label> <input id="workflow-name" type="text" placeholder="e.g., New Employee Onboarding" required class="svelte-tf0mkw"/></div> <div class="form-group svelte-tf0mkw"><label for="workflow-type" class="svelte-tf0mkw">Workflow Type *</label> <select id="workflow-type" class="svelte-tf0mkw"></select></div> <div class="form-group full-width svelte-tf0mkw"><label for="workflow-description" class="svelte-tf0mkw">Description</label> <textarea id="workflow-description" placeholder="Describe the purpose and scope of this workflow" rows="3" class="svelte-tf0mkw"></textarea></div> <div class="form-group svelte-tf0mkw"><label for="workflow-status" class="svelte-tf0mkw">Status</label> <select id="workflow-status" class="svelte-tf0mkw"><option>Active</option><option>Inactive</option><option>Draft</option></select></div></div></div> <div class="form-section svelte-tf0mkw"><div class="section-header svelte-tf0mkw"><h3 class="svelte-tf0mkw"> </h3> <button class="btn-primary btn-sm svelte-tf0mkw">+ Add Step</button></div> <!></div></div> <div class="modal-footer svelte-tf0mkw"><button class="btn-secondary svelte-tf0mkw">Cancel</button> <button class="btn-primary svelte-tf0mkw"> </button></div></div></div>'),fc=p("<option> </option>"),mc=p("<option> </option>"),bc=p('<div class="modal-overlay svelte-tf0mkw" role="button" tabindex="0"><div class="modal svelte-tf0mkw" role="dialog" aria-modal="true"><div class="modal-header svelte-tf0mkw"><h2 class="svelte-tf0mkw"> </h2> <button class="close-btn svelte-tf0mkw">√ó</button></div> <div class="modal-body svelte-tf0mkw"><div class="form-grid svelte-tf0mkw"><div class="form-group svelte-tf0mkw"><label for="step-order" class="svelte-tf0mkw">Step Order</label> <input id="step-order" type="number" min="1" required class="svelte-tf0mkw"/></div> <div class="form-group svelte-tf0mkw"><label for="step-type" class="svelte-tf0mkw">Step Type *</label> <select id="step-type" required class="svelte-tf0mkw"></select></div> <div class="form-group full-width svelte-tf0mkw"><label for="step-name" class="svelte-tf0mkw">Step Name *</label> <input id="step-name" type="text" placeholder="e.g., Complete I-9 Form" required class="svelte-tf0mkw"/></div> <div class="form-group full-width svelte-tf0mkw"><label for="step-description" class="svelte-tf0mkw">Description</label> <textarea id="step-description" placeholder="Detailed description of what needs to be done" rows="3" class="svelte-tf0mkw"></textarea></div> <div class="form-group svelte-tf0mkw"><label for="assigned-role" class="svelte-tf0mkw">Assigned To *</label> <select id="assigned-role" required class="svelte-tf0mkw"></select></div> <div class="form-group svelte-tf0mkw"><label for="due-days" class="svelte-tf0mkw">Due Days</label> <input id="due-days" type="number" min="0" placeholder="Days to complete" class="svelte-tf0mkw"/></div> <div class="form-group svelte-tf0mkw"><label class="checkbox-label svelte-tf0mkw"><input type="checkbox" class="svelte-tf0mkw"/> <span>Required Step</span></label></div> <div class="form-group svelte-tf0mkw"><label class="checkbox-label svelte-tf0mkw"><input type="checkbox" class="svelte-tf0mkw"/> <span>Auto-trigger</span></label></div></div></div> <div class="modal-footer svelte-tf0mkw"><button class="btn-secondary svelte-tf0mkw">Cancel</button> <button class="btn-primary svelte-tf0mkw"> </button></div></div></div>'),hc=p('<div class="workflow-manager svelte-tf0mkw"><!></div> <!> <!>',1);function Wr(l,r){Jt(r,!1);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=ja();let y=Z([]),u=Z(!1),_=Z(""),f=Z(!1),x=Z(!1),T=Z(null),B=Z(null),k=Z({name:"",description:"",workflow_type:"onboarding",status:"active"}),N=Z({step_order:1,step_type:"document",step_name:"",description:"",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:3}),j=Z([]);const $=[{value:"onboarding",label:"Onboarding"},{value:"offboarding",label:"Offboarding"},{value:"promotion",label:"Promotion"},{value:"transfer",label:"Transfer"},{value:"performance_review",label:"Performance Review"},{value:"custom",label:"Custom"}],P=[{value:"document",label:"Document Submission"},{value:"approval",label:"Approval Required"},{value:"background_check",label:"Background Check"},{value:"i9_verification",label:"I-9 Verification"},{value:"equipment_setup",label:"Equipment Setup"},{value:"training",label:"Training"},{value:"system_access",label:"System Access"},{value:"meeting",label:"Meeting/Orientation"},{value:"notification",label:"Notification"},{value:"custom",label:"Custom Task"}],A=[{value:"hr",label:"HR"},{value:"manager",label:"Manager"},{value:"it",label:"IT"},{value:"legal",label:"Legal"},{value:"employee",label:"Employee"},{value:"admin",label:"Admin"}];ea(()=>{ce()});async function ce(){try{s(u,!0),s(_,"");const Q=await fetch(`${d}/workflows/templates`,{headers:{Authorization:`Bearer ${i().token}`}});if(!Q.ok){const Ke=await Q.text();throw console.error("Failed to load workflows:",Q.status,Ke),new Error(`Failed to load workflows: ${Q.status}`)}const Oe=await Q.json();s(y,Array.isArray(Oe)?Oe:[])}catch(Q){console.error("Error loading workflows:",Q),s(_,Q.message),s(y,[])}finally{s(u,!1)}}function J(Q){Q?(s(T,Q),s(k,{name:Q.name,description:Q.description,workflow_type:Q.workflow_type,status:Q.status}),s(j,[...Q.steps].sort((Oe,Ke)=>Oe.step_order-Ke.step_order))):(s(T,null),s(k,{name:"",description:"",workflow_type:"onboarding",status:"active"}),s(j,[])),s(f,!0)}function re(){s(f,!1),s(T,null),s(j,[])}function et(Q){Q!=null?(s(B,Q),s(N,{...e(j)[Q]})):(s(B,null),s(N,{step_order:e(j).length+1,step_type:"document",step_name:"",description:"",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:3})),s(x,!0)}function Ge(){s(x,!1),s(B,null)}function mt(){e(B)!==null?st(j,e(j)[e(B)]={...e(N)}):s(j,[...e(j),{...e(N)}]),Ge()}function wt(Q){confirm("Delete this step?")&&(s(j,e(j).filter((Oe,Ke)=>Ke!==Q)),s(j,e(j).map((Oe,Ke)=>({...Oe,step_order:Ke+1}))))}function Le(Q,Oe){const Ke=Oe==="up"?Q-1:Q+1;if(Ke<0||Ke>=e(j).length)return;const rt=e(j)[Q];st(j,e(j)[Q]=e(j)[Ke]),st(j,e(j)[Ke]=rt),s(j,e(j).map((ot,kt)=>({...ot,step_order:kt+1})))}async function vt(){if(!e(k).name.trim()){s(_,"Workflow name is required");return}if(e(j).length===0){s(_,"At least one step is required");return}try{s(u,!0),s(_,"");const Q={...e(k),steps:e(j)},Oe=e(T)?`${d}/workflows/templates/${e(T).id}`:`${d}/workflows/templates`;if(!(await fetch(Oe,{method:e(T)?"PUT":"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(Q)})).ok)throw new Error("Failed to save workflow");await ce(),re()}catch(Q){s(_,Q.message)}finally{s(u,!1)}}async function Ue(Q){if(confirm("Delete this workflow? This cannot be undone."))try{if(s(u,!0),s(_,""),!(await fetch(`${d}/workflows/templates/${Q}`,{method:"DELETE",headers:{Authorization:`Bearer ${i().token}`}})).ok)throw new Error("Failed to delete workflow");await ce()}catch(Oe){s(_,Oe.message)}finally{s(u,!1)}}function _e(Q){return P.find(Oe=>Oe.value===Q)?.label||Q}function nt(Q){return $.find(Oe=>Oe.value===Q)?.label||Q}function dt(Q){return A.find(Oe=>Oe.value===Q)?.label||Q}function zt(Q){switch(Q){case"onboarding":s(k,{name:"New Employee Onboarding",description:"Complete onboarding process for new hires",workflow_type:"onboarding",status:"active"}),s(j,[{step_order:1,step_type:"document",step_name:"Submit Personal Information",description:"Employee submits personal details, emergency contacts",required:!0,auto_trigger:!0,assigned_role:"employee",due_days:1},{step_order:2,step_type:"i9_verification",step_name:"I-9 Verification",description:"Complete I-9 employment eligibility verification",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:3},{step_order:3,step_type:"background_check",step_name:"Background Check",description:"Initiate and complete background check",required:!0,auto_trigger:!0,assigned_role:"hr",due_days:7},{step_order:4,step_type:"equipment_setup",step_name:"IT Equipment Setup",description:"Provision laptop, phone, and accessories",required:!0,auto_trigger:!1,assigned_role:"it",due_days:2},{step_order:5,step_type:"system_access",step_name:"System Access Setup",description:"Create accounts and grant system access",required:!0,auto_trigger:!1,assigned_role:"it",due_days:1},{step_order:6,step_type:"meeting",step_name:"First Day Orientation",description:"Welcome meeting and company orientation",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:0},{step_order:7,step_type:"training",step_name:"Required Training Modules",description:"Complete mandatory training courses",required:!0,auto_trigger:!0,assigned_role:"employee",due_days:5}]);break;case"offboarding":s(k,{name:"Employee Offboarding",description:"Process for departing employees",workflow_type:"offboarding",status:"active"}),s(j,[{step_order:1,step_type:"notification",step_name:"Notify Stakeholders",description:"Inform IT, manager, and relevant teams",required:!0,auto_trigger:!0,assigned_role:"hr",due_days:0},{step_order:2,step_type:"meeting",step_name:"Exit Interview",description:"Conduct exit interview with employee",required:!1,auto_trigger:!1,assigned_role:"hr",due_days:1},{step_order:3,step_type:"system_access",step_name:"Revoke System Access",description:"Remove access to all systems and accounts",required:!0,auto_trigger:!1,assigned_role:"it",due_days:0},{step_order:4,step_type:"equipment_setup",step_name:"Collect Equipment",description:"Retrieve laptop, phone, badge, keys",required:!0,auto_trigger:!1,assigned_role:"it",due_days:0},{step_order:5,step_type:"document",step_name:"Final Paperwork",description:"Complete final payroll, benefits termination",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:3}]);break;case"performance_review":s(k,{name:"Performance Review Process",description:"Annual/quarterly performance review cycle",workflow_type:"performance_review",status:"active"}),s(j,[{step_order:1,step_type:"notification",step_name:"Launch Review Cycle",description:"Notify all participants about review period",required:!0,auto_trigger:!0,assigned_role:"hr",due_days:0},{step_order:2,step_type:"document",step_name:"Self-Assessment",description:"Employee completes self-assessment",required:!0,auto_trigger:!1,assigned_role:"employee",due_days:7},{step_order:3,step_type:"document",step_name:"Manager Review",description:"Manager completes performance evaluation",required:!0,auto_trigger:!1,assigned_role:"manager",due_days:7},{step_order:4,step_type:"meeting",step_name:"Review Meeting",description:"One-on-one discussion of performance",required:!0,auto_trigger:!1,assigned_role:"manager",due_days:3},{step_order:5,step_type:"approval",step_name:"HR Approval",description:"HR reviews and approves final rating",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:2}]);break}J()}za();var Ve=hc(),Pe=lt(Ve),Xe=t(Pe);{var it=Q=>{var Oe=ec();v(Q,Oe)},xt=Q=>{var Oe=Ct(),Ke=lt(Oe);{var rt=kt=>{var Fe=tc(),Ye=t(Fe);E(()=>o(Ye,e(_))),v(kt,Fe)},ot=kt=>{var Fe=rc(),Ye=lt(Fe),_t=a(t(Ye),2),St=t(_t);St.__click=()=>zt("onboarding");var ft=a(St,2);ft.__click=()=>zt("offboarding");var pt=a(ft,2);pt.__click=()=>zt("performance_review");var bt=a(pt,2);bt.__click=()=>J();var ye=a(Ye,2),b=t(ye),S=t(b),ee=a(b,2);{var me=qe=>{var Te=ac();v(qe,Te)},je=qe=>{var Te=lc();ht(Te,5,()=>e(y),yt,(Ie,Ne)=>{var He=sc(),oe=t(He),de=t(oe),le=t(de),we=t(le),se=a(le,2),M=t(se),O=a(de,2),D=t(O),L=a(oe,2),g=t(L),z=a(L,2),h=t(z),C=t(h),I=a(h,4),R=t(I),V=a(z,2),K=t(V);K.__click=()=>J(e(Ne));var ie=a(K,2);ie.__click=()=>Ue(e(Ne).id),E((H,Y)=>{o(we,e(Ne).name),o(M,H),tt(O,1,`status-badge status-${e(Ne).status??""}`,"svelte-tf0mkw"),o(D,e(Ne).status),o(g,e(Ne).description),o(C,`${(e(Ne).steps?.length||0)??""} steps`),o(R,`Created ${Y??""}`)},[()=>nt(e(Ne).workflow_type),()=>new Date(e(Ne).created_at).toLocaleDateString()]),v(Ie,He)}),v(qe,Te)};w(ee,qe=>{e(y).length===0?qe(me):qe(je,!1)})}E(()=>o(S,`Existing Workflows (${e(y).length??""})`)),v(kt,Fe)};w(Ke,kt=>{e(_)&&e(y).length===0?kt(rt):kt(ot,!1)},!0)}v(Q,Oe)};w(Xe,Q=>{e(u)&&e(y).length===0?Q(it):Q(xt,!1)})}var qt=a(Pe,2);{var at=Q=>{var Oe=_c();Oe.__click=re,Oe.__keydown=h=>h.key==="Escape"&&re();var Ke=t(Oe);Ke.__click=h=>h.stopPropagation();var rt=t(Ke),ot=t(rt),kt=t(ot),Fe=a(ot,2);Fe.__click=re;var Ye=a(rt,2),_t=t(Ye);{var St=h=>{var C=ic(),I=t(C);E(()=>o(I,e(_))),v(h,C)};w(_t,h=>{e(_)&&h(St)})}var ft=a(_t,2),pt=a(t(ft),2),bt=t(pt),ye=a(t(bt),2),b=a(bt,2),S=a(t(b),2);E(()=>{e(k),Tt(()=>{})}),ht(S,5,()=>$,yt,(h,C)=>{var I=oc(),R=t(I),V={};E(()=>{o(R,e(C).label),V!==(V=e(C).value)&&(I.value=(I.__value=e(C).value)??"")}),v(h,I)});var ee=a(b,2),me=a(t(ee),2),je=a(ee,2),qe=a(t(je),2);E(()=>{e(k),Tt(()=>{})});var Te=t(qe);Te.value=Te.__value="active";var Ie=a(Te);Ie.value=Ie.__value="inactive";var Ne=a(Ie);Ne.value=Ne.__value="draft";var He=a(ft,2),oe=t(He),de=t(oe),le=t(de),we=a(de,2);we.__click=()=>et();var se=a(oe,2);{var M=h=>{var C=nc();v(h,C)},O=h=>{var C=pc();ht(C,5,()=>e(j),yt,(I,R,V)=>{var K=uc(),ie=t(K),H=t(ie),Y=t(H),W=a(H,2),U=t(W);U.__click=()=>Le(V,"up"),U.disabled=V===0;var te=a(U,2);te.__click=()=>Le(V,"down");var pe=a(ie,2),fe=t(pe),G=t(fe),he=t(G),ze=a(G,2),Ee=t(ze),De=t(Ee),xe=a(Ee,2);{var q=ke=>{var Me=vc();v(ke,Me)};w(xe,ke=>{e(R).required&&ke(q)})}var F=a(xe,2);{var ae=ke=>{var Me=dc();v(ke,Me)};w(F,ke=>{e(R).auto_trigger&&ke(ae)})}var X=a(fe,2),ne=t(X),Re=a(X,2),$e=t(Re),ue=t($e),ge=a($e,2);{var We=ke=>{var Me=cc(),Ae=a(lt(Me),2),be=t(Ae);E(()=>o(be,`Due: ${e(R).due_days??""} days`)),v(ke,Me)};w(ge,ke=>{e(R).due_days!==void 0&&ke(We)})}var Se=a(pe,2),Ce=t(Se);Ce.__click=()=>et(V);var ct=a(Ce,2);ct.__click=()=>wt(V),E((ke,Me)=>{o(Y,e(R).step_order),te.disabled=V===e(j).length-1,o(he,e(R).step_name),o(De,ke),o(ne,e(R).description),o(ue,`Assigned: ${Me??""}`)},[()=>_e(e(R).step_type),()=>dt(e(R).assigned_role||"hr")]),v(I,K)}),v(h,C)};w(se,h=>{e(j).length===0?h(M):h(O,!1)})}var D=a(Ye,2),L=t(D);L.__click=re;var g=a(L,2);g.__click=vt;var z=t(g);E(()=>{o(kt,e(T)?"Edit Workflow":"Create Workflow"),o(le,`Workflow Steps (${e(j).length??""})`),g.disabled=e(u),o(z,e(u)?"Saving...":e(T)?"Update Workflow":"Create Workflow")}),Ze(ye,()=>e(k).name,h=>st(k,e(k).name=h)),At(S,()=>e(k).workflow_type,h=>st(k,e(k).workflow_type=h)),Ze(me,()=>e(k).description,h=>st(k,e(k).description=h)),At(qe,()=>e(k).status,h=>st(k,e(k).status=h)),v(Q,Oe)};w(qt,Q=>{e(f)&&Q(at)})}var Be=a(qt,2);{var ut=Q=>{var Oe=bc();Oe.__click=Ge,Oe.__keydown=D=>D.key==="Escape"&&Ge();var Ke=t(Oe);Ke.__click=D=>D.stopPropagation();var rt=t(Ke),ot=t(rt),kt=t(ot),Fe=a(ot,2);Fe.__click=Ge;var Ye=a(rt,2),_t=t(Ye),St=t(_t),ft=a(t(St),2),pt=a(St,2),bt=a(t(pt),2);E(()=>{e(N),Tt(()=>{})}),ht(bt,5,()=>P,yt,(D,L)=>{var g=fc(),z=t(g),h={};E(()=>{o(z,e(L).label),h!==(h=e(L).value)&&(g.value=(g.__value=e(L).value)??"")}),v(D,g)});var ye=a(pt,2),b=a(t(ye),2),S=a(ye,2),ee=a(t(S),2),me=a(S,2),je=a(t(me),2);E(()=>{e(N),Tt(()=>{})}),ht(je,5,()=>A,yt,(D,L)=>{var g=mc(),z=t(g),h={};E(()=>{o(z,e(L).label),h!==(h=e(L).value)&&(g.value=(g.__value=e(L).value)??"")}),v(D,g)});var qe=a(me,2),Te=a(t(qe),2),Ie=a(qe,2),Ne=t(Ie),He=t(Ne),oe=a(Ie,2),de=t(oe),le=t(de),we=a(Ye,2),se=t(we);se.__click=Ge;var M=a(se,2);M.__click=mt;var O=t(M);E(()=>{o(kt,e(B)!==null?"Edit Step":"Add Step"),o(O,e(B)!==null?"Update Step":"Add Step")}),Ze(ft,()=>e(N).step_order,D=>st(N,e(N).step_order=D)),At(bt,()=>e(N).step_type,D=>st(N,e(N).step_type=D)),Ze(b,()=>e(N).step_name,D=>st(N,e(N).step_name=D)),Ze(ee,()=>e(N).description,D=>st(N,e(N).description=D)),At(je,()=>e(N).assigned_role,D=>st(N,e(N).assigned_role=D)),Ze(Te,()=>e(N).due_days,D=>st(N,e(N).due_days=D)),os(He,()=>e(N).required,D=>st(N,e(N).required=D)),os(le,()=>e(N).auto_trigger,D=>st(N,e(N).auto_trigger=D)),v(Q,Oe)};w(Be,Q=>{e(x)&&Q(ut)})}v(l,Ve),Vt(),m()}ba(["click","keydown"]);var yc=p('<button class="btn btn-primary svelte-1a90hjy">+ Add Compensation Plan</button>'),gc=p('<button class="btn btn-primary svelte-1a90hjy">+ Add Bonus</button>'),xc=p('<div class="alert alert-error svelte-1a90hjy"> </div>'),wc=p('<div class="alert alert-success svelte-1a90hjy"> </div>'),kc=p('<div class="loading svelte-1a90hjy">Loading...</div>'),$c=p('<tr class="svelte-1a90hjy"><td colspan="7" class="empty-state svelte-1a90hjy">No compensation plans found. Add one above!</td></tr>'),Ec=p('<tr class="svelte-1a90hjy"><td class="employee-name svelte-1a90hjy"> </td><td class="svelte-1a90hjy"><span> </span></td><td class="amount svelte-1a90hjy"> </td><td class="svelte-1a90hjy"> </td><td class="svelte-1a90hjy"> </td><td class="svelte-1a90hjy"><span> </span></td><td class="actions svelte-1a90hjy"><button class="btn-icon svelte-1a90hjy" title="Edit">‚úèÔ∏è</button> <button class="btn-icon svelte-1a90hjy" title="Delete">üóëÔ∏è</button></td></tr>'),Sc=p('<div class="table-container svelte-1a90hjy"><table class="svelte-1a90hjy"><thead class="svelte-1a90hjy"><tr><th class="svelte-1a90hjy">Employee</th><th class="svelte-1a90hjy">Type</th><th class="svelte-1a90hjy">Base Amount</th><th class="svelte-1a90hjy">Frequency</th><th class="svelte-1a90hjy">Effective Date</th><th class="svelte-1a90hjy">Status</th><th class="svelte-1a90hjy">Actions</th></tr></thead><tbody class="svelte-1a90hjy"><!></tbody></table></div>'),zc=p('<tr class="svelte-1a90hjy"><td colspan="7" class="empty-state svelte-1a90hjy">No bonuses found. Add one above!</td></tr>'),jc=p('<tr class="svelte-1a90hjy"><td class="employee-name svelte-1a90hjy"> </td><td class="svelte-1a90hjy"><span> </span></td><td class="amount svelte-1a90hjy"> </td><td class="svelte-1a90hjy"> </td><td class="svelte-1a90hjy"> </td><td class="svelte-1a90hjy"><span> </span></td><td class="actions svelte-1a90hjy"><button class="btn-icon svelte-1a90hjy" title="Edit">‚úèÔ∏è</button> <button class="btn-icon svelte-1a90hjy" title="Delete">üóëÔ∏è</button></td></tr>'),qc=p('<div class="table-container svelte-1a90hjy"><table class="svelte-1a90hjy"><thead class="svelte-1a90hjy"><tr><th class="svelte-1a90hjy">Employee</th><th class="svelte-1a90hjy">Type</th><th class="svelte-1a90hjy">Amount</th><th class="svelte-1a90hjy">Description</th><th class="svelte-1a90hjy">Payment Date</th><th class="svelte-1a90hjy">Status</th><th class="svelte-1a90hjy">Actions</th></tr></thead><tbody class="svelte-1a90hjy"><!></tbody></table></div>'),Cc=p("<option> </option>"),Ac=p('<div class="modal-overlay svelte-1a90hjy" role="button" tabindex="0"><div class="modal svelte-1a90hjy" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1a90hjy"><h3 class="svelte-1a90hjy"> </h3> <button class="close-btn svelte-1a90hjy">√ó</button></div> <div class="modal-body svelte-1a90hjy"><div class="form-grid svelte-1a90hjy"><div class="form-group svelte-1a90hjy"><label for="employee" class="svelte-1a90hjy">Employee *</label> <select id="employee" required class="svelte-1a90hjy"><option>Select Employee</option><!></select></div> <div class="form-group svelte-1a90hjy"><label for="comp-type" class="svelte-1a90hjy">Compensation Type *</label> <select id="comp-type" required class="svelte-1a90hjy"><option>Salary</option><option>Hourly</option><option>Contract</option></select></div> <div class="form-group svelte-1a90hjy"><label for="base-amount" class="svelte-1a90hjy">Base Amount *</label> <input id="base-amount" type="number" min="0" step="0.01" required class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="currency" class="svelte-1a90hjy">Currency</label> <select id="currency" class="svelte-1a90hjy"><option>USD</option><option>EUR</option><option>GBP</option><option>CAD</option></select></div> <div class="form-group svelte-1a90hjy"><label for="pay-freq" class="svelte-1a90hjy">Pay Frequency *</label> <select id="pay-freq" required class="svelte-1a90hjy"><option>Hourly</option><option>Weekly</option><option>Bi-weekly</option><option>Monthly</option><option>Annually</option></select></div> <div class="form-group svelte-1a90hjy"><label for="effective-date" class="svelte-1a90hjy">Effective Date *</label> <input id="effective-date" type="date" required class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="end-date" class="svelte-1a90hjy">End Date (Optional)</label> <input id="end-date" type="date" class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="status" class="svelte-1a90hjy">Status</label> <select id="status" class="svelte-1a90hjy"><option>Active</option><option>Pending</option><option>Expired</option></select></div></div></div> <div class="modal-footer svelte-1a90hjy"><button class="btn btn-secondary svelte-1a90hjy">Cancel</button> <button class="btn btn-primary svelte-1a90hjy"> </button></div></div></div>'),Dc=p("<option> </option>"),Pc=p('<div class="modal-overlay svelte-1a90hjy" role="button" tabindex="0"><div class="modal svelte-1a90hjy" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1a90hjy"><h3 class="svelte-1a90hjy"> </h3> <button class="close-btn svelte-1a90hjy">√ó</button></div> <div class="modal-body svelte-1a90hjy"><div class="form-grid svelte-1a90hjy"><div class="form-group svelte-1a90hjy"><label for="bonus-employee" class="svelte-1a90hjy">Employee *</label> <select id="bonus-employee" required class="svelte-1a90hjy"><option>Select Employee</option><!></select></div> <div class="form-group svelte-1a90hjy"><label for="bonus-type" class="svelte-1a90hjy">Bonus Type *</label> <select id="bonus-type" required class="svelte-1a90hjy"><option>Monthly</option><option>Quarterly</option><option>Annual</option><option>Performance</option><option>Signing</option><option>Retention</option></select></div> <div class="form-group svelte-1a90hjy"><label for="bonus-amount" class="svelte-1a90hjy">Amount *</label> <input id="bonus-amount" type="number" min="0" step="0.01" required class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="bonus-currency" class="svelte-1a90hjy">Currency</label> <select id="bonus-currency" class="svelte-1a90hjy"><option>USD</option><option>EUR</option><option>GBP</option><option>CAD</option></select></div> <div class="form-group full-width svelte-1a90hjy"><label for="bonus-desc" class="svelte-1a90hjy">Description *</label> <textarea id="bonus-desc" rows="3" required class="svelte-1a90hjy"></textarea></div> <div class="form-group svelte-1a90hjy"><label for="payment-date" class="svelte-1a90hjy">Payment Date *</label> <input id="payment-date" type="date" required class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="bonus-status" class="svelte-1a90hjy">Status</label> <select id="bonus-status" class="svelte-1a90hjy"><option>Pending</option><option>Approved</option><option>Paid</option><option>Cancelled</option></select></div></div></div> <div class="modal-footer svelte-1a90hjy"><button class="btn btn-secondary svelte-1a90hjy">Cancel</button> <button class="btn btn-primary svelte-1a90hjy"> </button></div></div></div>'),Tc=p('<div class="compensation-manager svelte-1a90hjy"><div class="header svelte-1a90hjy"><h2 class="svelte-1a90hjy">üí∞ Compensation Management</h2> <div class="header-actions svelte-1a90hjy"><!></div></div> <!> <!> <div class="tabs svelte-1a90hjy"><button>üíº Compensation Plans</button> <button>üéÅ Bonuses</button></div> <!></div> <!> <!>',1);function Jr(l,r){Jt(r,!1);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=ja();let y=Z([]),u=Z([]),_=Z([]),f=Z(!1),x=Z(""),T=Z(""),B=Z("plans"),k=Z(!1),N=Z(!1),j=Z(null),$=Z(null),P=Z({employee_id:"",compensation_type:"salary",base_amount:0,currency:"USD",pay_frequency:"monthly",effective_date:new Date().toISOString().split("T")[0],end_date:null,status:"active"}),A=Z({employee_id:"",bonus_type:"monthly",amount:0,currency:"USD",description:"",payment_date:new Date().toISOString().split("T")[0],status:"pending"});ea(()=>{ce()});async function ce(){await Promise.all([J(),re(),et()])}async function J(){try{s(f,!0);const b=await fetch(`${d}/compensation/plans`,{headers:{Authorization:`Bearer ${i().token}`}});if(!b.ok)throw new Error("Failed to load compensation plans");const S=await b.json();s(y,Array.isArray(S)?S:[])}catch(b){s(x,b.message),s(y,[])}finally{s(f,!1)}}async function re(){try{const b=await fetch(`${d}/compensation/bonuses`,{headers:{Authorization:`Bearer ${i().token}`}});if(!b.ok)throw new Error("Failed to load bonuses");const S=await b.json();s(u,Array.isArray(S)?S:[])}catch(b){s(x,b.message),s(u,[])}}async function et(){try{const b=await fetch(`${d}/employees`,{headers:{Authorization:`Bearer ${i().token}`}});if(!b.ok)throw new Error("Failed to load employees");const S=await b.json();s(_,Array.isArray(S)?S:[])}catch(b){s(x,b.message),s(_,[])}}function Ge(){s(j,null),s(P,{employee_id:"",compensation_type:"salary",base_amount:0,currency:"USD",pay_frequency:"monthly",effective_date:new Date().toISOString().split("T")[0],end_date:null,status:"active"}),s(k,!0)}function mt(){s($,null),s(A,{employee_id:"",bonus_type:"monthly",amount:0,currency:"USD",description:"",payment_date:new Date().toISOString().split("T")[0],status:"pending"}),s(N,!0)}async function wt(){try{s(f,!0),s(x,"");const b={...e(P),effective_date:e(P).effective_date?new Date(e(P).effective_date).toISOString():new Date().toISOString(),end_date:e(P).end_date?new Date(e(P).end_date).toISOString():null},S=e(j)?"PUT":"POST",ee=e(j)?`${d}/compensation/plans/${e(j).id}`:`${d}/compensation/plans`,me=await fetch(ee,{method:S,headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(b)});if(!me.ok){const je=await me.json().catch(()=>({error:"Failed to save compensation plan"}));throw new Error(je.error||"Failed to save compensation plan")}s(T,e(j)?"Compensation updated!":"Compensation created!"),setTimeout(()=>s(T,""),3e3),s(k,!1),await J()}catch(b){s(x,b.message)}finally{s(f,!1)}}async function Le(){try{s(f,!0),s(x,"");const b={...e(A),payment_date:e(A).payment_date?new Date(e(A).payment_date).toISOString():new Date().toISOString()},S=e($)?"PUT":"POST",ee=e($)?`${d}/compensation/bonuses/${e($).id}`:`${d}/compensation/bonuses`,me=await fetch(ee,{method:S,headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(b)});if(!me.ok){const je=await me.json().catch(()=>({error:"Failed to save bonus"}));throw new Error(je.error||"Failed to save bonus")}s(T,e($)?"Bonus updated!":"Bonus created!"),setTimeout(()=>s(T,""),3e3),s(N,!1),await re()}catch(b){s(x,b.message)}finally{s(f,!1)}}function vt(b){s(j,b),s(P,{employee_id:b.employee_id,compensation_type:b.compensation_type,base_amount:b.base_amount,currency:b.currency,pay_frequency:b.pay_frequency,effective_date:b.effective_date,end_date:b.end_date||"",status:b.status}),s(k,!0)}function Ue(b){s($,b),s(A,{employee_id:b.employee_id,bonus_type:b.bonus_type,amount:b.amount,currency:b.currency,description:b.description,payment_date:b.payment_date,status:b.status}),s(N,!0)}async function _e(b){if(confirm("Delete this compensation plan?"))try{if(!(await fetch(`${d}/compensation/plans/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${i().token}`}})).ok)throw new Error("Failed to delete");s(T,"Compensation plan deleted"),setTimeout(()=>s(T,""),3e3),await J()}catch(S){s(x,S.message)}}async function nt(b){if(confirm("Delete this bonus?"))try{if(!(await fetch(`${d}/compensation/bonuses/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${i().token}`}})).ok)throw new Error("Failed to delete");s(T,"Bonus deleted"),setTimeout(()=>s(T,""),3e3),await re()}catch(S){s(x,S.message)}}function dt(b,S="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:S}).format(b)}function zt(b){return new Date(b).toLocaleDateString()}function Ve(b){const S=e(_).find(ee=>ee.id===b);return S?`${S.first_name} ${S.last_name}`:"Unknown"}function Pe(b){return{active:"status-active",pending:"status-pending",expired:"status-expired",approved:"status-approved",paid:"status-paid",cancelled:"status-cancelled"}[b]||""}za();var Xe=Tc(),it=lt(Xe),xt=t(it),qt=a(t(xt),2),at=t(qt);{var Be=b=>{var S=yc();S.__click=()=>Ge(),v(b,S)},ut=b=>{var S=gc();S.__click=()=>mt(),v(b,S)};w(at,b=>{e(B)==="plans"?b(Be):b(ut,!1)})}var Q=a(xt,2);{var Oe=b=>{var S=xc(),ee=t(S);E(()=>o(ee,e(x))),v(b,S)};w(Q,b=>{e(x)&&b(Oe)})}var Ke=a(Q,2);{var rt=b=>{var S=wc(),ee=t(S);E(()=>o(ee,e(T))),v(b,S)};w(Ke,b=>{e(T)&&b(rt)})}var ot=a(Ke,2),kt=t(ot);kt.__click=()=>s(B,"plans");var Fe=a(kt,2);Fe.__click=()=>s(B,"bonuses");var Ye=a(ot,2);{var _t=b=>{var S=kc();v(b,S)},St=b=>{var S=Ct(),ee=lt(S);{var me=qe=>{var Te=Sc(),Ie=t(Te),Ne=a(t(Ie)),He=t(Ne);{var oe=le=>{var we=$c();v(le,we)},de=le=>{var we=Ct(),se=lt(we);ht(se,1,()=>e(y),yt,(M,O)=>{var D=Ec(),L=t(D),g=t(L),z=a(L),h=t(z),C=t(h),I=a(z),R=t(I),V=a(I),K=t(V),ie=a(V),H=t(ie),Y=a(ie),W=t(Y),U=t(W),te=a(Y),pe=t(te);pe.__click=()=>vt(e(O));var fe=a(pe,2);fe.__click=()=>_e(e(O).id),E((G,he,ze,Ee)=>{o(g,G),tt(h,1,`type-badge type-${e(O).compensation_type??""}`,"svelte-1a90hjy"),o(C,e(O).compensation_type),o(R,he),o(K,e(O).pay_frequency),o(H,ze),tt(W,1,`status-badge ${Ee??""}`,"svelte-1a90hjy"),o(U,e(O).status)},[()=>Ve(e(O).employee_id),()=>dt(e(O).base_amount,e(O).currency),()=>zt(e(O).effective_date),()=>Pe(e(O).status)]),v(M,D)}),v(le,we)};w(He,le=>{!e(y)||e(y).length===0?le(oe):le(de,!1)})}v(qe,Te)},je=qe=>{var Te=qc(),Ie=t(Te),Ne=a(t(Ie)),He=t(Ne);{var oe=le=>{var we=zc();v(le,we)},de=le=>{var we=Ct(),se=lt(we);ht(se,1,()=>e(u),yt,(M,O)=>{var D=jc(),L=t(D),g=t(L),z=a(L),h=t(z),C=t(h),I=a(z),R=t(I),V=a(I),K=t(V),ie=a(V),H=t(ie),Y=a(ie),W=t(Y),U=t(W),te=a(Y),pe=t(te);pe.__click=()=>Ue(e(O));var fe=a(pe,2);fe.__click=()=>nt(e(O).id),E((G,he,ze,Ee)=>{o(g,G),tt(h,1,`type-badge type-${e(O).bonus_type??""}`,"svelte-1a90hjy"),o(C,e(O).bonus_type),o(R,he),o(K,e(O).description),o(H,ze),tt(W,1,`status-badge ${Ee??""}`,"svelte-1a90hjy"),o(U,e(O).status)},[()=>Ve(e(O).employee_id),()=>dt(e(O).amount,e(O).currency),()=>zt(e(O).payment_date),()=>Pe(e(O).status)]),v(M,D)}),v(le,we)};w(He,le=>{!e(u)||e(u).length===0?le(oe):le(de,!1)})}v(qe,Te)};w(ee,qe=>{e(B)==="plans"?qe(me):qe(je,!1)})}v(b,S)};w(Ye,b=>{e(f)&&(e(y)?.length??0)===0&&(e(u)?.length??0)===0?b(_t):b(St,!1)})}var ft=a(it,2);{var pt=b=>{var S=Ac();S.__click=()=>s(k,!1),S.__keydown=$e=>$e.key==="Escape"&&s(k,!1);var ee=t(S);ee.__click=$e=>$e.stopPropagation(),ee.__keydown=$e=>$e.key==="Escape"&&s(k,!1);var me=t(ee),je=t(me),qe=t(je),Te=a(je,2);Te.__click=()=>s(k,!1);var Ie=a(me,2),Ne=t(Ie),He=t(Ne),oe=a(t(He),2);E(()=>{e(P),Tt(()=>{e(_)})});var de=t(oe);de.value=de.__value="";var le=a(de);{var we=$e=>{var ue=Ct(),ge=lt(ue);ht(ge,1,()=>e(_),yt,(We,Se)=>{var Ce=Cc(),ct=t(Ce),ke={};E(()=>{o(ct,`${e(Se).first_name??""} ${e(Se).last_name??""}`),ke!==(ke=e(Se).id)&&(Ce.value=(Ce.__value=e(Se).id)??"")}),v(We,Ce)}),v($e,ue)};w(le,$e=>{e(_)&&e(_).length>0&&$e(we)})}var se=a(He,2),M=a(t(se),2);E(()=>{e(P),Tt(()=>{})});var O=t(M);O.value=O.__value="salary";var D=a(O);D.value=D.__value="hourly";var L=a(D);L.value=L.__value="contract";var g=a(se,2),z=a(t(g),2),h=a(g,2),C=a(t(h),2);E(()=>{e(P),Tt(()=>{})});var I=t(C);I.value=I.__value="USD";var R=a(I);R.value=R.__value="EUR";var V=a(R);V.value=V.__value="GBP";var K=a(V);K.value=K.__value="CAD";var ie=a(h,2),H=a(t(ie),2);E(()=>{e(P),Tt(()=>{})});var Y=t(H);Y.value=Y.__value="hourly";var W=a(Y);W.value=W.__value="weekly";var U=a(W);U.value=U.__value="biweekly";var te=a(U);te.value=te.__value="monthly";var pe=a(te);pe.value=pe.__value="annually";var fe=a(ie,2),G=a(t(fe),2),he=a(fe,2),ze=a(t(he),2),Ee=a(he,2),De=a(t(Ee),2);E(()=>{e(P),Tt(()=>{})});var xe=t(De);xe.value=xe.__value="active";var q=a(xe);q.value=q.__value="pending";var F=a(q);F.value=F.__value="expired";var ae=a(Ie,2),X=t(ae);X.__click=()=>s(k,!1);var ne=a(X,2);ne.__click=wt;var Re=t(ne);E(()=>{o(qe,`${e(j)?"Edit":"Add"} Compensation Plan`),ne.disabled=e(f),o(Re,`${e(j)?"Update":"Create"} Plan`)}),At(oe,()=>e(P).employee_id,$e=>st(P,e(P).employee_id=$e)),At(M,()=>e(P).compensation_type,$e=>st(P,e(P).compensation_type=$e)),Ze(z,()=>e(P).base_amount,$e=>st(P,e(P).base_amount=$e)),At(C,()=>e(P).currency,$e=>st(P,e(P).currency=$e)),At(H,()=>e(P).pay_frequency,$e=>st(P,e(P).pay_frequency=$e)),Ze(G,()=>e(P).effective_date,$e=>st(P,e(P).effective_date=$e)),Ze(ze,()=>e(P).end_date,$e=>st(P,e(P).end_date=$e)),At(De,()=>e(P).status,$e=>st(P,e(P).status=$e)),v(b,S)};w(ft,b=>{e(k)&&b(pt)})}var bt=a(ft,2);{var ye=b=>{var S=Pc();S.__click=()=>s(N,!1),S.__keydown=X=>X.key==="Escape"&&s(N,!1);var ee=t(S);ee.__click=X=>X.stopPropagation(),ee.__keydown=X=>X.key==="Escape"&&s(N,!1);var me=t(ee),je=t(me),qe=t(je),Te=a(je,2);Te.__click=()=>s(N,!1);var Ie=a(me,2),Ne=t(Ie),He=t(Ne),oe=a(t(He),2);E(()=>{e(A),Tt(()=>{e(_)})});var de=t(oe);de.value=de.__value="";var le=a(de);{var we=X=>{var ne=Ct(),Re=lt(ne);ht(Re,1,()=>e(_),yt,($e,ue)=>{var ge=Dc(),We=t(ge),Se={};E(()=>{o(We,`${e(ue).first_name??""} ${e(ue).last_name??""}`),Se!==(Se=e(ue).id)&&(ge.value=(ge.__value=e(ue).id)??"")}),v($e,ge)}),v(X,ne)};w(le,X=>{e(_)&&e(_).length>0&&X(we)})}var se=a(He,2),M=a(t(se),2);E(()=>{e(A),Tt(()=>{})});var O=t(M);O.value=O.__value="monthly";var D=a(O);D.value=D.__value="quarterly";var L=a(D);L.value=L.__value="annual";var g=a(L);g.value=g.__value="performance";var z=a(g);z.value=z.__value="signing";var h=a(z);h.value=h.__value="retention";var C=a(se,2),I=a(t(C),2),R=a(C,2),V=a(t(R),2);E(()=>{e(A),Tt(()=>{})});var K=t(V);K.value=K.__value="USD";var ie=a(K);ie.value=ie.__value="EUR";var H=a(ie);H.value=H.__value="GBP";var Y=a(H);Y.value=Y.__value="CAD";var W=a(R,2),U=a(t(W),2),te=a(W,2),pe=a(t(te),2),fe=a(te,2),G=a(t(fe),2);E(()=>{e(A),Tt(()=>{})});var he=t(G);he.value=he.__value="pending";var ze=a(he);ze.value=ze.__value="approved";var Ee=a(ze);Ee.value=Ee.__value="paid";var De=a(Ee);De.value=De.__value="cancelled";var xe=a(Ie,2),q=t(xe);q.__click=()=>s(N,!1);var F=a(q,2);F.__click=Le;var ae=t(F);E(()=>{o(qe,`${e($)?"Edit":"Add"} Bonus`),F.disabled=e(f),o(ae,`${e($)?"Update":"Create"} Bonus`)}),At(oe,()=>e(A).employee_id,X=>st(A,e(A).employee_id=X)),At(M,()=>e(A).bonus_type,X=>st(A,e(A).bonus_type=X)),Ze(I,()=>e(A).amount,X=>st(A,e(A).amount=X)),At(V,()=>e(A).currency,X=>st(A,e(A).currency=X)),Ze(U,()=>e(A).description,X=>st(A,e(A).description=X)),Ze(pe,()=>e(A).payment_date,X=>st(A,e(A).payment_date=X)),At(G,()=>e(A).status,X=>st(A,e(A).status=X)),v(b,S)};w(bt,b=>{e(N)&&b(ye)})}E(()=>{tt(kt,1,`tab ${e(B)==="plans"?"active":""}`,"svelte-1a90hjy"),tt(Fe,1,`tab ${e(B)==="bonuses"?"active":""}`,"svelte-1a90hjy")}),v(l,Xe),Vt(),m()}ba(["click","keydown"]);var Mc=p('<div class="loading svelte-13p5f0k">Loading dashboard...</div>'),Bc=p('<div class="error svelte-13p5f0k"> </div>'),Oc=p('<tr class="svelte-13p5f0k"><td colspan="7" class="empty-state svelte-13p5f0k">No employees found</td></tr>'),Fc=p('<tr class="svelte-13p5f0k"><td class="employee-name svelte-13p5f0k"> </td><td class="svelte-13p5f0k"> </td><td class="svelte-13p5f0k"> </td><td class="svelte-13p5f0k"> </td><td class="svelte-13p5f0k"><span> </span></td><td class="svelte-13p5f0k"> </td><td class="svelte-13p5f0k"><button class="btn-view svelte-13p5f0k">View Details</button></td></tr>'),Ic=p("<button></button>"),Nc=p('<div class="pagination svelte-13p5f0k"><div class="pagination-info svelte-13p5f0k"> </div> <div class="pagination-controls svelte-13p5f0k"><button class="btn-page svelte-13p5f0k">‚Üê Previous</button> <div class="page-numbers svelte-13p5f0k"></div> <button class="btn-page svelte-13p5f0k">Next ‚Üí</button></div></div>'),Rc=p('<div class="stats-grid svelte-13p5f0k"><div class="stat-card svelte-13p5f0k"><div class="stat-value svelte-13p5f0k"> </div> <div class="stat-label svelte-13p5f0k">Total Employees</div></div> <div class="stat-card svelte-13p5f0k"><div class="stat-value svelte-13p5f0k"> </div> <div class="stat-label svelte-13p5f0k">Active</div></div> <div class="stat-card svelte-13p5f0k"><div class="stat-value svelte-13p5f0k"> </div> <div class="stat-label svelte-13p5f0k">Onboarding</div></div> <div class="stat-card svelte-13p5f0k"><div class="stat-value svelte-13p5f0k"> </div> <div class="stat-label svelte-13p5f0k">On Leave</div></div></div> <div class="section"><div class="section-header"><h2>Quick Actions</h2></div> <div class="actions-grid svelte-13p5f0k"><button class="action-card svelte-13p5f0k"><div class="action-icon svelte-13p5f0k">üí∞</div> <div class="action-content svelte-13p5f0k"><h3 class="svelte-13p5f0k">Workflow Manager</h3> <p class="svelte-13p5f0k">Manage onboarding and HR workflows</p></div></button> <button class="action-card svelte-13p5f0k"><div class="action-icon svelte-13p5f0k">üìã</div> <div class="action-content svelte-13p5f0k"><h3 class="svelte-13p5f0k">Compensation</h3> <p class="svelte-13p5f0k">Manage salaries, bonuses & pay</p></div></button></div></div> <div class="filters svelte-13p5f0k"><input type="text" placeholder="Search employees..." class="search-input svelte-13p5f0k"/> <select class="filter-select svelte-13p5f0k"><option>All Statuses</option><option>Active</option><option>Onboarding</option><option>On Leave</option><option>Separated</option></select></div> <div class="employees-table svelte-13p5f0k"><table class="svelte-13p5f0k"><thead class="svelte-13p5f0k"><tr class="svelte-13p5f0k"><th class="svelte-13p5f0k">Name</th><th class="svelte-13p5f0k">Email</th><th class="svelte-13p5f0k">Department</th><th class="svelte-13p5f0k">Position</th><th class="svelte-13p5f0k">Status</th><th class="svelte-13p5f0k">Hire Date</th><th class="svelte-13p5f0k">Actions</th></tr></thead><tbody><!></tbody></table></div> <!>',1),Lc=p('<div class="modal-overlay svelte-13p5f0k" role="button" tabindex="0"><div class="modal svelte-13p5f0k" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-13p5f0k"><h2 class="svelte-13p5f0k">Employee Details</h2> <button class="close-btn svelte-13p5f0k">√ó</button></div> <div class="modal-body svelte-13p5f0k"><!></div></div></div>'),Uc=p('<div class="modal-overlay svelte-13p5f0k" role="button" tabindex="0"><div class="modal full-screen svelte-13p5f0k" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-13p5f0k"><h2 class="svelte-13p5f0k">Workflow Management</h2> <button class="close-btn svelte-13p5f0k">√ó</button></div> <!></div></div>'),Hc=p('<div class="modal-overlay svelte-13p5f0k" role="button" tabindex="0"><div class="modal full-screen svelte-13p5f0k" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-13p5f0k"><h2 class="svelte-13p5f0k">Compensation Management</h2> <button class="close-btn svelte-13p5f0k">√ó</button></div> <!></div></div>'),Wc=p('<div class="hr-dashboard svelte-13p5f0k"><div class="dashboard-header svelte-13p5f0k"><h1 class="svelte-13p5f0k">HR Dashboard</h1></div> <!></div> <!> <!> <!>',1);function Jc(l,r){Jt(r,!1);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=Z(),y=Z(),u=Z(),_=ja();let f=Z([]),x=Z({totalEmployees:0,activeEmployees:0,onboardingEmployees:0,onLeaveEmployees:0}),T=Z(!0),B=Z(""),k=Z(null),N=Z(!1),j=Z("all"),$=Z(""),P=Z(!1),A=Z(!1),ce=Z(1),J=10;ea(()=>{re()});async function re(){try{s(T,!0),s(B,"");const Be=await fetch(`${_}/employees`,{headers:{Authorization:`Bearer ${i().token}`}});if(!Be.ok)throw new Error("Failed to load employees");s(f,await Be.json()),st(x,e(x).totalEmployees=e(f).length),st(x,e(x).activeEmployees=e(f).filter(ut=>ut.status==="active").length),st(x,e(x).onboardingEmployees=e(f).filter(ut=>ut.status==="onboarding").length),st(x,e(x).onLeaveEmployees=e(f).filter(ut=>ut.status==="on-leave").length)}catch(Be){s(B,Be.message)}finally{s(T,!1)}}function et(Be){s(k,Be),s(N,!0)}function Ge(){s(N,!1),s(k,null)}function mt(Be){return{onboarding:"status-onboarding",active:"status-active","on-leave":"status-leave",separated:"status-separated"}[Be]||"status-default"}function wt(Be){return{onboarding:"Onboarding",active:"Active","on-leave":"On Leave",separated:"Separated"}[Be]||Be}function Le(){e(ce)<e(y)&&Hl(ce)}function vt(){e(ce)>1&&Hl(ce,-1)}function Ue(Be){s(ce,Be)}Ht(()=>(e(f),e(j),e($)),()=>{s(d,e(f).filter(Be=>{const ut=e(j)==="all"||Be.status===e(j),Q=!e($)||Be.first_name.toLowerCase().includes(e($).toLowerCase())||Be.last_name.toLowerCase().includes(e($).toLowerCase())||Be.email.toLowerCase().includes(e($).toLowerCase())||Be.department.toLowerCase().includes(e($).toLowerCase());return ut&&Q}))}),Ht(()=>e(d),()=>{s(y,Math.ceil(e(d).length/J))}),Ht(()=>(e(j),e($)),()=>{(e(j)||e($))&&s(ce,1)}),Ht(()=>(e(d),e(ce)),()=>{s(u,e(d).slice((e(ce)-1)*J,e(ce)*J))}),ss(),za();var _e=Wc(),nt=lt(_e),dt=a(t(nt),2);{var zt=Be=>{var ut=Mc();v(Be,ut)},Ve=Be=>{var ut=Ct(),Q=lt(ut);{var Oe=rt=>{var ot=Bc(),kt=t(ot);E(()=>o(kt,e(B))),v(rt,ot)},Ke=rt=>{var ot=Rc(),kt=lt(ot),Fe=t(kt),Ye=t(Fe),_t=t(Ye),St=a(Fe,2),ft=t(St),pt=t(ft),bt=a(St,2),ye=t(bt),b=t(ye),S=a(bt,2),ee=t(S),me=t(ee),je=a(kt,2),qe=a(t(je),2),Te=t(qe);Te.__click=()=>s(A,!0);var Ie=a(Te,2);Ie.__click=()=>s(P,!0);var Ne=a(je,2),He=t(Ne),oe=a(He,2);E(()=>{e(j),Tt(()=>{})});var de=t(oe);de.value=de.__value="all";var le=a(de);le.value=le.__value="active";var we=a(le);we.value=we.__value="onboarding";var se=a(we);se.value=se.__value="on-leave";var M=a(se);M.value=M.__value="separated";var O=a(Ne,2),D=t(O),L=a(t(D)),g=t(L);{var z=R=>{var V=Oc();v(R,V)},h=R=>{var V=Ct(),K=lt(V);ht(K,1,()=>e(u),yt,(ie,H)=>{var Y=Fc(),W=t(Y),U=t(W),te=a(W),pe=t(te),fe=a(te),G=t(fe),he=a(fe),ze=t(he),Ee=a(he),De=t(Ee),xe=t(De),q=a(Ee),F=t(q),ae=a(q),X=t(ae);X.__click=()=>et(e(H).id),E((ne,Re,$e)=>{o(U,`${e(H),n(()=>e(H).first_name)??""} ${e(H),n(()=>e(H).last_name)??""}`),o(pe,(e(H),n(()=>e(H).email))),o(G,(e(H),n(()=>e(H).department))),o(ze,(e(H),n(()=>e(H).position))),tt(De,1,`status-badge ${ne??""}`,"svelte-13p5f0k"),o(xe,Re),o(F,$e)},[()=>(e(H),n(()=>mt(e(H).status))),()=>(e(H),n(()=>wt(e(H).status))),()=>(e(H),n(()=>new Date(e(H).hire_date).toLocaleDateString()))]),v(ie,Y)}),v(R,V)};w(g,R=>{e(u),e(d),n(()=>e(u).length===0&&e(d).length===0)?R(z):R(h,!1)})}var C=a(O,2);{var I=R=>{var V=Nc(),K=t(V),ie=t(K),H=a(K,2),Y=t(H);Y.__click=vt;var W=a(Y,2);ht(W,5,()=>(e(y),n(()=>Array(e(y)))),yt,(te,pe,fe)=>{var G=Ic();G.__click=()=>Ue(fe+1),G.textContent=fe+1,E(()=>tt(G,1,`btn-page-num ${e(ce)===fe+1?"active":""}`,"svelte-13p5f0k")),v(te,G)});var U=a(W,2);U.__click=Le,E(te=>{o(ie,`Showing ${(e(ce)-1)*J+1} to ${te??""} of ${e(d),n(()=>e(d).length)??""} employees`),Y.disabled=e(ce)===1,U.disabled=e(ce)===e(y)},[()=>(e(ce),e(d),n(()=>Math.min(e(ce)*J,e(d).length)))]),v(R,V)};w(C,R=>{e(d),n(()=>e(d).length>J)&&R(I)})}E(()=>{o(_t,(e(x),n(()=>e(x).totalEmployees))),o(pt,(e(x),n(()=>e(x).activeEmployees))),o(b,(e(x),n(()=>e(x).onboardingEmployees))),o(me,(e(x),n(()=>e(x).onLeaveEmployees)))}),Ze(He,()=>e($),R=>s($,R)),At(oe,()=>e(j),R=>s(j,R)),v(rt,ot)};w(Q,rt=>{e(B)?rt(Oe):rt(Ke,!1)},!0)}v(Be,ut)};w(dt,Be=>{e(T)?Be(zt):Be(Ve,!1)})}var Pe=a(nt,2);{var Xe=Be=>{var ut=Lc();ut.__click=Ge,ut.__keydown=kt=>kt.key==="Escape"&&Ge();var Q=t(ut);Q.__click=kt=>kt.stopPropagation(),Q.__keydown=kt=>kt.key==="Escape"&&Ge();var Oe=t(Q),Ke=a(t(Oe),2);Ke.__click=Ge;var rt=a(Oe,2),ot=t(rt);Hr(ot,{get employeeId(){return e(k)}}),v(Be,ut)};w(Pe,Be=>{e(N)&&e(k)&&Be(Xe)})}var it=a(Pe,2);{var xt=Be=>{var ut=Uc();ut.__click=()=>s(A,!1),ut.__keydown=ot=>ot.key==="Escape"&&s(A,!1);var Q=t(ut);Q.__click=ot=>ot.stopPropagation(),Q.__keydown=ot=>ot.key==="Escape"&&s(A,!1);var Oe=t(Q),Ke=a(t(Oe),2);Ke.__click=()=>s(A,!1);var rt=a(Oe,2);Wr(rt,{}),v(Be,ut)};w(it,Be=>{e(A)&&Be(xt)})}var qt=a(it,2);{var at=Be=>{var ut=Hc();ut.__click=()=>s(P,!1),ut.__keydown=ot=>ot.key==="Escape"&&s(P,!1);var Q=t(ut);Q.__click=ot=>ot.stopPropagation(),Q.__keydown=ot=>ot.key==="Escape"&&s(P,!1);var Oe=t(Q),Ke=a(t(Oe),2);Ke.__click=()=>s(P,!1);var rt=a(Oe,2);Jr(rt,{}),v(Be,ut)};w(qt,Be=>{e(P)&&Be(at)})}v(l,_e),Vt(),m()}ba(["click","keydown"]);var Vc=p('<div class="loading svelte-1g4a8xw">Loading dashboard...</div>'),Yc=p('<div class="error svelte-1g4a8xw"><p> </p> <button class="svelte-1g4a8xw">Retry</button></div>'),Gc=p('<div class="stats-grid svelte-1g4a8xw"><div class="stat-card svelte-1g4a8xw"><div class="stat-icon svelte-1g4a8xw">üë•</div> <div class="stat-content svelte-1g4a8xw"><div class="stat-value svelte-1g4a8xw"> </div> <div class="stat-label svelte-1g4a8xw">Total Employees</div></div></div> <div class="stat-card svelte-1g4a8xw"><div class="stat-icon svelte-1g4a8xw">‚úì</div> <div class="stat-content svelte-1g4a8xw"><div class="stat-value svelte-1g4a8xw"> </div> <div class="stat-label svelte-1g4a8xw">Active</div></div></div> <div class="stat-card svelte-1g4a8xw"><div class="stat-icon svelte-1g4a8xw">üöÄ</div> <div class="stat-content svelte-1g4a8xw"><div class="stat-value svelte-1g4a8xw"> </div> <div class="stat-label svelte-1g4a8xw">Onboarding</div></div></div> <div class="stat-card svelte-1g4a8xw"><div class="stat-icon svelte-1g4a8xw">üèñÔ∏è</div> <div class="stat-content svelte-1g4a8xw"><div class="stat-value svelte-1g4a8xw"> </div> <div class="stat-label svelte-1g4a8xw">On Leave</div></div></div></div> <div class="section svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Quick Actions</h2> <div class="quick-actions-grid svelte-1g4a8xw"><button class="action-card svelte-1g4a8xw"><div class="action-icon svelte-1g4a8xw">üë•</div> <div class="action-content svelte-1g4a8xw"><h3 class="svelte-1g4a8xw">View All Employees</h3> <p class="svelte-1g4a8xw">Search, filter & manage employees</p></div></button> <button class="action-card svelte-1g4a8xw"><div class="action-icon svelte-1g4a8xw">‚öôÔ∏è</div> <div class="action-content svelte-1g4a8xw"><h3 class="svelte-1g4a8xw">Workflows</h3> <p class="svelte-1g4a8xw">Manage HR workflows</p></div></button> <button class="action-card svelte-1g4a8xw"><div class="action-icon svelte-1g4a8xw">üí∞</div> <div class="action-content svelte-1g4a8xw"><h3 class="svelte-1g4a8xw">Compensation</h3> <p class="svelte-1g4a8xw">Manage salaries & bonuses</p></div></button></div></div> <div class="section svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Recent Activity</h2> <div class="recent-activity svelte-1g4a8xw"><p class="text-muted svelte-1g4a8xw">Recent employee activities will appear here</p></div></div>',1),Xc=p('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">All Employees</h2> <button class="close-btn svelte-1g4a8xw">√ó</button></div> <div class="modal-body svelte-1g4a8xw"><!></div></div></div>'),Kc=p('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Employee Details</h2> <button class="close-btn svelte-1g4a8xw">√ó</button></div> <div class="modal-body svelte-1g4a8xw"><!></div></div></div>'),Zc=p('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Workflow Management</h2> <button class="close-btn svelte-1g4a8xw">√ó</button></div> <!></div></div>'),Qc=p('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Compensation Management</h2> <button class="close-btn svelte-1g4a8xw">√ó</button></div> <!></div></div>'),eu=p('<div class="hr-dashboard svelte-1g4a8xw"><div class="dashboard-header svelte-1g4a8xw"><h1 class="svelte-1g4a8xw">HR Dashboard</h1></div> <!></div> <!> <!> <!> <!>',1);function tr(l,r){Jt(r,!1);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=ja();let y=Z([]),u=Z({totalEmployees:0,activeEmployees:0,onboardingEmployees:0,onLeaveEmployees:0}),_=Z(!0),f=Z(""),x=Z(null),T=Z(!1),B=Z(!1),k=Z(!1),N=Z(!1);ea(()=>{j()});async function j(){try{s(_,!0),s(f,"");const Ve=await fetch(`${d}/employees`,{headers:{Authorization:`Bearer ${i().token}`}});if(!Ve.ok)throw new Error("Failed to load employees");s(y,await Ve.json()),$()}catch(Ve){s(f,Ve.message),console.error("Dashboard error:",Ve)}finally{s(_,!1)}}function $(){st(u,e(u).totalEmployees=e(y).length),st(u,e(u).activeEmployees=e(y).filter(Ve=>Ve.status==="active").length),st(u,e(u).onboardingEmployees=e(y).filter(Ve=>Ve.status==="onboarding").length),st(u,e(u).onLeaveEmployees=e(y).filter(Ve=>Ve.status==="on-leave").length)}function P(Ve){s(x,Ve),s(T,!0)}function A(){s(T,!1),s(x,null)}function ce(){s(N,!0)}za();var J=eu(),re=lt(J),et=a(t(re),2);{var Ge=Ve=>{var Pe=Vc();v(Ve,Pe)},mt=Ve=>{var Pe=Ct(),Xe=lt(Pe);{var it=qt=>{var at=Yc(),Be=t(at),ut=t(Be),Q=a(Be,2);Q.__click=j,E(()=>o(ut,`Error: ${e(f)??""}`)),v(qt,at)},xt=qt=>{var at=Gc(),Be=lt(at),ut=t(Be),Q=a(t(ut),2),Oe=t(Q),Ke=t(Oe),rt=a(ut,2),ot=a(t(rt),2),kt=t(ot),Fe=t(kt),Ye=a(rt,2),_t=a(t(Ye),2),St=t(_t),ft=t(St),pt=a(Ye,2),bt=a(t(pt),2),ye=t(bt),b=t(ye),S=a(Be,2),ee=a(t(S),2),me=t(ee);me.__click=ce;var je=a(me,2);je.__click=()=>s(k,!0);var qe=a(je,2);qe.__click=()=>s(B,!0),E(()=>{o(Ke,e(u).totalEmployees),o(Fe,e(u).activeEmployees),o(ft,e(u).onboardingEmployees),o(b,e(u).onLeaveEmployees)}),v(qt,at)};w(Xe,qt=>{e(f)?qt(it):qt(xt,!1)},!0)}v(Ve,Pe)};w(et,Ve=>{e(_)&&e(y).length===0?Ve(Ge):Ve(mt,!1)})}var wt=a(re,2);{var Le=Ve=>{var Pe=Xc();Pe.__click=()=>s(N,!1),Pe.__keydown=Be=>Be.key==="Escape"&&s(N,!1);var Xe=t(Pe);Xe.__click=Be=>Be.stopPropagation(),Xe.__keydown=Be=>Be.key==="Escape"&&s(N,!1);var it=t(Xe),xt=a(t(it),2);xt.__click=()=>s(N,!1);var qt=a(it,2),at=t(qt);Jc(at,{get employees(){return e(y)},loading:!1,onViewDetails:P}),v(Ve,Pe)};w(wt,Ve=>{e(N)&&Ve(Le)})}var vt=a(wt,2);{var Ue=Ve=>{var Pe=Kc();Pe.__click=A,Pe.__keydown=Be=>Be.key==="Escape"&&A();var Xe=t(Pe);Xe.__click=Be=>Be.stopPropagation(),Xe.__keydown=Be=>Be.key==="Escape"&&A();var it=t(Xe),xt=a(t(it),2);xt.__click=A;var qt=a(it,2),at=t(qt);Hr(at,{get employeeId(){return e(x)}}),v(Ve,Pe)};w(vt,Ve=>{e(T)&&e(x)&&Ve(Ue)})}var _e=a(vt,2);{var nt=Ve=>{var Pe=Zc();Pe.__click=()=>s(k,!1),Pe.__keydown=at=>at.key==="Escape"&&s(k,!1);var Xe=t(Pe);Xe.__click=at=>at.stopPropagation(),Xe.__keydown=at=>at.key==="Escape"&&s(k,!1);var it=t(Xe),xt=a(t(it),2);xt.__click=()=>s(k,!1);var qt=a(it,2);Wr(qt,{}),v(Ve,Pe)};w(_e,Ve=>{e(k)&&Ve(nt)})}var dt=a(_e,2);{var zt=Ve=>{var Pe=Qc();Pe.__click=()=>s(B,!1),Pe.__keydown=at=>at.key==="Escape"&&s(B,!1);var Xe=t(Pe);Xe.__click=at=>at.stopPropagation(),Xe.__keydown=at=>at.key==="Escape"&&s(B,!1);var it=t(Xe),xt=a(t(it),2);xt.__click=()=>s(B,!1);var qt=a(it,2);Jr(qt,{}),v(Ve,Pe)};w(dt,Ve=>{e(B)&&Ve(zt)})}v(l,J),Vt(),m()}ba(["click","keydown"]);var tu=p('<p class="viewing-as svelte-105tl1d">Viewing: <strong class="svelte-105tl1d"> </strong></p>'),au=p('<div class="error-banner svelte-105tl1d"> </div>'),su=p("<option> </option>"),lu=p('<div class="manager-selector svelte-105tl1d"><div class="selector-card svelte-105tl1d"><div class="selector-header svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <div class="selector-info svelte-105tl1d"><h3 class="svelte-105tl1d">Select Manager</h3> <p class="svelte-105tl1d">View dashboard for any manager</p></div></div> <select class="manager-select svelte-105tl1d"><option>Select a manager...</option><!></select></div></div>'),ru=p('<div class="loading svelte-105tl1d"><div class="spinner svelte-105tl1d"></div> <p>Loading dashboard...</p></div>'),iu=p('<div class="empty-state svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <h3 class="svelte-105tl1d">Select a Manager</h3> <p class="svelte-105tl1d">Choose a manager from the dropdown above to view their team dashboard</p></div>'),ou=p('<div class="empty-state svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <h3 class="svelte-105tl1d">No Team Members</h3> <p class="svelte-105tl1d">This manager currently has no direct reports</p></div>'),nu=p('<tr class="svelte-105tl1d"><td class="svelte-105tl1d"><div class="member-name svelte-105tl1d"><div class="avatar svelte-105tl1d"> </div> </div></td><td class="svelte-105tl1d"> </td><td class="svelte-105tl1d"> </td><td class="svelte-105tl1d"><span> </span></td></tr>'),vu=p('<div class="table-container svelte-105tl1d"><table class="data-table svelte-105tl1d"><thead><tr class="svelte-105tl1d"><th class="svelte-105tl1d">Name</th><th class="svelte-105tl1d">Email</th><th class="svelte-105tl1d">Position</th><th class="svelte-105tl1d">Status</th></tr></thead><tbody></tbody></table></div>'),du=p('<div class="stats-grid svelte-105tl1d"><div class="stat-card svelte-105tl1d"><div class="stat-icon team svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg></div> <div class="stat-content svelte-105tl1d"><p class="stat-label svelte-105tl1d">Team Members</p> <p class="stat-value svelte-105tl1d"> </p></div></div> <div class="stat-card svelte-105tl1d"><div class="stat-icon pto svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div> <div class="stat-content svelte-105tl1d"><p class="stat-label svelte-105tl1d">Pending PTO</p> <p class="stat-value svelte-105tl1d"> </p></div></div> <div class="stat-card svelte-105tl1d"><div class="stat-icon reviews svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line></svg></div> <div class="stat-content svelte-105tl1d"><p class="stat-label svelte-105tl1d">Upcoming Reviews</p> <p class="stat-value svelte-105tl1d"> </p></div></div> <div class="stat-card svelte-105tl1d"><div class="stat-icon tasks svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><polyline points="9 11 12 14 22 4"></polyline><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"></path></svg></div> <div class="stat-content svelte-105tl1d"><p class="stat-label svelte-105tl1d">Open Tasks</p> <p class="stat-value svelte-105tl1d"> </p></div></div></div> <div class="section svelte-105tl1d"><div class="section-header svelte-105tl1d"><h2 class="svelte-105tl1d">Team Members</h2></div> <!></div> <div class="section svelte-105tl1d"><div class="section-header svelte-105tl1d"><h2 class="svelte-105tl1d">Quick Actions</h2></div> <div class="actions-grid svelte-105tl1d"><button class="action-card svelte-105tl1d"><div class="action-icon svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div> <div class="action-content svelte-105tl1d"><h3 class="svelte-105tl1d">Review PTO Requests</h3> <p class="svelte-105tl1d">Approve or deny team time off</p></div></button> <button class="action-card svelte-105tl1d"><div class="action-icon svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></div> <div class="action-content svelte-105tl1d"><h3 class="svelte-105tl1d">View Timesheets</h3> <p class="svelte-105tl1d">Review team hours and attendance</p></div></button> <button class="action-card svelte-105tl1d"><div class="action-icon svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg></div> <div class="action-content svelte-105tl1d"><h3 class="svelte-105tl1d">Manage Team</h3> <p class="svelte-105tl1d">View and update employee info</p></div></button></div></div>',1),cu=p('<div class="manager-dashboard svelte-105tl1d"><div class="dashboard-header svelte-105tl1d"><h1 class="svelte-105tl1d">Manager Dashboard</h1> <!></div> <!> <!> <!></div>');function uu(l,r){Jt(r,!0);const i=ja();let c=Rt({teamMembers:0,pendingPTO:0,upcomingReviews:0,openTasks:0}),m=Qe(Rt([])),d=Qe(!0),y=Qe(""),u=Qe(null),_=Qe(!1),f=Qe(Rt([])),x=Qe(""),T=Qe("");async function B(){try{const Le=await fetch(`${i}/employees`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Le.ok)throw new Error("Failed to fetch employees");const vt=await Le.json(),Ue=new Set(vt.filter(_e=>_e.manager_id).map(_e=>_e.manager_id));s(f,vt.filter(_e=>Ue.has(_e.id)).map(_e=>({id:_e.id,name:`${_e.first_name} ${_e.last_name}`,email:_e.email,position:_e.position})).sort((_e,nt)=>_e.name.localeCompare(nt.name)),!0)}catch(Le){console.error("Error loading managers:",Le)}}async function k(Le){try{s(d,!0),s(y,""),aa.subscribe(dt=>{s(u,dt.user,!0),s(_,dt.user?.role==="admin"||dt.user?.role==="hr_manager",!0)});let vt=Le||e(u)?.employee_id;e(_)&&!e(x)&&e(u)?.employee_id&&(s(x,e(u).employee_id,!0),vt=e(u).employee_id);const Ue=await fetch(`${i}/employees`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!Ue.ok)throw new Error(`Failed to fetch employees: ${Ue.status}`);const _e=await Ue.json(),nt=_e.find(dt=>dt.id===vt);nt&&s(T,`${nt.first_name} ${nt.last_name}`),vt&&s(m,_e.filter(dt=>dt.manager_id===vt).map(dt=>({id:dt.id,name:`${dt.first_name} ${dt.last_name}`,email:dt.email,position:dt.position,status:dt.status})),!0),c.teamMembers=e(m).length,c.pendingPTO=0,c.upcomingReviews=0,c.openTasks=0}catch(vt){s(y,"Failed to load dashboard data"),console.error("Dashboard error:",vt)}finally{s(d,!1)}}function N(Le){const vt=Le.target;s(x,vt.value,!0),k(e(x))}ea(async()=>{aa.subscribe(Le=>{s(_,Le.user?.role==="admin"||Le.user?.role==="hr_manager",!0)}),e(_)&&await B(),await k()});var j=cu(),$=t(j),P=a(t($),2);{var A=Le=>{var vt=tu(),Ue=a(t(vt)),_e=t(Ue);E(()=>o(_e,`${e(T)??""}'s Team`)),v(Le,vt)};w(P,Le=>{e(T)&&e(_)&&Le(A)})}var ce=a($,2);{var J=Le=>{var vt=au(),Ue=t(vt);E(()=>o(Ue,e(y))),v(Le,vt)};w(ce,Le=>{e(y)&&Le(J)})}var re=a(ce,2);{var et=Le=>{var vt=lu(),Ue=t(vt),_e=a(t(Ue),2);_e.__change=N;var nt=t(_e);nt.value=nt.__value="";var dt=a(nt);ht(dt,17,()=>e(f),yt,(zt,Ve)=>{var Pe=su(),Xe=t(Pe),it={};E(()=>{o(Xe,`${e(Ve).name??""} - ${e(Ve).position??""}`),it!==(it=e(Ve).id)&&(Pe.value=(Pe.__value=e(Ve).id)??"")}),v(zt,Pe)}),At(_e,()=>e(x),zt=>s(x,zt)),v(Le,vt)};w(re,Le=>{e(_)&&e(f).length>0&&Le(et)})}var Ge=a(re,2);{var mt=Le=>{var vt=ru();v(Le,vt)},wt=Le=>{var vt=Ct(),Ue=lt(vt);{var _e=dt=>{var zt=iu();v(dt,zt)},nt=dt=>{var zt=du(),Ve=lt(zt),Pe=t(Ve),Xe=a(t(Pe),2),it=a(t(Xe),2),xt=t(it),qt=a(Pe,2),at=a(t(qt),2),Be=a(t(at),2),ut=t(Be),Q=a(qt,2),Oe=a(t(Q),2),Ke=a(t(Oe),2),rt=t(Ke),ot=a(Q,2),kt=a(t(ot),2),Fe=a(t(kt),2),Ye=t(Fe),_t=a(Ve,2),St=a(t(_t),2);{var ft=me=>{var je=ou();v(me,je)},pt=me=>{var je=vu(),qe=t(je),Te=a(t(qe));ht(Te,21,()=>e(m),yt,(Ie,Ne)=>{var He=nu(),oe=t(He),de=t(oe),le=t(de),we=t(le),se=a(le),M=a(oe),O=t(M),D=a(M),L=t(D),g=a(D),z=t(g),h=t(z);E(C=>{o(we,C),o(se,` ${e(Ne).name??""}`),o(O,e(Ne).email),o(L,e(Ne).position),tt(z,1,`status-badge status-${e(Ne).status??""}`,"svelte-105tl1d"),o(h,e(Ne).status)},[()=>e(Ne).name.split(" ").map(C=>C[0]).join("")]),v(Ie,He)}),v(me,je)};w(St,me=>{e(m).length===0?me(ft):me(pt,!1)})}var bt=a(_t,2),ye=a(t(bt),2),b=t(ye);b.__click=()=>r.navigate("pto");var S=a(b,2);S.__click=()=>r.navigate("timesheet");var ee=a(S,2);ee.__click=()=>r.navigate("employees"),E(()=>{o(xt,c.teamMembers),o(ut,c.pendingPTO),o(rt,c.upcomingReviews),o(Ye,c.openTasks)}),v(dt,zt)};w(Ue,dt=>{!e(x)&&e(_)?dt(_e):dt(nt,!1)},!0)}v(Le,vt)};w(Ge,Le=>{e(d)?Le(mt):Le(wt,!1)})}v(l,j),Vt()}ba(["change","click"]);var pu=p('<div class="loading svelte-19ts9ba">Loading your information...</div>'),_u=p('<div class="empty-state svelte-19ts9ba"><p class="svelte-19ts9ba">No time entries recorded yet.</p> <p class="text-muted svelte-19ts9ba">Start tracking your hours to see them here.</p></div>'),fu=p('<tr class="svelte-19ts9ba"><td class="svelte-19ts9ba"> </td><td class="svelte-19ts9ba"> </td><td class="svelte-19ts9ba"> </td><td class="hours-value svelte-19ts9ba"> </td><td class="svelte-19ts9ba"><span> </span></td></tr>'),mu=p('<div class="table-container svelte-19ts9ba"><table class="svelte-19ts9ba"><thead class="svelte-19ts9ba"><tr><th class="svelte-19ts9ba">Date</th><th class="svelte-19ts9ba">Clock In</th><th class="svelte-19ts9ba">Clock Out</th><th class="svelte-19ts9ba">Hours</th><th class="svelte-19ts9ba">Status</th></tr></thead><tbody class="svelte-19ts9ba"></tbody></table></div>'),bu=p('<div class="section svelte-19ts9ba"><h2 class="svelte-19ts9ba">Recent Time Entries</h2> <!></div>'),hu=p('<div class="empty-state svelte-19ts9ba"><p class="svelte-19ts9ba">No tasks assigned yet.</p> <p class="text-muted svelte-19ts9ba">Your assigned tasks will appear here.</p></div>'),yu=p('<div class="task-due-date svelte-19ts9ba"> </div>'),gu=p('<div class="task-card svelte-19ts9ba"><div class="task-header svelte-19ts9ba"><h3 class="svelte-19ts9ba"> </h3> <span> </span></div> <p class="task-description svelte-19ts9ba"> </p> <div class="task-footer svelte-19ts9ba"><span class="task-type svelte-19ts9ba"> </span> <span> </span></div> <!></div>'),xu=p('<div class="tasks-grid svelte-19ts9ba"></div>'),wu=p('<div class="section svelte-19ts9ba"><h2 class="svelte-19ts9ba">Assigned Tasks</h2> <!></div>'),ku=p('<div class="stats-grid svelte-19ts9ba"><div class="stat-card svelte-19ts9ba"><div class="stat-icon svelte-19ts9ba">‚è±Ô∏è</div> <div class="stat-content svelte-19ts9ba"><div class="stat-value svelte-19ts9ba"> </div> <div class="stat-label svelte-19ts9ba">Hours This Week</div></div></div> <div class="stat-card svelte-19ts9ba"><div class="stat-icon svelte-19ts9ba">üìã</div> <div class="stat-content svelte-19ts9ba"><div class="stat-value svelte-19ts9ba"> </div> <div class="stat-label svelte-19ts9ba">Pending Tasks</div></div></div> <div class="stat-card svelte-19ts9ba"><div class="stat-icon svelte-19ts9ba">‚úì</div> <div class="stat-content svelte-19ts9ba"><div class="stat-value svelte-19ts9ba"> </div> <div class="stat-label svelte-19ts9ba">Completed Tasks</div></div></div></div> <div class="tabs svelte-19ts9ba"><button>‚è±Ô∏è Timesheet</button> <button>üìã Assigned Tasks</button></div> <div class="content svelte-19ts9ba"><!> <!></div>',1),$u=p('<div class="contractor-view svelte-19ts9ba"><div class="header svelte-19ts9ba"><div class="header-content svelte-19ts9ba"><h1 class="svelte-19ts9ba">üë∑ Contractor Portal</h1> <p class="subtitle svelte-19ts9ba"> </p></div> <div class="header-badge svelte-19ts9ba"><span class="badge badge-contractor svelte-19ts9ba">Contractor</span></div></div> <!></div>');function Eu(l,r){Jt(r,!0);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=ja();let y=Qe(!1),u=Qe("timesheet"),_=Qe(Rt([])),f=Qe(Rt([])),x=Qe(0),T=Qe(0),B=Sa(()=>r.employee||i().employee);Ta(()=>{console.log("[ContractorView] State:",{employeeProp:r.employee,authStoreEmployee:i().employee,currentEmployee:e(B)})}),ea(()=>{console.log("[ContractorView] onMount called"),k()});async function k(){s(y,!0);try{await Promise.all([N(),j()])}catch(_e){console.error("Error loading contractor data:",_e)}finally{s(y,!1)}}async function N(){try{const _e=await fetch(`${d}/onboarding/tasks`,{headers:{Authorization:`Bearer ${i().token}`}});if(_e.ok){const nt=await _e.json();s(_,Array.isArray(nt)?nt:[],!0),s(T,e(_).filter(dt=>dt.status==="pending").length,!0)}}catch(_e){console.error("Error loading tasks:",_e),s(_,[],!0)}}async function j(){try{const _e=await fetch(`${d}/timesheet/entries`,{headers:{Authorization:`Bearer ${i().token}`}});if(_e.ok){const nt=await _e.json();s(f,Array.isArray(nt)?nt.slice(0,5):[],!0),$()}}catch(_e){console.error("Error loading time entries:",_e),s(f,[],!0)}}function $(){const _e=new Date,nt=new Date(_e);nt.setDate(_e.getDate()-_e.getDay()),nt.setHours(0,0,0,0),s(x,e(f).filter(dt=>new Date(dt.date)>=nt).reduce((dt,zt)=>dt+(zt.total_hours||0),0),!0)}function P(_e){return{high:"priority-high",medium:"priority-medium",low:"priority-low"}[_e]||"priority-medium"}function A(_e){return{completed:"status-completed","in-progress":"status-progress",pending:"status-pending"}[_e]||"status-pending"}function ce(_e){return new Date(_e).toLocaleDateString()}function J(_e){return _e?new Date(_e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A"}var re=$u(),et=t(re),Ge=t(et),mt=a(t(Ge),2),wt=t(mt),Le=a(et,2);{var vt=_e=>{var nt=pu();v(_e,nt)},Ue=_e=>{var nt=ku(),dt=lt(nt),zt=t(dt),Ve=a(t(zt),2),Pe=t(Ve),Xe=t(Pe),it=a(zt,2),xt=a(t(it),2),qt=t(xt),at=t(qt),Be=a(it,2),ut=a(t(Be),2),Q=t(ut),Oe=t(Q),Ke=a(dt,2),rt=t(Ke);rt.__click=()=>s(u,"timesheet");var ot=a(rt,2);ot.__click=()=>s(u,"tasks");var kt=a(Ke,2),Fe=t(kt);{var Ye=ft=>{var pt=bu(),bt=a(t(pt),2);{var ye=S=>{var ee=_u();v(S,ee)},b=S=>{var ee=mu(),me=t(ee),je=a(t(me));ht(je,21,()=>e(f),yt,(qe,Te)=>{var Ie=fu(),Ne=t(Ie),He=t(Ne),oe=a(Ne),de=t(oe),le=a(oe),we=t(le),se=a(le),M=t(se),O=a(se),D=t(O),L=t(D);E((g,z,h,C)=>{o(He,g),o(de,z),o(we,h),o(M,`${C??""} hrs`),tt(D,1,`status-badge status-${e(Te).status??""}`,"svelte-19ts9ba"),o(L,e(Te).status)},[()=>ce(e(Te).date),()=>J(e(Te).clock_in),()=>J(e(Te).clock_out),()=>e(Te).total_hours?.toFixed(2)||"0.00"]),v(qe,Ie)}),v(S,ee)};w(bt,S=>{e(f).length===0?S(ye):S(b,!1)})}v(ft,pt)};w(Fe,ft=>{e(u)==="timesheet"&&ft(Ye)})}var _t=a(Fe,2);{var St=ft=>{var pt=wu(),bt=a(t(pt),2);{var ye=S=>{var ee=hu();v(S,ee)},b=S=>{var ee=xu();ht(ee,21,()=>e(_),yt,(me,je)=>{var qe=gu(),Te=t(qe),Ie=t(Te),Ne=t(Ie),He=a(Ie,2),oe=t(He),de=a(Te,2),le=t(de),we=a(de,2),se=t(we),M=t(se),O=a(se,2),D=t(O),L=a(we,2);{var g=z=>{var h=yu(),C=t(h);E(I=>o(C,`Due: ${I??""}`),[()=>ce(e(je).due_date)]),v(z,h)};w(L,z=>{e(je).due_date&&z(g)})}E((z,h)=>{o(Ne,e(je).title),tt(He,1,`task-priority ${z??""}`,"svelte-19ts9ba"),o(oe,e(je).priority),o(le,e(je).description||"No description"),o(M,e(je).type),tt(O,1,`task-status ${h??""}`,"svelte-19ts9ba"),o(D,e(je).status)},[()=>P(e(je).priority),()=>A(e(je).status)]),v(me,qe)}),v(S,ee)};w(bt,S=>{e(_).length===0?S(ye):S(b,!1)})}v(ft,pt)};w(_t,ft=>{e(u)==="tasks"&&ft(St)})}E((ft,pt)=>{o(Xe,ft),o(at,e(T)),o(Oe,pt),tt(rt,1,`tab-btn ${e(u)==="timesheet"?"active":""}`,"svelte-19ts9ba"),tt(ot,1,`tab-btn ${e(u)==="tasks"?"active":""}`,"svelte-19ts9ba")},[()=>e(x).toFixed(1),()=>e(_).filter(ft=>ft.status==="completed").length]),v(_e,nt)};w(Le,_e=>{e(y)?_e(vt):_e(Ue,!1)})}E(()=>o(wt,`Welcome back, ${(e(B)?.first_name||"Contractor")??""}!`)),v(l,re),Vt(),m()}ba(["click"]);var Su=Xs('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="check svelte-1d6lxbr"><polyline points="20 6 9 17 4 12"></polyline></svg>'),zu=p('<button><div class="employee-avatar svelte-1d6lxbr"> </div> <div class="employee-info svelte-1d6lxbr"><div class="employee-name svelte-1d6lxbr"> </div> <div class="employee-position svelte-1d6lxbr"> </div></div> <!></button>'),ju=p('<div class="employee-dropdown svelte-1d6lxbr"><div class="dropdown-search svelte-1d6lxbr"><input type="text" placeholder="Search employees..." class="search-input svelte-1d6lxbr"/></div> <div class="employee-list svelte-1d6lxbr"></div></div>'),qu=p('<div class="employee-selector-bar svelte-1d6lxbr"><div class="selector-label svelte-1d6lxbr">Viewing Dashboard For:</div> <button class="employee-selector-btn svelte-1d6lxbr"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1d6lxbr"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <span> </span> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="chevron svelte-1d6lxbr"><polyline points="6 9 12 15 18 9"></polyline></svg></button> <!></div>'),Cu=p('<span class="badge svelte-1d6lxbr"> </span>'),Au=p('<button><span class="action-icon svelte-1d6lxbr"> </span> <div class="action-content svelte-1d6lxbr"><h3 class="svelte-1d6lxbr"> </h3> <p class="svelte-1d6lxbr"> </p></div> <span class="action-arrow svelte-1d6lxbr">‚Üí</span></button>'),Du=p('<div class="empty-state-small svelte-1d6lxbr"><span class="empty-icon svelte-1d6lxbr">‚úì</span> <p>No pending tasks</p></div>'),Pu=p('<div class="task-item svelte-1d6lxbr"><div class="task-header svelte-1d6lxbr"><span class="task-title svelte-1d6lxbr"> </span> <span> </span></div> <p class="task-description svelte-1d6lxbr"> </p> <div class="task-footer svelte-1d6lxbr"><span class="task-due svelte-1d6lxbr"> </span> <span> </span></div></div>'),Tu=p('<div class="task-list svelte-1d6lxbr"></div>'),Mu=p('<div class="empty-state-small svelte-1d6lxbr"><span class="empty-icon svelte-1d6lxbr">‚è±Ô∏è</span> <p>No time entries yet</p></div>'),Bu=p('<div class="time-entry-row svelte-1d6lxbr"><div class="entry-date svelte-1d6lxbr"> </div> <div class="entry-time svelte-1d6lxbr"> </div> <div class="entry-hours svelte-1d6lxbr"> </div></div>'),Ou=p('<div class="time-entries svelte-1d6lxbr"></div>'),Fu=p('<section class="section card svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">PTO Balance</h2> <div class="pto-summary svelte-1d6lxbr"><div class="pto-item svelte-1d6lxbr"><span class="pto-icon svelte-1d6lxbr">üèñÔ∏è</span> <div><div class="pto-value svelte-1d6lxbr"> </div> <div class="pto-label svelte-1d6lxbr">Vacation Days</div></div></div> <div class="pto-item svelte-1d6lxbr"><span class="pto-icon svelte-1d6lxbr">üè•</span> <div><div class="pto-value svelte-1d6lxbr"> </div> <div class="pto-label svelte-1d6lxbr">Sick Days</div></div></div> <div class="pto-item svelte-1d6lxbr"><span class="pto-icon svelte-1d6lxbr">‚è∞</span> <div><div class="pto-value svelte-1d6lxbr"> </div> <div class="pto-label svelte-1d6lxbr">Personal Days</div></div></div></div> <button class="btn btn-primary btn-block svelte-1d6lxbr">Request Time Off</button></section>'),Iu=p('<section class="section card highlight svelte-1d6lxbr"><div class="pay-preview svelte-1d6lxbr"><span class="pay-icon svelte-1d6lxbr">üí∞</span> <div class="pay-info"><div class="pay-label svelte-1d6lxbr">Next Pay Date</div> <div class="pay-date svelte-1d6lxbr"> </div></div></div> <button class="btn btn-secondary btn-block svelte-1d6lxbr">View Pay Stubs</button></section>'),Nu=p('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Quick Actions</h2> <div class="quick-actions-grid svelte-1d6lxbr"></div></section> <div class="two-column svelte-1d6lxbr"><div class="column svelte-1d6lxbr"><section class="section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Pending Tasks</h2> <button class="link-btn svelte-1d6lxbr">View All ‚Üí</button></div> <!></section> <section class="section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Recent Time Entries</h2> <button class="link-btn svelte-1d6lxbr">View All ‚Üí</button></div> <!></section></div> <div class="column svelte-1d6lxbr"><!> <!> <section class="section card svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Benefits Portal</h2> <div class="benefits-links svelte-1d6lxbr"><button type="button" class="benefit-link svelte-1d6lxbr"><span class="benefit-icon svelte-1d6lxbr">üè•</span> <div><div class="benefit-title svelte-1d6lxbr">Healthcare</div> <div class="benefit-subtitle svelte-1d6lxbr">Medical, Dental, Vision</div></div> <span class="link-arrow svelte-1d6lxbr">‚Üí</span></button> <button type="button" class="benefit-link svelte-1d6lxbr"><span class="benefit-icon svelte-1d6lxbr">üíº</span> <div><div class="benefit-title svelte-1d6lxbr">Retirement</div> <div class="benefit-subtitle svelte-1d6lxbr">401(k) Plan</div></div> <span class="link-arrow svelte-1d6lxbr">‚Üí</span></button></div></section></div></div>',1),Ru=p(`<div class="empty-state svelte-1d6lxbr"><div class="empty-icon svelte-1d6lxbr">‚úì</div> <h3 class="svelte-1d6lxbr">All Caught Up!</h3> <p>You don't have any pending tasks.</p></div>`),Lu=p('<div class="task-card svelte-1d6lxbr"><div class="task-card-header svelte-1d6lxbr"><span> </span> <span> </span></div> <h3 class="task-card-title svelte-1d6lxbr"> </h3> <p class="task-card-description svelte-1d6lxbr"> </p> <div class="task-card-footer svelte-1d6lxbr"><span class="task-type"> </span> <span class="task-due svelte-1d6lxbr"> </span></div> <button class="btn btn-primary btn-sm svelte-1d6lxbr">Complete Task</button></div>'),Uu=p('<div class="tasks-grid svelte-1d6lxbr"></div>'),Hu=p('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">My Tasks</h2> <!></section>'),Wu=p('<div class="empty-state svelte-1d6lxbr"><div class="empty-icon svelte-1d6lxbr">üí∞</div> <h3 class="svelte-1d6lxbr">No Pay Stubs Available</h3> <p>Pay stubs will appear here once payroll is processed.</p></div>'),Ju=p('<div class="paystub-card svelte-1d6lxbr"><div class="paystub-header svelte-1d6lxbr"><div><h3 class="svelte-1d6lxbr"> </h3> <p class="paystub-date svelte-1d6lxbr"> </p></div> <span> </span></div> <div class="paystub-amounts svelte-1d6lxbr"><div class="amount-item svelte-1d6lxbr"><span class="amount-label svelte-1d6lxbr">Gross Pay</span> <span class="amount-value svelte-1d6lxbr"> </span></div> <div class="amount-item svelte-1d6lxbr"><span class="amount-label svelte-1d6lxbr">Net Pay</span> <span class="amount-value net svelte-1d6lxbr"> </span></div></div> <button class="btn btn-secondary btn-sm svelte-1d6lxbr">üìÑ Download PDF</button></div>'),Vu=p('<div class="paystubs-list svelte-1d6lxbr"></div>'),Yu=p('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Pay Stubs</h2> <!></section>'),Gu=p('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Benefits Overview</h2> <div class="benefits-grid svelte-1d6lxbr"><div class="benefit-card svelte-1d6lxbr"><div class="benefit-card-header svelte-1d6lxbr"><span class="benefit-card-icon svelte-1d6lxbr">üè•</span> <h3 class="svelte-1d6lxbr">Healthcare Benefits</h3></div> <p class="benefit-description svelte-1d6lxbr">Medical, dental, and vision insurance plans</p> <div class="benefit-links-list svelte-1d6lxbr"><a href="https://example.com/healthcare" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Login to Healthcare Portal</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a> <a href="https://example.com/find-doctor" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Find a Doctor</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a> <a href="https://example.com/claims" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>View Claims</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a></div></div> <div class="benefit-card svelte-1d6lxbr"><div class="benefit-card-header svelte-1d6lxbr"><span class="benefit-card-icon svelte-1d6lxbr">üíº</span> <h3 class="svelte-1d6lxbr">Retirement Plan</h3></div> <p class="benefit-description svelte-1d6lxbr">401(k) with company match up to 6%</p> <div class="benefit-links-list svelte-1d6lxbr"><a href="https://example.com/401k" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Login to 401(k) Portal</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a> <a href="https://example.com/contributions" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Manage Contributions</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a> <a href="https://example.com/investments" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>View Investments</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a></div></div> <div class="benefit-card svelte-1d6lxbr"><div class="benefit-card-header svelte-1d6lxbr"><span class="benefit-card-icon svelte-1d6lxbr">üõ°Ô∏è</span> <h3 class="svelte-1d6lxbr">Life Insurance</h3></div> <p class="benefit-description svelte-1d6lxbr">Basic and supplemental life insurance coverage</p> <div class="benefit-links-list svelte-1d6lxbr"><a href="https://example.com/life-insurance" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>View Coverage Details</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a> <a href="https://example.com/beneficiaries" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Update Beneficiaries</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a></div></div> <div class="benefit-card svelte-1d6lxbr"><div class="benefit-card-header svelte-1d6lxbr"><span class="benefit-card-icon svelte-1d6lxbr">üí≥</span> <h3 class="svelte-1d6lxbr">FSA / HSA</h3></div> <p class="benefit-description svelte-1d6lxbr">Flexible spending and health savings accounts</p> <div class="benefit-links-list svelte-1d6lxbr"><a href="https://example.com/fsa" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Manage FSA/HSA</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a> <a href="https://example.com/submit-claim" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Submit Claim</span> <span class="external-icon svelte-1d6lxbr">‚Üó</span></a></div></div></div> <div class="help-section svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Need Help with Benefits?</h3> <p class="svelte-1d6lxbr">Contact HR at <a href="/cdn-cgi/l/email-protection#482a2d262d2e213c3b082b272538292631662b2725" class="svelte-1d6lxbr"><span class="__cf_email__" data-cfemail="1577707b70737c616655767a7865747b6c3b767a78">[email&#160;protected]</span></a> or call (555) 123-4567</p></div></section>'),Xu=p('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">My Profile</h2> <div class="profile-sections svelte-1d6lxbr"><div class="profile-section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Personal Information</h3> <button class="btn btn-secondary btn-sm svelte-1d6lxbr">Edit</button></div> <div class="info-grid svelte-1d6lxbr"><div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Full Name</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Email</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Phone</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Date of Birth</span> <div class="info-value svelte-1d6lxbr"> </div></div></div></div> <div class="profile-section card svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Employment Information</h3> <div class="info-grid svelte-1d6lxbr"><div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Position</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Department</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Employment Type</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Hire Date</span> <div class="info-value svelte-1d6lxbr"> </div></div></div></div> <div class="profile-section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Address</h3> <button class="btn btn-secondary btn-sm svelte-1d6lxbr">Update</button></div> <div class="info-grid svelte-1d6lxbr"><div class="info-item full-width svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Street Address</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">City</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">State</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">ZIP Code</span> <div class="info-value svelte-1d6lxbr"> </div></div></div></div> <div class="profile-section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Emergency Contact</h3> <button class="btn btn-secondary btn-sm svelte-1d6lxbr">Update</button></div> <div class="info-grid svelte-1d6lxbr"><div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Name</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Phone</span> <div class="info-value svelte-1d6lxbr"> </div></div></div></div></div></section>'),Ku=p('<div class="dashboard-container svelte-1d6lxbr"><!> <div class="dashboard-header svelte-1d6lxbr"><div><h1 class="svelte-1d6lxbr"> </h1> <p class="subtitle svelte-1d6lxbr"> </p></div> <div class="header-stats svelte-1d6lxbr"><div class="stat-card svelte-1d6lxbr"><span class="stat-icon svelte-1d6lxbr">üìã</span> <div><div class="stat-value svelte-1d6lxbr"> </div> <div class="stat-label svelte-1d6lxbr">Pending Tasks</div></div></div> <div class="stat-card svelte-1d6lxbr"><span class="stat-icon svelte-1d6lxbr">‚è∞</span> <div><div class="stat-value svelte-1d6lxbr"> </div> <div class="stat-label svelte-1d6lxbr">This Week</div></div></div></div></div> <div class="tab-nav svelte-1d6lxbr"><button>Overview</button> <button>My Tasks <!></button> <button>Pay Stubs</button> <button>Benefits</button> <button>Profile</button></div> <div class="tab-content"><!> <!> <!> <!> <!></div></div>');function Zu(l,r){Jt(r,!0);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=ja();let y=Qe("overview"),u=Qe(null);Ta(()=>{console.log("[EmployeeView] State:",{employeeProp:r.employee,authStoreEmployee:i().employee,currentEmployee:e(u)})});let _=Qe(null),f=Qe(Rt([])),x=Qe(!1),T=Qe(!1),B=Qe(Rt([])),k=Qe(Rt([])),N=Qe(null),j=Qe(Rt([]));Rt([]);let $=Qe(0),P=Qe(0),A=Qe("");ea(()=>{console.log("[EmployeeView] onMount called"),s(u,r.employee||i().employee,!0),console.log("[EmployeeView] Initialized employee:",e(u)),s(T,i().user?.role==="admin"||i().user?.role==="hr-manager",!0),console.log("[EmployeeView] isAdmin:",e(T)),e(T)&&et(),s(_,i().employee?.id||null,!0),console.log("[EmployeeView] selectedEmployeeId:",e(_)),re()}),Ta(()=>{e(_)&&re()});let ce=Qe(""),J=Sa(()=>e(f).filter(M=>{if(!e(ce))return!0;const O=e(ce).toLowerCase();return M.first_name.toLowerCase().includes(O)||M.last_name.toLowerCase().includes(O)||M.email.toLowerCase().includes(O)||M.position?.toLowerCase().includes(O)}));async function re(){try{await Promise.all([mt(),wt(),Le(),vt()])}catch(M){console.error("Error loading dashboard:",M)}finally{}}async function et(){try{const M=await fetch(`${d}/employees`,{headers:{Authorization:`Bearer ${i().token}`}});M.ok&&s(f,await M.json(),!0)}catch(M){console.error("Failed to load employees:",M)}}function Ge(M){s(_,M,!0),s(x,!1),s(u,e(f).find(O=>O.id===M),!0)}async function mt(){if(!e(_)){s(B,[],!0);return}try{const M=await fetch(`${d}/onboarding?status=pending`,{headers:{Authorization:`Bearer ${i().token}`}});if(M.ok){const O=await M.json();Array.isArray(O)?(s(B,O,!0),s($,e(B).filter(D=>D.status==="pending").length,!0)):(console.warn("Tasks response is not an array:",O),s(B,[],!0),s($,0))}else console.log("Tasks endpoint returned error:",M.status),s(B,[],!0),s($,0)}catch(M){console.error("Error loading tasks:",M),s(B,[],!0),s($,0)}}async function wt(){try{const M=await fetch(`${d}/timesheet/entries`,{headers:{Authorization:`Bearer ${i().token}`}});if(M.ok){const O=await M.json();if(Array.isArray(O)){s(k,Array.isArray(O)?O.slice(0,5):[],!0);const D=Ue();s(P,O.filter(L=>new Date(L.date)>=D).reduce((L,g)=>L+g.total_hours,0),!0)}else console.log("No timesheet entries found (API returned null)"),s(k,[],!0),s(P,0)}else console.log("Timesheet endpoint returned error:",M.status),s(k,[],!0),s(P,0)}catch(M){console.error("Error loading timesheet entries:",M),s(k,[],!0),s(P,0)}}async function Le(){try{const M=await fetch(`${d}/pto/balance`,{headers:{Authorization:`Bearer ${i().token}`}});M.ok?s(N,await M.json(),!0):(console.log("PTO endpoint not available yet:",M.status),s(N,{vacation_days:0,sick_days:0,personal_days:0},!0))}catch{console.log("PTO feature not implemented yet"),s(N,{vacation_days:0,sick_days:0,personal_days:0},!0)}}async function vt(){try{if(!i().employee?.id){console.log("Employee ID not available, skipping payroll load"),s(j,[],!0),s(A,"");return}const M=await fetch(`${d}/payroll/paystubs/employee/${i().employee.id}`,{headers:{Authorization:`Bearer ${i().token}`}});if(M.ok){const O=await M.json();Array.isArray(O)?(s(j,O.slice(0,3),!0),O.length>0?s(A,O[0].pay_date,!0):s(A,"")):(console.warn("Pay stubs response is not an array:",O),s(j,[],!0),s(A,""))}else console.log("Payroll endpoint returned error:",M.status),s(j,[],!0),s(A,"")}catch(M){console.error("Error loading pay stubs:",M),s(j,[],!0),s(A,"")}}function Ue(){const M=new Date,O=M.getDay(),D=M.getDate()-O+(O===0?-6:1);return new Date(M.setDate(D))}function _e(M){return new Date(M).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function nt(M){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(M)}const dt=Sa(()=>[{id:"timesheet",title:"Submit Timesheet",description:"Log your hours for the week",icon:"‚è±Ô∏è",action:()=>r.navigate("timesheet"),color:"purple"},{id:"pto",title:"Request Time Off",description:"Submit a PTO request",icon:"üèñÔ∏è",action:()=>r.navigate("pto"),color:"blue"},{id:"payroll",title:"View Pay Stubs",description:"Access your payment history",icon:"üí∞",action:()=>s(y,"payroll"),color:"green"},{id:"benefits",title:"Manage Benefits",description:"Healthcare and retirement",icon:"üè•",action:()=>s(y,"benefits"),color:"red"},{id:"profile",title:"Update Profile",description:"Personal information",icon:"üë§",action:()=>s(y,"profile"),color:"gray"},{id:"tasks",title:"My Tasks",description:`${e($)} pending`,icon:"‚úì",action:()=>s(y,"tasks"),color:"yellow"}]);function zt(M){switch(M){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return""}}function Ve(M){switch(M){case"completed":return"status-completed";case"pending":return"status-pending";case"in_progress":return"status-progress";default:return""}}var Pe=Ku(),Xe=t(Pe);{var it=M=>{var O=qu(),D=a(t(O),2);D.__click=()=>s(x,!e(x));var L=a(t(D),2),g=t(L),z=a(D,2);{var h=C=>{var I=ju(),R=t(I),V=t(R),K=a(R,2);ht(K,21,()=>e(J),yt,(ie,H)=>{var Y=zu();let W;Y.__click=()=>Ge(e(H).id);var U=t(Y),te=t(U),pe=a(U,2),fe=t(pe),G=t(fe),he=a(fe,2),ze=t(he),Ee=a(pe,2);{var De=xe=>{var q=Su();v(xe,q)};w(Ee,xe=>{e(_)===e(H).id&&xe(De)})}E(()=>{W=tt(Y,1,"employee-item svelte-1d6lxbr",null,W,{active:e(_)===e(H).id}),o(te,`${e(H).first_name[0]??""}${e(H).last_name[0]??""}`),o(G,`${e(H).first_name??""} ${e(H).last_name??""}`),o(ze,e(H).position)}),v(ie,Y)}),Ze(V,()=>e(ce),ie=>s(ce,ie)),v(C,I)};w(z,C=>{e(x)&&C(h)})}E(()=>o(g,e(u)?`${e(u).first_name} ${e(u).last_name}`:"Select Employee")),v(M,O)};w(Xe,M=>{e(T)&&M(it)})}var xt=a(Xe,2),qt=t(xt),at=t(qt),Be=t(at),ut=a(at,2),Q=t(ut),Oe=a(qt,2),Ke=t(Oe),rt=a(t(Ke),2),ot=t(rt),kt=t(ot),Fe=a(Ke,2),Ye=a(t(Fe),2),_t=t(Ye),St=t(_t),ft=a(xt,2),pt=t(ft);pt.__click=()=>s(y,"overview");var bt=a(pt,2);bt.__click=()=>s(y,"tasks");var ye=a(t(bt));{var b=M=>{var O=Cu(),D=t(O);E(()=>o(D,e($))),v(M,O)};w(ye,M=>{e($)>0&&M(b)})}var S=a(bt,2);S.__click=()=>s(y,"payroll");var ee=a(S,2);ee.__click=()=>s(y,"benefits");var me=a(ee,2);me.__click=()=>s(y,"profile");var je=a(ft,2),qe=t(je);{var Te=M=>{var O=Nu(),D=lt(O),L=a(t(D),2);ht(L,21,()=>e(dt),yt,(F,ae)=>{var X=Au();X.__click=function(...Ce){e(ae).action?.apply(this,Ce)};var ne=t(X),Re=t(ne),$e=a(ne,2),ue=t($e),ge=t(ue),We=a(ue,2),Se=t(We);E(()=>{tt(X,1,`quick-action-card action-${e(ae).color??""}`,"svelte-1d6lxbr"),o(Re,e(ae).icon),o(ge,e(ae).title),o(Se,e(ae).description)}),v(F,X)});var g=a(D,2),z=t(g),h=t(z),C=t(h),I=a(t(C),2);I.__click=()=>s(y,"tasks");var R=a(C,2);{var V=F=>{var ae=Du();v(F,ae)},K=F=>{var ae=Tu();ht(ae,21,()=>e(B).slice(0,3),yt,(X,ne)=>{var Re=Pu(),$e=t(Re),ue=t($e),ge=t(ue),We=a(ue,2),Se=t(We),Ce=a($e,2),ct=t(Ce),ke=a(Ce,2),Me=t(ke),Ae=t(Me),be=a(Me,2),gt=t(be);E(($t,Je,Pt)=>{o(ge,e(ne).title),tt(We,1,`priority-badge ${$t??""}`,"svelte-1d6lxbr"),o(Se,e(ne).priority),o(ct,e(ne).description),o(Ae,`Due: ${Je??""}`),tt(be,1,`status-badge ${Pt??""}`,"svelte-1d6lxbr"),o(gt,e(ne).status)},[()=>zt(e(ne).priority),()=>_e(e(ne).due_date),()=>Ve(e(ne).status)]),v(X,Re)}),v(F,ae)};w(R,F=>{e(B).length===0?F(V):F(K,!1)})}var ie=a(h,2),H=t(ie),Y=a(t(H),2);Y.__click=()=>r.navigate("timesheet");var W=a(H,2);{var U=F=>{var ae=Mu();v(F,ae)},te=F=>{var ae=Ou();ht(ae,21,()=>e(k),yt,(X,ne)=>{var Re=Bu(),$e=t(Re),ue=t($e),ge=a($e,2),We=t(ge),Se=a(ge,2),Ce=t(Se);E(ct=>{o(ue,ct),o(We,`${e(ne).clock_in??""} - ${e(ne).clock_out??""}`),o(Ce,`${e(ne).total_hours??""}h`)},[()=>_e(e(ne).date)]),v(X,Re)}),v(F,ae)};w(W,F=>{e(k).length===0?F(U):F(te,!1)})}var pe=a(z,2),fe=t(pe);{var G=F=>{var ae=Fu(),X=a(t(ae),2),ne=t(X),Re=a(t(ne),2),$e=t(Re),ue=t($e),ge=a(ne,2),We=a(t(ge),2),Se=t(We),Ce=t(Se),ct=a(ge,2),ke=a(t(ct),2),Me=t(ke),Ae=t(Me),be=a(X,2);be.__click=()=>r.navigate("pto"),E(()=>{o(ue,e(N).vacation_days),o(Ce,e(N).sick_days),o(Ae,e(N).personal_days)}),v(F,ae)};w(fe,F=>{e(N)&&F(G)})}var he=a(fe,2);{var ze=F=>{var ae=Iu(),X=t(ae),ne=a(t(X),2),Re=a(t(ne),2),$e=t(Re),ue=a(X,2);ue.__click=()=>s(y,"payroll"),E(ge=>o($e,ge),[()=>_e(e(A))]),v(F,ae)};w(he,F=>{e(A)&&F(ze)})}var Ee=a(he,2),De=a(t(Ee),2),xe=t(De);xe.__click=()=>s(y,"benefits");var q=a(xe,2);q.__click=()=>s(y,"benefits"),v(M,O)};w(qe,M=>{e(y)==="overview"&&M(Te)})}var Ie=a(qe,2);{var Ne=M=>{var O=Hu(),D=a(t(O),2);{var L=z=>{var h=Ru();v(z,h)},g=z=>{var h=Uu();ht(h,21,()=>e(B),yt,(C,I)=>{var R=Lu(),V=t(R),K=t(V),ie=t(K),H=a(K,2),Y=t(H),W=a(V,2),U=t(W),te=a(W,2),pe=t(te),fe=a(te,2),G=t(fe),he=t(G),ze=a(G,2),Ee=t(ze);E((De,xe,q)=>{tt(K,1,`priority-badge ${De??""}`,"svelte-1d6lxbr"),o(ie,e(I).priority),tt(H,1,`status-badge ${xe??""}`,"svelte-1d6lxbr"),o(Y,e(I).status),o(U,e(I).title),o(pe,e(I).description),o(he,e(I).type),o(Ee,`Due: ${q??""}`)},[()=>zt(e(I).priority),()=>Ve(e(I).status),()=>_e(e(I).due_date)]),v(C,R)}),v(z,h)};w(D,z=>{e(B).length===0?z(L):z(g,!1)})}v(M,O)};w(Ie,M=>{e(y)==="tasks"&&M(Ne)})}var He=a(Ie,2);{var oe=M=>{var O=Yu(),D=a(t(O),2);{var L=z=>{var h=Wu();v(z,h)},g=z=>{var h=Vu();ht(h,21,()=>e(j),yt,(C,I)=>{var R=Ju(),V=t(R),K=t(V),ie=t(K),H=t(ie),Y=a(ie,2),W=t(Y),U=a(K,2),te=t(U),pe=a(V,2),fe=t(pe),G=a(t(fe),2),he=t(G),ze=a(fe,2),Ee=a(t(ze),2),De=t(Ee);E((xe,q,F,ae)=>{o(H,`Pay Period: ${e(I).pay_period??""}`),o(W,`Pay Date: ${xe??""}`),tt(U,1,`status-badge ${q??""}`,"svelte-1d6lxbr"),o(te,e(I).status),o(he,F),o(De,ae)},[()=>_e(e(I).pay_date),()=>Ve(e(I).status),()=>nt(e(I).gross_pay),()=>nt(e(I).net_pay)]),v(C,R)}),v(z,h)};w(D,z=>{e(j).length===0?z(L):z(g,!1)})}v(M,O)};w(He,M=>{e(y)==="payroll"&&M(oe)})}var de=a(He,2);{var le=M=>{var O=Gu();v(M,O)};w(de,M=>{e(y)==="benefits"&&M(le)})}var we=a(de,2);{var se=M=>{var O=Xu(),D=a(t(O),2),L=t(D),g=a(t(L),2),z=t(g),h=a(t(z),2),C=t(h),I=a(z,2),R=a(t(I),2),V=t(R),K=a(I,2),ie=a(t(K),2),H=t(ie),Y=a(K,2),W=a(t(Y),2),U=t(W),te=a(L,2),pe=a(t(te),2),fe=t(pe),G=a(t(fe),2),he=t(G),ze=a(fe,2),Ee=a(t(ze),2),De=t(Ee),xe=a(ze,2),q=a(t(xe),2),F=t(q),ae=a(xe,2),X=a(t(ae),2),ne=t(X),Re=a(te,2),$e=a(t(Re),2),ue=t($e),ge=a(t(ue),2),We=t(ge),Se=a(ue,2),Ce=a(t(Se),2),ct=t(Ce),ke=a(Se,2),Me=a(t(ke),2),Ae=t(Me),be=a(ke,2),gt=a(t(be),2),$t=t(gt),Je=a(Re,2),Pt=a(t(Je),2),jt=t(Pt),Mt=a(t(jt),2),Dt=t(Mt),Ot=a(jt,2),Bt=a(t(Ot),2),Ut=t(Bt);E((Ft,Et)=>{o(C,`${e(u)?.first_name??""} ${e(u)?.last_name??""}`),o(V,e(u)?.email),o(H,e(u)?.phone||"Not provided"),o(U,Ft),o(he,e(u)?.position),o(De,e(u)?.department),o(F,e(u)?.employment_type),o(ne,Et),o(We,e(u)?.street_address||"Not provided"),o(ct,e(u)?.city||"Not provided"),o(Ae,e(u)?.state||"Not provided"),o($t,e(u)?.zip_code||"Not provided"),o(Dt,e(u)?.emergency_contact_name||"Not provided"),o(Ut,e(u)?.emergency_contact_phone||"Not provided")},[()=>e(u)?.date_of_birth?_e(e(u).date_of_birth):"Not provided",()=>e(u)?.hire_date?_e(e(u).hire_date):"N/A"]),v(M,O)};w(we,M=>{e(y)==="profile"&&M(se)})}E(M=>{o(Be,`Welcome back, ${(e(u)?.first_name||"Employee")??""}! üëã`),o(Q,`${(e(u)?.position||"Position")??""} ‚Ä¢ ${(e(u)?.department||"Department")??""}`),o(kt,e($)),o(St,`${M??""}h`),tt(pt,1,`tab-btn ${e(y)==="overview"?"active":""}`,"svelte-1d6lxbr"),tt(bt,1,`tab-btn ${e(y)==="tasks"?"active":""}`,"svelte-1d6lxbr"),tt(S,1,`tab-btn ${e(y)==="payroll"?"active":""}`,"svelte-1d6lxbr"),tt(ee,1,`tab-btn ${e(y)==="benefits"?"active":""}`,"svelte-1d6lxbr"),tt(me,1,`tab-btn ${e(y)==="profile"?"active":""}`,"svelte-1d6lxbr")},[()=>e(P).toFixed(1)]),v(l,Pe),Vt(),m()}ba(["click"]);var Qu=p('<div class="loading-container svelte-10l5vfy"><div class="spinner svelte-10l5vfy"></div> <p class="svelte-10l5vfy">Loading your dashboard...</p></div>'),ep=p('<div class="employee-dashboard-router svelte-10l5vfy"><!></div>');function tp(l,r){Jt(r,!0);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=ja();let y=Qe(Rt(i().employee)),u=Qe(!0),_=Qe("");ea(()=>{f()});async function f(){s(u,!0),console.log("[EmployeeDashboard] Starting to load employee info"),console.log("[EmployeeDashboard] authStore.employee:",i().employee);try{i().employee?(s(y,i().employee,!0),s(_,e(y).employment_type?.toLowerCase()||"employee",!0),console.log("[EmployeeDashboard] Loaded from store - Type:",e(_))):(console.log("[EmployeeDashboard] Employee not in store, fetching from API"),await x())}catch($){console.error("[EmployeeDashboard] Error loading employee info:",$),s(_,"employee")}finally{s(u,!1),console.log("[EmployeeDashboard] Loading complete - isContractor:",e(T))}}async function x(){try{console.log("[EmployeeDashboard] Fetching from API:",`${d}/employees/me`);const $=await fetch(`${d}/employees/me`,{headers:{Authorization:`Bearer ${i().token}`}});console.log("[EmployeeDashboard] API response status:",$.status),$.ok?(s(y,await $.json(),!0),s(_,e(y).employment_type?.toLowerCase()||"employee",!0),console.log("[EmployeeDashboard] Fetched employee:",e(y)),console.log("[EmployeeDashboard] Employment type:",e(_))):console.error("[EmployeeDashboard] API returned error:",$.status)}catch($){console.error("[EmployeeDashboard] Error fetching employee:",$)}}let T=Sa(()=>e(_)==="contractor"||e(_)==="independent contractor"||e(_)==="1099");Ta(()=>{i().employee&&i().employee!==e(y)&&(s(y,i().employee,!0),s(_,e(y).employment_type?.toLowerCase()||"employee",!0))});var B=ep(),k=t(B);{var N=$=>{var P=Qu();v($,P)},j=$=>{var P=Ct(),A=lt(P);{var ce=re=>{Eu(re,{get employee(){return e(y)}})},J=re=>{Zu(re,{get navigate(){return r.navigate},get employee(){return e(y)}})};w(A,re=>{e(T)?re(ce):re(J,!1)},!0)}v($,P)};w(k,$=>{e(u)?$(N):$(j,!1)})}v(l,B),Vt(),m()}var ap=p('<div class="alert alert-error svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> <span> </span></div>'),sp=p('<div class="alert alert-success svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> <span> </span></div>'),lp=p("<option> </option>"),rp=p('<div class="loading-state svelte-t8zyxe"><div class="spinner svelte-t8zyxe"></div> <p>Loading users...</p></div>'),ip=p('<div class="empty-state svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <h3 class="svelte-t8zyxe">No users found</h3> <p class="svelte-t8zyxe">Try adjusting your search or filters</p></div>'),op=p('<span class="employee-link svelte-t8zyxe"> </span>'),np=p('<span class="text-muted svelte-t8zyxe">Not linked</span>'),vp=p('<tr class="svelte-t8zyxe"><td class="svelte-t8zyxe"><div class="user-email svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> </div></td><td class="svelte-t8zyxe"><span> </span></td><td class="svelte-t8zyxe"><!></td><td class="svelte-t8zyxe"> </td><td class="svelte-t8zyxe"><div class="action-buttons svelte-t8zyxe"><button class="btn-icon svelte-t8zyxe" title="Edit user"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg></button> <button class="btn-icon svelte-t8zyxe" title="Reset password"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg></button></div></td></tr>'),dp=p('<div class="table-container svelte-t8zyxe"><table class="users-table svelte-t8zyxe"><thead class="svelte-t8zyxe"><tr><th class="svelte-t8zyxe">Email</th><th class="svelte-t8zyxe">Role</th><th class="svelte-t8zyxe">Linked Employee</th><th class="svelte-t8zyxe">Created</th><th class="svelte-t8zyxe">Actions</th></tr></thead><tbody class="svelte-t8zyxe"></tbody></table></div>'),cp=p("<option> </option>"),up=p('<div class="modal-overlay svelte-t8zyxe" role="button" tabindex="0"><div class="modal svelte-t8zyxe" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-t8zyxe"><h2 class="svelte-t8zyxe">Add New User</h2> <button class="btn-close svelte-t8zyxe">√ó</button></div> <form><div class="modal-body svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><label for="username" class="svelte-t8zyxe">Username *</label> <input type="text" id="username" placeholder="johndoe" required class="svelte-t8zyxe"/></div> <label for="email" class="svelte-t8zyxe">Email *</label> <input type="email" id="email" placeholder="user@company.com" required class="svelte-t8zyxe"/></div> <div class="form-row svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><label for="password" class="svelte-t8zyxe">Password *</label> <input type="password" id="password" placeholder="Min 8 characters" required minlength="8" class="svelte-t8zyxe"/></div> <div class="form-group svelte-t8zyxe"><label for="confirmPassword" class="svelte-t8zyxe">Confirm Password *</label> <input type="password" id="confirmPassword" placeholder="Re-enter password" required minlength="8" class="svelte-t8zyxe"/></div></div> <div class="form-row svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><label for="role" class="svelte-t8zyxe">Role *</label> <select id="role" required class="svelte-t8zyxe"><option>Employee</option><option>Manager</option><option>HR Manager</option><option>Admin</option></select></div> <div class="form-group svelte-t8zyxe"><label for="employee" class="svelte-t8zyxe">Link to Employee (Optional)</label> <select id="employee" class="svelte-t8zyxe"><option>None</option><!></select></div></div> <div class="form-help svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> <span>Password must be at least 8 characters. Linking to an employee is optional.</span></div></div> <div class="modal-footer svelte-t8zyxe"><button type="button" class="btn-secondary svelte-t8zyxe">Cancel</button> <button type="submit" class="btn-primary svelte-t8zyxe">Create User</button></div></form></div></div>'),pp=p("<option> </option>"),_p=p('<div class="modal-overlay svelte-t8zyxe" role="button" tabindex="0"><div class="modal svelte-t8zyxe" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-t8zyxe"><h2 class="svelte-t8zyxe">Edit User</h2> <button class="btn-close svelte-t8zyxe">√ó</button></div> <form><div class="modal-body svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><label for="edit-email" class="svelte-t8zyxe">Email</label> <input type="email" id="edit-email" required class="svelte-t8zyxe"/></div> <div class="form-group svelte-t8zyxe"><label for="edit-role" class="svelte-t8zyxe">Role</label> <select id="edit-role" required class="svelte-t8zyxe"><option>Employee</option><option>Manager</option><option>HR Manager</option><option>Admin</option></select></div> <div class="form-group svelte-t8zyxe"><label for="edit-employee" class="svelte-t8zyxe">Linked Employee</label> <select id="edit-employee" class="svelte-t8zyxe"><option>None</option><!></select></div></div> <div class="modal-footer svelte-t8zyxe"><button type="button" class="btn-secondary svelte-t8zyxe">Cancel</button> <button type="submit" class="btn-primary svelte-t8zyxe">Update User</button></div></form></div></div>'),fp=p('<div class="modal-overlay svelte-t8zyxe"><div class="modal svelte-t8zyxe"><div class="modal-header svelte-t8zyxe"><h2 class="svelte-t8zyxe">Reset Password</h2> <button class="btn-close svelte-t8zyxe">√ó</button></div> <form><div class="modal-body svelte-t8zyxe"><div class="info-box svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg> <span class="svelte-t8zyxe">Resetting password for: <strong> </strong></span></div> <div class="form-group svelte-t8zyxe"><label for="new-password" class="svelte-t8zyxe">New Password *</label> <input type="password" id="new-password" placeholder="Min 8 characters" required minlength="8" class="svelte-t8zyxe"/></div> <div class="form-group svelte-t8zyxe"><label for="confirm-password" class="svelte-t8zyxe">Confirm New Password *</label> <input type="password" id="confirm-password" placeholder="Re-enter password" required minlength="8" class="svelte-t8zyxe"/></div></div> <div class="modal-footer svelte-t8zyxe"><button type="button" class="btn-secondary svelte-t8zyxe">Cancel</button> <button type="submit" class="btn-primary svelte-t8zyxe">Reset Password</button></div></form></div></div>'),mp=p('<div class="users-container svelte-t8zyxe"><div class="page-header svelte-t8zyxe"><div class="header-left svelte-t8zyxe"><h1 class="svelte-t8zyxe">User Management</h1> <p class="svelte-t8zyxe">Manage system users and access control</p></div> <button class="btn-primary svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg> Add User</button></div> <!> <!> <div class="filters-bar svelte-t8zyxe"><div class="search-box svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <input type="text" placeholder="Search by email..." class="svelte-t8zyxe"/></div> <select class="svelte-t8zyxe"><option>All Roles</option><!></select></div> <!></div> <!> <!> <!>',1);function ar(l,r){Jt(r,!0);let i=Qe(Rt([])),c=Qe(Rt([])),m=Qe(!0),d=Qe(""),y=Qe(""),u=Qe(!1),_=Qe(!1),f=Qe(!1),x=Qe(null),T=Qe(""),B=Qe("all"),k=Qe(Rt({username:"",email:"",password:"",confirmPassword:"",role:"employee",employee_id:""})),N=Qe(Rt({email:"",role:"",employee_id:""})),j=Qe(Rt({new_password:"",confirm_password:""}));ea(()=>{$(),P()});async function $(){s(m,!0),s(d,"");try{const b=localStorage.getItem("token"),S=await fetch("/api/users",{headers:{Authorization:`Bearer ${b}`}});if(!S.ok)throw new Error("Failed to load users");const ee=await S.json();s(i,ee||[],!0)}catch(b){s(d,b.message||"Failed to load users",!0),s(i,[],!0)}finally{s(m,!1)}}async function P(){try{const b=localStorage.getItem("token"),S=await fetch("/api/employees",{headers:{Authorization:`Bearer ${b}`}});if(S.ok){const ee=await S.json();s(c,ee||[],!0)}}catch(b){console.error("Failed to load employees:",b)}}async function A(){if(s(d,""),s(y,""),!e(k).username||!e(k).email||!e(k).password||!e(k).role){s(d,"Please fill in all required fields");return}if(e(k).password!==e(k).confirmPassword){s(d,"Passwords do not match");return}if(e(k).password.length<8){s(d,"Password must be at least 8 characters");return}try{const b=localStorage.getItem("token"),S={username:e(k).username,email:e(k).email,password:e(k).password,role:e(k).role};e(k).employee_id&&(S.employee_id=e(k).employee_id);const ee=await fetch("/api/users",{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify(S)});if(!ee.ok){const me=await ee.json();throw new Error(me.error||"Failed to create user")}s(y,"User created successfully"),s(u,!1),vt(),await $(),setTimeout(()=>{s(y,"")},3e3)}catch(b){s(d,b.message||"Failed to create user",!0)}}async function ce(){if(s(d,""),s(y,""),!!e(x))try{const b=localStorage.getItem("token"),S={};e(N).email!==e(x).email&&(S.email=e(N).email),e(N).role!==e(x).role&&(S.role=e(N).role),e(N).employee_id&&(S.employee_id=e(N).employee_id);const ee=await fetch(`/api/users/${e(x).id}`,{method:"PUT",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify(S)});if(!ee.ok){const me=await ee.json();throw new Error(me.error||"Failed to update user")}s(y,"User updated successfully"),s(_,!1),s(x,null),await $(),setTimeout(()=>{s(y,"")},3e3)}catch(b){s(d,b.message||"Failed to update user",!0)}}async function J(){if(s(d,""),s(y,""),!!e(x)){if(!e(j).new_password||!e(j).confirm_password){s(d,"Please fill in both password fields");return}if(e(j).new_password!==e(j).confirm_password){s(d,"Passwords do not match");return}if(e(j).new_password.length<8){s(d,"Password must be at least 8 characters");return}try{const b=localStorage.getItem("token"),S=await fetch(`/api/users/${e(x).id}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify({new_password:e(j).new_password})});if(!S.ok){const ee=await S.json();throw new Error(ee.error||"Failed to reset password")}s(y,"Password reset successfully"),s(f,!1),s(x,null),s(j,{new_password:"",confirm_password:""},!0),setTimeout(()=>{s(y,"")},3e3)}catch(b){s(d,b.message||"Failed to reset password",!0)}}}function re(){vt(),s(u,!0)}function et(b){s(x,b,!0),s(N,{email:b.email,role:b.role,employee_id:b.employee_id||""},!0),s(_,!0)}function Ge(b){s(x,b,!0),s(j,{new_password:"",confirm_password:""},!0),s(f,!0)}function mt(){s(u,!1),vt(),s(d,"")}function wt(){s(_,!1),s(x,null),s(d,"")}function Le(){s(f,!1),s(x,null),s(j,{new_password:"",confirm_password:""},!0),s(d,"")}function vt(){s(k,{username:"",email:"",password:"",confirmPassword:"",role:"employee",employee_id:""},!0)}function Ue(b){return{admin:"badge-admin","hr-manager":"badge-hr",manager:"badge-manager",employee:"badge-employee"}[b]||"badge-employee"}function _e(b){return{admin:"Admin","hr-manager":"HR Manager",manager:"Manager",employee:"Employee"}[b]||b}function nt(b){const S=e(c).find(ee=>ee.id===b);return S?`${S.first_name} ${S.last_name}`:"N/A"}let dt=Sa(()=>e(i).filter(b=>{const S=!e(T)||b.email.toLowerCase().includes(e(T).toLowerCase()),ee=e(B)==="all"||b.role===e(B);return S&&ee})),zt=Sa(()=>[...new Set(e(i).map(b=>b.role))]);var Ve=mp(),Pe=lt(Ve),Xe=t(Pe),it=a(t(Xe),2);it.__click=re;var xt=a(Xe,2);{var qt=b=>{var S=ap(),ee=a(t(S),2),me=t(ee);E(()=>o(me,e(d))),v(b,S)};w(xt,b=>{e(d)&&b(qt)})}var at=a(xt,2);{var Be=b=>{var S=sp(),ee=a(t(S),2),me=t(ee);E(()=>o(me,e(y))),v(b,S)};w(at,b=>{e(y)&&b(Be)})}var ut=a(at,2),Q=t(ut),Oe=a(t(Q),2),Ke=a(Q,2),rt=t(Ke);rt.value=rt.__value="all";var ot=a(rt);ht(ot,17,()=>e(zt),yt,(b,S)=>{var ee=lp(),me=t(ee),je={};E(qe=>{o(me,qe),je!==(je=e(S))&&(ee.value=(ee.__value=e(S))??"")},[()=>_e(e(S))]),v(b,ee)});var kt=a(ut,2);{var Fe=b=>{var S=rp();v(b,S)},Ye=b=>{var S=Ct(),ee=lt(S);{var me=qe=>{var Te=ip();v(qe,Te)},je=qe=>{var Te=dp(),Ie=t(Te),Ne=a(t(Ie));ht(Ne,21,()=>e(dt),yt,(He,oe)=>{var de=vp(),le=t(de),we=t(le),se=a(t(we)),M=a(le),O=t(M),D=t(O),L=a(M),g=t(L);{var z=H=>{var Y=op(),W=t(Y);E(U=>o(W,U),[()=>nt(e(oe).employee_id)]),v(H,Y)},h=H=>{var Y=np();v(H,Y)};w(g,H=>{e(oe).employee_id?H(z):H(h,!1)})}var C=a(L),I=t(C),R=a(C),V=t(R),K=t(V);K.__click=()=>et(e(oe));var ie=a(K,2);ie.__click=()=>Ge(e(oe)),E((H,Y,W)=>{o(se,` ${e(oe).email??""}`),tt(O,1,`role-badge ${H??""}`,"svelte-t8zyxe"),o(D,Y),o(I,W)},[()=>Ue(e(oe).role),()=>_e(e(oe).role),()=>new Date(e(oe).created_at).toLocaleDateString()]),v(He,de)}),v(qe,Te)};w(ee,qe=>{e(dt).length===0?qe(me):qe(je,!1)},!0)}v(b,S)};w(kt,b=>{e(m)?b(Fe):b(Ye,!1)})}var _t=a(Pe,2);{var St=b=>{var S=up();S.__click=mt,S.__keydown=Y=>Y.key==="Escape"&&mt();var ee=t(S);ee.__click=Y=>Y.stopPropagation(),ee.__keydown=Y=>Y.stopPropagation();var me=t(ee),je=a(t(me),2);je.__click=mt;var qe=a(me,2),Te=t(qe),Ie=t(Te),Ne=t(Ie),He=a(t(Ne),2),oe=a(Ne,4),de=a(Ie,2),le=t(de),we=a(t(le),2),se=a(le,2),M=a(t(se),2),O=a(de,2),D=t(O),L=a(t(D),2),g=t(L);g.value=g.__value="employee";var z=a(g);z.value=z.__value="manager";var h=a(z);h.value=h.__value="hr-manager";var C=a(h);C.value=C.__value="admin";var I=a(D,2),R=a(t(I),2),V=t(R);V.value=V.__value="";var K=a(V);ht(K,17,()=>e(c),yt,(Y,W)=>{var U=cp(),te=t(U),pe={};E(()=>{o(te,`${e(W).first_name??""} ${e(W).last_name??""} - ${e(W).email??""}`),pe!==(pe=e(W).id)&&(U.value=(U.__value=e(W).id)??"")}),v(Y,U)});var ie=a(Te,2),H=t(ie);H.__click=mt,ve("submit",qe,Y=>{Y.preventDefault(),A()}),Ze(He,()=>e(k).username,Y=>e(k).username=Y),Ze(oe,()=>e(k).email,Y=>e(k).email=Y),Ze(we,()=>e(k).password,Y=>e(k).password=Y),Ze(M,()=>e(k).confirmPassword,Y=>e(k).confirmPassword=Y),At(L,()=>e(k).role,Y=>e(k).role=Y),At(R,()=>e(k).employee_id,Y=>e(k).employee_id=Y),v(b,S)};w(_t,b=>{e(u)&&b(St)})}var ft=a(_t,2);{var pt=b=>{var S=_p();S.__click=wt,S.__keydown=h=>h.key==="Escape"&&wt();var ee=t(S);ee.__click=h=>h.stopPropagation(),ee.__keydown=h=>h.stopPropagation();var me=t(ee),je=a(t(me),2);je.__click=wt;var qe=a(me,2),Te=t(qe),Ie=t(Te),Ne=a(t(Ie),2),He=a(Ie,2),oe=a(t(He),2),de=t(oe);de.value=de.__value="employee";var le=a(de);le.value=le.__value="manager";var we=a(le);we.value=we.__value="hr-manager";var se=a(we);se.value=se.__value="admin";var M=a(He,2),O=a(t(M),2),D=t(O);D.value=D.__value="";var L=a(D);ht(L,17,()=>e(c),yt,(h,C)=>{var I=pp(),R=t(I),V={};E(()=>{o(R,`${e(C).first_name??""} ${e(C).last_name??""} - ${e(C).email??""}`),V!==(V=e(C).id)&&(I.value=(I.__value=e(C).id)??"")}),v(h,I)});var g=a(Te,2),z=t(g);z.__click=wt,ve("submit",qe,h=>{h.preventDefault(),ce()}),Ze(Ne,()=>e(N).email,h=>e(N).email=h),At(oe,()=>e(N).role,h=>e(N).role=h),At(O,()=>e(N).employee_id,h=>e(N).employee_id=h),v(b,S)};w(ft,b=>{e(_)&&e(x)&&b(pt)})}var bt=a(ft,2);{var ye=b=>{var S=fp();S.__click=Le;var ee=t(S);ee.__click=D=>D.stopPropagation();var me=t(ee),je=a(t(me),2);je.__click=Le;var qe=a(me,2),Te=t(qe),Ie=t(Te),Ne=a(t(Ie),2),He=a(t(Ne)),oe=t(He),de=a(Ie,2),le=a(t(de),2),we=a(de,2),se=a(t(we),2),M=a(Te,2),O=t(M);O.__click=Le,E(()=>o(oe,e(x).email)),ve("submit",qe,D=>{D.preventDefault(),J()}),Ze(le,()=>e(j).new_password,D=>e(j).new_password=D),Ze(se,()=>e(j).confirm_password,D=>e(j).confirm_password=D),v(b,S)};w(bt,b=>{e(f)&&e(x)&&b(ye)})}Ze(Oe,()=>e(T),b=>s(T,b)),At(Ke,()=>e(B),b=>s(B,b)),v(l,Ve),Vt()}ba(["click","keydown"]);var bp=p('<div class="alert alert-error svelte-1xwc670"><span> </span> <button class="svelte-1xwc670">‚úï</button></div>'),hp=p('<div class="alert alert-success svelte-1xwc670"><span> </span> <button class="svelte-1xwc670">‚úï</button></div>'),yp=p('<div class="loading svelte-1xwc670">Loading jobs...</div>'),gp=p('<div class="empty-state svelte-1xwc670"><span class="empty-icon svelte-1xwc670">üìã</span> <p>No job postings found</p> <button class="btn btn-primary svelte-1xwc670">Post Your First Job</button></div>'),xp=p('<span class="job-detail svelte-1xwc670"><span class="detail-icon svelte-1xwc670">üí∞</span> </span>'),wp=p('<div class="job-card svelte-1xwc670"><div class="job-header svelte-1xwc670"><div><h3 class="job-title svelte-1xwc670"> </h3> <p class="job-meta svelte-1xwc670"> </p></div> <span> </span></div> <div class="job-details svelte-1xwc670"><span class="job-detail svelte-1xwc670"><span class="detail-icon svelte-1xwc670">üíº</span> </span> <!> <span class="job-detail svelte-1xwc670"><span class="detail-icon svelte-1xwc670">üìÖ</span> </span></div> <div class="job-applicants svelte-1xwc670"><span class="applicants-count svelte-1xwc670"> </span> <span class="applicants-label svelte-1xwc670">Applicants</span></div> <div class="job-actions svelte-1xwc670"><button class="btn btn-sm btn-primary svelte-1xwc670">View Candidates</button> <button class="btn btn-sm btn-ghost svelte-1xwc670">‚úèÔ∏è Edit</button> <button class="btn btn-sm btn-ghost svelte-1xwc670">üì§ Post to Boards</button></div></div>'),kp=p('<div class="jobs-grid svelte-1xwc670"></div>'),$p=p('<div class="jobs-section"><div class="section-header svelte-1xwc670"><div><h2 class="svelte-1xwc670">Job Postings</h2> <p class="text-muted svelte-1xwc670">Create and manage open positions</p></div> <button class="btn btn-primary svelte-1xwc670">+ Post New Job</button></div> <div class="stats-grid svelte-1xwc670"><div class="stat-card svelte-1xwc670"><span class="stat-icon svelte-1xwc670">üìã</span> <div class="stat-info svelte-1xwc670"><div class="stat-value svelte-1xwc670"> </div> <div class="stat-label svelte-1xwc670">Total Jobs</div></div></div> <div class="stat-card svelte-1xwc670"><span class="stat-icon svelte-1xwc670">‚úÖ</span> <div class="stat-info svelte-1xwc670"><div class="stat-value svelte-1xwc670"> </div> <div class="stat-label svelte-1xwc670">Active</div></div></div> <div class="stat-card svelte-1xwc670"><span class="stat-icon svelte-1xwc670">üéâ</span> <div class="stat-info svelte-1xwc670"><div class="stat-value svelte-1xwc670"> </div> <div class="stat-label svelte-1xwc670">Filled</div></div></div> <div class="stat-card svelte-1xwc670"><span class="stat-icon svelte-1xwc670">üë•</span> <div class="stat-info svelte-1xwc670"><div class="stat-value svelte-1xwc670"> </div> <div class="stat-label svelte-1xwc670">Total Applicants</div></div></div></div> <div class="filters svelte-1xwc670"><select class="select select-sm svelte-1xwc670"><option>All Status</option><option>Draft</option><option>Active</option><option>Closed</option><option>Filled</option></select></div> <!></div>'),Ep=p('<div class="stats-grid svelte-1xwc670"><div class="stat-card svelte-1xwc670"><span class="stat-icon svelte-1xwc670">üë•</span> <div class="stat-info svelte-1xwc670"><div class="stat-value svelte-1xwc670"> </div> <div class="stat-label svelte-1xwc670">Total</div></div></div> <div class="stat-card svelte-1xwc670"><span class="stat-icon svelte-1xwc670">üÜï</span> <div class="stat-info svelte-1xwc670"><div class="stat-value svelte-1xwc670"> </div> <div class="stat-label svelte-1xwc670">New</div></div></div> <div class="stat-card svelte-1xwc670"><span class="stat-icon svelte-1xwc670">üîç</span> <div class="stat-info svelte-1xwc670"><div class="stat-value svelte-1xwc670"> </div> <div class="stat-label svelte-1xwc670">Screening</div></div></div> <div class="stat-card svelte-1xwc670"><span class="stat-icon svelte-1xwc670">üí¨</span> <div class="stat-info svelte-1xwc670"><div class="stat-value svelte-1xwc670"> </div> <div class="stat-label svelte-1xwc670">Interview</div></div></div> <div class="stat-card svelte-1xwc670"><span class="stat-icon svelte-1xwc670">üéÅ</span> <div class="stat-info svelte-1xwc670"><div class="stat-value svelte-1xwc670"> </div> <div class="stat-label svelte-1xwc670">Offered</div></div></div></div>'),Sp=p('<div class="loading svelte-1xwc670">Loading candidates...</div>'),zp=p('<div class="empty-state svelte-1xwc670"><span class="empty-icon svelte-1xwc670">üë•</span> <p>No candidates found for this position</p></div>'),jp=p('<p class="candidate-meta svelte-1xwc670"> </p>'),qp=p('<div class="candidate-score svelte-1xwc670"><div class="score-circle svelte-1xwc670"><span class="score-value svelte-1xwc670"> </span></div> <span class="score-label svelte-1xwc670">AI Match Score</span></div>'),Cp=p('<span class="skill-badge svelte-1xwc670"> </span>'),Ap=p('<span class="skill-badge svelte-1xwc670"> </span>'),Dp=p('<div class="candidate-card svelte-1xwc670"><div class="candidate-header svelte-1xwc670"><div class="candidate-avatar svelte-1xwc670"> </div> <div class="candidate-info svelte-1xwc670"><h3 class="candidate-name svelte-1xwc670"> </h3> <p class="candidate-meta svelte-1xwc670"> </p> <!></div></div> <!> <div class="candidate-skills svelte-1xwc670"><!> <!></div> <div class="candidate-meta-row svelte-1xwc670"><span> </span> <span class="candidate-date svelte-1xwc670"> </span></div> <div class="candidate-actions svelte-1xwc670"><button class="btn btn-sm btn-primary svelte-1xwc670">View Profile</button> <button class="btn btn-sm btn-ghost svelte-1xwc670"> </button> <button class="btn btn-sm btn-ghost svelte-1xwc670">‚úâÔ∏è Email</button></div> <div class="candidate-status-select svelte-1xwc670"><select class="select select-sm w-full svelte-1xwc670"><option>New</option><option>Screening</option><option>Interview</option><option>Offered</option><option>Rejected</option><option>Hired</option></select></div></div>'),Pp=p('<div class="candidates-grid svelte-1xwc670"></div>'),Tp=p('<div class="section-header svelte-1xwc670"><div><h2 class="svelte-1xwc670"> </h2> <p class="text-muted svelte-1xwc670"> </p></div> <button class="btn btn-ghost svelte-1xwc670">‚Üê Back to Jobs</button></div> <!> <div class="filters svelte-1xwc670"><select class="select select-sm svelte-1xwc670"><option>All Status</option><option>New</option><option>Screening</option><option>Interview</option><option>Offered</option><option>Rejected</option><option>Hired</option></select></div> <!>',1),Mp=p('<div class="empty-state svelte-1xwc670"><span class="empty-icon svelte-1xwc670">üìã</span> <p>Select a job posting to view candidates</p> <button class="btn btn-primary svelte-1xwc670">View Job Postings</button></div>'),Bp=p('<div class="candidates-section"><!></div>'),Op=p('<div class="analytics-section"><div class="section-header svelte-1xwc670"><h2 class="svelte-1xwc670">Recruiting Analytics</h2> <p class="text-muted svelte-1xwc670">Track hiring performance and metrics</p></div> <div class="analytics-grid svelte-1xwc670"><div class="analytics-card svelte-1xwc670"><h3 class="svelte-1xwc670">Time to Hire</h3> <div class="analytics-value svelte-1xwc670">24 days</div> <div class="analytics-trend text-success svelte-1xwc670">‚Üì 15% vs last month</div></div> <div class="analytics-card svelte-1xwc670"><h3 class="svelte-1xwc670">Applications per Job</h3> <div class="analytics-value svelte-1xwc670"> </div> <div class="analytics-trend svelte-1xwc670">Average</div></div> <div class="analytics-card svelte-1xwc670"><h3 class="svelte-1xwc670">Interview Rate</h3> <div class="analytics-value svelte-1xwc670">32%</div> <div class="analytics-trend text-success svelte-1xwc670">‚Üë 8% vs last month</div></div> <div class="analytics-card svelte-1xwc670"><h3 class="svelte-1xwc670">Offer Acceptance</h3> <div class="analytics-value svelte-1xwc670">85%</div> <div class="analytics-trend svelte-1xwc670">Above average</div></div></div> <div class="empty-state svelte-1xwc670"><span class="empty-icon svelte-1xwc670">üìä</span> <p>More detailed analytics coming soon...</p></div></div>'),Fp=p('<div class="array-item svelte-1xwc670"><input type="text" class="input w-full svelte-1xwc670"/> <button type="button" class="btn btn-sm btn-ghost svelte-1xwc670">üóëÔ∏è</button></div>'),Ip=p('<div class="array-item svelte-1xwc670"><input type="text" class="input w-full svelte-1xwc670"/> <button type="button" class="btn btn-sm btn-ghost svelte-1xwc670">üóëÔ∏è</button></div>'),Np=p('<div class="modal svelte-1xwc670"><div class="modal-box max-w-4xl svelte-1xwc670" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1xwc670"><h2 class="svelte-1xwc670"> </h2> <button class="btn btn-circle btn-sm svelte-1xwc670">‚úï</button></div> <form class="form svelte-1xwc670"><div class="form-row svelte-1xwc670"><div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Job Title</span></label> <input type="text" class="input w-full svelte-1xwc670" required placeholder="e.g., Senior Software Engineer"/></div> <div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Department</span></label> <input type="text" class="input w-full svelte-1xwc670" required placeholder="e.g., Engineering"/></div></div> <div class="form-row svelte-1xwc670"><div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Location</span></label> <input type="text" class="input w-full svelte-1xwc670" required placeholder="e.g., San Francisco, CA / Remote"/></div> <div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Employment Type</span></label> <select class="select w-full svelte-1xwc670" required><option>Full-Time</option><option>Part-Time</option><option>Contract</option><option>Internship</option></select></div></div> <div class="form-row svelte-1xwc670"><div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Minimum Salary</span></label> <input type="number" class="input w-full svelte-1xwc670" min="0" step="1000"/></div> <div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Maximum Salary</span></label> <input type="number" class="input w-full svelte-1xwc670" min="0" step="1000"/></div></div> <div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Job Description</span></label> <textarea class="textarea w-full svelte-1xwc670" rows="5" required placeholder="Describe the role..."></textarea></div> <div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Requirements</span></label> <div class="array-input svelte-1xwc670"><!> <button type="button" class="btn btn-sm btn-ghost svelte-1xwc670">+ Add Requirement</button></div></div> <div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Responsibilities</span></label> <div class="array-input svelte-1xwc670"><!> <button type="button" class="btn btn-sm btn-ghost svelte-1xwc670">+ Add Responsibility</button></div></div> <div class="modal-actions svelte-1xwc670"><button type="submit" class="btn btn-primary svelte-1xwc670"> </button> <button type="button" class="btn btn-ghost svelte-1xwc670">Cancel</button></div></form></div></div>'),Rp=p('<div class="info-item svelte-1xwc670"><span class="info-label svelte-1xwc670">Phone</span> <span class="info-value svelte-1xwc670"> </span></div>'),Lp=p('<div class="info-item svelte-1xwc670"><span class="info-label svelte-1xwc670">LinkedIn</span> <a target="_blank" class="link svelte-1xwc670">View Profile</a></div>'),Up=p('<div class="info-item svelte-1xwc670"><span class="info-label svelte-1xwc670">Portfolio</span> <a target="_blank" class="link svelte-1xwc670">View Portfolio</a></div>'),Hp=p('<span class="skill-badge-large svelte-1xwc670"> </span>'),Wp=p('<div class="detail-section svelte-1xwc670"><h3 class="svelte-1xwc670">Skills</h3> <div class="skills-list svelte-1xwc670"></div></div>'),Jp=p('<li class="svelte-1xwc670"> </li>'),Vp=p('<div class="analysis-category svelte-1xwc670"><h4 class="svelte-1xwc670">‚úÖ Strengths</h4> <ul class="svelte-1xwc670"></ul></div>'),Yp=p('<li class="svelte-1xwc670"> </li>'),Gp=p('<div class="analysis-category svelte-1xwc670"><h4 class="svelte-1xwc670">‚ö†Ô∏è Areas for Consideration</h4> <ul class="svelte-1xwc670"></ul></div>'),Xp=p('<div class="detail-section svelte-1xwc670"><h3 class="svelte-1xwc670">AI Analysis</h3> <div class="ai-analysis svelte-1xwc670"><p class="svelte-1xwc670"> </p> <!> <!></div></div>'),Kp=p('<div class="detail-section svelte-1xwc670"><h3 class="svelte-1xwc670">Cover Letter</h3> <div class="cover-letter svelte-1xwc670"> </div></div>'),Zp=p('<a target="_blank" class="btn btn-primary svelte-1xwc670">üìÑ View Resume</a>'),Qp=p('<div class="modal svelte-1xwc670"><div class="modal-box max-w-4xl svelte-1xwc670" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1xwc670"><div><h2 class="svelte-1xwc670"> </h2> <p class="text-muted svelte-1xwc670"> </p></div> <button class="btn btn-circle btn-sm svelte-1xwc670">‚úï</button></div> <div class="candidate-detail svelte-1xwc670"><div class="detail-section svelte-1xwc670"><h3 class="svelte-1xwc670">Contact Information</h3> <div class="info-grid svelte-1xwc670"><div class="info-item svelte-1xwc670"><span class="info-label svelte-1xwc670">Email</span> <span class="info-value svelte-1xwc670"> </span></div> <!> <!> <!></div></div> <!> <!> <!> <div class="detail-actions svelte-1xwc670"><!> <button class="btn btn-ghost svelte-1xwc670">ü§ñ AI Analysis</button> <button class="btn btn-ghost svelte-1xwc670">‚úâÔ∏è Send Email</button></div></div></div></div>'),e_=p('<div class="modal svelte-1xwc670"><div class="modal-box max-w-3xl svelte-1xwc670" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1xwc670"><h2 class="svelte-1xwc670">Compose Email</h2> <button class="btn btn-circle btn-sm svelte-1xwc670">‚úï</button></div> <div class="email-templates svelte-1xwc670"><button class="btn btn-sm btn-ghost svelte-1xwc670">üìß Screening</button> <button class="btn btn-sm btn-ghost svelte-1xwc670">üí¨ Interview</button> <button class="btn btn-sm btn-ghost svelte-1xwc670">üéÅ Offer</button> <button class="btn btn-sm btn-ghost svelte-1xwc670">‚úâÔ∏è Rejection</button> <button class="btn btn-sm btn-primary svelte-1xwc670"> </button></div> <form class="form svelte-1xwc670"><div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670"> </span></label></div> <div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Subject</span></label> <input type="text" class="input w-full svelte-1xwc670" required/></div> <div class="form-control svelte-1xwc670"><label class="label svelte-1xwc670"><span class="label-text svelte-1xwc670">Message</span></label> <textarea class="textarea w-full svelte-1xwc670" rows="15" required></textarea></div> <div class="modal-actions svelte-1xwc670"><button type="submit" class="btn btn-primary svelte-1xwc670"> </button> <button type="button" class="btn btn-ghost svelte-1xwc670">Cancel</button></div></form></div></div>'),t_=p('<div class="job-board-item svelte-1xwc670"><div class="board-info svelte-1xwc670"><span class="board-logo svelte-1xwc670"> </span> <span class="board-name svelte-1xwc670"> </span></div> <label class="switch svelte-1xwc670"><input type="checkbox" class="svelte-1xwc670"/> <span class="slider svelte-1xwc670"></span></label></div>'),a_=p('<div class="modal svelte-1xwc670"><div class="modal-box svelte-1xwc670" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1xwc670"><h2 class="svelte-1xwc670">Post to Job Boards</h2> <button class="btn btn-circle btn-sm svelte-1xwc670">‚úï</button></div> <div class="job-boards-list svelte-1xwc670"></div> <div class="modal-actions svelte-1xwc670"><button class="btn btn-primary svelte-1xwc670">Post Selected</button> <button class="btn btn-ghost svelte-1xwc670">Cancel</button></div></div></div>'),s_=p('<div class="recruiting-container svelte-1xwc670"><div class="recruiting-header svelte-1xwc670"><h1 class="svelte-1xwc670">üéØ Recruiting</h1> <p class="text-muted svelte-1xwc670">Post jobs, review candidates, and manage hiring pipeline</p></div> <!> <!> <div class="tabs svelte-1xwc670"><button>üìã Job Postings</button> <button>üë• Candidates</button> <button>üìä Analytics</button></div> <div class="tab-content"><!> <!> <!></div></div> <!> <!> <!> <!>',1);function l_(l,r){Jt(r,!1);const i=()=>da(aa,"$authStore",c),[c,m]=ca(),d=Z(),y=Z(),u=Z(),_=Z();let f=Z("jobs"),x=Z(!1),T=Z(""),B=Z(""),k=Z([]),N=Z(!1),j=Z(null),$=Z("all"),P=Z({title:"",department:"",location:"",employment_type:"full-time",salary_min:0,salary_max:0,description:"",requirements:[],responsibilities:[],benefits:[]}),A=Z([]),ce=Z(null),J=Z(null),re=Z(!1),et=!1,Ge=Z("all"),mt=Z(!1),wt=Z(!1),Le=Z([{id:"1",name:"LinkedIn",logo:"üíº",enabled:!1,api_connected:!1},{id:"2",name:"Indeed",logo:"üîç",enabled:!1,api_connected:!1},{id:"3",name:"Glassdoor",logo:"üè¢",enabled:!1,api_connected:!1},{id:"4",name:"ZipRecruiter",logo:"üìÆ",enabled:!1,api_connected:!1},{id:"5",name:"Monster",logo:"üëπ",enabled:!1,api_connected:!1}]),vt=Z(!1),Ue=Z(""),_e=Z(""),nt=Z(!1);const dt={screening:{subject:"Next Steps - {{job_title}} Position at {{company}}",body:`Dear {{candidate_name}},

Thank you for your application for the {{job_title}} position. We've reviewed your resume and would like to proceed with the next step in our hiring process.

We'd like to schedule a {{interview_type}} to discuss your qualifications and learn more about your experience.

Please let us know your availability for a {{duration}} conversation in the next week.

Best regards,
{{recruiter_name}}
{{company}}`},interview:{subject:"Interview Invitation - {{job_title}} Position",body:`Dear {{candidate_name}},

We're pleased to invite you to interview for the {{job_title}} position at {{company}}.

Interview Details:
- Date & Time: {{interview_datetime}}
- Duration: {{duration}}
- Format: {{interview_format}}
- Location/Link: {{location_or_link}}

Please confirm your attendance by {{confirmation_deadline}}.

We look forward to speaking with you!

Best regards,
{{recruiter_name}}`},offer:{subject:"üéâ Job Offer - {{job_title}} at {{company}}",body:`Dear {{candidate_name}},

Congratulations! We're thrilled to extend an offer for the {{job_title}} position at {{company}}.

Offer Details:
- Start Date: {{start_date}}
- Salary: {{salary}}
- Benefits: {{benefits_summary}}

Please review the attached formal offer letter. We'd appreciate your response by {{response_deadline}}.

Welcome to the team!

Best regards,
{{recruiter_name}}`},rejection:{subject:"Update on Your Application - {{job_title}}",body:`Dear {{candidate_name}},

Thank you for taking the time to apply for the {{job_title}} position at {{company}} and for your interest in joining our team.

After careful consideration, we've decided to move forward with other candidates whose qualifications more closely match our current needs.

We were impressed by your background in {{candidate_strength}}, and we encourage you to apply for future positions that align with your skills.

We wish you the best in your job search.

Best regards,
{{recruiter_name}}`}};async function zt(){try{s(x,!0),s(T,"");const h=await fetch("/api/recruiting/jobs",{headers:{Authorization:`Bearer ${i().token}`}});if(!h.ok)throw new Error("Failed to load jobs");s(k,await h.json())}catch(h){s(T,h.message),s(k,[])}finally{s(x,!1)}}async function Ve(){try{s(x,!0),s(T,""),s(B,"");const h=await fetch("/api/recruiting/jobs",{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(P))});if(!h.ok){const C=await h.json();throw new Error(C.error||"Failed to create job")}s(B,"Job posting created successfully"),s(N,!1),xt(),await zt()}catch(h){s(T,h.message)}finally{s(x,!1)}}async function Pe(){if(e(j))try{s(x,!0),s(T,""),s(B,"");const h=await fetch(`/api/recruiting/jobs/${e(j).id}`,{method:"PUT",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(P))});if(!h.ok){const C=await h.json();throw new Error(C.error||"Failed to update job")}s(B,"Job posting updated successfully"),s(N,!1),s(j,null),xt(),await zt()}catch(h){s(T,h.message)}finally{s(x,!1)}}async function Xe(h){s(wt,!0)}function it(h){h&&(s(j,h),s(P,{title:h.title,department:h.department,location:h.location,employment_type:h.employment_type,salary_min:h.salary_min||0,salary_max:h.salary_max||0,description:h.description,requirements:[...h.requirements],responsibilities:[...h.responsibilities],benefits:[...h.benefits]})),s(N,!0)}function xt(){s(P,{title:"",department:"",location:"",employment_type:"full-time",salary_min:0,salary_max:0,description:"",requirements:[],responsibilities:[],benefits:[]}),s(j,null)}async function qt(h){try{s(x,!0),s(T,"");const C=await fetch(`/api/recruiting/jobs/${h}/candidates`,{headers:{Authorization:`Bearer ${i().token}`}});if(!C.ok)throw new Error("Failed to load candidates");s(A,await C.json())}catch(C){s(T,C.message),s(A,[])}finally{s(x,!1)}}async function at(h){try{s(mt,!0),s(T,"");const C=await fetch(`/api/recruiting/candidates/${h.id}/analyze`,{method:"POST",headers:{Authorization:`Bearer ${i().token}`}});if(!C.ok)throw new Error("Failed to analyze resume");const I=await C.json();s(J,{...h,score:I.score,ai_summary:I.summary,strengths:I.strengths,weaknesses:I.weaknesses,experience_years:I.experience_years,skills:I.skills}),et=!0}catch(C){s(T,C.message)}finally{s(mt,!1)}}async function Be(h,C){try{if(s(x,!0),s(T,""),s(B,""),!(await fetch(`/api/recruiting/candidates/${h}`,{method:"PUT",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify({status:C})})).ok)throw new Error("Failed to update candidate");s(B,"Candidate status updated"),e(ce)&&await qt(e(ce).id)}catch(I){s(T,I.message)}finally{s(x,!1)}}function ut(h){s(J,h),s(re,!0)}function Q(h){s(ce,h),qt(h.id)}function Oe(h,C){const I=dt[C];I&&(s(Ue,I.subject.replace("{{job_title}}",e(ce)?.title||"").replace("{{company}}","Your Company")),s(_e,I.body.replace(/{{candidate_name}}/g,`${h.first_name} ${h.last_name}`).replace(/{{job_title}}/g,e(ce)?.title||"").replace(/{{company}}/g,"Your Company").replace(/{{recruiter_name}}/g,i().user?.name||"Hiring Team").replace(/{{candidate_strength}}/g,h.strengths?.[0]||"your experience")),s(vt,!0))}async function Ke(h,C){try{s(nt,!0),s(T,"");const I=await fetch("/api/recruiting/email/generate",{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify({candidate_id:h.id,job_id:e(ce)?.id,context:C,tone:"professional_friendly"})});if(!I.ok)throw new Error("Failed to generate email");const R=await I.json();s(Ue,R.subject),s(_e,R.body),s(vt,!0)}catch(I){s(T,I.message)}finally{s(nt,!1)}}async function rt(){if(e(J))try{if(s(x,!0),s(T,""),s(B,""),!(await fetch("/api/recruiting/email/send",{method:"POST",headers:{Authorization:`Bearer ${i().token}`,"Content-Type":"application/json"},body:JSON.stringify({candidate_id:e(J).id,subject:e(Ue),body:e(_e)})})).ok)throw new Error("Failed to send email");s(B,"Email sent successfully"),s(vt,!1),ot()}catch(h){s(T,h.message)}finally{s(x,!1)}}function ot(){s(Ue,""),s(_e,"")}function kt(h){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(h)}function Fe(h){return h?new Date(h).toLocaleDateString():"N/A"}function Ye(h){return{draft:"badge-ghost",active:"badge-success",closed:"badge-error",filled:"badge-info",new:"badge-warning",screening:"badge-info",interview:"badge-primary",offered:"badge-success",rejected:"badge-error",hired:"badge-success"}[h]||"badge-ghost"}function _t(h){return h>=80?"#10b981":h>=60?"#3b82f6":h>=40?"#f59e0b":"#ef4444"}function St(h,C){return h.splice(C,1),h}ea(()=>{zt()}),Ht(()=>(e(k),e($)),()=>{s(d,e(k).filter(h=>e($)==="all"||h.status===e($)))}),Ht(()=>(e(ce),e(A),e(Ge)),()=>{s(y,e(ce)?e(A).filter(h=>{const C=h.job_posting_id===e(ce).id,I=e(Ge)==="all"||h.status===e(Ge);return C&&I}):[])}),Ht(()=>e(k),()=>{s(u,{total:e(k).length,active:e(k).filter(h=>h.status==="active").length,filled:e(k).filter(h=>h.status==="filled").length,total_applicants:e(k).reduce((h,C)=>h+C.applications_count,0)})}),Ht(()=>(e(ce),e(y)),()=>{s(_,e(ce)?{total:e(y).length,new:e(y).filter(h=>h.status==="new").length,screening:e(y).filter(h=>h.status==="screening").length,interview:e(y).filter(h=>h.status==="interview").length,offered:e(y).filter(h=>h.status==="offered").length}:null)}),ss(),za();var ft=s_(),pt=lt(ft),bt=a(t(pt),2);{var ye=h=>{var C=bp(),I=t(C),R=t(I),V=a(I,2);E(()=>o(R,e(T))),ve("click",V,()=>s(T,"")),v(h,C)};w(bt,h=>{e(T)&&h(ye)})}var b=a(bt,2);{var S=h=>{var C=hp(),I=t(C),R=t(I),V=a(I,2);E(()=>o(R,e(B))),ve("click",V,()=>s(B,"")),v(h,C)};w(b,h=>{e(B)&&h(S)})}var ee=a(b,2),me=t(ee),je=a(me,2),qe=a(je,2),Te=a(ee,2),Ie=t(Te);{var Ne=h=>{var C=$p(),I=t(C),R=a(t(I),2),V=a(I,2),K=t(V),ie=a(t(K),2),H=t(ie),Y=t(H),W=a(K,2),U=a(t(W),2),te=t(U),pe=t(te),fe=a(W,2),G=a(t(fe),2),he=t(G),ze=t(he),Ee=a(fe,2),De=a(t(Ee),2),xe=t(De),q=t(xe),F=a(V,2),ae=t(F);E(()=>{e($),Tt(()=>{})});var X=t(ae);X.value=X.__value="all";var ne=a(X);ne.value=ne.__value="draft";var Re=a(ne);Re.value=Re.__value="active";var $e=a(Re);$e.value=$e.__value="closed";var ue=a($e);ue.value=ue.__value="filled";var ge=a(F,2);{var We=Ce=>{var ct=yp();v(Ce,ct)},Se=Ce=>{var ct=Ct(),ke=lt(ct);{var Me=be=>{var gt=gp(),$t=a(t(gt),4);ve("click",$t,()=>it()),v(be,gt)},Ae=be=>{var gt=kp();ht(gt,5,()=>e(d),yt,($t,Je)=>{var Pt=wp(),jt=t(Pt),Mt=t(jt),Dt=t(Mt),Ot=t(Dt),Bt=a(Dt,2),Ut=t(Bt),Ft=a(Mt,2),Et=t(Ft),Wt=a(jt,2),Xt=t(Wt),sa=a(t(Xt)),Qt=a(Xt,2);{var ua=Na=>{var ga=xp(),ta=a(t(ga));E((Aa,ls)=>o(ta,` ${Aa??""} - ${ls??""}`),[()=>(e(Je),n(()=>kt(e(Je).salary_min))),()=>(e(Je),n(()=>kt(e(Je).salary_max)))]),v(Na,ga)};w(Qt,Na=>{e(Je),n(()=>e(Je).salary_min&&e(Je).salary_max)&&Na(ua)})}var Xa=a(Qt,2),Kt=a(t(Xa)),Ca=a(Wt,2),Os=t(Ca),ys=t(Os),Ka=a(Ca,2),Fa=t(Ka),Ia=a(Fa,2),gs=a(Ia,2);E((Na,ga,ta)=>{o(Ot,(e(Je),n(()=>e(Je).title))),o(Ut,`${e(Je),n(()=>e(Je).department)??""} ‚Ä¢ ${e(Je),n(()=>e(Je).location)??""}`),tt(Ft,1,`badge ${Na??""}`,"svelte-1xwc670"),o(Et,(e(Je),n(()=>e(Je).status))),o(sa,` ${ga??""}`),o(Kt,` Posted ${ta??""}`),o(ys,(e(Je),n(()=>e(Je).applications_count)))},[()=>(e(Je),n(()=>Ye(e(Je).status))),()=>(e(Je),n(()=>e(Je).employment_type.replace("-"," "))),()=>(e(Je),n(()=>Fe(e(Je).posted_date||e(Je).created_at)))]),ve("click",Fa,()=>Q(e(Je))),ve("click",Ia,()=>it(e(Je))),ve("click",gs,()=>Xe(e(Je).id)),v($t,Pt)}),v(be,gt)};w(ke,be=>{e(d),n(()=>e(d).length===0)?be(Me):be(Ae,!1)},!0)}v(Ce,ct)};w(ge,Ce=>{e(x)?Ce(We):Ce(Se,!1)})}E(()=>{o(Y,(e(u),n(()=>e(u).total))),o(pe,(e(u),n(()=>e(u).active))),o(ze,(e(u),n(()=>e(u).filled))),o(q,(e(u),n(()=>e(u).total_applicants)))}),ve("click",R,()=>it()),At(ae,()=>e($),Ce=>s($,Ce)),v(h,C)};w(Ie,h=>{e(f)==="jobs"&&h(Ne)})}var He=a(Ie,2);{var oe=h=>{var C=Bp(),I=t(C);{var R=K=>{var ie=Tp(),H=lt(ie),Y=t(H),W=t(Y),U=t(W),te=a(W,2),pe=t(te),fe=a(Y,2),G=a(H,2);{var he=ge=>{var We=Ep(),Se=t(We),Ce=a(t(Se),2),ct=t(Ce),ke=t(ct),Me=a(Se,2),Ae=a(t(Me),2),be=t(Ae),gt=t(be),$t=a(Me,2),Je=a(t($t),2),Pt=t(Je),jt=t(Pt),Mt=a($t,2),Dt=a(t(Mt),2),Ot=t(Dt),Bt=t(Ot),Ut=a(Mt,2),Ft=a(t(Ut),2),Et=t(Ft),Wt=t(Et);E(()=>{o(ke,(e(_),n(()=>e(_).total))),o(gt,(e(_),n(()=>e(_).new))),o(jt,(e(_),n(()=>e(_).screening))),o(Bt,(e(_),n(()=>e(_).interview))),o(Wt,(e(_),n(()=>e(_).offered)))}),v(ge,We)};w(G,ge=>{e(_)&&ge(he)})}var ze=a(G,2),Ee=t(ze);E(()=>{e(Ge),Tt(()=>{})});var De=t(Ee);De.value=De.__value="all";var xe=a(De);xe.value=xe.__value="new";var q=a(xe);q.value=q.__value="screening";var F=a(q);F.value=F.__value="interview";var ae=a(F);ae.value=ae.__value="offered";var X=a(ae);X.value=X.__value="rejected";var ne=a(X);ne.value=ne.__value="hired";var Re=a(ze,2);{var $e=ge=>{var We=Sp();v(ge,We)},ue=ge=>{var We=Ct(),Se=lt(We);{var Ce=ke=>{var Me=zp();v(ke,Me)},ct=ke=>{var Me=Pp();ht(Me,5,()=>e(y),yt,(Ae,be)=>{var gt=Dp(),$t=t(gt),Je=t($t),Pt=t(Je),jt=a(Je,2),Mt=t(jt),Dt=t(Mt),Ot=a(Mt,2),Bt=t(Ot),Ut=a(Ot,2);{var Ft=la=>{var xa=jp(),Ra=t(xa);E(()=>o(Ra,(e(be),n(()=>e(be).phone)))),v(la,xa)};w(Ut,la=>{e(be),n(()=>e(be).phone)&&la(Ft)})}var Et=a($t,2);{var Wt=la=>{var xa=qp(),Ra=t(xa),Zs=t(Ra),Vr=t(Zs);E((Yr,Gr)=>{il(Ra,`border-color: ${Yr??""}`),il(Zs,`color: ${Gr??""}`),o(Vr,(e(be),n(()=>e(be).score)))},[()=>(e(be),n(()=>_t(e(be).score))),()=>(e(be),n(()=>_t(e(be).score)))]),v(la,xa)};w(Et,la=>{e(be),n(()=>e(be).score!==void 0)&&la(Wt)})}var Xt=a(Et,2),sa=t(Xt);ht(sa,1,()=>(e(be),n(()=>e(be).skills.slice(0,3))),yt,(la,xa)=>{var Ra=Cp(),Zs=t(Ra);E(()=>o(Zs,e(xa))),v(la,Ra)});var Qt=a(sa,2);{var ua=la=>{var xa=Ap(),Ra=t(xa);E(()=>o(Ra,`+${e(be),n(()=>e(be).skills.length-3)??""}`)),v(la,xa)};w(Qt,la=>{e(be),n(()=>e(be).skills.length>3)&&la(ua)})}var Xa=a(Xt,2),Kt=t(Xa),Ca=t(Kt),Os=a(Kt,2),ys=t(Os),Ka=a(Xa,2),Fa=t(Ka),Ia=a(Fa,2),gs=t(Ia),Na=a(Ia,2),ga=a(Ka,2),ta=t(ga),Aa=t(ta);Aa.value=Aa.__value="new";var ls=a(Aa);ls.value=ls.__value="screening";var xs=a(ls);xs.value=xs.__value="interview";var ml=a(xs);ml.value=ml.__value="offered";var bl=a(ml);bl.value=bl.__value="rejected";var Il=a(bl);Il.value=Il.__value="hired";var Nl;Ur(ta),E((la,xa)=>{o(Pt,`${e(be),n(()=>e(be).first_name[0])??""}${e(be),n(()=>e(be).last_name[0])??""}`),o(Dt,`${e(be),n(()=>e(be).first_name)??""} ${e(be),n(()=>e(be).last_name)??""}`),o(Bt,(e(be),n(()=>e(be).email))),tt(Kt,1,`badge ${la??""}`,"svelte-1xwc670"),o(Ca,(e(be),n(()=>e(be).status))),o(ys,`Applied ${xa??""}`),Ia.disabled=e(mt),o(gs,`${e(mt)?"üîÑ":"ü§ñ"} AI Review`),Nl!==(Nl=(e(be),n(()=>e(be).status)))&&(ta.value=(ta.__value=(e(be),n(()=>e(be).status)))??"",Bl(ta,(e(be),n(()=>e(be).status))))},[()=>(e(be),n(()=>Ye(e(be).status))),()=>(e(be),n(()=>Fe(e(be).applied_date)))]),ve("click",Fa,()=>ut(e(be))),ve("click",Ia,()=>at(e(be))),ve("click",Na,()=>Oe(e(be),"screening")),ve("change",ta,la=>Be(e(be).id,la.currentTarget.value)),v(Ae,gt)}),v(ke,Me)};w(Se,ke=>{e(y),n(()=>e(y).length===0)?ke(Ce):ke(ct,!1)},!0)}v(ge,We)};w(Re,ge=>{e(x)?ge($e):ge(ue,!1)})}E(()=>{o(U,`Candidates for ${e(ce),n(()=>e(ce).title)??""}`),o(pe,`${e(ce),n(()=>e(ce).department)??""} ‚Ä¢ ${e(ce),n(()=>e(ce).location)??""}`)}),ve("click",fe,()=>{s(ce,null),s(A,[])}),At(Ee,()=>e(Ge),ge=>s(Ge,ge)),v(K,ie)},V=K=>{var ie=Mp(),H=a(t(ie),4);ve("click",H,()=>s(f,"jobs")),v(K,ie)};w(I,K=>{e(ce)?K(R):K(V,!1)})}v(h,C)};w(He,h=>{e(f)==="candidates"&&h(oe)})}var de=a(He,2);{var le=h=>{var C=Op(),I=a(t(C),2),R=a(t(I),2),V=a(t(R),2),K=t(V);E(ie=>o(K,ie),[()=>(e(u),n(()=>e(u).total>0?Math.round(e(u).total_applicants/e(u).total):0))]),v(h,C)};w(de,h=>{e(f)==="analytics"&&h(le)})}var we=a(pt,2);{var se=h=>{var C=Np(),I=t(C),R=t(I),V=t(R),K=t(V),ie=a(V,2),H=a(R,2),Y=t(H),W=t(Y),U=a(t(W),2),te=a(W,2),pe=a(t(te),2),fe=a(Y,2),G=t(fe),he=a(t(G),2),ze=a(G,2),Ee=a(t(ze),2);E(()=>{e(P),Tt(()=>{})});var De=t(Ee);De.value=De.__value="full-time";var xe=a(De);xe.value=xe.__value="part-time";var q=a(xe);q.value=q.__value="contract";var F=a(q);F.value=F.__value="internship";var ae=a(fe,2),X=t(ae),ne=a(t(X),2),Re=a(X,2),$e=a(t(Re),2),ue=a(ae,2),ge=a(t(ue),2),We=a(ue,2),Se=a(t(We),2),Ce=t(Se);ht(Ce,1,()=>(e(P),n(()=>e(P).requirements)),yt,(jt,Mt,Dt)=>{var Ot=Fp(),Bt=t(Ot),Ut=a(Bt,2);Ze(Bt,()=>e(P).requirements[Dt],Ft=>st(P,e(P).requirements[Dt]=Ft)),ve("click",Ut,()=>st(P,e(P).requirements=St(e(P).requirements,Dt))),v(jt,Ot)});var ct=a(Ce,2),ke=a(We,2),Me=a(t(ke),2),Ae=t(Me);ht(Ae,1,()=>(e(P),n(()=>e(P).responsibilities)),yt,(jt,Mt,Dt)=>{var Ot=Ip(),Bt=t(Ot),Ut=a(Bt,2);Ze(Bt,()=>e(P).responsibilities[Dt],Ft=>st(P,e(P).responsibilities[Dt]=Ft)),ve("click",Ut,()=>st(P,e(P).responsibilities=St(e(P).responsibilities,Dt))),v(jt,Ot)});var be=a(Ae,2),gt=a(ke,2),$t=t(gt),Je=t($t),Pt=a($t,2);E(()=>{o(K,`${e(j)?"Edit":"Create"} Job Posting`),$t.disabled=e(x),o(Je,e(x)?"Saving...":e(j)?"Update Job":"Post Job")}),ve("click",ie,()=>{s(N,!1),xt()}),Ze(U,()=>e(P).title,jt=>st(P,e(P).title=jt)),Ze(pe,()=>e(P).department,jt=>st(P,e(P).department=jt)),Ze(he,()=>e(P).location,jt=>st(P,e(P).location=jt)),At(Ee,()=>e(P).employment_type,jt=>st(P,e(P).employment_type=jt)),Ze(ne,()=>e(P).salary_min,jt=>st(P,e(P).salary_min=jt)),Ze($e,()=>e(P).salary_max,jt=>st(P,e(P).salary_max=jt)),Ze(ge,()=>e(P).description,jt=>st(P,e(P).description=jt)),ve("click",ct,()=>st(P,e(P).requirements=[...e(P).requirements,""])),ve("click",be,()=>st(P,e(P).responsibilities=[...e(P).responsibilities,""])),ve("click",Pt,()=>{s(N,!1),xt()}),ve("submit",H,js(function(...jt){(e(j)?Pe:Ve)?.apply(this,jt)})),ve("click",I,Gt(function(jt){Zt.call(this,r,jt)})),ve("keydown",I,Gt(function(jt){Zt.call(this,r,jt)})),ve("click",C,()=>{s(N,!1),xt()}),v(h,C)};w(we,h=>{e(N)&&h(se)})}var M=a(we,2);{var O=h=>{var C=Qp(),I=t(C),R=t(I),V=t(R),K=t(V),ie=t(K),H=a(K,2),Y=t(H),W=a(V,2),U=a(R,2),te=t(U),pe=a(t(te),2),fe=t(pe),G=a(t(fe),2),he=t(G),ze=a(fe,2);{var Ee=ke=>{var Me=Rp(),Ae=a(t(Me),2),be=t(Ae);E(()=>o(be,(e(J),n(()=>e(J).phone)))),v(ke,Me)};w(ze,ke=>{e(J),n(()=>e(J).phone)&&ke(Ee)})}var De=a(ze,2);{var xe=ke=>{var Me=Lp(),Ae=a(t(Me),2);E(()=>pa(Ae,"href",(e(J),n(()=>e(J).linkedin_url)))),v(ke,Me)};w(De,ke=>{e(J),n(()=>e(J).linkedin_url)&&ke(xe)})}var q=a(De,2);{var F=ke=>{var Me=Up(),Ae=a(t(Me),2);E(()=>pa(Ae,"href",(e(J),n(()=>e(J).portfolio_url)))),v(ke,Me)};w(q,ke=>{e(J),n(()=>e(J).portfolio_url)&&ke(F)})}var ae=a(te,2);{var X=ke=>{var Me=Wp(),Ae=a(t(Me),2);ht(Ae,5,()=>(e(J),n(()=>e(J).skills)),yt,(be,gt)=>{var $t=Hp(),Je=t($t);E(()=>o(Je,e(gt))),v(be,$t)}),v(ke,Me)};w(ae,ke=>{e(J),n(()=>e(J).skills.length>0)&&ke(X)})}var ne=a(ae,2);{var Re=ke=>{var Me=Xp(),Ae=a(t(Me),2),be=t(Ae),gt=t(be),$t=a(be,2);{var Je=Mt=>{var Dt=Vp(),Ot=a(t(Dt),2);ht(Ot,5,()=>(e(J),n(()=>e(J).strengths)),yt,(Bt,Ut)=>{var Ft=Jp(),Et=t(Ft);E(()=>o(Et,e(Ut))),v(Bt,Ft)}),v(Mt,Dt)};w($t,Mt=>{e(J),n(()=>e(J).strengths&&e(J).strengths.length>0)&&Mt(Je)})}var Pt=a($t,2);{var jt=Mt=>{var Dt=Gp(),Ot=a(t(Dt),2);ht(Ot,5,()=>(e(J),n(()=>e(J).weaknesses)),yt,(Bt,Ut)=>{var Ft=Yp(),Et=t(Ft);E(()=>o(Et,e(Ut))),v(Bt,Ft)}),v(Mt,Dt)};w(Pt,Mt=>{e(J),n(()=>e(J).weaknesses&&e(J).weaknesses.length>0)&&Mt(jt)})}E(()=>o(gt,(e(J),n(()=>e(J).ai_summary)))),v(ke,Me)};w(ne,ke=>{e(J),n(()=>e(J).ai_summary)&&ke(Re)})}var $e=a(ne,2);{var ue=ke=>{var Me=Kp(),Ae=a(t(Me),2),be=t(Ae);E(()=>o(be,(e(J),n(()=>e(J).cover_letter)))),v(ke,Me)};w($e,ke=>{e(J),n(()=>e(J).cover_letter)&&ke(ue)})}var ge=a($e,2),We=t(ge);{var Se=ke=>{var Me=Zp();E(()=>pa(Me,"href",(e(J),n(()=>e(J).resume_url)))),v(ke,Me)};w(We,ke=>{e(J),n(()=>e(J).resume_url)&&ke(Se)})}var Ce=a(We,2),ct=a(Ce,2);E(()=>{o(ie,`${e(J),n(()=>e(J).first_name)??""} ${e(J),n(()=>e(J).last_name)??""}`),o(Y,(e(J),n(()=>e(J).email))),o(he,(e(J),n(()=>e(J).email)))}),ve("click",W,()=>s(re,!1)),ve("click",Ce,()=>at(e(J))),ve("click",ct,()=>Oe(e(J),"interview")),ve("click",I,Gt(function(ke){Zt.call(this,r,ke)})),ve("keydown",I,Gt(function(ke){Zt.call(this,r,ke)})),ve("click",C,()=>s(re,!1)),v(h,C)};w(M,h=>{e(re)&&e(J)&&h(O)})}var D=a(M,2);{var L=h=>{var C=e_(),I=t(C),R=t(I),V=a(t(R),2),K=a(R,2),ie=t(K),H=a(ie,2),Y=a(H,2),W=a(Y,2),U=a(W,2),te=t(U),pe=a(K,2),fe=t(pe),G=t(fe),he=t(G),ze=t(he),Ee=a(fe,2),De=a(t(Ee),2),xe=a(Ee,2),q=a(t(xe),2),F=a(xe,2),ae=t(F),X=t(ae),ne=a(ae,2);E(()=>{U.disabled=e(nt),o(te,e(nt)?"üîÑ Generating...":"ü§ñ AI Generate"),o(ze,`To: ${e(J),n(()=>e(J)?.email)??""}`),ae.disabled=e(x),o(X,e(x)?"Sending...":"üì§ Send Email")}),ve("click",V,()=>{s(vt,!1),ot()}),ve("click",ie,()=>Oe(e(J),"screening")),ve("click",H,()=>Oe(e(J),"interview")),ve("click",Y,()=>Oe(e(J),"offer")),ve("click",W,()=>Oe(e(J),"rejection")),ve("click",U,()=>Ke(e(J),"custom")),Ze(De,()=>e(Ue),Re=>s(Ue,Re)),Ze(q,()=>e(_e),Re=>s(_e,Re)),ve("click",ne,()=>{s(vt,!1),ot()}),ve("submit",pe,js(rt)),ve("click",I,Gt(function(Re){Zt.call(this,r,Re)})),ve("keydown",I,Gt(function(Re){Zt.call(this,r,Re)})),ve("click",C,()=>{s(vt,!1),ot()}),v(h,C)};w(D,h=>{e(vt)&&h(L)})}var g=a(D,2);{var z=h=>{var C=a_(),I=t(C),R=t(I),V=a(t(R),2),K=a(R,2);ht(K,5,()=>e(Le),yt,(W,U,te)=>{var pe=t_(),fe=t(pe),G=t(fe),he=t(G),ze=a(G,2),Ee=t(ze),De=a(fe,2),xe=t(De);E(()=>{o(he,(e(U),n(()=>e(U).logo))),o(Ee,(e(U),n(()=>e(U).name)))}),os(xe,()=>e(U).enabled,q=>(e(U).enabled=q,Tt(()=>e(Le)))),v(W,pe)});var ie=a(K,2),H=t(ie),Y=a(H,2);ve("click",V,()=>s(wt,!1)),ve("click",H,()=>s(wt,!1)),ve("click",Y,()=>s(wt,!1)),ve("click",I,Gt(function(W){Zt.call(this,r,W)})),ve("keydown",I,Gt(function(W){Zt.call(this,r,W)})),ve("click",C,()=>s(wt,!1)),v(h,C)};w(g,h=>{e(wt)&&h(z)})}E(()=>{tt(me,1,`tab ${e(f)==="jobs"?"tab-active":""}`,"svelte-1xwc670"),tt(je,1,`tab ${e(f)==="candidates"?"tab-active":""}`,"svelte-1xwc670"),tt(qe,1,`tab ${e(f)==="analytics"?"tab-active":""}`,"svelte-1xwc670")}),ve("click",me,()=>s(f,"jobs")),ve("click",je,()=>s(f,"candidates")),ve("click",qe,()=>s(f,"analytics")),v(l,ft),Vt(),m()}var r_=p('<div class="alert alert-error svelte-1b8iquk"> <button class="svelte-1b8iquk">√ó</button></div>'),i_=p('<div class="alert alert-success svelte-1b8iquk"> <button class="svelte-1b8iquk">√ó</button></div>'),o_=p('<div class="loading svelte-1b8iquk">Loading projects...</div>'),n_=p('<div class="empty-state svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg> <h3 class="svelte-1b8iquk">No projects yet</h3> <p class="svelte-1b8iquk">Create your first project to get started</p> <button class="btn-primary svelte-1b8iquk">Create Project</button></div>'),v_=p('<div class="project-info svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <span> </span></div>'),d_=p('<div class="project-info warning svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> <span>No manager assigned</span></div>'),c_=p('<div class="project-card svelte-1b8iquk"><div class="project-header svelte-1b8iquk"><h3 class="svelte-1b8iquk"> </h3> <div class="project-meta svelte-1b8iquk"><span> </span> <span> </span></div></div> <p class="project-description svelte-1b8iquk"> </p> <!> <div class="project-info svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <span> </span></div> <div class="project-actions svelte-1b8iquk"><button class="btn-secondary svelte-1b8iquk">Add Member</button> <button class="btn-icon svelte-1b8iquk">View Details</button> <button class="btn-icon danger svelte-1b8iquk">Delete</button></div></div>'),u_=p('<div class="projects-grid svelte-1b8iquk"></div>'),p_=p('<div class="projects-section"><div class="filters svelte-1b8iquk"><input type="text" placeholder="Search projects..." class="search-input svelte-1b8iquk"/> <select class="filter-select svelte-1b8iquk"><option>All Status</option><option>Active</option><option>On Hold</option><option>Completed</option><option>Archived</option></select></div> <!></div>'),__=p('<p class="text-muted svelte-1b8iquk">All employees have been assigned to managers</p>'),f_=p('<div class="employee-card svelte-1b8iquk"><div class="employee-avatar svelte-1b8iquk"> </div> <div class="employee-info svelte-1b8iquk"><div class="employee-name svelte-1b8iquk"> </div> <div class="employee-position svelte-1b8iquk"> </div> <div class="employee-dept svelte-1b8iquk"> </div></div> <button class="btn-secondary btn-sm svelte-1b8iquk">Assign Manager</button></div>'),m_=p('<div class="employees-grid svelte-1b8iquk"></div>'),b_=p('<div class="team-member svelte-1b8iquk"><span class="member-name svelte-1b8iquk"> </span> <span class="member-position svelte-1b8iquk"> </span></div>'),h_=p('<div class="manager-group svelte-1b8iquk"><div class="manager-header svelte-1b8iquk"><div class="manager-info svelte-1b8iquk"><div class="manager-avatar svelte-1b8iquk"> </div> <div><div class="manager-name svelte-1b8iquk"> </div> <div class="manager-title svelte-1b8iquk"> </div></div></div> <div class="team-count svelte-1b8iquk"> </div></div> <div class="team-members svelte-1b8iquk"></div></div>'),y_=p('<div class="assignments-section"><div class="section-header svelte-1b8iquk"><h2 class="svelte-1b8iquk">Manager Assignments</h2> <button class="btn-primary svelte-1b8iquk">Assign Employee to Manager</button></div> <div class="unassigned-section svelte-1b8iquk"><h3 class="svelte-1b8iquk"> </h3> <!></div> <div class="assigned-section svelte-1b8iquk"><h3 class="svelte-1b8iquk">Employees by Manager</h3> <!></div></div>'),g_=p("<option> </option>"),x_=p('<div class="modal svelte-1b8iquk"><div class="modal-content svelte-1b8iquk"><div class="modal-header svelte-1b8iquk"><h2 class="svelte-1b8iquk">Create New Project</h2> <button class="close-btn svelte-1b8iquk">√ó</button></div> <form class="svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Project Name *</label> <input type="text" placeholder="Enter project name" required class="svelte-1b8iquk"/></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Description</label> <textarea placeholder="Project description" rows="3" class="svelte-1b8iquk"></textarea></div> <div class="form-row svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Status</label> <select class="svelte-1b8iquk"><option>Active</option><option>On Hold</option><option>Completed</option><option>Archived</option></select></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Priority</label> <select class="svelte-1b8iquk"><option>Low</option><option>Medium</option><option>High</option><option>Critical</option></select></div></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Project Manager</label> <select class="svelte-1b8iquk"><option>Select Manager (Optional)</option><!></select></div> <div class="form-row svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Start Date</label> <input type="date" class="svelte-1b8iquk"/></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">End Date</label> <input type="date" class="svelte-1b8iquk"/></div></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Budget</label> <input type="number" placeholder="0.00" step="0.01" min="0" class="svelte-1b8iquk"/></div> <div class="modal-actions svelte-1b8iquk"><button type="button" class="btn-secondary svelte-1b8iquk">Cancel</button> <button type="submit" class="btn-primary svelte-1b8iquk">Create Project</button></div></form></div></div>'),w_=p("<option> </option>"),k_=p('<div class="modal svelte-1b8iquk"><div class="modal-content svelte-1b8iquk"><div class="modal-header svelte-1b8iquk"><h2 class="svelte-1b8iquk"> </h2> <button class="close-btn svelte-1b8iquk">√ó</button></div> <form class="svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Employee *</label> <select required class="svelte-1b8iquk"><option>Select Employee</option><!></select></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Role</label> <input type="text" placeholder="e.g., Developer, Designer, Analyst" class="svelte-1b8iquk"/></div> <div class="modal-actions svelte-1b8iquk"><button type="button" class="btn-secondary svelte-1b8iquk">Cancel</button> <button type="submit" class="btn-primary svelte-1b8iquk">Assign Member</button></div></form></div></div>'),$_=p("<option> </option>"),E_=p("<option> </option>"),S_=p('<div class="modal svelte-1b8iquk"><div class="modal-content svelte-1b8iquk"><div class="modal-header svelte-1b8iquk"><h2 class="svelte-1b8iquk">Assign Employee to Manager</h2> <button class="close-btn svelte-1b8iquk">√ó</button></div> <form class="svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Employee *</label> <select required class="svelte-1b8iquk"><option>Select Employee</option><!></select></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Manager *</label> <select required class="svelte-1b8iquk"><option>Select Manager</option><!></select></div> <div class="modal-actions svelte-1b8iquk"><button type="button" class="btn-secondary svelte-1b8iquk">Cancel</button> <button type="submit" class="btn-primary svelte-1b8iquk">Assign to Manager</button></div></form></div></div>'),z_=p('<div class="project-management svelte-1b8iquk"><div class="header svelte-1b8iquk"><div><h1 class="svelte-1b8iquk">Project Management</h1> <p class="subtitle svelte-1b8iquk">Create projects, assign managers, and manage teams</p></div> <button class="btn-primary svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M12 5v14M5 12h14"></path></svg> Create Project</button></div> <!> <!> <div class="tabs svelte-1b8iquk"><button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg> </button> <button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"></path></svg> Manager Assignments</button></div> <!> <!> <!> <!> <!></div>');function j_(l,r){Jt(r,!0);const i=ja();let c=Qe(Rt([])),m=Qe(Rt([])),d=Qe(Rt([])),y=Qe(!1),u=Qe("projects"),_=Qe(!1),f=Qe(!1),x=Qe(!1),T=Qe(null),B=Qe("all"),k=Qe(""),N=Qe(""),j=Qe(""),$=Qe(Rt({name:"",description:"",status:"active",priority:"medium",manager_id:"",start_date:"",end_date:"",budget:""})),P=Qe(Rt({employee_id:"",role:"member"})),A=Qe(Rt({employee_id:"",manager_id:""}));ea(()=>{ce(),J()});async function ce(){s(y,!0);try{const ye=localStorage.getItem("token"),b=new URLSearchParams;e(B)!=="all"&&b.append("status",e(B));const S=`${i}/projects?${b.toString()}`,ee=await fetch(S,{headers:{Authorization:`Bearer ${ye}`}});if(ee.ok){const me=await ee.json();s(c,Array.isArray(me)?me:[],!0)}else s(c,[],!0)}catch(ye){console.error("Error loading projects:",ye),s(c,[],!0)}finally{s(y,!1)}}async function J(){try{const ye=localStorage.getItem("token"),b=await fetch(`${i}/employees`,{headers:{Authorization:`Bearer ${ye}`}});if(b.ok){const S=await b.json();s(m,Array.isArray(S)?S:[],!0),s(d,e(m).filter(ee=>ee.position?.toLowerCase().includes("manager")||ee.position?.toLowerCase().includes("director")||ee.position?.toLowerCase().includes("lead")),!0)}}catch(ye){console.error("Error loading employees:",ye),s(m,[],!0)}}async function re(){if(s(N,""),s(j,""),!e($).name.trim()){s(N,"Project name is required");return}try{const ye=localStorage.getItem("token"),b={name:e($).name,description:e($).description,status:e($).status,priority:e($).priority};e($).manager_id&&(b.manager_id=e($).manager_id),e($).start_date&&(b.start_date=new Date(e($).start_date).toISOString()),e($).end_date&&(b.end_date=new Date(e($).end_date).toISOString()),e($).budget&&(b.budget=parseFloat(e($).budget)),console.log("Creating project with data:",b);const S=await fetch(`${i}/projects`,{method:"POST",headers:{Authorization:`Bearer ${ye}`,"Content-Type":"application/json"},body:JSON.stringify(b)});if(S.ok)s(j,"Project created successfully"),s(_,!1),Le(),ce();else{const ee=await S.json();console.error("Backend error:",ee),s(N,ee.error||"Failed to create project",!0)}}catch(ye){console.error("Error creating project:",ye),s(N,"Error creating project")}}async function et(ye){if(s(N,""),s(j,""),!e(P).employee_id){s(N,"Please select an employee");return}try{const b=localStorage.getItem("token"),S=await fetch(`${i}/projects/${ye}/members`,{method:"POST",headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"},body:JSON.stringify(e(P))});if(S.ok)s(j,"Member assigned successfully"),s(f,!1),s(P,{employee_id:"",role:"member"},!0),mt(ye);else{const ee=await S.json();s(N,ee.error||"Failed to assign member",!0)}}catch(b){console.error("Error assigning member:",b),s(N,"Error assigning member")}}async function Ge(){if(s(N,""),s(j,""),!e(A).employee_id||!e(A).manager_id){s(N,"Please select both employee and manager");return}try{const ye=localStorage.getItem("token"),b=await fetch(`${i}/managers/assign`,{method:"POST",headers:{Authorization:`Bearer ${ye}`,"Content-Type":"application/json"},body:JSON.stringify(e(A))});if(b.ok)s(j,"Employee assigned to manager successfully"),s(x,!1),s(A,{employee_id:"",manager_id:""},!0),J();else{const S=await b.json();s(N,S.error||"Failed to assign employee to manager",!0)}}catch(ye){console.error("Error assigning to manager:",ye),s(N,"Error assigning to manager")}}async function mt(ye){try{const b=localStorage.getItem("token"),S=await fetch(`${i}/projects/${ye}`,{headers:{Authorization:`Bearer ${b}`}});if(S.ok){const ee=await S.json(),me=e(c).findIndex(je=>je.id===ye);me!==-1&&(e(c)[me]=ee),e(T)?.id===ye&&s(T,ee,!0)}}catch(b){console.error("Error loading project details:",b)}}async function wt(ye){if(confirm("Are you sure you want to delete this project?"))try{const b=localStorage.getItem("token");(await fetch(`${i}/projects/${ye}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}})).ok&&(s(j,"Project deleted successfully"),ce(),e(T)?.id===ye&&s(T,null))}catch(b){console.error("Error deleting project:",b),s(N,"Error deleting project")}}function Le(){s($,{name:"",description:"",status:"active",priority:"medium",manager_id:"",start_date:"",end_date:"",budget:""},!0)}function vt(ye){s(T,ye,!0),s(f,!0),s(N,""),s(j,"")}function Ue(ye){return{active:"status-active","on-hold":"status-onhold",completed:"status-completed",archived:"status-archived"}[ye]||""}function _e(ye){return{low:"priority-low",medium:"priority-medium",high:"priority-high",critical:"priority-critical"}[ye]||""}let nt=Sa(()=>e(c).filter(ye=>ye.name.toLowerCase().includes(e(k).toLowerCase())||ye.description?.toLowerCase().includes(e(k).toLowerCase()))),dt=Sa(()=>e(m).filter(ye=>!ye.manager_id));var zt=z_(),Ve=t(zt),Pe=a(t(Ve),2);Pe.__click=()=>{s(_,!0),s(N,""),s(j,"")};var Xe=a(Ve,2);{var it=ye=>{var b=r_(),S=t(b),ee=a(S);ee.__click=()=>s(N,""),E(()=>o(S,`${e(N)??""} `)),v(ye,b)};w(Xe,ye=>{e(N)&&ye(it)})}var xt=a(Xe,2);{var qt=ye=>{var b=i_(),S=t(b),ee=a(S);ee.__click=()=>s(j,""),E(()=>o(S,`${e(j)??""} `)),v(ye,b)};w(xt,ye=>{e(j)&&ye(qt)})}var at=a(xt,2),Be=t(at);let ut;Be.__click=()=>s(u,"projects");var Q=a(t(Be)),Oe=a(Be,2);let Ke;Oe.__click=()=>s(u,"assignments");var rt=a(at,2);{var ot=ye=>{var b=p_(),S=t(b),ee=t(S),me=a(ee,2);me.__change=()=>ce();var je=t(me);je.value=je.__value="all";var qe=a(je);qe.value=qe.__value="active";var Te=a(qe);Te.value=Te.__value="on-hold";var Ie=a(Te);Ie.value=Ie.__value="completed";var Ne=a(Ie);Ne.value=Ne.__value="archived";var He=a(S,2);{var oe=le=>{var we=o_();v(le,we)},de=le=>{var we=Ct(),se=lt(we);{var M=D=>{var L=n_(),g=a(t(L),6);g.__click=()=>s(_,!0),v(D,L)},O=D=>{var L=u_();ht(L,21,()=>e(nt),yt,(g,z)=>{var h=c_(),C=t(h),I=t(C),R=t(I),V=a(I,2),K=t(V),ie=t(K),H=a(K,2),Y=t(H),W=a(C,2),U=t(W),te=a(W,2);{var pe=F=>{var ae=v_(),X=a(t(ae),2),ne=t(X);E(()=>o(ne,`Manager: ${e(z).manager_name??""}`)),v(F,ae)},fe=F=>{var ae=d_();v(F,ae)};w(te,F=>{e(z).manager_name?F(pe):F(fe,!1)})}var G=a(te,2),he=a(t(G),2),ze=t(he),Ee=a(G,2),De=t(Ee);De.__click=()=>vt(e(z));var xe=a(De,2);xe.__click=()=>s(T,e(z),!0);var q=a(xe,2);q.__click=()=>wt(e(z).id),E((F,ae)=>{o(R,e(z).name),tt(K,1,`status ${F??""}`,"svelte-1b8iquk"),o(ie,e(z).status),tt(H,1,`priority ${ae??""}`,"svelte-1b8iquk"),o(Y,e(z).priority),o(U,e(z).description||"No description"),o(ze,`${e(z).member_count??""} team members`)},[()=>Ue(e(z).status),()=>_e(e(z).priority)]),v(g,h)}),v(D,L)};w(se,D=>{e(nt).length===0?D(M):D(O,!1)},!0)}v(le,we)};w(He,le=>{e(y)?le(oe):le(de,!1)})}Ze(ee,()=>e(k),le=>s(k,le)),At(me,()=>e(B),le=>s(B,le)),v(ye,b)};w(rt,ye=>{e(u)==="projects"&&ye(ot)})}var kt=a(rt,2);{var Fe=ye=>{var b=y_(),S=t(b),ee=a(t(S),2);ee.__click=()=>{s(x,!0),s(N,""),s(j,"")};var me=a(S,2),je=t(me),qe=t(je),Te=a(je,2);{var Ie=de=>{var le=__();v(de,le)},Ne=de=>{var le=m_();ht(le,21,()=>e(dt),yt,(we,se)=>{var M=f_(),O=t(M),D=t(O),L=a(O,2),g=t(L),z=t(g),h=a(g,2),C=t(h),I=a(h,2),R=t(I),V=a(L,2);V.__click=()=>{e(A).employee_id=e(se).id,s(x,!0)},E(()=>{o(D,`${e(se).first_name[0]??""}${e(se).last_name[0]??""}`),o(z,`${e(se).first_name??""} ${e(se).last_name??""}`),o(C,e(se).position),o(R,e(se).department)}),v(we,M)}),v(de,le)};w(Te,de=>{e(dt).length===0?de(Ie):de(Ne,!1)})}var He=a(me,2),oe=a(t(He),2);ht(oe,17,()=>e(d),yt,(de,le)=>{const we=Sa(()=>e(m).filter(D=>D.manager_id===e(le).id));var se=Ct(),M=lt(se);{var O=D=>{var L=h_(),g=t(L),z=t(g),h=t(z),C=t(h),I=a(h,2),R=t(I),V=t(R),K=a(R,2),ie=t(K),H=a(z,2),Y=t(H),W=a(g,2);ht(W,21,()=>e(we),yt,(U,te)=>{var pe=b_(),fe=t(pe),G=t(fe),he=a(fe,2),ze=t(he);E(()=>{o(G,`${e(te).first_name??""} ${e(te).last_name??""}`),o(ze,e(te).position)}),v(U,pe)}),E(()=>{o(C,`${e(le).first_name[0]??""}${e(le).last_name[0]??""}`),o(V,`${e(le).first_name??""} ${e(le).last_name??""}`),o(ie,e(le).position),o(Y,`${e(we).length??""} team members`)}),v(D,L)};w(M,D=>{e(we).length>0&&D(O)})}v(de,se)}),E(()=>o(qe,`Unassigned Employees (${e(dt).length??""})`)),v(ye,b)};w(kt,ye=>{e(u)==="assignments"&&ye(Fe)})}var Ye=a(kt,2);{var _t=ye=>{var b=x_();b.__click=G=>{G.target.classList.contains("modal")&&s(_,!1)};var S=t(b),ee=t(S),me=a(t(ee),2);me.__click=()=>s(_,!1);var je=a(ee,2),qe=t(je),Te=a(t(qe),2),Ie=a(qe,2),Ne=a(t(Ie),2),He=a(Ie,2),oe=t(He),de=a(t(oe),2),le=t(de);le.value=le.__value="active";var we=a(le);we.value=we.__value="on-hold";var se=a(we);se.value=se.__value="completed";var M=a(se);M.value=M.__value="archived";var O=a(oe,2),D=a(t(O),2),L=t(D);L.value=L.__value="low";var g=a(L);g.value=g.__value="medium";var z=a(g);z.value=z.__value="high";var h=a(z);h.value=h.__value="critical";var C=a(He,2),I=a(t(C),2),R=t(I);R.value=R.__value="";var V=a(R);ht(V,17,()=>e(d),yt,(G,he)=>{var ze=g_(),Ee=t(ze),De={};E(()=>{o(Ee,`${e(he).first_name??""} ${e(he).last_name??""} - ${e(he).position??""}`),De!==(De=e(he).id)&&(ze.value=(ze.__value=e(he).id)??"")}),v(G,ze)});var K=a(C,2),ie=t(K),H=a(t(ie),2),Y=a(ie,2),W=a(t(Y),2),U=a(K,2),te=a(t(U),2),pe=a(U,2),fe=t(pe);fe.__click=()=>s(_,!1),ve("submit",je,G=>{G.preventDefault(),re()}),Ze(Te,()=>e($).name,G=>e($).name=G),Ze(Ne,()=>e($).description,G=>e($).description=G),At(de,()=>e($).status,G=>e($).status=G),At(D,()=>e($).priority,G=>e($).priority=G),At(I,()=>e($).manager_id,G=>e($).manager_id=G),Ze(H,()=>e($).start_date,G=>e($).start_date=G),Ze(W,()=>e($).end_date,G=>e($).end_date=G),Ze(te,()=>e($).budget,G=>e($).budget=G),v(ye,b)};w(Ye,ye=>{e(_)&&ye(_t)})}var St=a(Ye,2);{var ft=ye=>{var b=k_();b.__click=M=>{M.target.classList.contains("modal")&&s(f,!1)};var S=t(b),ee=t(S),me=t(ee),je=t(me),qe=a(me,2);qe.__click=()=>s(f,!1);var Te=a(ee,2),Ie=t(Te),Ne=a(t(Ie),2),He=t(Ne);He.value=He.__value="";var oe=a(He);ht(oe,17,()=>e(m),yt,(M,O)=>{var D=w_(),L=t(D),g={};E(()=>{o(L,`${e(O).first_name??""} ${e(O).last_name??""} - ${e(O).position??""}`),g!==(g=e(O).id)&&(D.value=(D.__value=e(O).id)??"")}),v(M,D)});var de=a(Ie,2),le=a(t(de),2),we=a(de,2),se=t(we);se.__click=()=>s(f,!1),E(()=>o(je,`Assign Member to ${e(T).name??""}`)),ve("submit",Te,M=>{M.preventDefault(),et(e(T).id)}),At(Ne,()=>e(P).employee_id,M=>e(P).employee_id=M),Ze(le,()=>e(P).role,M=>e(P).role=M),v(ye,b)};w(St,ye=>{e(f)&&e(T)&&ye(ft)})}var pt=a(St,2);{var bt=ye=>{var b=S_();b.__click=M=>{M.target.classList.contains("modal")&&s(x,!1)};var S=t(b),ee=t(S),me=a(t(ee),2);me.__click=()=>s(x,!1);var je=a(ee,2),qe=t(je),Te=a(t(qe),2),Ie=t(Te);Ie.value=Ie.__value="";var Ne=a(Ie);ht(Ne,17,()=>e(m),yt,(M,O)=>{var D=$_(),L=t(D),g={};E(()=>{o(L,`${e(O).first_name??""} ${e(O).last_name??""} - ${e(O).position??""}`),g!==(g=e(O).id)&&(D.value=(D.__value=e(O).id)??"")}),v(M,D)});var He=a(qe,2),oe=a(t(He),2),de=t(oe);de.value=de.__value="";var le=a(de);ht(le,17,()=>e(d),yt,(M,O)=>{var D=E_(),L=t(D),g={};E(()=>{o(L,`${e(O).first_name??""} ${e(O).last_name??""} - ${e(O).position??""}`),g!==(g=e(O).id)&&(D.value=(D.__value=e(O).id)??"")}),v(M,D)});var we=a(He,2),se=t(we);se.__click=()=>s(x,!1),ve("submit",je,M=>{M.preventDefault(),Ge()}),At(Te,()=>e(A).employee_id,M=>e(A).employee_id=M),At(oe,()=>e(A).manager_id,M=>e(A).manager_id=M),v(ye,b)};w(pt,ye=>{e(x)&&ye(bt)})}E(()=>{ut=tt(Be,1,"tab-btn svelte-1b8iquk",null,ut,{active:e(u)==="projects"}),o(Q,` Projects (${e(c).length??""})`),Ke=tt(Oe,1,"tab-btn svelte-1b8iquk",null,Ke,{active:e(u)==="assignments"})}),v(l,zt),Vt()}ba(["click","change"]);var q_=p('<button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg> <span class="svelte-1n46o8q">HR Dashboard</span></button>'),C_=p('<button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="9"></line><line x1="9" y1="15" x2="15" y2="15"></line></svg> <span class="svelte-1n46o8q">Manager Dashboard</span></button>'),A_=p('<button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg> <span class="svelte-1n46o8q">Users</span></button>'),D_=p('<div class="app-container svelte-1n46o8q"><aside class="sidebar svelte-1n46o8q"><div class="logo svelte-1n46o8q"><div class="logo-icon svelte-1n46o8q"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg></div> <span class="logo-text svelte-1n46o8q">CoCom PeopleHub</span></div> <nav class="nav svelte-1n46o8q"><!> <!> <button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <span class="svelte-1n46o8q">Employee Dashboard</span></button> <!></nav> <button class="logout-btn svelte-1n46o8q"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> <span>Logout</span></button></aside> <div class="content svelte-1n46o8q"><!></div></div>'),P_=p('<main class="app svelte-1n46o8q"><!></main>');function T_(l,r){Jt(r,!0);const i=()=>da(aa,"$authStore",c),[c,m]=ca();let d=Qe("dashboard"),y=Qe(""),u=Qe(!1),_=Qe(null);ea(()=>{const A=localStorage.getItem("token"),ce=localStorage.getItem("user"),J=localStorage.getItem("employee");if(A&&ce){const re=JSON.parse(ce),et=J?JSON.parse(J):null;if(aa.set({token:A,user:re,employee:et,isAuthenticated:!0}),et&&et.status==="Onboarding"){s(d,"onboarding");return}re.role==="admin"||re.role==="hr-manager"?s(d,"hr-dashboard"):re.role==="manager"?s(d,"manager-dashboard"):s(d,"employee-dashboard")}}),Ta(()=>aa.subscribe(ce=>{s(u,ce.isAuthenticated,!0),s(_,ce.user?.role||null,!0),e(u)&&ce.user&&(ce.user.role==="hr-manager"||ce.user.role==="admin"?e(d)==="dashboard"&&s(d,"hr-dashboard"):ce.user.role==="manager"?e(d)==="dashboard"&&s(d,"manager-dashboard"):e(d)==="dashboard"&&s(d,"employee-dashboard"))}));function f(A,ce){if(i().employee?.status==="onboarding"&&A!=="onboarding"){console.log("Cannot navigate: Employee must complete onboarding first");return}s(d,A,!0),ce&&s(y,ce,!0)}function x(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("employee"),aa.set({token:null,user:null,employee:null,isAuthenticated:!1}),s(d,"dashboard")}function T(A){s(y,A,!0),s(d,"workflow-detail")}var B={navigateToWorkflowDetail:T},k=P_(),N=t(k);{var j=A=>{qo(A,{})},$=A=>{var ce=D_(),J=t(ce),re=a(t(J),2),et=t(re);{var Ge=Xe=>{var it=q_();let xt;it.__click=()=>f("hr-dashboard"),E(()=>xt=tt(it,1,"nav-item svelte-1n46o8q",null,xt,{active:e(d)==="hr-dashboard"})),v(Xe,it)};w(et,Xe=>{(e(_)==="hr-manager"||e(_)==="admin")&&Xe(Ge)})}var mt=a(et,2);{var wt=Xe=>{var it=C_();let xt;it.__click=()=>f("manager-dashboard"),E(()=>xt=tt(it,1,"nav-item svelte-1n46o8q",null,xt,{active:e(d)==="manager-dashboard"})),v(Xe,it)};w(mt,Xe=>{(e(_)==="manager"||e(_)==="admin")&&Xe(wt)})}var Le=a(mt,2);let vt;Le.__click=()=>f("employee-dashboard");var Ue=a(Le,2);{var _e=Xe=>{var it=A_();let xt;it.__click=()=>f("users"),E(()=>xt=tt(it,1,"nav-item svelte-1n46o8q",null,xt,{active:e(d)==="users"})),v(Xe,it)};w(Ue,Xe=>{e(_)==="admin"&&Xe(_e)})}var nt=a(re,2);nt.__click=x;var dt=a(J,2),zt=t(dt);{var Ve=Xe=>{Ao(Xe,{})},Pe=Xe=>{var it=Ct(),xt=lt(it);{var qt=Be=>{Ro(Be,{})},at=Be=>{var ut=Ct(),Q=lt(ut);{var Oe=rt=>{Ho(rt,{navigate:f})},Ke=rt=>{var ot=Ct(),kt=lt(ot);{var Fe=_t=>{an(_t,{navigate:f})},Ye=_t=>{var St=Ct(),ft=lt(St);{var pt=ye=>{tr(ye,{navigate:f})},bt=ye=>{var b=Ct(),S=lt(b);{var ee=je=>{uu(je,{navigate:f})},me=je=>{var qe=Ct(),Te=lt(qe);{var Ie=He=>{tp(He,{navigate:f})},Ne=He=>{var oe=Ct(),de=lt(oe);{var le=se=>{ar(se,{})},we=se=>{var M=Ct(),O=lt(M);{var D=g=>{Pn(g,{get id(){return e(y)},navigate:f})},L=g=>{var z=Ct(),h=lt(z);{var C=R=>{Kn(R,{})},I=R=>{var V=Ct(),K=lt(V);{var ie=Y=>{gv(Y,{})},H=Y=>{var W=Ct(),U=lt(W);{var te=fe=>{Kv(fe,{})},pe=fe=>{var G=Ct(),he=lt(G);{var ze=De=>{Bd(De,{})},Ee=De=>{var xe=Ct(),q=lt(xe);{var F=X=>{j_(X,{navigate:f})},ae=X=>{var ne=Ct(),Re=lt(ne);{var $e=ge=>{l_(ge,{})},ue=ge=>{var We=Ct(),Se=lt(We);{var Ce=ke=>{tr(ke,{navigate:f})},ct=ke=>{var Me=Ct(),Ae=lt(Me);{var be=gt=>{ar(gt,{})};w(Ae,gt=>{e(d)==="users"&&gt(be)},!0)}v(ke,Me)};w(Se,ke=>{e(d)==="hr-dashboard"?ke(Ce):ke(ct,!1)},!0)}v(ge,We)};w(Re,ge=>{e(d)==="recruiting"?ge($e):ge(ue,!1)},!0)}v(X,ne)};w(q,X=>{e(d)==="projects"?X(F):X(ae,!1)},!0)}v(De,xe)};w(he,De=>{e(d)==="payroll"?De(ze):De(Ee,!1)},!0)}v(fe,G)};w(U,fe=>{e(d)==="benefits"?fe(te):fe(pe,!1)},!0)}v(Y,W)};w(K,Y=>{e(d)==="pto"?Y(ie):Y(H,!1)},!0)}v(R,V)};w(h,R=>{e(d)==="timesheet"?R(C):R(I,!1)},!0)}v(g,z)};w(O,g=>{e(d)==="workflow-detail"?g(D):g(L,!1)},!0)}v(se,M)};w(de,se=>{e(d)==="users"?se(le):se(we,!1)},!0)}v(He,oe)};w(Te,He=>{e(d)==="employee-dashboard"?He(Ie):He(Ne,!1)},!0)}v(je,qe)};w(S,je=>{e(d)==="manager-dashboard"?je(ee):je(me,!1)},!0)}v(ye,b)};w(ft,ye=>{e(d)==="hr-dashboard"?ye(pt):ye(bt,!1)},!0)}v(_t,St)};w(kt,_t=>{e(d)==="workflows"?_t(Fe):_t(Ye,!1)},!0)}v(rt,ot)};w(Q,rt=>{e(d)==="onboarding"?rt(Oe):rt(Ke,!1)},!0)}v(Be,ut)};w(xt,Be=>{e(d)==="employees"?Be(qt):Be(at,!1)},!0)}v(Xe,it)};w(zt,Xe=>{e(d)==="dashboard"?Xe(Ve):Xe(Pe,!1)})}E(()=>vt=tt(Le,1,"nav-item svelte-1n46o8q",null,vt,{active:e(d)==="employee-dashboard"})),v(A,ce)};w(N,A=>{e(u)?A($,!1):A(j)})}v(l,k);var P=Vt(B);return m(),P}ba(["click"]);ro(T_,{target:document.getElementById("app")});
