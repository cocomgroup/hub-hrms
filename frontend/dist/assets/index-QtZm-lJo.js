var sv=Object.defineProperty;var Nr=i=>{throw TypeError(i)};var lv=(i,o,n)=>o in i?sv(i,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[o]=n;var ts=(i,o,n)=>lv(i,typeof o!="symbol"?o+"":o,n),nr=(i,o,n)=>o.has(i)||Nr("Cannot "+n);var jt=(i,o,n)=>(nr(i,o,"read from private field"),n?n.call(i):o.get(i)),ra=(i,o,n)=>o.has(i)?Nr("Cannot add the same private member more than once"):o instanceof WeakSet?o.add(i):o.set(i,n),la=(i,o,n,m)=>(nr(i,o,"write to private field"),m?m.call(i,n):o.set(i,n),n),Sa=(i,o,n)=>(nr(i,o,"access private method"),n);(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))m(h);new MutationObserver(h=>{for(const c of h)if(c.type==="childList")for(const g of c.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&m(g)}).observe(document,{childList:!0,subtree:!0});function n(h){const c={};return h.integrity&&(c.integrity=h.integrity),h.referrerPolicy&&(c.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?c.credentials="include":h.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function m(h){if(h.ep)return;h.ep=!0;const c=n(h);fetch(h.href,c)}})();const pr=!1;var Pl=Array.isArray,rv=Array.prototype.indexOf,tr=Array.from,ri=Object.defineProperty,rl=Object.getOwnPropertyDescriptor,ii=Object.getOwnPropertyDescriptors,iv=Object.prototype,vv=Array.prototype,Sr=Object.getPrototypeOf,Ur=Object.isExtensible;const Ds=()=>{};function ov(i){return i()}function Jl(i){for(var o=0;o<i.length;o++)i[o]()}function vi(){var i,o,n=new Promise((m,h)=>{i=m,o=h});return{promise:n,resolve:i,reject:o}}function Ar(i,o){if(Array.isArray(i))return i;if(!(Symbol.iterator in i))return Array.from(i);const n=[];for(const m of i)if(n.push(m),n.length===o)break;return n}const Da=2,Vl=4,Tl=8,oi=1<<24,ks=16,$s=32,Zs=64,Er=128,Za=512,Ca=1024,Ma=2048,ps=4096,Ha=8192,gs=16384,Cr=32768,ul=65536,Wr=1<<17,ni=1<<18,bl=1<<19,di=1<<20,ms=1<<25,Ys=32768,_r=1<<21,Dr=1<<22,zs=1<<23,Ps=Symbol("$state"),nv=Symbol("legacy props"),dv=Symbol(""),ll=new class extends Error{constructor(){super(...arguments);ts(this,"name","StaleReactionError");ts(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function ci(i){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function cv(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function uv(i){throw new Error("https://svelte.dev/e/effect_in_teardown")}function pv(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function _v(i){throw new Error("https://svelte.dev/e/effect_orphan")}function fv(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bv(i){throw new Error("https://svelte.dev/e/props_invalid_value")}function mv(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function hv(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function yv(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function gv(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const xv=1,wv=2,ui=4,kv=8,$v=16,jv=2,Sv=4,Av=8,pi=1,Ev=2,Aa=Symbol(),Cv="http://www.w3.org/1999/xhtml";function Dv(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function zv(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function _i(i){return i===this.v}function fi(i,o){return i!=i?o==o:i!==o||i!==null&&typeof i=="object"||typeof i=="function"}function bi(i){return!fi(i,this.v)}let ml=!1,Pv=!1;function Tv(){ml=!0}let pa=null;function pl(i){pa=i}function Xt(i,o=!1,n){pa={p:pa,i:!1,c:null,e:null,s:i,x:null,l:ml&&!o?{s:null,u:null,$:[]}:null}}function Zt(i){var o=pa,n=o.e;if(n!==null){o.e=null;for(var m of n)Bi(m)}return i!==void 0&&(o.x=i),o.i=!0,pa=o.p,i??{}}function ql(){return!ml||pa!==null&&pa.l===null}let Rs=[];function mi(){var i=Rs;Rs=[],Jl(i)}function Gs(i){if(Rs.length===0&&!$l){var o=Rs;queueMicrotask(()=>{o===Rs&&mi()})}Rs.push(i)}function qv(){for(;Rs.length>0;)mi()}function hi(i){var o=ia;if(o===null)return ta.f|=zs,i;if((o.f&Cr)===0){if((o.f&Er)===0)throw i;o.b.error(i)}else _l(i,o)}function _l(i,o){for(;o!==null;){if((o.f&Er)!==0)try{o.b.error(i);return}catch(n){i=n}o=o.parent}throw i}const Mv=-7169;function wa(i,o){i.f=i.f&Mv|o}function zr(i){(i.f&Za)!==0||i.deps===null?wa(i,Ca):wa(i,ps)}function yi(i){if(i!==null)for(const o of i)(o.f&Da)===0||(o.f&Ys)===0||(o.f^=Ys,yi(o.deps))}function gi(i,o,n){(i.f&Ma)!==0?o.add(i):(i.f&ps)!==0&&n.add(i),yi(i.deps),wa(i,Ca)}const Ol=new Set;let ea=null,kl=null,Ea=null,Qa=[],ar=null,fr=!1,$l=!1;var il,vl,Fs,Ls,Cl,ol,nl,es,br,mr,xi,wi;const Xl=class Xl{constructor(){ra(this,es);ts(this,"committed",!1);ts(this,"current",new Map);ts(this,"previous",new Map);ra(this,il,new Set);ra(this,vl,new Set);ra(this,Fs,0);ra(this,Ls,0);ra(this,Cl,null);ra(this,ol,new Set);ra(this,nl,new Set);ts(this,"skipped_effects",new Set);ts(this,"is_fork",!1)}is_deferred(){return this.is_fork||jt(this,Ls)>0}process(o){var h;Qa=[],kl=null,this.apply();var n=[],m=[];for(const c of o)Sa(this,es,br).call(this,c,n,m);this.is_fork||Sa(this,es,xi).call(this),this.is_deferred()?(Sa(this,es,mr).call(this,m),Sa(this,es,mr).call(this,n)):(kl=this,ea=null,Hr(m),Hr(n),kl=null,(h=jt(this,Cl))==null||h.resolve()),Ea=null}capture(o,n){n!==Aa&&!this.previous.has(o)&&this.previous.set(o,n),(o.f&zs)===0&&(this.current.set(o,o.v),Ea==null||Ea.set(o,o.v))}activate(){ea=this,this.apply()}deactivate(){ea===this&&(ea=null,Ea=null)}flush(){if(this.activate(),Qa.length>0){if(ki(),ea!==null&&ea!==this)return}else jt(this,Fs)===0&&this.process([]);this.deactivate()}discard(){for(const o of jt(this,vl))o(this);jt(this,vl).clear()}increment(o){la(this,Fs,jt(this,Fs)+1),o&&la(this,Ls,jt(this,Ls)+1)}decrement(o){la(this,Fs,jt(this,Fs)-1),o&&la(this,Ls,jt(this,Ls)-1),this.revive()}revive(){for(const o of jt(this,ol))jt(this,nl).delete(o),wa(o,Ma),ws(o);for(const o of jt(this,nl))wa(o,ps),ws(o);this.flush()}oncommit(o){jt(this,il).add(o)}ondiscard(o){jt(this,vl).add(o)}settled(){return(jt(this,Cl)??la(this,Cl,vi())).promise}static ensure(){if(ea===null){const o=ea=new Xl;Ol.add(ea),$l||Xl.enqueue(()=>{ea===o&&o.flush()})}return ea}static enqueue(o){Gs(o)}apply(){}};il=new WeakMap,vl=new WeakMap,Fs=new WeakMap,Ls=new WeakMap,Cl=new WeakMap,ol=new WeakMap,nl=new WeakMap,es=new WeakSet,br=function(o,n,m){o.f^=Ca;for(var h=o.first,c=null;h!==null;){var g=h.f,_=(g&($s|Zs))!==0,p=_&&(g&Ca)!==0,u=p||(g&Ha)!==0||this.skipped_effects.has(h);if(!u&&h.fn!==null){_?h.f^=Ca:c!==null&&(g&(Vl|Tl|oi))!==0?c.b.defer_effect(h):(g&Vl)!==0?n.push(h):yl(h)&&((g&ks)!==0&&jt(this,ol).add(h),fl(h));var S=h.first;if(S!==null){h=S;continue}}var C=h.parent;for(h=h.next;h===null&&C!==null;)C===c&&(c=null),h=C.next,C=C.parent}},mr=function(o){for(var n=0;n<o.length;n+=1)gi(o[n],jt(this,ol),jt(this,nl))},xi=function(){if(jt(this,Ls)===0){for(const o of jt(this,il))o();jt(this,il).clear()}jt(this,Fs)===0&&Sa(this,es,wi).call(this)},wi=function(){var h;if(Ol.size>1){this.previous.clear();var o=Ea,n=!0;for(const c of Ol){if(c===this){n=!1;continue}const g=[];for(const[p,u]of this.current){if(c.current.has(p))if(n&&u!==c.current.get(p))c.current.set(p,u);else continue;g.push(p)}if(g.length===0)continue;const _=[...c.current.keys()].filter(p=>!this.current.has(p));if(_.length>0){var m=Qa;Qa=[];const p=new Set,u=new Map;for(const S of g)$i(S,_,p,u);if(Qa.length>0){ea=c,c.apply();for(const S of Qa)Sa(h=c,es,br).call(h,S,[],[]);c.deactivate()}Qa=m}}ea=null,Ea=o}this.committed=!0,Ol.delete(this)};let hs=Xl;function Bv(i){var o=$l;$l=!0;try{for(var n;;){if(qv(),Qa.length===0&&(ea==null||ea.flush(),Qa.length===0))return ar=null,n;ki()}}finally{$l=o}}function ki(){var i=Js;fr=!0;var o=null;try{var n=0;for(Gl(!0);Qa.length>0;){var m=hs.ensure();if(n++>1e3){var h,c;Iv()}m.process(Qa),Ts.clear()}}finally{fr=!1,Gl(i),ar=null}}function Iv(){try{fv()}catch(i){_l(i,ar)}}let as=null;function Hr(i){var o=i.length;if(o!==0){for(var n=0;n<o;){var m=i[n++];if((m.f&(gs|Ha))===0&&yl(m)&&(as=new Set,fl(m),m.deps===null&&m.first===null&&m.nodes===null&&(m.teardown===null&&m.ac===null?Li(m):m.fn=null),(as==null?void 0:as.size)>0)){Ts.clear();for(const h of as){if((h.f&(gs|Ha))!==0)continue;const c=[h];let g=h.parent;for(;g!==null;)as.has(g)&&(as.delete(g),c.push(g)),g=g.parent;for(let _=c.length-1;_>=0;_--){const p=c[_];(p.f&(gs|Ha))===0&&fl(p)}}as.clear()}}as=null}}function $i(i,o,n,m){if(!n.has(i)&&(n.add(i),i.reactions!==null))for(const h of i.reactions){const c=h.f;(c&Da)!==0?$i(h,o,n,m):(c&(Dr|ks))!==0&&(c&Ma)===0&&ji(h,o,m)&&(wa(h,Ma),ws(h))}}function ji(i,o,n){const m=n.get(i);if(m!==void 0)return m;if(i.deps!==null)for(const h of i.deps){if(o.includes(h))return!0;if((h.f&Da)!==0&&ji(h,o,n))return n.set(h,!0),!0}return n.set(i,!1),!1}function ws(i){for(var o=ar=i;o.parent!==null;){o=o.parent;var n=o.f;if(fr&&o===ia&&(n&ks)!==0&&(n&ni)===0)return;if((n&(Zs|$s))!==0){if((n&Ca)===0)return;o.f^=Ca}}Qa.push(o)}function Rv(i){let o=0,n=Ks(0),m;return()=>{Tr()&&(e(n),hl(()=>(o===0&&(m=r(()=>i(()=>jl(n)))),o+=1,()=>{Gs(()=>{o-=1,o===0&&(m==null||m(),m=void 0,jl(n))})})))}}var Fv=ul|bl|Er;function Lv(i,o,n){new Ov(i,o,n)}var Ga,jr,vs,Os,os,Ka,Ia,ns,bs,As,Ns,Es,Us,dl,cl,Cs,Zl,ka,Nv,Uv,hr,Wl,Hl,yr;class Ov{constructor(o,n,m){ra(this,ka);ts(this,"parent");ts(this,"is_pending",!1);ra(this,Ga);ra(this,jr,null);ra(this,vs);ra(this,Os);ra(this,os);ra(this,Ka,null);ra(this,Ia,null);ra(this,ns,null);ra(this,bs,null);ra(this,As,null);ra(this,Ns,0);ra(this,Es,0);ra(this,Us,!1);ra(this,dl,new Set);ra(this,cl,new Set);ra(this,Cs,null);ra(this,Zl,Rv(()=>(la(this,Cs,Ks(jt(this,Ns))),()=>{la(this,Cs,null)})));la(this,Ga,o),la(this,vs,n),la(this,Os,m),this.parent=ia.b,this.is_pending=!!jt(this,vs).pending,la(this,os,qr(()=>{ia.b=this;{var h=Sa(this,ka,hr).call(this);try{la(this,Ka,Xa(()=>m(h)))}catch(c){this.error(c)}jt(this,Es)>0?Sa(this,ka,Hl).call(this):this.is_pending=!1}return()=>{var c;(c=jt(this,As))==null||c.remove()}},Fv))}defer_effect(o){gi(o,jt(this,dl),jt(this,cl))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!jt(this,vs).pending}update_pending_count(o){Sa(this,ka,yr).call(this,o),la(this,Ns,jt(this,Ns)+o),jt(this,Cs)&&Qs(jt(this,Cs),jt(this,Ns))}get_effect_pending(){return jt(this,Zl).call(this),e(jt(this,Cs))}error(o){var n=jt(this,vs).onerror;let m=jt(this,vs).failed;if(jt(this,Us)||!n&&!m)throw o;jt(this,Ka)&&(Fa(jt(this,Ka)),la(this,Ka,null)),jt(this,Ia)&&(Fa(jt(this,Ia)),la(this,Ia,null)),jt(this,ns)&&(Fa(jt(this,ns)),la(this,ns,null));var h=!1,c=!1;const g=()=>{if(h){zv();return}h=!0,c&&gv(),hs.ensure(),la(this,Ns,0),jt(this,ns)!==null&&Hs(jt(this,ns),()=>{la(this,ns,null)}),this.is_pending=this.has_pending_snippet(),la(this,Ka,Sa(this,ka,Wl).call(this,()=>(la(this,Us,!1),Xa(()=>jt(this,Os).call(this,jt(this,Ga)))))),jt(this,Es)>0?Sa(this,ka,Hl).call(this):this.is_pending=!1};var _=ta;try{Ra(null),c=!0,n==null||n(o,g),c=!1}catch(p){_l(p,jt(this,os)&&jt(this,os).parent)}finally{Ra(_)}m&&Gs(()=>{la(this,ns,Sa(this,ka,Wl).call(this,()=>{hs.ensure(),la(this,Us,!0);try{return Xa(()=>{m(jt(this,Ga),()=>o,()=>g)})}catch(p){return _l(p,jt(this,os).parent),null}finally{la(this,Us,!1)}}))})}}Ga=new WeakMap,jr=new WeakMap,vs=new WeakMap,Os=new WeakMap,os=new WeakMap,Ka=new WeakMap,Ia=new WeakMap,ns=new WeakMap,bs=new WeakMap,As=new WeakMap,Ns=new WeakMap,Es=new WeakMap,Us=new WeakMap,dl=new WeakMap,cl=new WeakMap,Cs=new WeakMap,Zl=new WeakMap,ka=new WeakSet,Nv=function(){try{la(this,Ka,Xa(()=>jt(this,Os).call(this,jt(this,Ga))))}catch(o){this.error(o)}},Uv=function(){const o=jt(this,vs).pending;o&&(la(this,Ia,Xa(()=>o(jt(this,Ga)))),hs.enqueue(()=>{var n=Sa(this,ka,hr).call(this);la(this,Ka,Sa(this,ka,Wl).call(this,()=>(hs.ensure(),Xa(()=>jt(this,Os).call(this,n))))),jt(this,Es)>0?Sa(this,ka,Hl).call(this):(Hs(jt(this,Ia),()=>{la(this,Ia,null)}),this.is_pending=!1)}))},hr=function(){var o=jt(this,Ga);return this.is_pending&&(la(this,As,xs()),jt(this,Ga).before(jt(this,As)),o=jt(this,As)),o},Wl=function(o){var n=ia,m=ta,h=pa;us(jt(this,os)),Ra(jt(this,os)),pl(jt(this,os).ctx);try{return o()}catch(c){return hi(c),null}finally{us(n),Ra(m),pl(h)}},Hl=function(){const o=jt(this,vs).pending;jt(this,Ka)!==null&&(la(this,bs,document.createDocumentFragment()),jt(this,bs).append(jt(this,As)),Ui(jt(this,Ka),jt(this,bs))),jt(this,Ia)===null&&la(this,Ia,Xa(()=>o(jt(this,Ga))))},yr=function(o){var n;if(!this.has_pending_snippet()){this.parent&&Sa(n=this.parent,ka,yr).call(n,o);return}if(la(this,Es,jt(this,Es)+o),jt(this,Es)===0){this.is_pending=!1;for(const m of jt(this,dl))wa(m,Ma),ws(m);for(const m of jt(this,cl))wa(m,ps),ws(m);jt(this,dl).clear(),jt(this,cl).clear(),jt(this,Ia)&&Hs(jt(this,Ia),()=>{la(this,Ia,null)}),jt(this,bs)&&(jt(this,Ga).before(jt(this,bs)),la(this,bs,null))}};function Wv(i,o,n,m){const h=ql()?sr:is;if(n.length===0&&i.length===0){m(o.map(h));return}var c=ea,g=ia,_=Hv();function p(){Promise.all(n.map(u=>Jv(u))).then(u=>{_();try{m([...o.map(h),...u])}catch(S){(g.f&gs)===0&&_l(S,g)}c==null||c.deactivate(),Yl()}).catch(u=>{_l(u,g)})}i.length>0?Promise.all(i).then(()=>{_();try{return p()}finally{c==null||c.deactivate(),Yl()}}):p()}function Hv(){var i=ia,o=ta,n=pa,m=ea;return function(c=!0){us(i),Ra(o),pl(n),c&&(m==null||m.activate())}}function Yl(){us(null),Ra(null),pl(null)}function sr(i){var o=Da|Ma,n=ta!==null&&(ta.f&Da)!==0?ta:null;return ia!==null&&(ia.f|=bl),{ctx:pa,deps:null,effects:null,equals:_i,f:o,fn:i,reactions:null,rv:0,v:Aa,wv:0,parent:n??ia,ac:null}}function Jv(i,o,n){let m=ia;m===null&&cv();var h=m.b,c=void 0,g=Ks(Aa),_=!ta,p=new Map;return ao(()=>{var E;var u=vi();c=u.promise;try{Promise.resolve(i()).then(u.resolve,u.reject).then(()=>{S===ea&&S.committed&&S.deactivate(),Yl()})}catch(T){u.reject(T),Yl()}var S=ea;if(_){var C=h.is_rendered();h.update_pending_count(1),S.increment(C),(E=p.get(S))==null||E.reject(ll),p.delete(S),p.set(S,u)}const le=(T,L=void 0)=>{if(S.activate(),L)L!==ll&&(g.f|=zs,Qs(g,L));else{(g.f&zs)!==0&&(g.f^=zs),Qs(g,T);for(const[z,P]of p){if(p.delete(z),z===S)break;P.reject(ll)}}_&&(h.update_pending_count(-1),S.decrement(C))};u.promise.then(le,T=>le(null,T||"unknown"))}),Bl(()=>{for(const u of p.values())u.reject(ll)}),new Promise(u=>{function S(C){function le(){C===c?u(g):S(c)}C.then(le,le)}S(c)})}function va(i){const o=sr(i);return Wi(o),o}function is(i){const o=sr(i);return o.equals=bi,o}function Si(i){var o=i.effects;if(o!==null){i.effects=null;for(var n=0;n<o.length;n+=1)Fa(o[n])}}function Vv(i){for(var o=i.parent;o!==null;){if((o.f&Da)===0)return(o.f&gs)===0?o:null;o=o.parent}return null}function Pr(i){var o,n=ia;us(Vv(i));try{i.f&=~Ys,Si(i),o=Yi(i)}finally{us(n)}return o}function Ai(i){var o=Pr(i);if(!i.equals(o)&&(i.wv=Ji(),(!(ea!=null&&ea.is_fork)||i.deps===null)&&(i.v=o,i.deps===null))){wa(i,Ca);return}Ms||(Ea!==null?(Tr()||ea!=null&&ea.is_fork)&&Ea.set(i,o):zr(i))}let gr=new Set;const Ts=new Map;let Ei=!1;function Ks(i,o){var n={f:0,v:i,reactions:null,equals:_i,rv:0,wv:0};return n}function mt(i,o){const n=Ks(i);return Wi(n),n}function Y(i,o=!1,n=!0){var h;const m=Ks(i);return o||(m.equals=bi),ml&&n&&pa!==null&&pa.l!==null&&((h=pa.l).s??(h.s=[])).push(m),m}function gt(i,o){return s(i,r(()=>e(i))),o}function s(i,o,n=!1){ta!==null&&(!rs||(ta.f&Wr)!==0)&&ql()&&(ta.f&(Da|ks|Dr|Wr))!==0&&!(qa!=null&&qa.includes(i))&&yv();let m=n?Kt(o):o;return Qs(i,m)}function Qs(i,o){if(!i.equals(o)){var n=i.v;Ms?Ts.set(i,o):Ts.set(i,n),i.v=o;var m=hs.ensure();if(m.capture(i,n),(i.f&Da)!==0){const h=i;(i.f&Ma)!==0&&Pr(h),zr(h)}i.wv=Ji(),Ci(i,Ma),ql()&&ia!==null&&(ia.f&Ca)!==0&&(ia.f&($s|Zs))===0&&(Ya===null?ro([i]):Ya.push(i)),!m.is_fork&&gr.size>0&&!Ei&&Yv()}return o}function Yv(){Ei=!1;var i=Js;Gl(!0);const o=Array.from(gr);try{for(const n of o)(n.f&Ca)!==0&&wa(n,ps),yl(n)&&fl(n)}finally{Gl(i)}gr.clear()}function Jr(i,o=1){var n=e(i),m=o===1?n++:n--;return s(i,n),m}function jl(i){s(i,i.v+1)}function Ci(i,o){var n=i.reactions;if(n!==null)for(var m=ql(),h=n.length,c=0;c<h;c++){var g=n[c],_=g.f;if(!(!m&&g===ia)){var p=(_&Ma)===0;if(p&&wa(g,o),(_&Da)!==0){var u=g;Ea==null||Ea.delete(u),(_&Ys)===0&&(_&Za&&(g.f|=Ys),Ci(u,ps))}else p&&((_&ks)!==0&&as!==null&&as.add(g),ws(g))}}}function Kt(i){if(typeof i!="object"||i===null||Ps in i)return i;const o=Sr(i);if(o!==iv&&o!==vv)return i;var n=new Map,m=Pl(i),h=mt(0),c=Vs,g=_=>{if(Vs===c)return _();var p=ta,u=Vs;Ra(null),Qr(c);var S=_();return Ra(p),Qr(u),S};return m&&n.set("length",mt(i.length)),new Proxy(i,{defineProperty(_,p,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&mv();var S=n.get(p);return S===void 0?S=g(()=>{var C=mt(u.value);return n.set(p,C),C}):s(S,u.value,!0),!0},deleteProperty(_,p){var u=n.get(p);if(u===void 0){if(p in _){const S=g(()=>mt(Aa));n.set(p,S),jl(h)}}else s(u,Aa),jl(h);return!0},get(_,p,u){var E;if(p===Ps)return i;var S=n.get(p),C=p in _;if(S===void 0&&(!C||(E=rl(_,p))!=null&&E.writable)&&(S=g(()=>{var T=Kt(C?_[p]:Aa),L=mt(T);return L}),n.set(p,S)),S!==void 0){var le=e(S);return le===Aa?void 0:le}return Reflect.get(_,p,u)},getOwnPropertyDescriptor(_,p){var u=Reflect.getOwnPropertyDescriptor(_,p);if(u&&"value"in u){var S=n.get(p);S&&(u.value=e(S))}else if(u===void 0){var C=n.get(p),le=C==null?void 0:C.v;if(C!==void 0&&le!==Aa)return{enumerable:!0,configurable:!0,value:le,writable:!0}}return u},has(_,p){var le;if(p===Ps)return!0;var u=n.get(p),S=u!==void 0&&u.v!==Aa||Reflect.has(_,p);if(u!==void 0||ia!==null&&(!S||(le=rl(_,p))!=null&&le.writable)){u===void 0&&(u=g(()=>{var E=S?Kt(_[p]):Aa,T=mt(E);return T}),n.set(p,u));var C=e(u);if(C===Aa)return!1}return S},set(_,p,u,S){var me;var C=n.get(p),le=p in _;if(m&&p==="length")for(var E=u;E<C.v;E+=1){var T=n.get(E+"");T!==void 0?s(T,Aa):E in _&&(T=g(()=>mt(Aa)),n.set(E+"",T))}if(C===void 0)(!le||(me=rl(_,p))!=null&&me.writable)&&(C=g(()=>mt(void 0)),s(C,Kt(u)),n.set(p,C));else{le=C.v!==Aa;var L=g(()=>Kt(u));s(C,L)}var z=Reflect.getOwnPropertyDescriptor(_,p);if(z!=null&&z.set&&z.set.call(S,u),!le){if(m&&typeof p=="string"){var P=n.get("length"),R=Number(p);Number.isInteger(R)&&R>=P.v&&s(P,R+1)}jl(h)}return!0},ownKeys(_){e(h);var p=Reflect.ownKeys(_).filter(C=>{var le=n.get(C);return le===void 0||le.v!==Aa});for(var[u,S]of n)S.v!==Aa&&!(u in _)&&p.push(u);return p},setPrototypeOf(){hv()}})}function Vr(i){try{if(i!==null&&typeof i=="object"&&Ps in i)return i[Ps]}catch{}return i}function Di(i,o){return Object.is(Vr(i),Vr(o))}var Yr,zi,Pi,Ti;function Gv(){if(Yr===void 0){Yr=window,zi=/Firefox/.test(navigator.userAgent);var i=Element.prototype,o=Node.prototype,n=Text.prototype;Pi=rl(o,"firstChild").get,Ti=rl(o,"nextSibling").get,Ur(i)&&(i.__click=void 0,i.__className=void 0,i.__attributes=null,i.__style=void 0,i.__e=void 0),Ur(n)&&(n.__t=void 0)}}function xs(i=""){return document.createTextNode(i)}function Wa(i){return Pi.call(i)}function Ml(i){return Ti.call(i)}function t(i,o){return Wa(i)}function nt(i,o=!1){{var n=Wa(i);return n instanceof Comment&&n.data===""?Ml(n):n}}function a(i,o=1,n=!1){let m=i;for(;o--;)m=Ml(m);return m}function Kv(i){i.textContent=""}function qi(){return!1}let Gr=!1;function Qv(){Gr||(Gr=!0,document.addEventListener("reset",i=>{Promise.resolve().then(()=>{var o;if(!i.defaultPrevented)for(const n of i.target.elements)(o=n.__on_r)==null||o.call(n)})},{capture:!0}))}function lr(i){var o=ta,n=ia;Ra(null),us(null);try{return i()}finally{Ra(o),us(n)}}function rr(i,o,n,m=n){i.addEventListener(o,()=>lr(n));const h=i.__on_r;h?i.__on_r=()=>{h(),m(!0)}:i.__on_r=()=>m(!0),Qv()}function Mi(i){ia===null&&(ta===null&&_v(),pv()),Ms&&uv()}function Xv(i,o){var n=o.last;n===null?o.last=o.first=i:(n.next=i,i.prev=n,o.last=i)}function _s(i,o,n){var m=ia;m!==null&&(m.f&Ha)!==0&&(i|=Ha);var h={ctx:pa,deps:null,nodes:null,f:i|Ma|Za,first:null,fn:o,last:null,next:null,parent:m,b:m&&m.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{fl(h),h.f|=Cr}catch(_){throw Fa(h),_}else o!==null&&ws(h);var c=h;if(n&&c.deps===null&&c.teardown===null&&c.nodes===null&&c.first===c.last&&(c.f&bl)===0&&(c=c.first,(i&ks)!==0&&(i&ul)!==0&&c!==null&&(c.f|=ul)),c!==null&&(c.parent=m,m!==null&&Xv(c,m),ta!==null&&(ta.f&Da)!==0&&(i&Zs)===0)){var g=ta;(g.effects??(g.effects=[])).push(c)}return h}function Tr(){return ta!==null&&!rs}function Bl(i){const o=_s(Tl,null,!1);return wa(o,Ca),o.teardown=i,o}function cs(i){Mi();var o=ia.f,n=!ta&&(o&$s)!==0&&(o&Cr)===0;if(n){var m=pa;(m.e??(m.e=[])).push(i)}else return Bi(i)}function Bi(i){return _s(Vl|di,i,!1)}function Zv(i){return Mi(),_s(Tl|di,i,!0)}function eo(i){hs.ensure();const o=_s(Zs|bl,i,!0);return(n={})=>new Promise(m=>{n.outro?Hs(o,()=>{Fa(o),m(void 0)}):(Fa(o),m(void 0))})}function to(i){return _s(Vl,i,!1)}function Yt(i,o){var n=pa,m={effect:null,ran:!1,deps:i};n.l.$.push(m),m.effect=hl(()=>{i(),!m.ran&&(m.ran=!0,r(o))})}function za(){var i=pa;hl(()=>{for(var o of i.l.$){o.deps();var n=o.effect;(n.f&Ca)!==0&&n.deps!==null&&wa(n,ps),yl(n)&&fl(n),o.ran=!1}})}function ao(i){return _s(Dr|bl,i,!0)}function hl(i,o=0){return _s(Tl|o,i,!0)}function x(i,o=[],n=[],m=[]){Wv(m,o,n,h=>{_s(Tl,()=>i(...h.map(e)),!0)})}function qr(i,o=0){var n=_s(ks|o,i,!0);return n}function Xa(i){return _s($s|bl,i,!0)}function Ii(i){var o=i.teardown;if(o!==null){const n=Ms,m=ta;Kr(!0),Ra(null);try{o.call(null)}finally{Kr(n),Ra(m)}}}function Ri(i,o=!1){var n=i.first;for(i.first=i.last=null;n!==null;){const h=n.ac;h!==null&&lr(()=>{h.abort(ll)});var m=n.next;(n.f&Zs)!==0?n.parent=null:Fa(n,o),n=m}}function so(i){for(var o=i.first;o!==null;){var n=o.next;(o.f&$s)===0&&Fa(o),o=n}}function Fa(i,o=!0){var n=!1;(o||(i.f&ni)!==0)&&i.nodes!==null&&i.nodes.end!==null&&(Fi(i.nodes.start,i.nodes.end),n=!0),Ri(i,o&&!n),Kl(i,0),wa(i,gs);var m=i.nodes&&i.nodes.t;if(m!==null)for(const c of m)c.stop();Ii(i);var h=i.parent;h!==null&&h.first!==null&&Li(i),i.next=i.prev=i.teardown=i.ctx=i.deps=i.fn=i.nodes=i.ac=null}function Fi(i,o){for(;i!==null;){var n=i===o?null:Ml(i);i.remove(),i=n}}function Li(i){var o=i.parent,n=i.prev,m=i.next;n!==null&&(n.next=m),m!==null&&(m.prev=n),o!==null&&(o.first===i&&(o.first=m),o.last===i&&(o.last=n))}function Hs(i,o,n=!0){var m=[];Oi(i,m,!0);var h=()=>{n&&Fa(i),o&&o()},c=m.length;if(c>0){var g=()=>--c||h();for(var _ of m)_.out(g)}else h()}function Oi(i,o,n){if((i.f&Ha)===0){i.f^=Ha;var m=i.nodes&&i.nodes.t;if(m!==null)for(const _ of m)(_.is_global||n)&&o.push(_);for(var h=i.first;h!==null;){var c=h.next,g=(h.f&ul)!==0||(h.f&$s)!==0&&(i.f&ks)!==0;Oi(h,o,g?n:!1),h=c}}}function Mr(i){Ni(i,!0)}function Ni(i,o){if((i.f&Ha)!==0){i.f^=Ha,(i.f&Ca)===0&&(wa(i,Ma),ws(i));for(var n=i.first;n!==null;){var m=n.next,h=(n.f&ul)!==0||(n.f&$s)!==0;Ni(n,h?o:!1),n=m}var c=i.nodes&&i.nodes.t;if(c!==null)for(const g of c)(g.is_global||o)&&g.in()}}function Ui(i,o){if(i.nodes)for(var n=i.nodes.start,m=i.nodes.end;n!==null;){var h=n===m?null:Ml(n);o.append(n),n=h}}let Ss=null;function lo(i){var o=Ss;try{if(Ss=new Set,r(i),o!==null)for(var n of Ss)o.add(n);return Ss}finally{Ss=o}}function Ut(i){for(var o of lo(i))Qs(o,o.v)}let Js=!1;function Gl(i){Js=i}let Ms=!1;function Kr(i){Ms=i}let ta=null,rs=!1;function Ra(i){ta=i}let ia=null;function us(i){ia=i}let qa=null;function Wi(i){ta!==null&&(qa===null?qa=[i]:qa.push(i))}let Ta=null,Na=0,Ya=null;function ro(i){Ya=i}let Hi=1,Al=0,Vs=Al;function Qr(i){Vs=i}function Ji(){return++Hi}function yl(i){var o=i.f;if((o&Ma)!==0)return!0;if(o&Da&&(i.f&=~Ys),(o&ps)!==0){for(var n=i.deps,m=n.length,h=0;h<m;h++){var c=n[h];if(yl(c)&&Ai(c),c.wv>i.wv)return!0}(o&Za)!==0&&Ea===null&&wa(i,Ca)}return!1}function Vi(i,o,n=!0){var m=i.reactions;if(m!==null&&!(qa!=null&&qa.includes(i)))for(var h=0;h<m.length;h++){var c=m[h];(c.f&Da)!==0?Vi(c,o,!1):o===c&&(n?wa(c,Ma):(c.f&Ca)!==0&&wa(c,ps),ws(c))}}function Yi(i){var T;var o=Ta,n=Na,m=Ya,h=ta,c=qa,g=pa,_=rs,p=Vs,u=i.f;Ta=null,Na=0,Ya=null,ta=(u&($s|Zs))===0?i:null,qa=null,pl(i.ctx),rs=!1,Vs=++Al,i.ac!==null&&(lr(()=>{i.ac.abort(ll)}),i.ac=null);try{i.f|=_r;var S=i.fn,C=S(),le=i.deps;if(Ta!==null){var E;if(Kl(i,Na),le!==null&&Na>0)for(le.length=Na+Ta.length,E=0;E<Ta.length;E++)le[Na+E]=Ta[E];else i.deps=le=Ta;if(Tr()&&(i.f&Za)!==0)for(E=Na;E<le.length;E++)((T=le[E]).reactions??(T.reactions=[])).push(i)}else le!==null&&Na<le.length&&(Kl(i,Na),le.length=Na);if(ql()&&Ya!==null&&!rs&&le!==null&&(i.f&(Da|ps|Ma))===0)for(E=0;E<Ya.length;E++)Vi(Ya[E],i);return h!==null&&h!==i&&(Al++,Ya!==null&&(m===null?m=Ya:m.push(...Ya))),(i.f&zs)!==0&&(i.f^=zs),C}catch(L){return hi(L)}finally{i.f^=_r,Ta=o,Na=n,Ya=m,ta=h,qa=c,pl(g),rs=_,Vs=p}}function io(i,o){let n=o.reactions;if(n!==null){var m=rv.call(n,i);if(m!==-1){var h=n.length-1;h===0?n=o.reactions=null:(n[m]=n[h],n.pop())}}if(n===null&&(o.f&Da)!==0&&(Ta===null||!Ta.includes(o))){var c=o;(c.f&Za)!==0&&(c.f^=Za,c.f&=~Ys),zr(c),Si(c),Kl(c,0)}}function Kl(i,o){var n=i.deps;if(n!==null)for(var m=o;m<n.length;m++)io(i,n[m])}function fl(i){var o=i.f;if((o&gs)===0){wa(i,Ca);var n=ia,m=Js;ia=i,Js=!0;try{(o&(ks|oi))!==0?so(i):Ri(i),Ii(i);var h=Yi(i);i.teardown=typeof h=="function"?h:null,i.wv=Hi;var c;pr&&Pv&&(i.f&Ma)!==0&&i.deps}finally{Js=m,ia=n}}}async function vo(){await Promise.resolve(),Bv()}function e(i){var o=i.f,n=(o&Da)!==0;if(Ss==null||Ss.add(i),ta!==null&&!rs){var m=ia!==null&&(ia.f&gs)!==0;if(!m&&!(qa!=null&&qa.includes(i))){var h=ta.deps;if((ta.f&_r)!==0)i.rv<Al&&(i.rv=Al,Ta===null&&h!==null&&h[Na]===i?Na++:Ta===null?Ta=[i]:Ta.includes(i)||Ta.push(i));else{(ta.deps??(ta.deps=[])).push(i);var c=i.reactions;c===null?i.reactions=[ta]:c.includes(ta)||c.push(ta)}}}if(Ms&&Ts.has(i))return Ts.get(i);if(n){var g=i;if(Ms){var _=g.v;return((g.f&Ca)===0&&g.reactions!==null||Ki(g))&&(_=Pr(g)),Ts.set(g,_),_}var p=(g.f&Za)===0&&!rs&&ta!==null&&(Js||(ta.f&Za)!==0),u=g.deps===null;yl(g)&&(p&&(g.f|=Za),Ai(g)),p&&!u&&Gi(g)}if(Ea!=null&&Ea.has(i))return Ea.get(i);if((i.f&zs)!==0)throw i.v;return i.v}function Gi(i){if(i.deps!==null){i.f|=Za;for(const o of i.deps)(o.reactions??(o.reactions=[])).push(i),(o.f&Da)!==0&&(o.f&Za)===0&&Gi(o)}}function Ki(i){if(i.v===Aa)return!0;if(i.deps===null)return!1;for(const o of i.deps)if(Ts.has(o)||(o.f&Da)!==0&&Ki(o))return!0;return!1}function r(i){var o=rs;try{return rs=!0,i()}finally{rs=o}}function ls(i){if(!(typeof i!="object"||!i||i instanceof EventTarget)){if(Ps in i)xr(i);else if(!Array.isArray(i))for(let o in i){const n=i[o];typeof n=="object"&&n&&Ps in n&&xr(n)}}}function xr(i,o=new Set){if(typeof i=="object"&&i!==null&&!(i instanceof EventTarget)&&!o.has(i)){o.add(i),i instanceof Date&&i.getTime();for(let m in i)try{xr(i[m],o)}catch{}const n=Sr(i);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const m=ii(n);for(let h in m){const c=m[h].get;if(c)try{c.call(i)}catch{}}}}}const oo=["touchstart","touchmove"];function no(i){return oo.includes(i)}const Qi=new Set,wr=new Set;function co(i,o,n,m={}){function h(c){if(m.capture||xl.call(o,c),!c.cancelBubble)return lr(()=>n==null?void 0:n.call(this,c))}return i.startsWith("pointer")||i.startsWith("touch")||i==="wheel"?Gs(()=>{o.addEventListener(i,h,m)}):o.addEventListener(i,h,m),h}function O(i,o,n,m,h){var c={capture:m,passive:h},g=co(i,o,n,c);(o===document.body||o===window||o===document||o instanceof HTMLMediaElement)&&Bl(()=>{o.removeEventListener(i,g,c)})}function Pa(i){for(var o=0;o<i.length;o++)Qi.add(i[o]);for(var n of wr)n(i)}let Xr=null;function xl(i){var z;var o=this,n=o.ownerDocument,m=i.type,h=((z=i.composedPath)==null?void 0:z.call(i))||[],c=h[0]||i.target;Xr=i;var g=0,_=Xr===i&&i.__root;if(_){var p=h.indexOf(_);if(p!==-1&&(o===document||o===window)){i.__root=o;return}var u=h.indexOf(o);if(u===-1)return;p<=u&&(g=p)}if(c=h[g]||i.target,c!==o){ri(i,"currentTarget",{configurable:!0,get(){return c||n}});var S=ta,C=ia;Ra(null),us(null);try{for(var le,E=[];c!==null;){var T=c.assignedSlot||c.parentNode||c.host||null;try{var L=c["__"+m];L!=null&&(!c.disabled||i.target===c)&&L.call(c,i)}catch(P){le?E.push(P):le=P}if(i.cancelBubble||T===o||T===null)break;c=T}if(le){for(let P of E)queueMicrotask(()=>{throw P});throw le}}finally{i.__root=o,delete i.currentTarget,Ra(S),us(C)}}}function Br(i){var o=document.createElement("template");return o.innerHTML=i.replaceAll("<!>","<!---->"),o.content}function Xs(i,o){var n=ia;n.nodes===null&&(n.nodes={start:i,end:o,a:null,t:null})}function d(i,o){var n=(o&pi)!==0,m=(o&Ev)!==0,h,c=!i.startsWith("<!>");return()=>{h===void 0&&(h=Br(c?i:"<!>"+i),n||(h=Wa(h)));var g=m||zi?document.importNode(h,!0):h.cloneNode(!0);if(n){var _=Wa(g),p=g.lastChild;Xs(_,p)}else Xs(g,g);return g}}function uo(i,o,n="svg"){var m=!i.startsWith("<!>"),h=(o&pi)!==0,c=`<${n}>${m?i:"<!>"+i}</${n}>`,g;return()=>{if(!g){var _=Br(c),p=Wa(_);if(h)for(g=document.createDocumentFragment();Wa(p);)g.appendChild(Wa(p));else g=Wa(p)}var u=g.cloneNode(!0);if(h){var S=Wa(u),C=u.lastChild;Xs(S,C)}else Xs(u,u);return u}}function Il(i,o){return uo(i,o,"svg")}function ha(i=""){{var o=xs(i+"");return Xs(o,o),o}}function Pt(){var i=document.createDocumentFragment(),o=document.createComment(""),n=xs();return i.append(o,n),Xs(o,n),i}function v(i,o){i!==null&&i.before(o)}function l(i,o){var n=o==null?"":typeof o=="object"?o+"":o;n!==(i.__t??(i.__t=i.nodeValue))&&(i.__t=n,i.nodeValue=n+"")}function po(i,o){return _o(i,o)}const al=new Map;function _o(i,{target:o,anchor:n,props:m={},events:h,context:c,intro:g=!0}){Gv();var _=new Set,p=C=>{for(var le=0;le<C.length;le++){var E=C[le];if(!_.has(E)){_.add(E);var T=no(E);o.addEventListener(E,xl,{passive:T});var L=al.get(E);L===void 0?(document.addEventListener(E,xl,{passive:T}),al.set(E,1)):al.set(E,L+1)}}};p(tr(Qi)),wr.add(p);var u=void 0,S=eo(()=>{var C=n??o.appendChild(xs());return Lv(C,{pending:()=>{}},le=>{if(c){Xt({});var E=pa;E.c=c}h&&(m.$$events=h),u=i(le,m)||{},c&&Zt()}),()=>{var T;for(var le of _){o.removeEventListener(le,xl);var E=al.get(le);--E===0?(document.removeEventListener(le,xl),al.delete(le)):al.set(le,E)}wr.delete(p),C!==n&&((T=C.parentNode)==null||T.removeChild(C))}});return fo.set(u,S),u}let fo=new WeakMap;var ss,ds,Ua,Ws,Dl,zl,er;class bo{constructor(o,n=!0){ts(this,"anchor");ra(this,ss,new Map);ra(this,ds,new Map);ra(this,Ua,new Map);ra(this,Ws,new Set);ra(this,Dl,!0);ra(this,zl,()=>{var o=ea;if(jt(this,ss).has(o)){var n=jt(this,ss).get(o),m=jt(this,ds).get(n);if(m)Mr(m),jt(this,Ws).delete(n);else{var h=jt(this,Ua).get(n);h&&(jt(this,ds).set(n,h.effect),jt(this,Ua).delete(n),h.fragment.lastChild.remove(),this.anchor.before(h.fragment),m=h.effect)}for(const[c,g]of jt(this,ss)){if(jt(this,ss).delete(c),c===o)break;const _=jt(this,Ua).get(g);_&&(Fa(_.effect),jt(this,Ua).delete(g))}for(const[c,g]of jt(this,ds)){if(c===n||jt(this,Ws).has(c))continue;const _=()=>{if(Array.from(jt(this,ss).values()).includes(c)){var u=document.createDocumentFragment();Ui(g,u),u.append(xs()),jt(this,Ua).set(c,{effect:g,fragment:u})}else Fa(g);jt(this,Ws).delete(c),jt(this,ds).delete(c)};jt(this,Dl)||!m?(jt(this,Ws).add(c),Hs(g,_,!1)):_()}}});ra(this,er,o=>{jt(this,ss).delete(o);const n=Array.from(jt(this,ss).values());for(const[m,h]of jt(this,Ua))n.includes(m)||(Fa(h.effect),jt(this,Ua).delete(m))});this.anchor=o,la(this,Dl,n)}ensure(o,n){var m=ea,h=qi();if(n&&!jt(this,ds).has(o)&&!jt(this,Ua).has(o))if(h){var c=document.createDocumentFragment(),g=xs();c.append(g),jt(this,Ua).set(o,{effect:Xa(()=>n(g)),fragment:c})}else jt(this,ds).set(o,Xa(()=>n(this.anchor)));if(jt(this,ss).set(m,o),h){for(const[_,p]of jt(this,ds))_===o?m.skipped_effects.delete(p):m.skipped_effects.add(p);for(const[_,p]of jt(this,Ua))_===o?m.skipped_effects.delete(p.effect):m.skipped_effects.add(p.effect);m.oncommit(jt(this,zl)),m.ondiscard(jt(this,er))}else jt(this,zl).call(this)}}ss=new WeakMap,ds=new WeakMap,Ua=new WeakMap,Ws=new WeakMap,Dl=new WeakMap,zl=new WeakMap,er=new WeakMap;function y(i,o,n=!1){var m=new bo(i),h=n?ul:0;function c(g,_){m.ensure(g,_)}qr(()=>{var g=!1;o((_,p=!0)=>{g=!0,c(p,_)}),g||c(!1,null)},h)}function bt(i,o){return o}function mo(i,o,n){for(var m=[],h=o.length,c,g=o.length,_=0;_<h;_++){let C=o[_];Hs(C,()=>{if(c){if(c.pending.delete(C),c.done.add(C),c.pending.size===0){var le=i.outrogroups;kr(tr(c.done)),le.delete(c),le.size===0&&(i.outrogroups=null)}}else g-=1},!1)}if(g===0){var p=m.length===0&&n!==null;if(p){var u=n,S=u.parentNode;Kv(S),S.append(u),i.items.clear()}kr(o,!p)}else c={pending:new Set(o),done:new Set},(i.outrogroups??(i.outrogroups=new Set)).add(c)}function kr(i,o=!0){for(var n=0;n<i.length;n++)Fa(i[n],o)}var Zr;function _t(i,o,n,m,h,c=null){var g=i,_=new Map,p=(o&ui)!==0;if(p){var u=i;g=u.appendChild(xs())}var S=null,C=is(()=>{var P=n();return Pl(P)?P:P==null?[]:tr(P)}),le,E=!0;function T(){z.fallback=S,ho(z,le,g,o,m),S!==null&&(le.length===0?(S.f&ms)===0?Mr(S):(S.f^=ms,wl(S,null,g)):Hs(S,()=>{S=null}))}var L=qr(()=>{le=e(C);for(var P=le.length,R=new Set,me=ea,X=qi(),re=0;re<P;re+=1){var Qe=le[re],Je=m(Qe,re),lt=E?null:_.get(Je);lt?(lt.v&&Qs(lt.v,Qe),lt.i&&Qs(lt.i,re),X&&me.skipped_effects.delete(lt.e)):(lt=yo(_,E?g:Zr??(Zr=xs()),Qe,Je,re,h,o,n),E||(lt.e.f|=ms),_.set(Je,lt)),R.add(Je)}if(P===0&&c&&!S&&(E?S=Xa(()=>c(g)):(S=Xa(()=>c(Zr??(Zr=xs()))),S.f|=ms)),!E)if(X){for(const[ut,ft]of _)R.has(ut)||me.skipped_effects.add(ft.e);me.oncommit(T),me.ondiscard(()=>{})}else T();e(C)}),z={effect:L,items:_,outrogroups:null,fallback:S};E=!1}function ho(i,o,n,m,h){var ft,ht,ot,rt,At,it,ct,yt,dt;var c=(m&kv)!==0,g=o.length,_=i.items,p=i.effect.first,u,S=null,C,le=[],E=[],T,L,z,P;if(c)for(P=0;P<g;P+=1)T=o[P],L=h(T,P),z=_.get(L).e,(z.f&ms)===0&&((ht=(ft=z.nodes)==null?void 0:ft.a)==null||ht.measure(),(C??(C=new Set)).add(z));for(P=0;P<g;P+=1){if(T=o[P],L=h(T,P),z=_.get(L).e,i.outrogroups!==null)for(const pt of i.outrogroups)pt.pending.delete(z),pt.done.delete(z);if((z.f&ms)!==0)if(z.f^=ms,z===p)wl(z,null,n);else{var R=S?S.next:p;z===i.effect.last&&(i.effect.last=z.prev),z.prev&&(z.prev.next=z.next),z.next&&(z.next.prev=z.prev),js(i,S,z),js(i,z,R),wl(z,R,n),S=z,le=[],E=[],p=S.next;continue}if((z.f&Ha)!==0&&(Mr(z),c&&((rt=(ot=z.nodes)==null?void 0:ot.a)==null||rt.unfix(),(C??(C=new Set)).delete(z))),z!==p){if(u!==void 0&&u.has(z)){if(le.length<E.length){var me=E[0],X;S=me.prev;var re=le[0],Qe=le[le.length-1];for(X=0;X<le.length;X+=1)wl(le[X],me,n);for(X=0;X<E.length;X+=1)u.delete(E[X]);js(i,re.prev,Qe.next),js(i,S,re),js(i,Qe,me),p=me,S=Qe,P-=1,le=[],E=[]}else u.delete(z),wl(z,p,n),js(i,z.prev,z.next),js(i,z,S===null?i.effect.first:S.next),js(i,S,z),S=z;continue}for(le=[],E=[];p!==null&&p!==z;)(u??(u=new Set)).add(p),E.push(p),p=p.next;if(p===null)continue}(z.f&ms)===0&&le.push(z),S=z,p=z.next}if(i.outrogroups!==null){for(const pt of i.outrogroups)pt.pending.size===0&&(kr(tr(pt.done)),(At=i.outrogroups)==null||At.delete(pt));i.outrogroups.size===0&&(i.outrogroups=null)}if(p!==null||u!==void 0){var Je=[];if(u!==void 0)for(z of u)(z.f&Ha)===0&&Je.push(z);for(;p!==null;)(p.f&Ha)===0&&p!==i.fallback&&Je.push(p),p=p.next;var lt=Je.length;if(lt>0){var ut=(m&ui)!==0&&g===0?n:null;if(c){for(P=0;P<lt;P+=1)(ct=(it=Je[P].nodes)==null?void 0:it.a)==null||ct.measure();for(P=0;P<lt;P+=1)(dt=(yt=Je[P].nodes)==null?void 0:yt.a)==null||dt.fix()}mo(i,Je,ut)}}c&&Gs(()=>{var pt,wt;if(C!==void 0)for(z of C)(wt=(pt=z.nodes)==null?void 0:pt.a)==null||wt.apply()})}function yo(i,o,n,m,h,c,g,_){var p=(g&xv)!==0?(g&$v)===0?Y(n,!1,!1):Ks(n):null,u=(g&wv)!==0?Ks(h):null;return{v:p,i:u,e:Xa(()=>(c(o,p??n,u??h,_),()=>{i.delete(m)}))}}function wl(i,o,n){if(i.nodes)for(var m=i.nodes.start,h=i.nodes.end,c=o&&(o.f&ms)===0?o.nodes.start:n;m!==null;){var g=Ml(m);if(c.before(m),m===h)return;m=g}}function js(i,o,n){o===null?i.effect.first=n:o.next=n,n===null?i.effect.last=o:n.prev=o}function go(i,o,n=!1,m=!1,h=!1){var c=i,g="";x(()=>{var _=ia;if(g!==(g=o()??"")&&(_.nodes!==null&&(Fi(_.nodes.start,_.nodes.end),_.nodes=null),g!=="")){var p=g+"";n?p=`<svg>${p}</svg>`:m&&(p=`<math>${p}</math>`);var u=Br(p);if((n||m)&&(u=Wa(u)),Xs(Wa(u),u.lastChild),n||m)for(;Wa(u);)c.before(Wa(u));else c.before(u)}})}const ei=[...` 	
\r\fÂ \v\uFEFF`];function xo(i,o,n){var m=i==null?"":""+i;if(o&&(m=m?m+" "+o:o),n){for(var h in n)if(n[h])m=m?m+" "+h:h;else if(m.length)for(var c=h.length,g=0;(g=m.indexOf(h,g))>=0;){var _=g+c;(g===0||ei.includes(m[g-1]))&&(_===m.length||ei.includes(m[_]))?m=(g===0?"":m.substring(0,g))+m.substring(_+1):g=_}}return m===""?null:m}function wo(i,o){return i==null?null:String(i)}function st(i,o,n,m,h,c){var g=i.__className;if(g!==n||g===void 0){var _=xo(n,m,c);_==null?i.removeAttribute("class"):o?i.className=_:i.setAttribute("class",_),i.__className=n}else if(c&&h!==c)for(var p in c){var u=!!c[p];(h==null||u!==!!h[p])&&i.classList.toggle(p,u)}return c}function oa(i,o,n,m){var h=i.__style;if(h!==o){var c=wo(o);c==null?i.removeAttribute("style"):i.style.cssText=c,i.__style=o}return m}function Rl(i,o,n=!1){if(i.multiple){if(o==null)return;if(!Pl(o))return Dv();for(var m of i.options)m.selected=o.includes(Sl(m));return}for(m of i.options){var h=Sl(m);if(Di(h,o)){m.selected=!0;return}}(!n||o!==void 0)&&(i.selectedIndex=-1)}function ir(i){var o=new MutationObserver(()=>{Rl(i,i.__value)});o.observe(i,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Bl(()=>{o.disconnect()})}function Lt(i,o,n=o){var m=new WeakSet,h=!0;rr(i,"change",c=>{var g=c?"[selected]":":checked",_;if(i.multiple)_=[].map.call(i.querySelectorAll(g),Sl);else{var p=i.querySelector(g)??i.querySelector("option:not([disabled])");_=p&&Sl(p)}n(_),ea!==null&&m.add(ea)}),to(()=>{var c=o();if(i===document.activeElement){var g=kl??ea;if(m.has(g))return}if(Rl(i,c,h),h&&c===void 0){var _=i.querySelector(":checked");_!==null&&(c=Sl(_),n(c))}i.__value=c,h=!1}),ir(i)}function Sl(i){return"__value"in i?i.__value:i.value}const ko=Symbol("is custom element"),$o=Symbol("is html");function Ql(i,o){var n=Xi(i);n.value===(n.value=o??void 0)||i.value===o&&(o!==0||i.nodeName!=="PROGRESS")||(i.value=o??"")}function ca(i,o,n,m){var h=Xi(i);h[o]!==(h[o]=n)&&(o==="loading"&&(i[dv]=n),n==null?i.removeAttribute(o):typeof n!="string"&&jo(i).includes(o)?i[o]=n:i.setAttribute(o,n))}function Xi(i){return i.__attributes??(i.__attributes={[ko]:i.nodeName.includes("-"),[$o]:i.namespaceURI===Cv})}var ti=new Map;function jo(i){var o=i.getAttribute("is")||i.nodeName,n=ti.get(o);if(n)return n;ti.set(o,n=[]);for(var m,h=i,c=Element.prototype;c!==h;){m=ii(h);for(var g in m)m[g].set&&n.push(g);h=Sr(h)}return n}function kt(i,o,n=o){var m=new WeakSet;rr(i,"input",async h=>{var c=h?i.defaultValue:i.value;if(c=cr(i)?ur(c):c,n(c),ea!==null&&m.add(ea),await vo(),c!==(c=o())){var g=i.selectionStart,_=i.selectionEnd,p=i.value.length;if(i.value=c??"",_!==null){var u=i.value.length;g===_&&_===p&&u>p?(i.selectionStart=u,i.selectionEnd=u):(i.selectionStart=g,i.selectionEnd=Math.min(_,u))}}}),r(o)==null&&i.value&&(n(cr(i)?ur(i.value):i.value),ea!==null&&m.add(ea)),hl(()=>{var h=o();if(i===document.activeElement){var c=kl??ea;if(m.has(c))return}cr(i)&&h===ur(i.value)||i.type==="date"&&!h&&!i.value||h!==i.value&&(i.value=h??"")})}const dr=new Set;function Is(i,o,n,m,h=m){var c=n.getAttribute("type")==="checkbox",g=i;if(o!==null)for(var _ of o)g=g[_]??(g[_]=[]);g.push(n),rr(n,"change",()=>{var p=n.__value;c&&(p=So(g,p,n.checked)),h(p)},()=>h(c?[]:null)),hl(()=>{var p=m();c?(p=p||[],n.checked=p.includes(n.__value)):n.checked=Di(n.__value,p)}),Bl(()=>{var p=g.indexOf(n);p!==-1&&g.splice(p,1)}),dr.has(g)||(dr.add(g),Gs(()=>{g.sort((p,u)=>p.compareDocumentPosition(u)===4?-1:1),dr.delete(g)})),Gs(()=>{})}function ys(i,o,n=o){rr(i,"change",m=>{var h=m?i.defaultChecked:i.checked;n(h)}),r(o)==null&&n(i.checked),hl(()=>{var m=o();i.checked=!!m})}function So(i,o,n){for(var m=new Set,h=0;h<i.length;h+=1)i[h].checked&&m.add(i[h].__value);return n||m.delete(o),Array.from(m)}function cr(i){var o=i.type;return o==="number"||o==="range"}function ur(i){return i===""?null:+i}function Gt(i){return function(...o){var n=o[0];return n.stopPropagation(),i==null?void 0:i.apply(this,o)}}function qs(i){return function(...o){var n=o[0];return n.preventDefault(),i==null?void 0:i.apply(this,o)}}function na(i=!1){const o=pa,n=o.l.u;if(!n)return;let m=()=>ls(o.s);if(i){let h=0,c={};const g=sr(()=>{let _=!1;const p=o.s;for(const u in p)p[u]!==c[u]&&(c[u]=p[u],_=!0);return _&&h++,h});m=()=>e(g)}n.b.length&&Zv(()=>{ai(o,m),Jl(n.b)}),cs(()=>{const h=r(()=>n.m.map(ov));return()=>{for(const c of h)typeof c=="function"&&c()}}),n.a.length&&cs(()=>{ai(o,m),Jl(n.a)})}function ai(i,o){if(i.l.s)for(const n of i.l.s)e(n);o()}function aa(i,o){var c;var n=(c=i.$$events)==null?void 0:c[o.type],m=Pl(n)?n.slice():n==null?[]:[n];for(var h of m)h.call(this,o)}function Ir(i,o,n){if(i==null)return o(void 0),n&&n(void 0),Ds;const m=r(()=>i.subscribe(o,n));return m.unsubscribe?()=>m.unsubscribe():m}const sl=[];function Ao(i,o){return{subscribe:Rr(i,o).subscribe}}function Rr(i,o=Ds){let n=null;const m=new Set;function h(_){if(fi(i,_)&&(i=_,n)){const p=!sl.length;for(const u of m)u[1](),sl.push(u,i);if(p){for(let u=0;u<sl.length;u+=2)sl[u][0](sl[u+1]);sl.length=0}}}function c(_){h(_(i))}function g(_,p=Ds){const u=[_,p];return m.add(u),m.size===1&&(n=o(h,c)||Ds),_(i),()=>{m.delete(u),m.size===0&&n&&(n(),n=null)}}return{set:h,update:c,subscribe:g}}function Fl(i,o,n){const m=!Array.isArray(i),h=m?[i]:i;if(!h.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=o.length<2;return Ao(n,(g,_)=>{let p=!1;const u=[];let S=0,C=Ds;const le=()=>{if(S)return;C();const T=o(m?u[0]:u,g,_);c?g(T):C=typeof T=="function"?T:Ds},E=h.map((T,L)=>Ir(T,z=>{u[L]=z,S&=~(1<<L),p&&le()},()=>{S|=1<<L}));return p=!0,le(),function(){Jl(E),C(),p=!1}})}function Eo(i){let o;return Ir(i,n=>o=n)(),o}let Nl=!1,$r=Symbol();function _a(i,o,n){const m=n[o]??(n[o]={store:null,source:Y(void 0),unsubscribe:Ds});if(m.store!==i&&!($r in n))if(m.unsubscribe(),m.store=i??null,i==null)m.source.v=void 0,m.unsubscribe=Ds;else{var h=!0;m.unsubscribe=Ir(i,c=>{h?m.source.v=c:s(m.source,c)}),h=!1}return i&&$r in n?Eo(i):e(m.source)}function fa(){const i={};function o(){Bl(()=>{for(var n in i)i[n].unsubscribe();ri(i,$r,{enumerable:!1,value:!0})})}return[i,o]}function Co(i){var o=Nl;try{return Nl=!1,[i(),Nl]}finally{Nl=o}}function El(i,o,n,m){var R;var h=!ml||(n&jv)!==0,c=(n&Av)!==0,g=m,_=!0,p=()=>(_&&(_=!1,g=m),g),u;{var S=Ps in i||nv in i;u=((R=rl(i,o))==null?void 0:R.set)??(S&&o in i?me=>i[o]=me:void 0)}var C,le=!1;[C,le]=Co(()=>i[o]),C===void 0&&m!==void 0&&(C=p(),u&&(h&&bv(),u(C)));var E;if(h?E=()=>{var me=i[o];return me===void 0?p():(_=!0,me)}:E=()=>{var me=i[o];return me!==void 0&&(g=void 0),me===void 0?g:me},h&&(n&Sv)===0)return E;if(u){var T=i.$$legacy;return(function(me,X){return arguments.length>0?((!h||!X||T||le)&&u(X?E():me),me):E()})}var L=!1,z=is(()=>(L=!1,E()));e(z);var P=ia;return(function(me,X){if(arguments.length>0){const re=X?e(z):h&&c?Kt(me):me;return s(z,re),L=!0,g!==void 0&&(g=re),me}return Ms&&L||(P.f&gs)!==0?z.v:e(z)})}function sa(i){pa===null&&ci(),ml&&pa.l!==null?zo(pa).m.push(i):cs(()=>{const o=r(i);if(typeof o=="function")return o})}function Do(i,o,{bubbles:n=!1,cancelable:m=!1}={}){return new CustomEvent(i,{detail:o,bubbles:n,cancelable:m})}function gl(){const i=pa;return i===null&&ci(),(o,n,m)=>{var c;const h=(c=i.s.$$events)==null?void 0:c[o];if(h){const g=Pl(h)?h.slice():[h],_=Do(o,n,m);for(const p of g)p.call(i.x,_);return!_.defaultPrevented}return!0}}function zo(i){var o=i.l;return o.u??(o.u={a:[],b:[],m:[]})}const Po="5";var li;typeof window<"u"&&((li=window.__svelte??(window.__svelte={})).v??(li.v=new Set)).add(Po);const To={token:null,user:null,employee:null,isAuthenticated:!1},ua=Rr(To),qo="/api";function $a(){return qo}var Mo=d('<div class="error-message svelte-110obhz"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-110obhz"><circle cx="12" cy="12" r="10" class="svelte-110obhz"></circle><line x1="12" y1="8" x2="12" y2="12" class="svelte-110obhz"></line><line x1="12" y1="16" x2="12.01" y2="16" class="svelte-110obhz"></line></svg> <span class="svelte-110obhz"> </span></div>'),Bo=Il('<svg class="spinner svelte-110obhz" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke-width="4" class="svelte-110obhz"></circle></svg> Signing in...',1),Io=d('<div class="login-container svelte-110obhz"><div class="login-card svelte-110obhz"><div class="login-header svelte-110obhz"><div class="logo svelte-110obhz"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-110obhz"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" class="svelte-110obhz"></path><circle cx="12" cy="7" r="4" class="svelte-110obhz"></circle></svg></div> <h1 class="svelte-110obhz">Welcome Back</h1> <p class="svelte-110obhz">Sign in to your account</p></div> <!> <form class="svelte-110obhz"><div class="form-group svelte-110obhz"><label for="email" class="svelte-110obhz">Email</label> <input id="email" type="email" placeholder="Enter your email" required class="svelte-110obhz"/></div> <div class="form-group svelte-110obhz"><label for="password" class="svelte-110obhz">Password</label> <input id="password" type="password" placeholder="Enter your password" required class="svelte-110obhz"/></div> <button type="submit" class="login-btn svelte-110obhz"><!></button></form> <div class="login-footer svelte-110obhz"><p class="svelte-110obhz">HRMS - Human Resource Management System</p></div></div></div>');function Ro(i,o){Xt(o,!0);const n=$a();let m=mt(""),h=mt(""),c=mt(""),g=mt(!1);async function _(re){if(re.preventDefault(),!e(m)||!e(h)){s(c,"Please enter email and password");return}s(g,!0),s(c,"");try{const Qe=await fetch(`${n}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e(m),password:e(h)})});if(Qe.ok){const Je=await Qe.json();localStorage.setItem("token",Je.token),localStorage.setItem("user",JSON.stringify(Je.user)),Je.employee&&localStorage.setItem("employee",JSON.stringify(Je.employee)),ua.set({token:Je.token,user:Je.user,employee:Je.employee,isAuthenticated:!0})}else{const Je=await Qe.json();s(c,Je.error||"Login failed",!0)}}catch(Qe){console.error("Login error:",Qe),s(c,"Network error. Please try again.")}finally{s(g,!1)}}var p=Io(),u=t(p),S=a(t(u),2);{var C=re=>{var Qe=Mo(),Je=a(t(Qe),2),lt=t(Je);x(()=>l(lt,e(c))),v(re,Qe)};y(S,re=>{e(c)&&re(C)})}var le=a(S,2),E=t(le),T=a(t(E),2),L=a(E,2),z=a(t(L),2),P=a(L,2),R=t(P);{var me=re=>{var Qe=Bo();v(re,Qe)},X=re=>{var Qe=ha("Sign In");v(re,Qe)};y(R,re=>{e(g)?re(me):re(X,!1)})}x(()=>{T.disabled=e(g),z.disabled=e(g),P.disabled=e(g)}),O("submit",le,_),kt(T,()=>e(m),re=>s(m,re)),kt(z,()=>e(h),re=>s(h,re)),v(i,p),Zt()}var Fo=d(`<div class="dashboard svelte-1thed0a"><header class="page-header svelte-1thed0a"><div><h1 class="svelte-1thed0a">Dashboard</h1> <p class="svelte-1thed0a">Welcome back! Here's what's happening with your team today.</p></div></header> <div class="stats-grid svelte-1thed0a"><div class="stat-card svelte-1thed0a"><div class="stat-icon svelte-1thed0a" style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg></div> <div class="stat-content svelte-1thed0a"><div class="stat-value svelte-1thed0a"> </div> <div class="stat-label svelte-1thed0a">Total Employees</div></div></div> <div class="stat-card svelte-1thed0a"><div class="stat-icon svelte-1thed0a" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg></div> <div class="stat-content svelte-1thed0a"><div class="stat-value svelte-1thed0a"> </div> <div class="stat-label svelte-1thed0a">Active Onboarding</div></div></div> <div class="stat-card svelte-1thed0a"><div class="stat-icon svelte-1thed0a" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg></div> <div class="stat-content svelte-1thed0a"><div class="stat-value svelte-1thed0a"> </div> <div class="stat-label svelte-1thed0a">Pending PTO Requests</div></div></div> <div class="stat-card svelte-1thed0a"><div class="stat-icon svelte-1thed0a" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1thed0a"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg></div> <div class="stat-content svelte-1thed0a"><div class="stat-value svelte-1thed0a"> </div> <div class="stat-label svelte-1thed0a">Days to Payroll</div></div></div></div> <div class="dashboard-grid svelte-1thed0a"><div class="dashboard-card svelte-1thed0a"><h2 class="svelte-1thed0a">Recent Activity</h2> <div class="activity-list svelte-1thed0a"><div class="activity-item svelte-1thed0a"><div class="activity-icon svelte-1thed0a">ðŸ‘¤</div> <div class="activity-content svelte-1thed0a"><p class="activity-text svelte-1thed0a"><strong>Sarah Johnson</strong> completed onboarding</p> <p class="activity-time svelte-1thed0a">2 hours ago</p></div></div> <div class="activity-item svelte-1thed0a"><div class="activity-icon svelte-1thed0a">ðŸ“…</div> <div class="activity-content svelte-1thed0a"><p class="activity-text svelte-1thed0a"><strong>Mike Chen</strong> requested PTO for Dec 20-24</p> <p class="activity-time svelte-1thed0a">5 hours ago</p></div></div> <div class="activity-item svelte-1thed0a"><div class="activity-icon svelte-1thed0a">â°</div> <div class="activity-content svelte-1thed0a"><p class="activity-text svelte-1thed0a"><strong>Emily Davis</strong> submitted timesheet</p> <p class="activity-time svelte-1thed0a">1 day ago</p></div></div></div></div> <div class="dashboard-card svelte-1thed0a"><h2 class="svelte-1thed0a">Upcoming Events</h2> <div class="events-list svelte-1thed0a"><div class="event-item svelte-1thed0a"><div class="event-date svelte-1thed0a"><div class="event-month svelte-1thed0a">DEC</div> <div class="event-day svelte-1thed0a">15</div></div> <div class="event-content svelte-1thed0a"><p class="event-title svelte-1thed0a">Payroll Processing</p> <p class="event-desc svelte-1thed0a">Bi-weekly payroll run</p></div></div> <div class="event-item svelte-1thed0a"><div class="event-date svelte-1thed0a"><div class="event-month svelte-1thed0a">JAN</div> <div class="event-day svelte-1thed0a">01</div></div> <div class="event-content svelte-1thed0a"><p class="event-title svelte-1thed0a">Benefits Enrollment</p> <p class="event-desc svelte-1thed0a">Open enrollment period begins</p></div></div></div></div></div></div>`);function Lo(i,o){Xt(o,!0);let n=mt(Kt({totalEmployees:0,activeOnboarding:0,pendingPTO:0,upcomingPayroll:0}));cs(()=>{s(n,{totalEmployees:127,activeOnboarding:8,pendingPTO:12,upcomingPayroll:3},!0)});var m=Fo(),h=a(t(m),2),c=t(h),g=a(t(c),2),_=t(g),p=t(_),u=a(c,2),S=a(t(u),2),C=t(S),le=t(C),E=a(u,2),T=a(t(E),2),L=t(T),z=t(L),P=a(E,2),R=a(t(P),2),me=t(R),X=t(me);x(()=>{l(p,e(n).totalEmployees),l(le,e(n).activeOnboarding),l(z,e(n).pendingPTO),l(X,e(n).upcomingPayroll)}),v(i,m),Zt()}var Oo=d('<div class="error-banner svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> </div>'),No=d("<option> </option>"),Uo=d('<div class="loading svelte-10nlu23"><div class="spinner svelte-10nlu23"></div> <p class="svelte-10nlu23">Loading employees...</p></div>'),Wo=d('<div class="empty-state svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <p class="svelte-10nlu23">No employees found</p> <button class="btn-secondary svelte-10nlu23">Add First Employee</button></div>'),Ho=d('<div class="employee-card svelte-10nlu23"><div class="employee-header svelte-10nlu23"><div class="employee-avatar svelte-10nlu23"> </div> <div class="employee-info svelte-10nlu23"><h3 class="svelte-10nlu23"> </h3> <p class="svelte-10nlu23"> </p> <span> </span></div></div> <div class="employee-details svelte-10nlu23"><div class="detail-row svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> <span> </span></div> <div class="detail-row svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg> <span> </span></div> <div class="detail-row svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <span> </span></div> <div class="detail-row svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> <span> </span></div></div> <button class="btn-edit svelte-10nlu23">Edit Details</button></div>'),Jo=d('<div class="employee-grid svelte-10nlu23"></div>'),Vo=d('<div class="modal-overlay svelte-10nlu23" role="button" tabindex="0" aria-label="Close modal"><div class="modal svelte-10nlu23" role="dialog" aria-modal="true" aria-labelledby="add-employee-title" tabindex="-1"><div class="modal-header svelte-10nlu23"><h2 id="add-employee-title" class="svelte-10nlu23">Add New Employee</h2> <button class="close-btn svelte-10nlu23">Ã—</button></div> <form class="modal-body svelte-10nlu23"><div class="form-grid svelte-10nlu23"><div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Personal Information</h3> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">First Name *<input type="text" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Last Name *<input type="text" required class="svelte-10nlu23"/></label></div></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Email *<input type="email" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Phone *<input type="tel" required class="svelte-10nlu23"/></label></div></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Date of Birth<input type="date" class="svelte-10nlu23"/></label></div></div> <div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Employment Details</h3> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Department *<input type="text" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Position *<input type="text" required class="svelte-10nlu23"/></label></div></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Employment Type *<select required class="svelte-10nlu23"><option>Full-time</option><option>Part-time</option><option>Contract</option><option>Intern</option></select></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Hire Date *<input type="date" required class="svelte-10nlu23"/></label></div></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Status *<select required class="svelte-10nlu23"><option>Active</option><option>On Leave</option><option>Terminated</option></select></label></div></div> <div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Address</h3> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Street Address<input type="text" class="svelte-10nlu23"/></label></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">City<input type="text" class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">State<input type="text" class="svelte-10nlu23"/></label></div></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">ZIP Code<input type="text" class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Country<input type="text" class="svelte-10nlu23"/></label></div></div></div> <div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Emergency Contact</h3> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Contact Name<input type="text" class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Contact Phone<input type="tel" class="svelte-10nlu23"/></label></div></div></div> <div class="modal-footer svelte-10nlu23"><button type="button" class="btn-secondary svelte-10nlu23">Cancel</button> <button type="submit" class="btn-primary svelte-10nlu23">Create Employee</button></div></form></div></div>'),Yo=d('<div class="modal-overlay svelte-10nlu23" role="button" tabindex="0" aria-label="Close modal"><div class="modal svelte-10nlu23" role="dialog" aria-modal="true" aria-labelledby="edit-employee-title" tabindex="-1"><div class="modal-header svelte-10nlu23"><h2 id="edit-employee-title" class="svelte-10nlu23">Edit Employee</h2> <button class="close-btn svelte-10nlu23">Ã—</button></div> <form class="modal-body svelte-10nlu23"><div class="form-grid svelte-10nlu23"><div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Personal Information</h3> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">First Name *<input type="text" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Last Name *<input type="text" required class="svelte-10nlu23"/></label></div></div> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Email *<input type="email" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Phone *<input type="tel" required class="svelte-10nlu23"/></label></div></div></div> <div class="form-section svelte-10nlu23"><h3 class="svelte-10nlu23">Employment Details</h3> <div class="form-row svelte-10nlu23"><div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Department *<input type="text" required class="svelte-10nlu23"/></label></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Position *<input type="text" required class="svelte-10nlu23"/></label></div></div> <div class="form-group svelte-10nlu23"><label class="svelte-10nlu23">Status *<select required class="svelte-10nlu23"><option>Active</option><option>On Leave</option><option>Terminated</option></select></label></div></div></div> <div class="modal-footer svelte-10nlu23"><button type="button" class="btn-secondary svelte-10nlu23">Cancel</button> <button type="submit" class="btn-primary svelte-10nlu23">Update Employee</button></div></form></div></div>'),Go=d(`<div class="employees-page svelte-10nlu23"><header class="page-header svelte-10nlu23"><div><h1 class="svelte-10nlu23">Employees</h1> <p class="svelte-10nlu23">Manage your organization's employees</p></div> <button class="btn-primary svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><path d="M12 5v14M5 12h14"></path></svg> Add Employee</button></header> <!> <div class="filters svelte-10nlu23"><div class="search-box svelte-10nlu23"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-10nlu23"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <input type="text" placeholder="Search employees..." class="svelte-10nlu23"/></div> <select class="filter-select svelte-10nlu23"><option>All Departments</option><!></select> <select class="filter-select svelte-10nlu23"><option>All Status</option><option>Active</option><option>On Leave</option><option>Terminated</option></select></div> <!></div> <!> <!>`,1);function Ko(i,o){Xt(o,!0);let n=mt(Kt([])),m=mt(!0),h=mt(""),c=mt(!1),g=mt(!1),_=mt(null),p=mt(""),u=mt("all"),S=mt("active"),C=mt(Kt({first_name:"",last_name:"",email:"",phone:"",date_of_birth:"",hire_date:new Date().toISOString().split("T")[0],department:"",position:"",employment_type:"full-time",status:"active",street_address:"",city:"",state:"",zip_code:"",country:"USA",emergency_contact_name:"",emergency_contact_phone:""}));cs(()=>{le()});async function le(){s(m,!0),s(h,"");try{const ke=localStorage.getItem("token"),ge=await fetch("/api/employees",{headers:{Authorization:`Bearer ${ke}`}});if(!ge.ok)throw new Error("Failed to load employees");const Pe=await ge.json();s(n,(Pe||[]).filter(Be=>Be.email!=="admin@hub-hrms.local"),!0)}catch(ke){s(h,ke.message||"Failed to load employees",!0),s(n,[],!0)}finally{s(m,!1)}}async function E(){try{const ke=localStorage.getItem("token"),ge={...e(C)};ge.date_of_birth||delete ge.date_of_birth,console.log("Creating employee with data:",ge);const Pe=await fetch("/api/employees",{method:"POST",headers:{Authorization:`Bearer ${ke}`,"Content-Type":"application/json"},body:JSON.stringify(ge)});if(!Pe.ok){const Be=await Pe.text();throw console.error("Create employee error:",Be),new Error(Be||"Failed to create employee")}await le(),z()}catch(ke){console.error("Create employee exception:",ke),s(h,ke.message||"Failed to create employee",!0)}}async function T(){if(e(_))try{const ke=localStorage.getItem("token");if(!(await fetch(`/api/employees/${e(_).id}`,{method:"PUT",headers:{Authorization:`Bearer ${ke}`,"Content-Type":"application/json"},body:JSON.stringify(e(_))})).ok)throw new Error("Failed to update employee");await le(),R()}catch(ke){s(h,ke.message||"Failed to update employee",!0)}}function L(){s(c,!0),me()}function z(){s(c,!1),me()}function P(ke){s(_,{...ke},!0),s(g,!0)}function R(){s(g,!1),s(_,null)}function me(){s(C,{first_name:"",last_name:"",email:"",phone:"",date_of_birth:"",hire_date:new Date().toISOString().split("T")[0],department:"",position:"",employment_type:"full-time",status:"active",street_address:"",city:"",state:"",zip_code:"",country:"USA",emergency_contact_name:"",emergency_contact_phone:""},!0)}let X=va(()=>()=>{let ke=e(n);if(e(p)){const ge=e(p).toLowerCase();ke=ke.filter(Pe=>Pe.first_name.toLowerCase().includes(ge)||Pe.last_name.toLowerCase().includes(ge)||Pe.email.toLowerCase().includes(ge)||Pe.department.toLowerCase().includes(ge)||Pe.position.toLowerCase().includes(ge))}return e(u)!=="all"&&(ke=ke.filter(ge=>ge.department===e(u))),e(S)!=="all"&&(ke=ke.filter(ge=>ge.status===e(S))),ke}),re=va(()=>()=>{const ke=new Set(e(n).map(ge=>ge.department));return Array.from(ke).sort()});function Qe(ke){return ke?new Date(ke).toLocaleDateString():"N/A"}function Je(ke){switch(ke){case"active":return"status-active";case"terminated":return"status-terminated";case"on-leave":return"status-leave";default:return""}}var lt=Go(),ut=nt(lt),ft=t(ut),ht=a(t(ft),2);ht.__click=L;var ot=a(ft,2);{var rt=ke=>{var ge=Oo(),Pe=a(t(ge));x(()=>l(Pe,` ${e(h)??""}`)),v(ke,ge)};y(ot,ke=>{e(h)&&ke(rt)})}var At=a(ot,2),it=t(At),ct=a(t(it),2),yt=a(it,2),dt=t(yt);dt.value=dt.__value="all";var pt=a(dt);_t(pt,17,()=>e(re)(),bt,(ke,ge)=>{var Pe=No(),Be=t(Pe),Xe={};x(()=>{l(Be,e(ge)),Xe!==(Xe=e(ge))&&(Pe.value=(Pe.__value=e(ge))??"")}),v(ke,Pe)});var wt=a(yt,2),St=t(wt);St.value=St.__value="all";var qt=a(St);qt.value=qt.__value="active";var $t=a(qt);$t.value=$t.__value="on-leave";var Ae=a($t);Ae.value=Ae.__value="terminated";var Ne=a(At,2);{var ye=ke=>{var ge=Uo();v(ke,ge)},He=ke=>{var ge=Pt(),Pe=nt(ge);{var Be=Ge=>{var We=Wo(),be=a(t(We),4);be.__click=L,v(Ge,We)},Xe=Ge=>{var We=Jo();_t(We,21,()=>e(X)(),bt,(be,f)=>{var D=Ho(),H=t(D),xe=t(H),ne=t(xe),_e=a(xe,2),ze=t(_e),Me=t(ze),Z=a(ze,2),De=t(Z),ae=a(Z,2),B=t(ae),J=a(H,2),G=t(J),$=a(t(G),2),j=t($),k=a(G,2),b=a(t(k),2),F=t(b),A=a(k,2),q=a(t(A),2),w=t(q),N=a(A,2),K=a(t(N),2),I=t(K),oe=a(J,2);oe.__click=()=>P(e(f)),x((W,ve)=>{l(ne,`${e(f).first_name[0]??""}${e(f).last_name[0]??""}`),l(Me,`${e(f).first_name??""} ${e(f).last_name??""}`),l(De,e(f).position),st(ae,1,`status-badge ${W??""}`,"svelte-10nlu23"),l(B,e(f).status),l(j,e(f).email),l(F,e(f).phone),l(w,e(f).department),l(I,`Hired: ${ve??""}`)},[()=>Je(e(f).status),()=>Qe(e(f).hire_date)]),v(be,D)}),v(Ge,We)};y(Pe,Ge=>{e(X)().length===0?Ge(Be):Ge(Xe,!1)},!0)}v(ke,ge)};y(Ne,ke=>{e(m)?ke(ye):ke(He,!1)})}var Ce=a(ut,2);{var fe=ke=>{var ge=Vo();ge.__click=Ct=>Ct.target===Ct.currentTarget&&z(),ge.__keydown=Ct=>Ct.key==="Escape"&&z();var Pe=t(ge),Be=t(Pe),Xe=a(t(Be),2);Xe.__click=z;var Ge=a(Be,2),We=t(Ge),be=t(We),f=a(t(be),2),D=t(f),H=t(D),xe=a(t(H)),ne=a(D,2),_e=t(ne),ze=a(t(_e)),Me=a(f,2),Z=t(Me),De=t(Z),ae=a(t(De)),B=a(Z,2),J=t(B),G=a(t(J)),$=a(Me,2),j=t($),k=a(t(j)),b=a(be,2),F=a(t(b),2),A=t(F),q=t(A),w=a(t(q)),N=a(A,2),K=t(N),I=a(t(K)),oe=a(F,2),W=t(oe),ve=t(W),Q=a(t(ve)),U=t(Q);U.value=U.__value="full-time";var V=a(U);V.value=V.__value="part-time";var se=a(V);se.value=se.__value="contract";var ie=a(se);ie.value=ie.__value="intern";var we=a(W,2),pe=t(we),ue=a(t(pe)),Te=a(oe,2),he=t(Te),qe=a(t(he)),Se=t(qe);Se.value=Se.__value="active";var je=a(Se);je.value=je.__value="on-leave";var M=a(je);M.value=M.__value="terminated";var te=a(b,2),de=a(t(te),2),ce=t(de),ee=a(t(ce)),Le=a(de,2),Ee=t(Le),$e=t(Ee),Re=a(t($e)),Ze=a(Ee,2),Ve=t(Ze),Fe=a(t(Ve)),Ye=a(Le,2),Ue=t(Ye),et=t(Ue),tt=a(t(et)),Ke=a(Ue,2),vt=t(Ke),xt=a(t(vt)),at=a(te,2),Bt=a(t(at),2),zt=t(Bt),Ft=a(t(zt)),Dt=a(Bt,2),Et=t(Dt),It=a(t(Et)),Tt=a(We,2),Mt=t(Tt);Mt.__click=z,O("submit",Ge,Ct=>{Ct.preventDefault(),E()}),kt(xe,()=>e(C).first_name,Ct=>e(C).first_name=Ct),kt(ze,()=>e(C).last_name,Ct=>e(C).last_name=Ct),kt(ae,()=>e(C).email,Ct=>e(C).email=Ct),kt(G,()=>e(C).phone,Ct=>e(C).phone=Ct),kt(k,()=>e(C).date_of_birth,Ct=>e(C).date_of_birth=Ct),kt(w,()=>e(C).department,Ct=>e(C).department=Ct),kt(I,()=>e(C).position,Ct=>e(C).position=Ct),Lt(Q,()=>e(C).employment_type,Ct=>e(C).employment_type=Ct),kt(ue,()=>e(C).hire_date,Ct=>e(C).hire_date=Ct),Lt(qe,()=>e(C).status,Ct=>e(C).status=Ct),kt(ee,()=>e(C).street_address,Ct=>e(C).street_address=Ct),kt(Re,()=>e(C).city,Ct=>e(C).city=Ct),kt(Fe,()=>e(C).state,Ct=>e(C).state=Ct),kt(tt,()=>e(C).zip_code,Ct=>e(C).zip_code=Ct),kt(xt,()=>e(C).country,Ct=>e(C).country=Ct),kt(Ft,()=>e(C).emergency_contact_name,Ct=>e(C).emergency_contact_name=Ct),kt(It,()=>e(C).emergency_contact_phone,Ct=>e(C).emergency_contact_phone=Ct),v(ke,ge)};y(Ce,ke=>{e(c)&&ke(fe)})}var Oe=a(Ce,2);{var Ie=ke=>{var ge=Yo();ge.__click=V=>V.target===V.currentTarget&&R(),ge.__keydown=V=>V.key==="Escape"&&R();var Pe=t(ge),Be=t(Pe),Xe=a(t(Be),2);Xe.__click=R;var Ge=a(Be,2),We=t(Ge),be=t(We),f=a(t(be),2),D=t(f),H=t(D),xe=a(t(H)),ne=a(D,2),_e=t(ne),ze=a(t(_e)),Me=a(f,2),Z=t(Me),De=t(Z),ae=a(t(De)),B=a(Z,2),J=t(B),G=a(t(J)),$=a(be,2),j=a(t($),2),k=t(j),b=t(k),F=a(t(b)),A=a(k,2),q=t(A),w=a(t(q)),N=a(j,2),K=t(N),I=a(t(K)),oe=t(I);oe.value=oe.__value="active";var W=a(oe);W.value=W.__value="on-leave";var ve=a(W);ve.value=ve.__value="terminated";var Q=a(We,2),U=t(Q);U.__click=R,O("submit",Ge,V=>{V.preventDefault(),T()}),kt(xe,()=>e(_).first_name,V=>e(_).first_name=V),kt(ze,()=>e(_).last_name,V=>e(_).last_name=V),kt(ae,()=>e(_).email,V=>e(_).email=V),kt(G,()=>e(_).phone,V=>e(_).phone=V),kt(F,()=>e(_).department,V=>e(_).department=V),kt(w,()=>e(_).position,V=>e(_).position=V),Lt(I,()=>e(_).status,V=>e(_).status=V),v(ke,ge)};y(Oe,ke=>{e(g)&&e(_)&&ke(Ie)})}kt(ct,()=>e(p),ke=>s(p,ke)),Lt(yt,()=>e(u),ke=>s(u,ke)),Lt(wt,()=>e(S),ke=>s(S,ke)),v(i,lt),Zt()}Pa(["click","keydown"]);var Qo=d('<button class="btn-disabled svelte-1o0gxtz" disabled><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1o0gxtz"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> Complete All Tasks to Proceed</button>'),Xo=d('<div class="onboarding-container svelte-1o0gxtz"><div class="onboarding-header svelte-1o0gxtz"><h1 class="svelte-1o0gxtz">Welcome to the Team! ðŸŽ‰</h1> <p class="svelte-1o0gxtz">Please complete your onboarding tasks to get started</p> <div class="status-badge svelte-1o0gxtz"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1o0gxtz"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> Status: Onboarding</div></div> <div class="tasks-section svelte-1o0gxtz"></div> <div class="completion-section svelte-1o0gxtz"><!></div></div>');function Zo(i,o){Xt(o,!0);const n=()=>_a(ua,"$authStore",m),[m,h]=fa();let c=Kt(n().employee);sa(()=>{(c==null?void 0:c.status)!=="onboarding"&&o.navigate("employee-dashboard")});var g=Xo(),_=a(t(g),4),p=t(_);{var u=S=>{var C=Qo();v(S,C)};y(p,S=>{S(u,!1)})}v(i,g),Zt(),h()}Pa(["click"]);Tv();var en=d('<div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6"> </div>'),tn=d('<div class="flex justify-center items-center h-64"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div></div>'),an=d('<div class="bg-white rounded-lg shadow p-12 text-center"><svg style="width: 48px; height: 48px;" class="mx-auto text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No workflows found</h3> <p class="mt-1 text-sm text-gray-500">Get started by creating a new workflow.</p> <div class="mt-6"><button class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700"><svg style="width: 20px; height: 20px; margin-left: -4px; margin-right: 8px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Workflow</button></div></div>'),sn=d('<span class="text-xs text-gray-500"> </span>'),ln=d('<div role="button" tabindex="0" class="bg-white rounded-lg shadow hover:shadow-lg transition-shadow cursor-pointer"><div class="p-6"><div class="flex items-start justify-between mb-4"><div class="flex-1"><h3 class="text-lg font-semibold text-gray-900 capitalize"> </h3> <p class="text-sm text-gray-500 mt-1"> </p></div> <span> </span></div> <div class="mb-4"><div class="flex justify-between items-center mb-2"><span class="text-sm font-medium text-gray-700">Progress</span> <span class="text-sm font-bold text-gray-900"> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-blue-600 h-2 rounded-full transition-all duration-300"></div></div></div> <div class="flex items-center justify-between"><span> </span> <!></div></div></div>'),rn=d('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),vn=d("<option> </option>"),on=d("<option> </option>"),nn=d('<div class="mt-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm"> </div>'),dn=d('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl max-w-md w-full"><div class="p-6"><h2 class="text-xl font-bold text-gray-900 mb-4">Create New Workflow</h2> <div class="space-y-4"><div><label for="employee-select" class="block text-sm font-medium text-gray-700 mb-2">Select Employee</label> <select id="employee-select" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>Choose an employee...</option><!></select></div> <div><label for="template-select" class="block text-sm font-medium text-gray-700 mb-2">Workflow Template</label> <select id="template-select" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></select></div> <div class="bg-blue-50 border border-blue-200 rounded-lg p-4"><p class="text-sm text-blue-800"><!></p></div></div> <!> <div class="flex gap-3 mt-6"><button class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">Cancel</button> <button class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed">Create Workflow</button></div></div></div></div>'),cn=d('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="mb-8"><h1 class="text-3xl font-bold text-gray-900">Onboarding Workflows</h1> <p class="mt-2 text-sm text-gray-600">Manage and monitor employee onboarding workflows with intelligent automation</p></div> <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"><div class="bg-white rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-1"><p class="text-sm font-medium text-gray-600">Total Workflows</p> <p class="text-3xl font-bold text-gray-900"> </p></div> <div style="width: 48px; height: 48px; min-width: 48px; min-height: 48px;" class="bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0"><svg style="width: 24px; height: 24px;" class="text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div></div></div> <div class="bg-white rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-1"><p class="text-sm font-medium text-gray-600">Active</p> <p class="text-3xl font-bold text-green-600"> </p></div> <div style="width: 48px; height: 48px; min-width: 48px; min-height: 48px;" class="bg-green-100 rounded-full flex items-center justify-center flex-shrink-0"><svg style="width: 24px; height: 24px;" class="text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div></div></div> <div class="bg-white rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-1"><p class="text-sm font-medium text-gray-600">Completed</p> <p class="text-3xl font-bold text-blue-600"> </p></div> <div style="width: 48px; height: 48px; min-width: 48px; min-height: 48px;" class="bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0"><svg style="width: 24px; height: 24px;" class="text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div></div> <div class="bg-white rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-1"><p class="text-sm font-medium text-gray-600">On Hold</p> <p class="text-3xl font-bold text-yellow-600"> </p></div> <div style="width: 48px; height: 48px; min-width: 48px; min-height: 48px;" class="bg-yellow-100 rounded-full flex items-center justify-center flex-shrink-0"><svg style="width: 24px; height: 24px;" class="text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div></div></div> <div class="bg-white rounded-lg shadow mb-6"><div class="p-6"><div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"><div class="flex flex-col sm:flex-row gap-4 flex-1"><div class="flex-1"><input type="text" placeholder="Search workflows..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"/></div> <select class="px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"><option>All Status</option><option>Active</option><option>Completed</option><option>Cancelled</option><option>On Hold</option></select></div> <button class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 whitespace-nowrap"><svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Workflow</button></div></div></div> <!> <!></div> <!>',1);function un(i,o){Xt(o,!1);const n=Y(),m=Y(),h=Y(),c=Y();let g=El(o,"navigate",8),_=Y([]),p=Y(!0),u=Y(""),S=Y("all"),C=Y(""),le=Y(!1),E=Y([]),T=Y(""),L=Y("software-engineer");const z=[{value:"software-engineer",label:"Software Engineer (17 steps)"},{value:"generic",label:"Generic Employee (4 steps)"},{value:"sales-representative",label:"Sales Representative"},{value:"manager",label:"Manager"}];sa(()=>{P(),R()});async function P(){s(p,!0),s(u,"");try{const ae=localStorage.getItem("token");if(!ae){s(u,"Not authenticated. Please login again."),s(p,!1);return}let B="/api/workflows";e(S)!=="all"&&(B+=`?status=${e(S)}`),console.log("Fetching workflows from:",B);const J=await fetch(B,{headers:{Authorization:`Bearer ${ae}`}});if(console.log("Response status:",J.status),!J.ok){const $=await J.text();throw console.error("Error response:",$),new Error(`Failed to load workflows: ${J.status} ${J.statusText}`)}const G=await J.json();console.log("Workflows data:",G),s(_,Array.isArray(G)?G:[])}catch(ae){console.error("Load workflows error:",ae),s(u,ae.message||"Failed to load workflows"),s(_,[])}finally{s(p,!1)}}async function R(){try{const ae=localStorage.getItem("token"),B=await fetch("/api/employees",{headers:{Authorization:`Bearer ${ae}`}});if(!B.ok)throw new Error("Failed to load employees");const J=await B.json();s(E,(J||[]).filter(G=>G.status==="active"&&G.email!=="admin@cocomgroup.com"))}catch(ae){console.error("Failed to load employees:",ae)}}async function me(){if(!e(T)){s(u,"Please select an employee");return}try{const ae=localStorage.getItem("token"),B=await fetch("/api/workflows",{method:"POST",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify({employee_id:e(T),template_name:e(L)})});if(!B.ok){const J=await B.json();throw new Error(J.error||"Failed to create workflow")}s(le,!1),s(T,""),s(L,"software-engineer"),await P()}catch(ae){s(u,ae.message||"Failed to create workflow")}}function X(ae){return{"pre-boarding":"bg-purple-100 text-purple-800","day-1":"bg-blue-100 text-blue-800","week-1":"bg-green-100 text-green-800","month-1":"bg-orange-100 text-orange-800",completed:"bg-gray-100 text-gray-800"}[ae]||"bg-gray-100 text-gray-800"}function re(ae){return{active:"bg-green-100 text-green-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800","on-hold":"bg-yellow-100 text-yellow-800"}[ae]||"bg-gray-100 text-gray-800"}function Qe(ae){return ae?new Date(ae).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}Yt(()=>(e(_),e(C)),()=>{s(n,e(_).filter(ae=>e(C)===""||ae.template_name.toLowerCase().includes(e(C).toLowerCase())))}),Yt(()=>e(_),()=>{s(m,e(_).filter(ae=>ae.status==="active").length)}),Yt(()=>e(_),()=>{s(h,e(_).filter(ae=>ae.status==="completed").length)}),Yt(()=>e(_),()=>{s(c,e(_).filter(ae=>ae.status==="on-hold").length)}),za(),na();var Je=cn(),lt=nt(Je),ut=a(t(lt),2),ft=t(ut),ht=t(ft),ot=t(ht),rt=a(t(ot),2),At=t(rt),it=a(ft,2),ct=t(it),yt=t(ct),dt=a(t(yt),2),pt=t(dt),wt=a(it,2),St=t(wt),qt=t(St),$t=a(t(qt),2),Ae=t($t),Ne=a(wt,2),ye=t(Ne),He=t(ye),Ce=a(t(He),2),fe=t(Ce),Oe=a(ut,2),Ie=t(Oe),ke=t(Ie),ge=t(ke),Pe=t(ge),Be=t(Pe),Xe=a(Pe,2);x(()=>{e(S),Ut(()=>{})});var Ge=t(Xe);Ge.value=Ge.__value="all";var We=a(Ge);We.value=We.__value="active";var be=a(We);be.value=be.__value="completed";var f=a(be);f.value=f.__value="cancelled";var D=a(f);D.value=D.__value="on-hold";var H=a(ge,2),xe=a(Oe,2);{var ne=ae=>{var B=en(),J=t(B);x(()=>l(J,e(u))),v(ae,B)};y(xe,ae=>{e(u)&&ae(ne)})}var _e=a(xe,2);{var ze=ae=>{var B=tn();v(ae,B)},Me=ae=>{var B=Pt(),J=nt(B);{var G=j=>{var k=an(),b=a(t(k),6),F=t(b);O("click",F,()=>s(le,!0)),v(j,k)},$=j=>{var k=rn();_t(k,5,()=>e(n),b=>b.id,(b,F)=>{var A=ln(),q=t(A),w=t(q),N=t(w),K=t(N),I=t(K),oe=a(K,2),W=t(oe),ve=a(N,2),Q=t(ve),U=a(w,2),V=t(U),se=a(t(V),2),ie=t(se),we=a(V,2),pe=t(we),ue=a(U,2),Te=t(ue),he=t(Te),qe=a(Te,2);{var Se=je=>{var M=sn(),te=t(M);x(de=>l(te,`Due ${de??""}`),[()=>(e(F),r(()=>Qe(e(F).expected_completion)))]),v(je,M)};y(qe,je=>{e(F),r(()=>e(F).expected_completion)&&je(Se)})}x((je,M,te,de,ce)=>{l(I,je),l(W,`Started ${M??""}`),st(ve,1,`px-3 py-1 rounded-full text-xs font-medium ${te??""} capitalize`),l(Q,(e(F),r(()=>e(F).status))),l(ie,`${e(F),r(()=>e(F).progress_percentage)??""}%`),oa(pe,`width: ${e(F),r(()=>e(F).progress_percentage)??""}%`),st(Te,1,`px-3 py-1 rounded-full text-xs font-medium ${de??""} capitalize`),l(he,ce)},[()=>(e(F),r(()=>e(F).template_name.replace(/-/g," "))),()=>(e(F),r(()=>Qe(e(F).started_at))),()=>(e(F),r(()=>re(e(F).status))),()=>(e(F),r(()=>X(e(F).current_stage))),()=>(e(F),r(()=>e(F).current_stage.replace(/-/g," ")))]),O("click",A,()=>g()("workflow-detail",e(F).id)),O("keydown",A,je=>je.key==="Enter"&&g()("workflow-detail",e(F).id)),v(b,A)}),v(j,k)};y(J,j=>{e(n),r(()=>e(n).length===0)?j(G):j($,!1)},!0)}v(ae,B)};y(_e,ae=>{e(p)?ae(ze):ae(Me,!1)})}var Z=a(lt,2);{var De=ae=>{var B=dn(),J=t(B),G=t(J),$=a(t(G),2),j=t($),k=a(t(j),2);x(()=>{e(T),Ut(()=>{e(E)})});var b=t(k);b.value=b.__value="";var F=a(b);_t(F,1,()=>e(E),bt,(se,ie)=>{var we=vn(),pe=t(we),ue={};x(()=>{l(pe,`${e(ie),r(()=>e(ie).first_name)??""} ${e(ie),r(()=>e(ie).last_name)??""} - ${e(ie),r(()=>e(ie).position||"No position")??""}`),ue!==(ue=(e(ie),r(()=>e(ie).id)))&&(we.value=(we.__value=(e(ie),r(()=>e(ie).id)))??"")}),v(se,we)});var A=a(j,2),q=a(t(A),2);x(()=>{e(L),Ut(()=>{})}),_t(q,5,()=>z,bt,(se,ie)=>{var we=on(),pe=t(we),ue={};x(()=>{l(pe,(e(ie),r(()=>e(ie).label))),ue!==(ue=(e(ie),r(()=>e(ie).value)))&&(we.value=(we.__value=(e(ie),r(()=>e(ie).value)))??"")}),v(se,we)});var w=a(A,2),N=t(w),K=t(N);{var I=se=>{var ie=ha("Creates a comprehensive 17-step workflow including pre-boarding, day 1 setup, week 1 training, and month 1 review.");v(se,ie)},oe=se=>{var ie=Pt(),we=nt(ie);{var pe=Te=>{var he=ha("Creates a basic 4-step workflow for standard employee onboarding.");v(Te,he)},ue=Te=>{var he=ha("Creates a customized workflow for this role.");v(Te,he)};y(we,Te=>{e(L)==="generic"?Te(pe):Te(ue,!1)},!0)}v(se,ie)};y(K,se=>{e(L)==="software-engineer"?se(I):se(oe,!1)})}var W=a($,2);{var ve=se=>{var ie=nn(),we=t(ie);x(()=>l(we,e(u))),v(se,ie)};y(W,se=>{e(u)&&se(ve)})}var Q=a(W,2),U=t(Q),V=a(U,2);x(()=>V.disabled=!e(T)),Lt(k,()=>e(T),se=>s(T,se)),Lt(q,()=>e(L),se=>s(L,se)),O("click",U,()=>{s(le,!1),s(u,"")}),O("click",V,me),v(ae,B)};y(Z,ae=>{e(le)&&ae(De)})}x(()=>{l(At,(e(_),r(()=>e(_).length))),l(pt,e(m)),l(Ae,e(h)),l(fe,e(c))}),kt(Be,()=>e(C),ae=>s(C,ae)),Lt(Xe,()=>e(S),ae=>s(S,ae)),O("change",Xe,P),O("click",H,()=>s(le,!0)),v(i,Je),Zt()}var pn=d('<div class="flex justify-center items-center h-screen"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div></div>'),_n=d('<div class="max-w-7xl mx-auto px-4 py-8"><div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"> </div></div>'),fn=d('<div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6"> </div>'),bn=Il('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>'),mn=Il('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>'),hn=d('<div class="bg-white rounded-lg shadow p-6"><p class="text-sm font-medium text-gray-600 mb-2">Steps Status</p> <div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Completed:</span> <span class="font-semibold text-green-600"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">In Progress:</span> <span class="font-semibold text-blue-600"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Pending:</span> <span class="font-semibold text-gray-600"> </span></div></div></div> <div class="bg-white rounded-lg shadow p-6"><p class="text-sm font-medium text-gray-600 mb-2">Timeline</p> <div class="space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-600">Days Elapsed:</span> <span class="font-semibold"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Expected Days:</span> <span class="font-semibold"> </span></div> <div class="flex justify-between text-sm"><span class="text-gray-600">Status:</span> <span> </span></div></div></div> <div class="bg-white rounded-lg shadow p-6"><p class="text-sm font-medium text-gray-600 mb-2">Issues</p> <div class="flex items-center gap-2"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><!></svg> <div><p class="text-2xl font-bold"> </p> <p class="text-xs text-gray-600">Open Exceptions</p></div></div></div>',1),yn=Il('<svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),gn=d('<span class="text-white font-semibold text-sm"> </span>'),xn=d('<div class="flex-1 h-1 bg-gray-300 mx-2"></div>'),wn=d('<div class="flex-1 flex items-center"><div class="flex flex-col items-center"><div class="relative"><div><!></div></div> <p class="mt-2 text-xs font-medium text-gray-700 capitalize text-center"> </p></div> <!></div>'),kn=d('<span class="px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800 capitalize"> </span>'),$n=d('<p class="text-sm text-gray-600 mb-2"> </p>'),jn=d("<span> </span>"),Sn=d("<span> </span>"),An=d('<button class="px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700">Start</button>'),En=d('<button class="px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700">Complete</button>'),Cn=d('<button class="px-3 py-1 text-sm border border-gray-300 text-gray-700 rounded hover:bg-gray-50">Skip</button>'),Dn=d('<div class="border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors"><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center gap-3 mb-2"><h4 class="font-medium text-gray-900"> </h4> <span> </span> <!></div> <!> <div class="flex gap-4 text-xs text-gray-500"><!> <!></div></div> <div class="flex gap-2 ml-4"><!> <!> <!></div></div></div>'),zn=d('<div class="mb-8"><h3 class="text-lg font-semibold text-gray-900 mb-4 capitalize flex items-center gap-2"><div></div> <span class="text-sm font-normal text-gray-500"> </span></h3> <div class="space-y-4"></div></div>'),Pn=d('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No exceptions</h3> <p class="mt-1 text-sm text-gray-500">All steps are running smoothly.</p></div>'),Tn=d('<p class="text-sm text-gray-600 mb-2"> </p>'),qn=d('<div class="border border-gray-200 rounded-lg p-4"><div class="flex items-start justify-between mb-2"><div class="flex-1"><div class="flex items-center gap-2 mb-2"><h4 class="font-medium text-gray-900"> </h4> <span> </span></div> <!> <p class="text-xs text-gray-500"> </p></div> <span> </span></div></div>'),Mn=d('<div class="space-y-4"></div>'),Bn=d('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No documents</h3> <p class="mt-1 text-sm text-gray-500">Documents will appear here as workflow progresses.</p></div>'),In=d('<div class="border border-gray-200 rounded-lg p-4 hover:border-gray-300 transition-colors"><div class="flex items-start gap-3"><div class="flex-shrink-0"><svg class="h-10 w-10 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path></svg></div> <div class="flex-1"><h4 class="font-medium text-gray-900"> </h4> <p class="text-sm text-gray-600 capitalize"> </p> <p class="text-xs text-gray-500 mt-1"> </p></div> <span> </span></div></div>'),Rn=d('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"></div>'),Fn=d('<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"><div class="mb-8"><div class="flex items-center gap-4 mb-4"><button class="text-blue-600 hover:text-blue-800" aria-label="Go back to workflows list"><svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <h1 class="text-3xl font-bold text-gray-900"> </h1></div> <p class="text-sm text-gray-600"> </p></div> <!> <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"><div class="bg-white rounded-lg shadow p-6"><p class="text-sm font-medium text-gray-600 mb-2">Overall Progress</p> <p class="text-3xl font-bold text-gray-900"> </p> <div class="mt-4 w-full bg-gray-200 rounded-full h-2"><div class="bg-blue-600 h-2 rounded-full transition-all duration-300"></div></div></div> <!></div> <div class="bg-white rounded-lg shadow p-6 mb-8"><h2 class="text-lg font-semibold text-gray-900 mb-6">Workflow Stages</h2> <div class="flex items-center justify-between"></div></div> <div class="bg-white rounded-lg shadow mb-6"><div class="border-b border-gray-200"><nav class="flex space-x-8 px-6" aria-label="Tabs"><button> </button> <button> </button> <button> </button></nav></div> <div class="p-6"><!></div></div></div>'),Ln=d('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white rounded-lg shadow-xl max-w-md w-full"><div class="p-6"><h2 class="text-xl font-bold text-gray-900 mb-4">Skip Step</h2> <div class="mb-4"><label for="skip-reason" class="block text-sm font-medium text-gray-700 mb-2">Reason for skipping</label> <textarea id="skip-reason" rows="3" placeholder="Provide a reason..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"></textarea></div> <div class="flex gap-3"><button class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50">Cancel</button> <button class="flex-1 px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700">Skip Step</button></div></div></div></div>'),On=d("<!> <!>",1);function Nn(i,o){Xt(o,!1);let n=El(o,"id",8),m=El(o,"navigate",8),h=Y(null),c=Y(null),g=Y(!0),_=Y(""),p=Y("steps"),u=Y(!1),S=Y(""),C=Y("");sa(()=>{le(),E()});async function le(){s(g,!0),s(_,"");try{const ot=localStorage.getItem("token"),rt=await fetch(`/api/workflows/${n()}`,{headers:{Authorization:`Bearer ${ot}`}});if(!rt.ok)throw new Error("Failed to load workflow");s(h,await rt.json())}catch(ot){s(_,ot.message||"Failed to load workflow")}finally{s(g,!1)}}async function E(){try{const ot=localStorage.getItem("token"),rt=await fetch(`/api/workflows/${n()}/progress`,{headers:{Authorization:`Bearer ${ot}`}});rt.ok&&s(c,await rt.json())}catch(ot){console.error("Failed to load progress:",ot)}}async function T(ot){try{const rt=localStorage.getItem("token");if(!(await fetch(`/api/workflows/${n()}/steps/${ot}/complete`,{method:"PUT",headers:{Authorization:`Bearer ${rt}`}})).ok)throw new Error("Failed to complete step");await le(),await E()}catch(rt){s(_,rt.message)}}async function L(ot){try{const rt=localStorage.getItem("token");if(!(await fetch(`/api/workflows/${n()}/steps/${ot}/start`,{method:"PUT",headers:{Authorization:`Bearer ${rt}`}})).ok)throw new Error("Failed to start step");await le()}catch(rt){s(_,rt.message)}}async function z(){if(!e(C).trim()){s(_,"Please provide a reason for skipping");return}try{const ot=localStorage.getItem("token");if(!(await fetch(`/api/workflows/${n()}/steps/${e(S)}/skip`,{method:"PUT",headers:{Authorization:`Bearer ${ot}`,"Content-Type":"application/json"},body:JSON.stringify({reason:e(C)})})).ok)throw new Error("Failed to skip step");s(u,!1),s(C,""),s(S,""),await le(),await E()}catch(ot){s(_,ot.message)}}function P(ot){return{pending:"bg-gray-100 text-gray-800","in-progress":"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",skipped:"bg-yellow-100 text-yellow-800",blocked:"bg-orange-100 text-orange-800"}[ot]||"bg-gray-100 text-gray-800"}function R(ot){return{"pre-boarding":"bg-purple-500","day-1":"bg-blue-500","week-1":"bg-green-500","month-1":"bg-orange-500"}[ot]||"bg-gray-500"}function me(ot){return ot?new Date(ot).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function X(ot){return{low:"bg-blue-100 text-blue-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",critical:"bg-red-100 text-red-800"}[ot]||"bg-gray-100 text-gray-800"}let re=Y();Yt(()=>e(h),()=>{s(re,e(h)?{"pre-boarding":e(h).steps.filter(ot=>ot.stage==="pre-boarding"),"day-1":e(h).steps.filter(ot=>ot.stage==="day-1"),"week-1":e(h).steps.filter(ot=>ot.stage==="week-1"),"month-1":e(h).steps.filter(ot=>ot.stage==="month-1")}:{"pre-boarding":[],"day-1":[],"week-1":[],"month-1":[]})}),za(),na();var Qe=On(),Je=nt(Qe);{var lt=ot=>{var rt=pn();v(ot,rt)},ut=ot=>{var rt=Pt(),At=nt(rt);{var it=yt=>{var dt=_n(),pt=t(dt),wt=t(pt);x(()=>l(wt,e(_)||"Workflow not found")),v(yt,dt)},ct=yt=>{var dt=Fn(),pt=t(dt),wt=t(pt),St=t(wt),qt=a(St,2),$t=t(qt),Ae=a(wt,2),Ne=t(Ae),ye=a(pt,2);{var He=B=>{var J=fn(),G=t(J);x(()=>l(G,e(_))),v(B,J)};y(ye,B=>{e(_)&&B(He)})}var Ce=a(ye,2),fe=t(Ce),Oe=a(t(fe),2),Ie=t(Oe),ke=a(Oe,2),ge=t(ke),Pe=a(fe,2);{var Be=B=>{var J=hn(),G=nt(J),$=a(t(G),2),j=t($),k=a(t(j),2),b=t(k),F=a(j,2),A=a(t(F),2),q=t(A),w=a(F,2),N=a(t(w),2),K=t(N),I=a(G,2),oe=a(t(I),2),W=t(oe),ve=a(t(W),2),Q=t(ve),U=a(W,2),V=a(t(U),2),se=t(V),ie=a(U,2),we=a(t(ie),2),pe=t(we),ue=a(I,2),Te=a(t(ue),2),he=t(Te),qe=t(he);{var Se=ce=>{var ee=bn();v(ce,ee)},je=ce=>{var ee=mn();v(ce,ee)};y(qe,ce=>{e(c),r(()=>e(c).open_exceptions>0)?ce(Se):ce(je,!1)})}var M=a(he,2),te=t(M),de=t(te);x(()=>{l(b,(e(c),r(()=>e(c).completed_steps))),l(q,(e(c),r(()=>e(c).in_progress_steps))),l(K,(e(c),r(()=>e(c).pending_steps))),l(Q,(e(c),r(()=>e(c).days_elapsed))),l(se,(e(c),r(()=>e(c).expected_days))),st(we,1,`font-semibold ${e(c),r(()=>e(c).is_on_track?"text-green-600":"text-red-600")??""}`),l(pe,(e(c),r(()=>e(c).is_on_track?"On Track":"Behind"))),st(he,0,`h-8 w-8 ${e(c),r(()=>e(c).open_exceptions>0?"text-red-600":"text-green-600")??""}`),l(de,(e(c),r(()=>e(c).open_exceptions)))}),v(B,J)};y(Pe,B=>{e(c)&&B(Be)})}var Xe=a(Ce,2),Ge=a(t(Xe),2);_t(Ge,4,()=>["pre-boarding","day-1","week-1","month-1"],bt,(B,J,G)=>{var $=wn(),j=t($),k=t(j),b=t(k),F=t(b);{var A=oe=>{var W=yn();v(oe,W)},q=oe=>{var W=gn(),ve=t(W);x(Q=>l(ve,`${Q??""}/${e(re),r(()=>{var U;return((U=e(re)[J])==null?void 0:U.length)||0})??""}`),[()=>(e(re),r(()=>{var Q;return((Q=e(re)[J])==null?void 0:Q.filter(U=>U.status==="completed").length)||0}))]),v(oe,W)};y(F,oe=>{e(re),r(()=>{var W;return(W=e(re)[J])==null?void 0:W.every(ve=>ve.status==="completed"||ve.status==="skipped")})?oe(A):oe(q,!1)})}var w=a(k,2),N=t(w),K=a(j,2);{var I=oe=>{var W=xn();v(oe,W)};y(K,oe=>{G<3&&oe(I)})}x((oe,W)=>{st(b,1,`h-12 w-12 rounded-full ${oe??""} flex items-center justify-center ${e(h),r(()=>J===e(h).workflow.current_stage?"ring-4 ring-offset-2 ring-blue-300":"")??""} transition-all`),l(N,W)},[()=>r(()=>R(J)),()=>r(()=>J.replace(/-/g," "))]),v(B,$)});var We=a(Xe,2),be=t(We),f=t(be),D=t(f),H=t(D),xe=a(D,2),ne=t(xe),_e=a(xe,2),ze=t(_e),Me=a(be,2),Z=t(Me);{var De=B=>{var J=Pt(),G=nt(J);_t(G,1,()=>(e(re),r(()=>Object.entries(e(re)))),bt,($,j)=>{var k=va(()=>Ar(e(j),2));let b=()=>e(k)[0],F=()=>e(k)[1];var A=Pt(),q=nt(A);{var w=N=>{var K=zn(),I=t(K),oe=t(I),W=a(oe),ve=a(W),Q=t(ve),U=a(I,2);_t(U,5,F,bt,(V,se)=>{var ie=Dn(),we=t(ie),pe=t(we),ue=t(pe),Te=t(ue),he=t(Te),qe=a(Te,2),Se=t(qe),je=a(qe,2);{var M=tt=>{var Ke=kn(),vt=t(Ke);x(()=>l(vt,(e(se),r(()=>e(se).integration_type)))),v(tt,Ke)};y(je,tt=>{e(se),r(()=>e(se).integration_type)&&tt(M)})}var te=a(ue,2);{var de=tt=>{var Ke=$n(),vt=t(Ke);x(()=>l(vt,(e(se),r(()=>e(se).description)))),v(tt,Ke)};y(te,tt=>{e(se),r(()=>e(se).description)&&tt(de)})}var ce=a(te,2),ee=t(ce);{var Le=tt=>{var Ke=jn(),vt=t(Ke);x(xt=>l(vt,`Due: ${xt??""}`),[()=>(e(se),r(()=>me(e(se).due_date)))]),v(tt,Ke)};y(ee,tt=>{e(se),r(()=>e(se).due_date)&&tt(Le)})}var Ee=a(ee,2);{var $e=tt=>{var Ke=Sn(),vt=t(Ke);x(xt=>l(vt,`Completed: ${xt??""}`),[()=>(e(se),r(()=>me(e(se).completed_at)))]),v(tt,Ke)};y(Ee,tt=>{e(se),r(()=>e(se).completed_at)&&tt($e)})}var Re=a(pe,2),Ze=t(Re);{var Ve=tt=>{var Ke=An();O("click",Ke,()=>L(e(se).id)),v(tt,Ke)};y(Ze,tt=>{e(se),r(()=>e(se).status==="pending")&&tt(Ve)})}var Fe=a(Ze,2);{var Ye=tt=>{var Ke=En();O("click",Ke,()=>T(e(se).id)),v(tt,Ke)};y(Fe,tt=>{e(se),r(()=>e(se).status==="in-progress")&&tt(Ye)})}var Ue=a(Fe,2);{var et=tt=>{var Ke=Cn();O("click",Ke,()=>{s(S,e(se).id),s(u,!0)}),v(tt,Ke)};y(Ue,tt=>{e(se),r(()=>e(se).status!=="completed"&&e(se).status!=="skipped")&&tt(et)})}x((tt,Ke)=>{l(he,(e(se),r(()=>e(se).step_name))),st(qe,1,`px-2 py-1 rounded-full text-xs font-medium ${tt??""} capitalize`),l(Se,Ke)},[()=>(e(se),r(()=>P(e(se).status))),()=>(e(se),r(()=>e(se).status.replace(/-/g," ")))]),v(V,ie)}),x((V,se,ie)=>{st(oe,1,`h-3 w-3 rounded-full ${V??""}`),l(W,` ${se??""} `),l(Q,`(${ie??""}/${F(),r(()=>F().length)??""} completed)`)},[()=>(b(),r(()=>R(b()))),()=>(b(),r(()=>b().replace(/-/g," "))),()=>(F(),r(()=>F().filter(V=>V.status==="completed").length))]),v(N,K)};y(q,N=>{F(),r(()=>F().length>0)&&N(w)})}v($,A)}),v(B,J)},ae=B=>{var J=Pt(),G=nt(J);{var $=k=>{var b=Pt(),F=nt(b);{var A=w=>{var N=Pn();v(w,N)},q=w=>{var N=Mn();_t(N,5,()=>(e(h),r(()=>e(h).exceptions)),bt,(K,I)=>{var oe=qn(),W=t(oe),ve=t(W),Q=t(ve),U=t(Q),V=t(U),se=a(U,2),ie=t(se),we=a(Q,2);{var pe=Se=>{var je=Tn(),M=t(je);x(()=>l(M,(e(I),r(()=>e(I).description)))),v(Se,je)};y(we,Se=>{e(I),r(()=>e(I).description)&&Se(pe)})}var ue=a(we,2),Te=t(ue),he=a(ve,2),qe=t(he);x((Se,je)=>{l(V,(e(I),r(()=>e(I).title))),st(se,1,`px-2 py-1 rounded-full text-xs font-medium ${Se??""} uppercase`),l(ie,(e(I),r(()=>e(I).severity))),l(Te,`Created: ${je??""}`),st(he,1,`px-2 py-1 rounded-full text-xs font-medium ${e(I),r(()=>e(I).resolution_status==="resolved"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")??""} capitalize`),l(qe,(e(I),r(()=>e(I).resolution_status)))},[()=>(e(I),r(()=>X(e(I).severity))),()=>(e(I),r(()=>me(e(I).created_at)))]),v(K,oe)}),v(w,N)};y(F,w=>{e(h),r(()=>e(h).exceptions.length===0)?w(A):w(q,!1)})}v(k,b)},j=k=>{var b=Pt(),F=nt(b);{var A=q=>{var w=Pt(),N=nt(w);{var K=oe=>{var W=Bn();v(oe,W)},I=oe=>{var W=Rn();_t(W,5,()=>(e(h),r(()=>e(h).documents)),bt,(ve,Q)=>{var U=In(),V=t(U),se=a(t(V),2),ie=t(se),we=t(ie),pe=a(ie,2),ue=t(pe),Te=a(pe,2),he=t(Te),qe=a(se,2),Se=t(qe);x((je,M,te)=>{l(we,(e(Q),r(()=>e(Q).document_name))),l(ue,je),l(he,`${M??""} â€¢ ${te??""} KB`),st(qe,1,`px-2 py-1 rounded-full text-xs font-medium ${e(Q),r(()=>e(Q).status==="signed"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800")??""} capitalize`),l(Se,(e(Q),r(()=>e(Q).status)))},[()=>(e(Q),r(()=>e(Q).document_type.replace(/-/g," "))),()=>(e(Q),r(()=>e(Q).file_type.toUpperCase())),()=>(e(Q),r(()=>(e(Q).file_size/1024).toFixed(0)))]),v(ve,U)}),v(oe,W)};y(N,oe=>{e(h),r(()=>e(h).documents.length===0)?oe(K):oe(I,!1)})}v(q,w)};y(F,q=>{e(p)==="documents"&&q(A)},!0)}v(k,b)};y(G,k=>{e(p)==="exceptions"?k($):k(j,!1)},!0)}v(B,J)};y(Z,B=>{e(p)==="steps"?B(De):B(ae,!1)})}x(()=>{l($t,`${e(h),r(()=>e(h).employee.first_name)??""} ${e(h),r(()=>e(h).employee.last_name)??""}'s Onboarding`),l(Ne,`${e(h),r(()=>e(h).employee.position)??""} â€¢ ${e(h),r(()=>e(h).employee.department)??""}`),l(Ie,`${e(h),r(()=>e(h).workflow.progress_percentage)??""}%`),oa(ge,`width: ${e(h),r(()=>e(h).workflow.progress_percentage)??""}%`),st(D,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(p)==="steps"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),l(H,`Steps (${e(h),r(()=>e(h).steps.length)??""})`),st(xe,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(p)==="exceptions"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),l(ne,`Exceptions (${e(h),r(()=>e(h).exceptions.length)??""})`),st(_e,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(p)==="documents"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),l(ze,`Documents (${e(h),r(()=>e(h).documents.length)??""})`)}),O("click",St,()=>m()("workflows")),O("click",D,()=>s(p,"steps")),O("click",xe,()=>s(p,"exceptions")),O("click",_e,()=>s(p,"documents")),v(yt,dt)};y(At,yt=>{e(h)?yt(ct,!1):yt(it)},!0)}v(ot,rt)};y(Je,ot=>{e(g)?ot(lt):ot(ut,!1)})}var ft=a(Je,2);{var ht=ot=>{var rt=Ln(),At=t(rt),it=t(At),ct=a(t(it),2),yt=a(t(ct),2),dt=a(ct,2),pt=t(dt),wt=a(pt,2);kt(yt,()=>e(C),St=>s(C,St)),O("click",pt,()=>{s(u,!1),s(C,""),s(S,"")}),O("click",wt,z),v(ot,rt)};y(ft,ot=>{e(u)&&ot(ht)})}v(i,Qe),Zt()}var Un=d('<div class="period-info svelte-1csefqm"><div class="period-dates svelte-1csefqm"> </div> <span> </span></div>'),Wn=d('<div class="alert alert-error svelte-1csefqm"> </div>'),Hn=d('<div class="alert alert-success svelte-1csefqm"> </div>'),Jn=d('<div class="elapsed-time svelte-1csefqm"> </div>'),Vn=d('<button class="btn btn-success btn-lg svelte-1csefqm">Clock In</button>'),Yn=d('<button class="btn btn-danger btn-lg svelte-1csefqm">Clock Out</button>'),Gn=d('<button class="btn btn-success svelte-1csefqm"> </button>'),Kn=d('<div class="period-status-bar"><span class="period-label svelte-1csefqm">Period:</span> <span class="period-dates svelte-1csefqm"> </span> <span> </span></div>'),Qn=d('<tr class="svelte-1csefqm"><td colspan="9" class="svelte-1csefqm"><div class="empty-state svelte-1csefqm"> <div style="margin-top: 20px; padding: 10px; background: #f0f0f0;"><strong>Debug Info:</strong><br/> <br/> <br/> </div></div></td></tr>'),Xn=d('<div class="project-item svelte-1csefqm"> </div>'),Zn=d('<div class="project-list svelte-1csefqm"></div>'),ed=d('<button class="btn-icon svelte-1csefqm" title="Edit entry" aria-label="Edit entry">âœï¸</button> <button class="btn-icon svelte-1csefqm" title="Delete entry" aria-label="Delete entry">ðŸ—‘ï¸</button>',1),td=d('<tr class="svelte-1csefqm"><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"> </td><td class="svelte-1csefqm"><span> </span></td><td class="svelte-1csefqm"><!></td><td class="svelte-1csefqm"><span> </span></td><td class="svelte-1csefqm"><!></td></tr>'),ad=d("<option> </option>"),sd=d('<div class="project-allocation svelte-1csefqm"><select aria-label="Select project"><option>Select Project</option><!></select> <input type="number" placeholder="Hours" min="0" step="0.5" aria-label="Project hours"/> <button class="btn-icon svelte-1csefqm" title="Remove project allocation" aria-label="Remove project allocation">âŒ</button></div>'),ld=d('<div class="modal-overlay svelte-1csefqm"><div class="modal svelte-1csefqm"><div class="modal-header svelte-1csefqm"><h2 class="svelte-1csefqm"> </h2> <button class="close-btn svelte-1csefqm">Ã—</button></div> <div class="modal-body svelte-1csefqm"><div class="form-group svelte-1csefqm"><label for="entry-date" class="svelte-1csefqm">Date</label> <input id="entry-date" type="date" class="svelte-1csefqm"/></div> <div class="form-row svelte-1csefqm"><div class="form-group svelte-1csefqm"><label for="clock-in" class="svelte-1csefqm">Clock In</label> <input id="clock-in" type="time" class="svelte-1csefqm"/></div> <div class="form-group svelte-1csefqm"><label for="clock-out" class="svelte-1csefqm">Clock Out</label> <input id="clock-out" type="time" class="svelte-1csefqm"/></div></div> <div class="form-row svelte-1csefqm"><div class="form-group svelte-1csefqm"><label for="break-duration" class="svelte-1csefqm">Break Duration (minutes)</label> <input id="break-duration" type="number" min="0" class="svelte-1csefqm"/></div> <div class="form-group svelte-1csefqm"><label for="entry-type" class="svelte-1csefqm">Entry Type</label> <select id="entry-type" class="svelte-1csefqm"><option>Regular</option><option>Overtime</option><option>PTO</option><option>Sick Leave</option><option>Holiday</option></select></div></div> <div class="form-group svelte-1csefqm"><label for="entry-notes" class="svelte-1csefqm">Notes</label> <textarea id="entry-notes" rows="2" class="svelte-1csefqm"></textarea></div> <div class="form-section svelte-1csefqm"><div class="section-header svelte-1csefqm"><h3 class="svelte-1csefqm">Project Allocations</h3> <button class="btn btn-sm btn-secondary svelte-1csefqm">+ Add Project</button></div> <!></div></div> <div class="modal-footer svelte-1csefqm"><button class="btn btn-secondary svelte-1csefqm">Cancel</button> <button class="btn btn-primary svelte-1csefqm"> </button></div></div></div>'),rd=d('<div class="timesheet-container svelte-1csefqm"><div class="timesheet-header svelte-1csefqm"><h1>Timesheet</h1> <!></div> <!> <!> <div class="clock-section svelte-1csefqm"><div class="clock-display svelte-1csefqm"><div class="clock-status svelte-1csefqm"><div class="status-icon svelte-1csefqm"> </div> <div class="status-info svelte-1csefqm"><h3 class="svelte-1csefqm"> </h3> <p class="svelte-1csefqm"><!></p> <!></div></div></div> <div class="clock-actions svelte-1csefqm"><!></div></div> <div class="summary-cards svelte-1csefqm"><div class="card svelte-1csefqm"><h4>Regular Hours</h4> <div class="card-value svelte-1csefqm"> </div></div> <div class="card svelte-1csefqm"><h4>Overtime Hours</h4> <div class="card-value svelte-1csefqm"> </div></div> <div class="card svelte-1csefqm"><h4>PTO Hours</h4> <div class="card-value svelte-1csefqm"> </div></div> <div class="card svelte-1csefqm"><h4>Total Hours</h4> <div class="card-value svelte-1csefqm"> </div></div></div> <div class="actions-bar svelte-1csefqm"><div class="actions-left svelte-1csefqm"><button class="btn btn-primary svelte-1csefqm">+ Add Entry</button> <!></div> <!></div> <div class="entries-table svelte-1csefqm"><table class="svelte-1csefqm"><thead><tr><th class="svelte-1csefqm">Date</th><th class="svelte-1csefqm">Clock In</th><th class="svelte-1csefqm">Clock Out</th><th class="svelte-1csefqm">Break</th><th class="svelte-1csefqm">Total Hours</th><th class="svelte-1csefqm">Type</th><th class="svelte-1csefqm">Projects</th><th class="svelte-1csefqm">Status</th><th class="svelte-1csefqm">Actions</th></tr></thead><tbody class="svelte-1csefqm"><!></tbody></table></div> <!></div>');function id(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=Y(),g=Y(),_=$a();let p=null,u=Y(null),S=Y([]),C=Y([]),le=Y(!1),E=Y(""),T=Y(""),L=new Date().toISOString().split("T")[0],z=Y(!1),P=Y(null),R=Y({date:new Date().toISOString().split("T")[0],clock_in:"",clock_out:"",break_minutes:0,notes:"",type:"regular",projects:[]}),me=Y(!1),X=Y(""),re=Y("00:00:00"),Qe;sa(()=>{Je(),ht()});async function Je(){s(le,!0),s(E,"");try{await lt(),await Promise.all([ut(),ft()])}catch(M){s(E,M.message||"Failed to load data")}finally{s(le,!1)}}async function lt(){const M=await fetch("/api/timesheet/periods/current",{headers:{Authorization:`Bearer ${n().token}`}});if(!M.ok)throw new Error("Failed to load current period");s(u,await M.json())}async function ut(){var ee,Le;const M=((ee=e(u))==null?void 0:ee.start_date)||$t(),te=((Le=e(u))==null?void 0:Le.end_date)||Ae(),de=await fetch(`/api/timesheet/entries?start_date=${M}&end_date=${te}`,{headers:{Authorization:`Bearer ${n().token}`}});if(!de.ok)throw new Error("Failed to load time entries");const ce=await de.json();console.log("=== TIMESHEET DEBUG START ==="),console.log("Response status:",de.status),console.log("Response OK:",de.ok),console.log("RAW data:",ce),console.log("Data type:",typeof ce),console.log("Is Array:",Array.isArray(ce)),Array.isArray(ce)&&(console.log("Array length:",ce.length),ce.length>0&&(console.log("First entry:",ce[0]),console.log("First entry keys:",Object.keys(ce[0])))),console.log("=== TIMESHEET DEBUG END ==="),console.log("RAW response data:",ce),console.log("Is array?",Array.isArray(ce)),console.log("Data type:",typeof ce),ce&&typeof ce=="object"&&console.log("Data keys:",Object.keys(ce)),console.log("About to set timeEntries, data is:",ce),s(S,Array.isArray(ce)?[...ce]:[]),console.log("timeEntries set to:",e(S)),console.log("timeEntries length:",e(S).length)}async function ft(){const M=await fetch("/api/timesheet/projects?status=active",{headers:{Authorization:`Bearer ${n().token}`}});if(!M.ok)throw new Error("Failed to load projects");s(C,await M.json())}async function ht(){try{const M=await fetch("/api/timesheet/active",{headers:{Authorization:`Bearer ${n().token}`}});M.ok&&(p=await M.json(),p&&p.clock_in&&(s(me,!0),s(X,p.clock_in),At()))}catch(M){console.error("Failed to check active clock-in:",M)}}async function ot(){s(le,!0),s(E,"");try{const M=await fetch("/api/timesheet/clock-in",{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({notes:""})});if(!M.ok){const te=await M.json();throw new Error(te.error||"Failed to clock in")}p=await M.json(),s(me,!0),s(X,p.clock_in),At(),s(T,"Clocked in successfully!"),setTimeout(()=>s(T,""),3e3),await lt(),await ut()}catch(M){s(E,M.message)}finally{s(le,!1)}}async function rt(){var te;s(le,!0),s(E,"");const M=parseInt(prompt("Break duration in minutes:","0")||"0");try{const de=await fetch("/api/timesheet/clock-out",{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({break_duration:M,notes:""})});if(!de.ok){const ce=await de.json();throw new Error(ce.error||"Failed to clock out")}p=await de.json(),s(me,!1),it(),s(T,`Clocked out! Total: ${(te=p.total_hours)==null?void 0:te.toFixed(2)} hours`),setTimeout(()=>s(T,""),3e3),await lt(),await ut()}catch(de){s(E,de.message)}finally{s(le,!1)}}function At(){Qe&&clearInterval(Qe),Qe=window.setInterval(()=>{if(!e(X))return;const M=new Date(e(X)),de=new Date().getTime()-M.getTime(),ce=Math.floor(de/36e5),ee=Math.floor(de%36e5/6e4),Le=Math.floor(de%6e4/1e3);s(re,`${String(ce).padStart(2,"0")}:${String(ee).padStart(2,"0")}:${String(Le).padStart(2,"0")}`)},1e3)}function it(){Qe&&(clearInterval(Qe),Qe=0),s(re,"00:00:00")}async function ct(){if(s(le,!0),s(E,""),e(R).clock_in&&e(R).clock_out){const M=new Date(`${e(R).date}T${e(R).clock_in}:00`);if(new Date(`${e(R).date}T${e(R).clock_out}:00`)<=M){s(E,"Clock out time must be after clock in time"),s(le,!1);return}}try{const M=e(P)?`${_}/timesheet/entries/${e(P).id}`:`${_}/timesheet/entries`,te=e(P)?"PUT":"POST",de={...e(R),clock_in:e(R).clock_in?`${e(R).date}T${e(R).clock_in}:00Z`:null,clock_out:e(R).clock_out?`${e(R).date}T${e(R).clock_out}:00Z`:null,date:`${e(R).date}T00:00:00Z`},ce=await fetch(M,{method:te,headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(de)});if(!ce.ok){const ee=await ce.json();throw new Error(ee.error||"Failed to save entry")}s(T,e(P)?"Entry updated!":"Entry created!"),setTimeout(()=>s(T,""),3e3),pt(),await lt(),await ut()}catch(M){s(E,M.message)}finally{s(le,!1)}}async function yt(M){if(confirm("Delete this time entry?")){s(le,!0),s(E,"");try{if(!(await fetch(`/api/timesheet/entries/${M}`,{method:"DELETE",headers:{Authorization:`Bearer ${n().token}`}})).ok)throw new Error("Failed to delete entry");s(T,"Entry deleted!"),setTimeout(()=>s(T,""),3e3),await lt(),await ut()}catch(te){s(E,te.message)}finally{s(le,!1)}}}function dt(M){var te,de,ce;s(P,M),s(R,{entry_date:M.entry_date.split("T")[0],clock_in:((te=M.clock_in)==null?void 0:te.substring(11,16))||"",clock_out:((de=M.clock_out)==null?void 0:de.substring(11,16))||"",break_duration:M.break_duration,notes:M.notes,entry_type:M.type,projects:((ce=M.projects)==null?void 0:ce.map(ee=>({project_id:ee.project_id,hours:ee.hours,notes:ee.notes})))||[]}),s(z,!0)}function pt(){s(z,!1),s(P,null),s(R,{entry_date:new Date().toISOString().split("T")[0],clock_in:"",clock_out:"",break_duration:0,notes:"",entry_type:"regular",projects:[]})}function wt(){e(R).projects.push({project_id:"",hours:0,notes:""}),s(R,e(R))}function St(M){e(R).projects.splice(M,1),s(R,e(R))}async function qt(){if(e(u)&&confirm(`Submit timesheet period with ${e(S).length} entries for manager approval?`)){s(le,!0),s(E,"");try{if(!(await fetch(`/api/timesheet/periods/${e(u).id}/submit`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`}})).ok)throw new Error("Failed to submit timesheet");s(T,"Timesheet submitted for approval!"),setTimeout(()=>s(T,""),3e3),await lt()}catch(M){s(E,M.message)}finally{s(le,!1)}}}function $t(){const M=new Date(L),te=M.getDay(),de=M.getDate()-te;return new Date(M.setDate(de)).toISOString().split("T")[0]}function Ae(){const M=new Date(L),te=M.getDay(),de=M.getDate()+(6-te);return new Date(M.setDate(de)).toISOString().split("T")[0]}function Ne(M){const te=M.split("T")[0],[de,ce,ee]=te.split("-").map(Number);return new Date(de,ce-1,ee).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function ye(M){if(!M)return"-";try{let te=M;te.includes("T")?te=te.split("T")[1].split("Z")[0]:te.includes(" ")&&(te=te.split(" ")[1]);const[de,ce]=te.split(":").map(Number);if(isNaN(de)||isNaN(ce))return"-";const ee=de>=12?"PM":"AM";return`${(de%12||12).toString().padStart(2,"0")}:${ce.toString().padStart(2,"0")} ${ee}`}catch(te){return console.error("Error formatting time:",M,te),"-"}}Yt(()=>e(u),()=>{s(c,e(u))}),Yt(()=>e(S),()=>{s(g,e(S).filter(M=>{if(!M.date)return!1;const te=new Date(M.date);return!isNaN(te.getTime())&&te.getFullYear()>=2e3}))}),Yt(()=>e(S),()=>{s(g,e(S).filter(M=>{if(!M.date)return!1;const te=new Date(M.date);return!isNaN(te.getTime())&&te.getFullYear()>=2e3}))}),Yt(()=>e(g),()=>{console.log("Valid entries:",e(g).length,e(g))}),Yt(()=>e(u),()=>{s(c,e(u)?e(u).total_regular_hours+e(u).total_overtime_hours+e(u).total_pto_hours:0)}),Yt(()=>e(g),()=>{console.log("Valid entries:",e(g).length,e(g))}),za(),na();var He=rd(),Ce=t(He),fe=a(t(Ce),2);{var Oe=M=>{var te=Un(),de=t(te),ce=t(de),ee=a(de,2),Le=t(ee);x((Ee,$e)=>{l(ce,`${Ee??""} - ${$e??""}`),st(ee,1,`status-badge status-${e(u),r(()=>e(u).status)??""}`,"svelte-1csefqm"),l(Le,(e(u),r(()=>e(u).status)))},[()=>(e(u),r(()=>Ne(e(u).start_date))),()=>(e(u),r(()=>Ne(e(u).end_date)))]),v(M,te)};y(fe,M=>{e(u)&&M(Oe)})}var Ie=a(Ce,2);{var ke=M=>{var te=Wn(),de=t(te);x(()=>l(de,e(E))),v(M,te)};y(Ie,M=>{e(E)&&M(ke)})}var ge=a(Ie,2);{var Pe=M=>{var te=Hn(),de=t(te);x(()=>l(de,e(T))),v(M,te)};y(ge,M=>{e(T)&&M(Pe)})}var Be=a(ge,2),Xe=t(Be),Ge=t(Xe),We=t(Ge),be=t(We),f=a(We,2),D=t(f),H=t(D),xe=a(D,2),ne=t(xe);{var _e=M=>{var te=ha();x(de=>l(te,`Since ${de??""}`),[()=>(e(X),r(()=>ye(e(X))))]),v(M,te)},ze=M=>{var te=ha("Ready to clock in");v(M,te)};y(ne,M=>{e(me)&&e(X)?M(_e):M(ze,!1)})}var Me=a(xe,2);{var Z=M=>{var te=Jn(),de=t(te);x(()=>l(de,e(re))),v(M,te)};y(Me,M=>{e(me)&&M(Z)})}var De=a(Xe,2),ae=t(De);{var B=M=>{var te=Vn();te.__click=ot,x(()=>te.disabled=e(le)),v(M,te)},J=M=>{var te=Yn();te.__click=rt,x(()=>te.disabled=e(le)),v(M,te)};y(ae,M=>{e(me)?M(J,!1):M(B)})}var G=a(Be,2),$=t(G),j=a(t($),2),k=t(j),b=a($,2),F=a(t(b),2),A=t(F),q=a(b,2),w=a(t(q),2),N=t(w),K=a(q,2),I=a(t(K),2),oe=t(I),W=a(G,2),ve=t(W),Q=t(ve);Q.__click=()=>s(z,!0);var U=a(Q,2);{var V=M=>{var te=Gn();te.__click=qt;var de=t(te);x(()=>l(de,`ðŸ“‹ Submit Period for Approval (${e(S),r(()=>e(S).length)??""} entries)`)),v(M,te)};y(U,M=>{e(u),r(()=>{var te,de;return((te=e(u))==null?void 0:te.status)==="draft"||((de=e(u))==null?void 0:de.status)==="open"})&&M(V)})}var se=a(ve,2);{var ie=M=>{var te=Kn(),de=a(t(te),2),ce=t(de),ee=a(de,2),Le=t(ee);x((Ee,$e)=>{l(ce,`${Ee??""} - ${$e??""}`),st(ee,1,`status-badge status-${e(u),r(()=>e(u).status)??""}`,"svelte-1csefqm"),l(Le,(e(u),r(()=>e(u).status)))},[()=>(e(u),r(()=>Ne(e(u).start_date))),()=>(e(u),r(()=>Ne(e(u).end_date)))]),v(M,te)};y(se,M=>{e(u)&&M(ie)})}var we=a(W,2),pe=t(we),ue=a(t(pe)),Te=t(ue);{var he=M=>{var te=Qn(),de=t(te),ce=t(de),ee=t(ce),Le=a(ee),Ee=a(t(Le),2),$e=a(Ee,2),Re=a($e,2);x((Ze,Ve,Fe)=>{l(ee,`No time entries found. Total loaded: ${e(S),r(()=>e(S).length)??""}, Valid: ${e(g),r(()=>e(g).length)??""}. Add your first entry above! `),l(Ee,` timeEntries: ${Ze??""}`),l($e,` validEntries: ${Ve??""}`),l(Re,` currentPeriod: ${Fe??""}`)},[()=>(e(S),r(()=>JSON.stringify(e(S)))),()=>(e(g),r(()=>JSON.stringify(e(g)))),()=>(e(u),r(()=>JSON.stringify(e(u))))]),v(M,te)},qe=M=>{var te=Pt(),de=nt(te);_t(de,1,()=>e(g),bt,(ce,ee)=>{var Le=td(),Ee=t(Le),$e=t(Ee),Re=a(Ee),Ze=t(Re),Ve=a(Re),Fe=t(Ve),Ye=a(Ve),Ue=t(Ye),et=a(Ye),tt=t(et),Ke=a(et),vt=t(Ke),xt=t(vt),at=a(Ke),Bt=t(at);{var zt=Ot=>{var Rt=Zn();_t(Rt,5,()=>(e(ee),r(()=>e(ee).projects)),bt,(Wt,Nt)=>{var Vt=Xn(),Jt=t(Vt);x(()=>l(Jt,`${e(Nt),r(()=>e(Nt).project_name)??""} (${e(Nt),r(()=>e(Nt).hours)??""}h)`)),v(Wt,Vt)}),v(Ot,Rt)},Ft=Ot=>{var Rt=ha("-");v(Ot,Rt)};y(Bt,Ot=>{e(ee),r(()=>e(ee).projects&&e(ee).projects.length>0)?Ot(zt):Ot(Ft,!1)})}var Dt=a(at),Et=t(Dt),It=t(Et),Tt=a(Dt),Mt=t(Tt);{var Ct=Ot=>{var Rt=ed(),Wt=nt(Rt);Wt.__click=()=>dt(e(ee));var Nt=a(Wt,2);Nt.__click=()=>yt(e(ee).id),v(Ot,Rt)};y(Mt,Ot=>{e(ee),r(()=>e(ee).status==="draft")&&Ot(Ct)})}x((Ot,Rt,Wt,Nt)=>{l($e,Ot),l(Ze,Rt),l(Fe,Wt),l(Ue,`${e(ee),r(()=>e(ee).break_minutes)??""}m`),l(tt,Nt),st(vt,1,`entry-type-badge type-${e(ee),r(()=>e(ee).type)??""}`,"svelte-1csefqm"),l(xt,(e(ee),r(()=>e(ee).type))),st(Et,1,`status-badge status-${e(ee),r(()=>e(ee).status)??""}`,"svelte-1csefqm"),l(It,(e(ee),r(()=>e(ee).status)))},[()=>(e(ee),r(()=>Ne(e(ee).date))),()=>(e(ee),r(()=>ye(e(ee).clock_in))),()=>(e(ee),r(()=>ye(e(ee).clock_out))),()=>(e(ee),r(()=>{var Ot;return((Ot=e(ee).total_hours)==null?void 0:Ot.toFixed(2))||"-"}))]),v(ce,Le)}),v(M,te)};y(Te,M=>{e(g),r(()=>!e(g)||e(g).length===0)?M(he):M(qe,!1)})}var Se=a(we,2);{var je=M=>{var te=ld();te.__click=pt;var de=t(te);de.__click=Ht=>Ht.stopPropagation();var ce=t(de),ee=t(ce),Le=t(ee),Ee=a(ee,2);Ee.__click=pt;var $e=a(ce,2),Re=t($e),Ze=a(t(Re),2),Ve=a(Re,2),Fe=t(Ve),Ye=a(t(Fe),2),Ue=a(Fe,2),et=a(t(Ue),2),tt=a(Ve,2),Ke=t(tt),vt=a(t(Ke),2),xt=a(Ke,2),at=a(t(xt),2);x(()=>{e(R),Ut(()=>{})});var Bt=t(at);Bt.value=Bt.__value="regular";var zt=a(Bt);zt.value=zt.__value="overtime";var Ft=a(zt);Ft.value=Ft.__value="pto";var Dt=a(Ft);Dt.value=Dt.__value="sick";var Et=a(Dt);Et.value=Et.__value="holiday";var It=a(tt,2),Tt=a(t(It),2),Mt=a(It,2),Ct=t(Mt),Ot=a(t(Ct),2);Ot.__click=wt;var Rt=a(Ct,2);_t(Rt,1,()=>(e(R),r(()=>e(R).projects)),bt,(Ht,Qt,da)=>{var ya=sd(),ba=t(ya);x(()=>{e(Qt),Ut(()=>{e(C)})});var ga=t(ba);ga.value=ga.__value="";var xa=a(ga);_t(xa,1,()=>e(C),bt,(Ba,ma)=>{var Ja=ad(),Bs=t(Ja),tl={};x(()=>{l(Bs,`${e(ma),r(()=>e(ma).name)??""} (${e(ma),r(()=>e(ma).code)??""})`),tl!==(tl=(e(ma),r(()=>e(ma).id)))&&(Ja.value=(Ja.__value=(e(ma),r(()=>e(ma).id)))??"")}),v(Ba,Ja)});var La=a(ba,2),Oa=a(La,2);Oa.__click=()=>St(da),Lt(ba,()=>e(Qt).project_id,Ba=>(e(Qt).project_id=Ba,Ut(()=>e(R)))),kt(La,()=>e(Qt).hours,Ba=>(e(Qt).hours=Ba,Ut(()=>e(R)))),v(Ht,ya)});var Wt=a($e,2),Nt=t(Wt);Nt.__click=pt;var Vt=a(Nt,2);Vt.__click=ct;var Jt=t(Vt);x(()=>{l(Le,`${e(P)?"Edit":"Add"} Time Entry`),Vt.disabled=e(le),l(Jt,`${e(P)?"Update":"Save"} Entry`)}),kt(Ze,()=>e(R).date,Ht=>gt(R,e(R).date=Ht)),kt(Ye,()=>e(R).clock_in,Ht=>gt(R,e(R).clock_in=Ht)),kt(et,()=>e(R).clock_out,Ht=>gt(R,e(R).clock_out=Ht)),kt(vt,()=>e(R).break_minutes,Ht=>gt(R,e(R).break_minutes=Ht)),Lt(at,()=>e(R).type,Ht=>gt(R,e(R).type=Ht)),kt(Tt,()=>e(R).notes,Ht=>gt(R,e(R).notes=Ht)),v(M,te)};y(Se,M=>{e(z)&&M(je)})}x((M,te,de,ce)=>{l(be,e(me)?"ðŸŸ¢":"âšª"),l(H,e(me)?"Clocked In":"Not Clocked In"),l(k,M),l(A,te),l(N,de),l(oe,ce)},[()=>(e(u),r(()=>{var M;return(((M=e(u))==null?void 0:M.total_regular_hours)??0).toFixed(1)})),()=>(e(u),r(()=>{var M;return(((M=e(u))==null?void 0:M.total_overtime_hours)??0).toFixed(1)})),()=>(e(u),r(()=>{var M;return(((M=e(u))==null?void 0:M.total_pto_hours)??0).toFixed(1)})),()=>(e(c),r(()=>e(c).toFixed(1)))]),v(i,He),Zt(),h()}Pa(["click"]);var vd=d('<div class="alert alert-error svelte-1d1464v"><span class="alert-icon svelte-1d1464v">âš ï¸</span> </div>'),od=d('<div class="alert alert-success svelte-1d1464v"><span class="alert-icon svelte-1d1464v">âœ“</span> </div>'),nd=d('<div class="loading svelte-1d1464v"><div class="spinner svelte-1d1464v"></div> <p class="svelte-1d1464v">Loading your PTO information...</p></div>'),dd=d('<div class="balance-section svelte-1d1464v"><h2 class="svelte-1d1464v"> </h2> <div class="balance-cards svelte-1d1464v"><div class="balance-card vacation svelte-1d1464v"><div class="card-icon svelte-1d1464v">ðŸ–ï¸</div> <div class="card-content svelte-1d1464v"><h3 class="svelte-1d1464v">Vacation Days</h3> <div class="balance-amount svelte-1d1464v"> </div> <div class="card-label svelte-1d1464v">days available</div></div></div> <div class="balance-card sick svelte-1d1464v"><div class="card-icon svelte-1d1464v">ðŸ¥</div> <div class="card-content svelte-1d1464v"><h3 class="svelte-1d1464v">Sick Days</h3> <div class="balance-amount svelte-1d1464v"> </div> <div class="card-label svelte-1d1464v">days available</div></div></div> <div class="balance-card personal svelte-1d1464v"><div class="card-icon svelte-1d1464v">â°</div> <div class="card-content svelte-1d1464v"><h3 class="svelte-1d1464v">Personal Days</h3> <div class="balance-amount svelte-1d1464v"> </div> <div class="card-label svelte-1d1464v">days available</div></div></div> <div class="balance-card total svelte-1d1464v"><div class="card-icon svelte-1d1464v">ðŸ“Š</div> <div class="card-content svelte-1d1464v"><h3 class="svelte-1d1464v">Total Available</h3> <div class="balance-amount svelte-1d1464v"> </div> <div class="card-label svelte-1d1464v">days total</div></div></div></div></div>'),cd=d('<span class="balance-value svelte-1d1464v"> </span> vacation days',1),ud=d('<span class="balance-value svelte-1d1464v"> </span> sick days',1),pd=d('<span class="balance-value svelte-1d1464v"> </span> personal days',1),_d=d('<div class="balance-check svelte-1d1464v"><div class="balance-check-header svelte-1d1464v"><strong class="svelte-1d1464v">Available Balance</strong></div> <div class="balance-check-content svelte-1d1464v"><!></div></div>'),fd=d('<div class="modal-overlay svelte-1d1464v" role="button" tabindex="0"><div class="modal svelte-1d1464v" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1d1464v"><h2 class="svelte-1d1464v">Request Time Off</h2> <button class="close-btn svelte-1d1464v">Ã—</button></div> <form class="svelte-1d1464v"><div class="modal-body svelte-1d1464v"><div class="form-group svelte-1d1464v"><label for="pto-type" class="svelte-1d1464v">Time Off Type *</label> <select id="pto-type" required class="svelte-1d1464v"><option class="svelte-1d1464v">ðŸ–ï¸ Vacation</option><option class="svelte-1d1464v">ðŸ¥ Sick Leave</option><option class="svelte-1d1464v">â° Personal Day</option></select></div> <div class="form-row svelte-1d1464v"><div class="form-group svelte-1d1464v"><label for="start-date" class="svelte-1d1464v">Start Date *</label> <input id="start-date" type="date" required class="svelte-1d1464v"/></div> <div class="form-group svelte-1d1464v"><label for="end-date" class="svelte-1d1464v">End Date *</label> <input id="end-date" type="date" required class="svelte-1d1464v"/></div></div> <div class="form-group svelte-1d1464v"><label for="days-requested" class="svelte-1d1464v">Days Requested *</label> <input id="days-requested" type="number" step="0.5" min="0.5" required class="svelte-1d1464v"/> <small class="svelte-1d1464v">Business days calculated automatically (excluding weekends). You can adjust if needed.</small></div> <div class="form-group svelte-1d1464v"><label for="reason" class="svelte-1d1464v">Reason (Optional)</label> <textarea id="reason" rows="3" placeholder="Briefly explain your reason for this request..." class="svelte-1d1464v"></textarea></div> <!></div> <div class="modal-footer svelte-1d1464v"><button type="button" class="btn btn-secondary svelte-1d1464v">Cancel</button> <button type="submit" class="btn btn-primary svelte-1d1464v"> </button></div></form></div></div>'),bd=d('<div class="detail-item full-width svelte-1d1464v"><span class="detail-label svelte-1d1464v">Reason</span> <div class="detail-value reason svelte-1d1464v"> </div></div>'),md=d('<div class="review-item svelte-1d1464v"><span class="review-label svelte-1d1464v">Notes:</span> <span class="review-value svelte-1d1464v"> </span></div>'),hd=d('<div class="detail-item full-width review-section svelte-1d1464v"><span class="detail-label svelte-1d1464v">Review Information</span> <div class="review-info svelte-1d1464v"><div class="review-item svelte-1d1464v"><span class="review-label svelte-1d1464v">Reviewed by:</span> <span class="review-value svelte-1d1464v"> </span></div> <div class="review-item svelte-1d1464v"><span class="review-label svelte-1d1464v">Reviewed at:</span> <span class="review-value svelte-1d1464v"> </span></div> <!></div></div>'),yd=d('<div class="modal-overlay svelte-1d1464v" role="button" tabindex="0"><div class="modal modal-detail svelte-1d1464v" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1d1464v"><h2 class="svelte-1d1464v">Request Details</h2> <button class="close-btn svelte-1d1464v">Ã—</button></div> <div class="modal-body svelte-1d1464v"><div class="detail-grid svelte-1d1464v"><div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Type</span> <div class="detail-value svelte-1d1464v"><span> </span></div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Status</span> <div class="detail-value svelte-1d1464v"><span> </span></div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Start Date</span> <div class="detail-value svelte-1d1464v"> </div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">End Date</span> <div class="detail-value svelte-1d1464v"> </div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Days Requested</span> <div class="detail-value svelte-1d1464v"><strong class="svelte-1d1464v"> </strong></div></div> <div class="detail-item svelte-1d1464v"><span class="detail-label svelte-1d1464v">Submitted</span> <div class="detail-value svelte-1d1464v"> </div></div> <!> <!></div></div> <div class="modal-footer svelte-1d1464v"><button class="btn btn-secondary svelte-1d1464v">Close</button></div></div></div>'),gd=d('<button class="btn btn-primary svelte-1d1464v">Create Your First Request</button>'),xd=d('<button class="btn btn-secondary svelte-1d1464v">View All Requests</button>'),wd=d('<div class="empty-state svelte-1d1464v"><div class="empty-icon svelte-1d1464v">ðŸ“…</div> <h3 class="svelte-1d1464v"> </h3> <p class="svelte-1d1464v"> </p> <!></div>'),kd=d('<button class="btn-icon svelte-1d1464v" title="Has reason">ðŸ“</button>'),$d=d('<button class="btn-icon svelte-1d1464v" title="Has review notes">ðŸ’¬</button>'),jd=d('<tr class="clickable-row svelte-1d1464v"><td class="svelte-1d1464v"><span> </span></td><td class="svelte-1d1464v"> </td><td class="svelte-1d1464v"> </td><td class="svelte-1d1464v"><strong class="svelte-1d1464v"> </strong></td><td class="svelte-1d1464v"><span> </span></td><td class="svelte-1d1464v"> </td><td class="svelte-1d1464v"><div class="action-icons svelte-1d1464v"><!> <!> <button class="btn-icon svelte-1d1464v" title="View details">ðŸ‘ï¸</button></div></td></tr>'),Sd=d('<div class="requests-table svelte-1d1464v"><table class="svelte-1d1464v"><thead class="svelte-1d1464v"><tr class="svelte-1d1464v"><th class="svelte-1d1464v">Type</th><th class="svelte-1d1464v">Start Date</th><th class="svelte-1d1464v">End Date</th><th class="svelte-1d1464v">Days</th><th class="svelte-1d1464v">Status</th><th class="svelte-1d1464v">Submitted</th><th class="svelte-1d1464v">Actions</th></tr></thead><tbody class="svelte-1d1464v"></tbody></table></div>'),Ad=d('<!> <!> <!> <div class="requests-section svelte-1d1464v"><div class="section-header svelte-1d1464v"><div class="svelte-1d1464v"><h2 class="svelte-1d1464v">Your Time Off Requests</h2> <div class="request-stats svelte-1d1464v"><span class="stat svelte-1d1464v"><span class="stat-icon svelte-1d1464v">ðŸ“‹</span> </span> <span class="stat svelte-1d1464v"><span class="stat-icon svelte-1d1464v">â³</span> </span> <span class="stat svelte-1d1464v"><span class="stat-icon svelte-1d1464v">âœ“</span> </span></div></div> <div class="filter-group svelte-1d1464v"><label for="status-filter" class="svelte-1d1464v">Filter:</label> <select id="status-filter" class="svelte-1d1464v"><option class="svelte-1d1464v">All Requests</option><option class="svelte-1d1464v">Pending</option><option class="svelte-1d1464v">Approved</option><option class="svelte-1d1464v">Denied</option><option class="svelte-1d1464v">Cancelled</option></select></div></div> <!></div>',1),Ed=d('<div class="pto-container svelte-1d1464v"><div class="header svelte-1d1464v"><div class="svelte-1d1464v"><h1 class="svelte-1d1464v">Time Off Management</h1> <p class="subtitle svelte-1d1464v">Manage your paid time off requests and balance</p></div> <button class="btn btn-primary svelte-1d1464v"><span class="btn-icon svelte-1d1464v">+</span> Request Time Off</button></div> <!> <!> <!></div>');function Cd(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=Y(),g=Y(),_=Y(),p=Y();let u=Y(null),S=Y([]),C=Y(!1),le=Y(""),E=Y(""),T=Y(!1),L=Y({pto_type:"vacation",start_date:"",end_date:"",days_requested:0,reason:""}),z=Y(null),P=Y(!1),R=Y("all");sa(()=>{me()});async function me(){s(C,!0),s(le,"");try{await Promise.all([X(),re()])}catch(ye){s(le,ye.message||"Failed to load data")}finally{s(C,!1)}}async function X(){const ye=await fetch("/api/pto/balance",{headers:{Authorization:`Bearer ${n().token}`}});if(!ye.ok){const He=await ye.json().catch(()=>({}));throw new Error(He.error||"Failed to load PTO balance")}s(u,await ye.json())}async function re(){const ye=await fetch("/api/pto/requests",{headers:{Authorization:`Bearer ${n().token}`}});if(!ye.ok){const He=await ye.json().catch(()=>({}));throw new Error(He.error||"Failed to load PTO requests")}s(S,await ye.json()||[])}async function Qe(){if(s(C,!0),s(le,""),s(E,""),!e(L).start_date||!e(L).end_date){s(le,"Please select start and end dates"),s(C,!1);return}const ye=new Date(e(L).start_date);if(new Date(e(L).end_date)<ye){s(le,"End date must be after start date"),s(C,!1);return}if(e(L).days_requested<=0){s(le,"Days requested must be greater than 0"),s(C,!1);return}if(e(u)){let Ce=0;switch(e(L).pto_type){case"vacation":Ce=e(u).vacation_days;break;case"sick":Ce=e(u).sick_days;break;case"personal":Ce=e(u).personal_days;break}if(e(L).days_requested>Ce){s(le,`Insufficient balance. You have ${Ce.toFixed(1)} ${e(L).pto_type} days available.`),s(C,!1);return}}try{const Ce=await fetch("/api/pto/requests",{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(L))});if(!Ce.ok){const fe=await Ce.json();throw new Error(fe.error||"Failed to submit request")}s(E,"PTO request submitted successfully!"),setTimeout(()=>s(E,""),3e3),Je(),await me()}catch(Ce){s(le,Ce.message)}finally{s(C,!1)}}function Je(){s(T,!1),s(L,{pto_type:"vacation",start_date:"",end_date:"",days_requested:0,reason:""})}function lt(){if(!e(L).start_date||!e(L).end_date)return;const ye=new Date(e(L).start_date),He=new Date(e(L).end_date);if(He<ye){s(le,"End date must be after start date"),gt(L,e(L).days_requested=0);return}let Ce=0;const fe=new Date(ye);for(;fe<=He;){const Oe=fe.getDay();Oe!==0&&Oe!==6&&Ce++,fe.setDate(fe.getDate()+1)}gt(L,e(L).days_requested=Ce),s(le,"")}function ut(ye){s(z,ye),s(P,!0)}function ft(){s(z,null),s(P,!1)}function ht(ye){return new Date(ye).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function ot(ye){return new Date(ye).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function rt(ye){switch(ye){case"approved":return"status-approved";case"denied":return"status-denied";case"pending":return"status-pending";case"cancelled":return"status-cancelled";default:return""}}function At(ye){return ye.charAt(0).toUpperCase()+ye.slice(1)}function it(ye){switch(ye){case"vacation":return"ðŸ–ï¸";case"sick":return"ðŸ¥";case"personal":return"â°";default:return"ðŸ“…"}}Yt(()=>e(u),()=>{s(c,e(u)?e(u).vacation_days+e(u).sick_days+e(u).personal_days:0)}),Yt(()=>(e(R),e(S)),()=>{s(g,e(R)==="all"?e(S):e(S).filter(ye=>ye.status===e(R)))}),Yt(()=>e(S),()=>{s(_,e(S).filter(ye=>ye.status==="pending").length)}),Yt(()=>e(S),()=>{s(p,e(S).filter(ye=>ye.status==="approved").length)}),za(),na();var ct=Ed(),yt=t(ct),dt=a(t(yt),2),pt=a(yt,2);{var wt=ye=>{var He=vd(),Ce=a(t(He));x(()=>l(Ce,` ${e(le)??""}`)),v(ye,He)};y(pt,ye=>{e(le)&&ye(wt)})}var St=a(pt,2);{var qt=ye=>{var He=od(),Ce=a(t(He));x(()=>l(Ce,` ${e(E)??""}`)),v(ye,He)};y(St,ye=>{e(E)&&ye(qt)})}var $t=a(St,2);{var Ae=ye=>{var He=nd();v(ye,He)},Ne=ye=>{var He=Ad(),Ce=nt(He);{var fe=$=>{var j=dd(),k=t(j),b=t(k),F=a(k,2),A=t(F),q=a(t(A),2),w=a(t(q),2),N=t(w),K=a(A,2),I=a(t(K),2),oe=a(t(I),2),W=t(oe),ve=a(K,2),Q=a(t(ve),2),U=a(t(Q),2),V=t(U),se=a(ve,2),ie=a(t(se),2),we=a(t(ie),2),pe=t(we);x((ue,Te,he,qe)=>{l(b,`Your PTO Balance (${e(u),r(()=>e(u).year)??""})`),l(N,ue),l(W,Te),l(V,he),l(pe,qe)},[()=>(e(u),r(()=>e(u).vacation_days.toFixed(1))),()=>(e(u),r(()=>e(u).sick_days.toFixed(1))),()=>(e(u),r(()=>e(u).personal_days.toFixed(1))),()=>(e(c),r(()=>e(c).toFixed(1)))]),v($,j)};y(Ce,$=>{e(u)&&$(fe)})}var Oe=a(Ce,2);{var Ie=$=>{var j=fd(),k=t(j),b=t(k),F=a(t(b),2),A=a(b,2),q=t(A),w=t(q),N=a(t(w),2);x(()=>{e(L),Ut(()=>{})});var K=t(N);K.value=K.__value="vacation";var I=a(K);I.value=I.__value="sick";var oe=a(I);oe.value=oe.__value="personal";var W=a(w,2),ve=t(W),Q=a(t(ve),2),U=a(ve,2),V=a(t(U),2),se=a(W,2),ie=a(t(se),2),we=a(se,2),pe=a(t(we),2),ue=a(we,2);{var Te=M=>{var te=_d(),de=a(t(te),2),ce=t(de);{var ee=Ee=>{var $e=cd(),Re=nt($e),Ze=t(Re);x(Ve=>l(Ze,Ve),[()=>(e(u),r(()=>e(u).vacation_days.toFixed(1)))]),v(Ee,$e)},Le=Ee=>{var $e=Pt(),Re=nt($e);{var Ze=Fe=>{var Ye=ud(),Ue=nt(Ye),et=t(Ue);x(tt=>l(et,tt),[()=>(e(u),r(()=>e(u).sick_days.toFixed(1)))]),v(Fe,Ye)},Ve=Fe=>{var Ye=pd(),Ue=nt(Ye),et=t(Ue);x(tt=>l(et,tt),[()=>(e(u),r(()=>e(u).personal_days.toFixed(1)))]),v(Fe,Ye)};y(Re,Fe=>{e(L),r(()=>e(L).pto_type==="sick")?Fe(Ze):Fe(Ve,!1)},!0)}v(Ee,$e)};y(ce,Ee=>{e(L),r(()=>e(L).pto_type==="vacation")?Ee(ee):Ee(Le,!1)})}v(M,te)};y(ue,M=>{e(u)&&M(Te)})}var he=a(q,2),qe=t(he),Se=a(qe,2),je=t(Se);x(()=>{Se.disabled=e(C),l(je,e(C)?"Submitting...":"Submit Request")}),O("click",F,Je),Lt(N,()=>e(L).pto_type,M=>gt(L,e(L).pto_type=M)),kt(Q,()=>e(L).start_date,M=>gt(L,e(L).start_date=M)),O("change",Q,lt),kt(V,()=>e(L).end_date,M=>gt(L,e(L).end_date=M)),O("change",V,lt),kt(ie,()=>e(L).days_requested,M=>gt(L,e(L).days_requested=M)),kt(pe,()=>e(L).reason,M=>gt(L,e(L).reason=M)),O("click",qe,Je),O("submit",A,qs(Qe)),O("click",k,Gt(function(M){aa.call(this,o,M)})),O("keydown",k,Gt(function(M){aa.call(this,o,M)})),O("click",j,Je),O("keydown",j,M=>M.key==="Escape"&&Je()),v($,j)};y(Oe,$=>{e(T)&&$(Ie)})}var ke=a(Oe,2);{var ge=$=>{var j=yd(),k=t(j),b=t(k),F=a(t(b),2),A=a(b,2),q=t(A),w=t(q),N=a(t(w),2),K=t(N),I=t(K),oe=a(w,2),W=a(t(oe),2),ve=t(W),Q=t(ve),U=a(oe,2),V=a(t(U),2),se=t(V),ie=a(U,2),we=a(t(ie),2),pe=t(we),ue=a(ie,2),Te=a(t(ue),2),he=t(Te),qe=t(he),Se=a(ue,2),je=a(t(Se),2),M=t(je),te=a(Se,2);{var de=$e=>{var Re=bd(),Ze=a(t(Re),2),Ve=t(Ze);x(()=>l(Ve,(e(z),r(()=>e(z).reason)))),v($e,Re)};y(te,$e=>{e(z),r(()=>e(z).reason)&&$e(de)})}var ce=a(te,2);{var ee=$e=>{var Re=hd(),Ze=a(t(Re),2),Ve=t(Ze),Fe=a(t(Ve),2),Ye=t(Fe),Ue=a(Ve,2),et=a(t(Ue),2),tt=t(et),Ke=a(Ue,2);{var vt=xt=>{var at=md(),Bt=a(t(at),2),zt=t(Bt);x(()=>l(zt,(e(z),r(()=>e(z).review_notes)))),v(xt,at)};y(Ke,xt=>{e(z),r(()=>e(z).review_notes)&&xt(vt)})}x(xt=>{l(Ye,(e(z),r(()=>e(z).reviewer_name||"Manager"))),l(tt,xt)},[()=>(e(z),r(()=>ot(e(z).reviewed_at||"")))]),v($e,Re)};y(ce,$e=>{e(z),r(()=>e(z).reviewed_by)&&$e(ee)})}var Le=a(A,2),Ee=t(Le);x(($e,Re,Ze,Ve,Fe,Ye)=>{st(K,1,`type-badge type-${e(z),r(()=>e(z).pto_type)??""}`,"svelte-1d1464v"),l(I,`${$e??""} ${Re??""}`),st(ve,1,`status-badge ${Ze??""}`,"svelte-1d1464v"),l(Q,(e(z),r(()=>e(z).status))),l(se,Ve),l(pe,Fe),l(qe,(e(z),r(()=>e(z).days_requested))),l(M,Ye)},[()=>(e(z),r(()=>it(e(z).pto_type))),()=>(e(z),r(()=>At(e(z).pto_type))),()=>(e(z),r(()=>rt(e(z).status))),()=>(e(z),r(()=>ht(e(z).start_date))),()=>(e(z),r(()=>ht(e(z).end_date))),()=>(e(z),r(()=>ot(e(z).created_at)))]),O("click",F,ft),O("click",Ee,ft),O("click",k,Gt(function($e){aa.call(this,o,$e)})),O("keydown",k,Gt(function($e){aa.call(this,o,$e)})),O("click",j,ft),O("keydown",j,$e=>$e.key==="Escape"&&ft()),v($,j)};y(ke,$=>{e(P)&&e(z)&&$(ge)})}var Pe=a(ke,2),Be=t(Pe),Xe=t(Be),Ge=a(t(Xe),2),We=t(Ge),be=a(t(We)),f=a(We,2),D=a(t(f)),H=a(f,2),xe=a(t(H)),ne=a(Xe,2),_e=a(t(ne),2);x(()=>{e(R),Ut(()=>{})});var ze=t(_e);ze.value=ze.__value="all";var Me=a(ze);Me.value=Me.__value="pending";var Z=a(Me);Z.value=Z.__value="approved";var De=a(Z);De.value=De.__value="denied";var ae=a(De);ae.value=ae.__value="cancelled";var B=a(Be,2);{var J=$=>{var j=wd(),k=a(t(j),2),b=t(k),F=a(k,2),A=t(F),q=a(F,2);{var w=K=>{var I=gd();O("click",I,()=>s(T,!0)),v(K,I)},N=K=>{var I=xd();O("click",I,()=>s(R,"all")),v(K,I)};y(q,K=>{e(R)==="all"?K(w):K(N,!1)})}x(()=>{l(b,e(R)==="all"?"No Time Off Requests":`No ${e(R)} requests`),l(A,e(R)==="all"?"You haven't submitted any time off requests yet.":`You don't have any ${e(R)} requests.`)}),v($,j)},G=$=>{var j=Sd(),k=t(j),b=a(t(k));_t(b,5,()=>e(g),bt,(F,A)=>{var q=jd(),w=t(q),N=t(w),K=t(N),I=a(w),oe=t(I),W=a(I),ve=t(W),Q=a(W),U=t(Q),V=t(U),se=a(Q),ie=t(se),we=t(ie),pe=a(se),ue=t(pe),Te=a(pe),he=t(Te),qe=t(he);{var Se=de=>{var ce=kd();O("click",ce,Gt(function(ee){aa.call(this,o,ee)})),v(de,ce)};y(qe,de=>{e(A),r(()=>e(A).reason)&&de(Se)})}var je=a(qe,2);{var M=de=>{var ce=$d();O("click",ce,Gt(function(ee){aa.call(this,o,ee)})),v(de,ce)};y(je,de=>{e(A),r(()=>e(A).review_notes)&&de(M)})}var te=a(je,2);x((de,ce,ee,Le,Ee,$e)=>{st(N,1,`type-badge type-${e(A),r(()=>e(A).pto_type)??""}`,"svelte-1d1464v"),l(K,`${de??""} ${ce??""}`),l(oe,ee),l(ve,Le),l(V,(e(A),r(()=>e(A).days_requested))),st(ie,1,`status-badge ${Ee??""}`,"svelte-1d1464v"),l(we,(e(A),r(()=>e(A).status))),l(ue,$e)},[()=>(e(A),r(()=>it(e(A).pto_type))),()=>(e(A),r(()=>At(e(A).pto_type))),()=>(e(A),r(()=>ht(e(A).start_date))),()=>(e(A),r(()=>ht(e(A).end_date))),()=>(e(A),r(()=>rt(e(A).status))),()=>(e(A),r(()=>ht(e(A).created_at)))]),O("click",te,Gt(()=>ut(e(A)))),O("click",q,()=>ut(e(A))),v(F,q)}),v($,j)};y(B,$=>{e(g),r(()=>e(g).length===0)?$(J):$(G,!1)})}x(()=>{l(be,` ${e(S),r(()=>e(S).length)??""} total`),l(D,` ${e(_)??""} pending`),l(xe,` ${e(p)??""} approved`)}),Lt(_e,()=>e(R),$=>s(R,$)),v(ye,He)};y($t,ye=>{e(C)&&!e(u)?ye(Ae):ye(Ne,!1)})}O("click",dt,()=>s(T,!0)),v(i,ct),Zt(),h()}const Ul={token:null,user:null,isAuthenticated:!1,loading:!1,error:null};function Dd(){const{subscribe:i,set:o,update:n}=Rr(Ul);if(typeof window<"u"){const m=localStorage.getItem("auth_token"),h=localStorage.getItem("auth_user");if(m&&h)try{const c=JSON.parse(h);o({token:m,user:c,isAuthenticated:!0,loading:!1,error:null})}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")}}return{subscribe:i,login:async(m,h)=>{n(c=>({...c,loading:!0,error:null}));try{const c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,password:h})});if(!c.ok){const _=await c.json();throw new Error(_.message||"Login failed")}const g=await c.json();return typeof window<"u"&&(localStorage.setItem("auth_token",g.token),localStorage.setItem("auth_user",JSON.stringify(g.user))),n(_=>({..._,token:g.token,user:g.user,isAuthenticated:!0,loading:!1,error:null})),g}catch(c){const g=c instanceof Error?c.message:"Login failed";throw n(_=>({..._,loading:!1,error:g})),c}},logout:()=>{typeof window<"u"&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")),o(Ul)},register:async m=>{n(h=>({...h,loading:!0,error:null}));try{const h=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!h.ok){const g=await h.json();throw new Error(g.message||"Registration failed")}const c=await h.json();return typeof window<"u"&&(localStorage.setItem("auth_token",c.token),localStorage.setItem("auth_user",JSON.stringify(c.user))),n(g=>({...g,token:c.token,user:c.user,isAuthenticated:!0,loading:!1,error:null})),c}catch(h){const c=h instanceof Error?h.message:"Registration failed";throw n(g=>({...g,loading:!1,error:c})),h}},updateUser:m=>{typeof window<"u"&&localStorage.setItem("auth_user",JSON.stringify(m)),n(h=>({...h,user:m}))},clearError:()=>{n(m=>({...m,error:null}))},setLoading:m=>{n(h=>({...h,loading:m}))},checkAuth:async()=>{n(m=>({...m,loading:!0}));try{const m=typeof window<"u"?localStorage.getItem("auth_token"):null;if(!m)return n(g=>({...Ul,loading:!1})),!1;const h=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${m}`}});if(!h.ok)throw new Error("Invalid token");const c=await h.json();return n(g=>({...g,user:c,isAuthenticated:!0,loading:!1})),!0}catch{return typeof window<"u"&&(localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user")),n(h=>({...Ul,loading:!1})),!1}}}}const el=Dd();Fl(el,i=>i.isAuthenticated);Fl(el,i=>i.user);Fl(el,i=>i.token);Fl(el,i=>i.loading);Fl(el,i=>i.error);var zd=d('<div class="alert alert-error svelte-1abjx7r"><span> </span> <button class="svelte-1abjx7r">âœ•</button></div>'),Pd=d('<div class="alert alert-success svelte-1abjx7r"><span> </span> <button class="svelte-1abjx7r">âœ•</button></div>'),Td=d('<div class="loading-spinner svelte-1abjx7r"><div class="spinner svelte-1abjx7r"></div> <p>Loading benefits...</p></div>'),qd=d("<option> </option>"),Md=d('<span class="badge badge-outline svelte-1abjx7r"> </span>'),Bd=d('<div class="plan-details-quick svelte-1abjx7r"><div class="detail-row svelte-1abjx7r"><span class="svelte-1abjx7r">Deductible (Single):</span> <strong> </strong></div> <div class="detail-row svelte-1abjx7r"><span class="svelte-1abjx7r">PCP Copay:</span> <strong> </strong></div> <div class="detail-row svelte-1abjx7r"><span class="svelte-1abjx7r">Specialist Copay:</span> <strong> </strong></div></div>'),Id=d('<div class="plan-card svelte-1abjx7r"><div class="plan-header svelte-1abjx7r"><div class="plan-icon svelte-1abjx7r"> </div> <div class="plan-title svelte-1abjx7r"><h3 class="svelte-1abjx7r"> </h3> <p class="plan-provider svelte-1abjx7r"> </p> <span class="badge badge-info svelte-1abjx7r"> </span> <!></div></div> <div class="plan-body svelte-1abjx7r"><p class="plan-description svelte-1abjx7r"> </p> <div class="plan-costs svelte-1abjx7r"><div class="cost-item svelte-1abjx7r"><span class="cost-label svelte-1abjx7r">Your Cost (Annual)</span> <span class="cost-value svelte-1abjx7r"> </span></div> <div class="cost-item svelte-1abjx7r"><span class="cost-label svelte-1abjx7r">Employer Contribution</span> <span class="cost-value employer svelte-1abjx7r"> </span></div> <div class="cost-item total svelte-1abjx7r"><span class="cost-label svelte-1abjx7r">Monthly Deduction</span> <span class="cost-value svelte-1abjx7r"> </span></div></div> <!></div> <div class="plan-footer svelte-1abjx7r"><button class="btn btn-outline btn-sm svelte-1abjx7r">View Details</button> <button class="btn btn-primary btn-sm svelte-1abjx7r">Enroll</button></div></div>'),Rd=d('<div class="empty-state svelte-1abjx7r"><p>No plans available in this category</p></div>'),Fd=d('<div class="plans-section"><div class="filter-bar svelte-1abjx7r"><label>Filter by category: <select class="svelte-1abjx7r"><option>All Categories</option><!></select></label></div> <div class="plans-grid svelte-1abjx7r"><!> <!></div></div>'),Ld=d(`<div class="empty-state svelte-1abjx7r"><div class="empty-icon svelte-1abjx7r">ðŸ“‹</div> <h3 class="svelte-1abjx7r">No Enrollments</h3> <p>You haven't enrolled in any benefits yet</p> <button class="btn btn-primary svelte-1abjx7r">Browse Available Plans</button></div>`),Od=d('<div class="dependent-card svelte-1abjx7r"><div class="dependent-icon svelte-1abjx7r"> </div> <div class="dependent-info svelte-1abjx7r"><strong class="svelte-1abjx7r"> </strong> <span class="dependent-relationship svelte-1abjx7r"> </span> <span class="dependent-dob svelte-1abjx7r"> </span></div></div>'),Nd=d('<div class="dependents-section svelte-1abjx7r"><h4 class="svelte-1abjx7r">Covered Dependents</h4> <div class="dependents-list svelte-1abjx7r"></div></div>'),Ud=d('<div class="enrollment-footer svelte-1abjx7r"><button class="btn btn-error btn-sm svelte-1abjx7r">Cancel Enrollment</button></div>'),Wd=d('<div class="termination-notice svelte-1abjx7r"> </div>'),Hd=d('<div class="enrollment-card svelte-1abjx7r"><div class="enrollment-header svelte-1abjx7r"><div><h3 class="svelte-1abjx7r"> </h3> <p class="enrollment-category svelte-1abjx7r"> </p></div> <span> </span></div> <div class="enrollment-body svelte-1abjx7r"><div class="enrollment-info-grid svelte-1abjx7r"><div class="info-item svelte-1abjx7r"><span class="info-label svelte-1abjx7r">Coverage Level</span> <span class="info-value svelte-1abjx7r"> </span></div> <div class="info-item svelte-1abjx7r"><span class="info-label svelte-1abjx7r">Effective Date</span> <span class="info-value svelte-1abjx7r"> </span></div> <div class="info-item svelte-1abjx7r"><span class="info-label svelte-1abjx7r">Your Annual Cost</span> <span class="info-value svelte-1abjx7r"> </span></div> <div class="info-item svelte-1abjx7r"><span class="info-label svelte-1abjx7r">Monthly Deduction</span> <span class="info-value svelte-1abjx7r"> </span></div></div> <!></div> <!> <!></div>'),Jd=d('<div class="enrollments-list svelte-1abjx7r"></div>'),Vd=d('<div class="enrollments-section"><!></div>'),Yd=d('<div class="breakdown-row svelte-1abjx7r"><div class="breakdown-category svelte-1abjx7r"><span class="category-icon svelte-1abjx7r"> </span> <span class="category-name svelte-1abjx7r"> </span> <span class="category-count svelte-1abjx7r"> </span></div> <div class="breakdown-costs svelte-1abjx7r"><span class="breakdown-annual svelte-1abjx7r"> </span> <span class="breakdown-monthly svelte-1abjx7r"> </span></div></div>'),Gd=d('<div class="summary-cards svelte-1abjx7r"><div class="summary-card svelte-1abjx7r"><div class="summary-icon svelte-1abjx7r">ðŸ“Š</div> <div class="summary-content svelte-1abjx7r"><h3 class="svelte-1abjx7r"> </h3> <p class="svelte-1abjx7r">Active Enrollments</p></div></div> <div class="summary-card svelte-1abjx7r"><div class="summary-icon svelte-1abjx7r">ðŸ’°</div> <div class="summary-content svelte-1abjx7r"><h3 class="svelte-1abjx7r"> </h3> <p class="svelte-1abjx7r">Your Annual Cost</p></div></div> <div class="summary-card svelte-1abjx7r"><div class="summary-icon svelte-1abjx7r">ðŸ¢</div> <div class="summary-content svelte-1abjx7r"><h3 class="svelte-1abjx7r"> </h3> <p class="svelte-1abjx7r">Employer Contribution</p></div></div> <div class="summary-card svelte-1abjx7r"><div class="summary-icon svelte-1abjx7r">ðŸ“…</div> <div class="summary-content svelte-1abjx7r"><h3 class="svelte-1abjx7r"> </h3> <p class="svelte-1abjx7r">Monthly Deduction</p></div></div></div> <div class="summary-breakdown svelte-1abjx7r"><h3 class="svelte-1abjx7r">Cost Breakdown by Category</h3> <div class="breakdown-table svelte-1abjx7r"></div></div>',1),Kd=d('<div class="empty-state svelte-1abjx7r"><p>No summary data available</p></div>'),Qd=d('<div class="summary-section"><!></div>'),Xd=d('<div class="cost-calculation svelte-1abjx7r"><h4 class="svelte-1abjx7r">Cost Calculation</h4> <div class="cost-grid svelte-1abjx7r"><div class="cost-row svelte-1abjx7r"><span>Your Annual Cost:</span> <strong> </strong></div> <div class="cost-row svelte-1abjx7r"><span>Employer Contribution:</span> <strong class="text-success svelte-1abjx7r"> </strong></div> <div class="cost-row svelte-1abjx7r"><span>Total Annual Cost:</span> <strong> </strong></div> <div class="cost-row highlight svelte-1abjx7r"><span>Monthly Payroll Deduction:</span> <strong> </strong></div></div></div>'),Zd=d('<div class="dependent-form-card svelte-1abjx7r"><div class="dependent-form-header svelte-1abjx7r"><h5 class="svelte-1abjx7r"></h5> <button class="btn btn-ghost btn-xs svelte-1abjx7r">Remove</button></div> <div class="form-grid svelte-1abjx7r"><div class="form-control svelte-1abjx7r"><label class="label svelte-1abjx7r"><span class="label-text svelte-1abjx7r">First Name *</span></label> <input type="text" class="input input-bordered input-sm svelte-1abjx7r" required/></div> <div class="form-control svelte-1abjx7r"><label class="label svelte-1abjx7r"><span class="label-text svelte-1abjx7r">Last Name *</span></label> <input type="text" class="input input-bordered input-sm svelte-1abjx7r" required/></div> <div class="form-control svelte-1abjx7r"><label class="label svelte-1abjx7r"><span class="label-text svelte-1abjx7r">Relationship *</span></label> <select class="select select-bordered select-sm svelte-1abjx7r"><option>Spouse</option><option>Child</option><option>Domestic Partner</option><option>Parent</option></select></div> <div class="form-control svelte-1abjx7r"><label class="label svelte-1abjx7r"><span class="label-text svelte-1abjx7r">Date of Birth *</span></label> <input type="date" class="input input-bordered input-sm svelte-1abjx7r" required/></div> <div class="form-control col-span-2 svelte-1abjx7r"><label class="label svelte-1abjx7r"><span class="label-text svelte-1abjx7r">SSN (Optional)</span></label> <input type="text" placeholder="XXX-XX-XXXX" class="input input-bordered input-sm svelte-1abjx7r" maxlength="11"/></div></div></div>'),ec=d('<p class="text-muted text-sm svelte-1abjx7r">Please add at least one dependent for this coverage level</p>'),tc=d('<div class="dependents-form svelte-1abjx7r"><div class="dependents-header svelte-1abjx7r"><h4 class="svelte-1abjx7r">Dependents</h4> <button class="btn btn-sm btn-outline svelte-1abjx7r">+ Add Dependent</button></div> <!> <!></div>'),ac=d('<div class="modal modal-open svelte-1abjx7r"><div class="modal-box max-w-3xl svelte-1abjx7r"><h3 class="font-bold text-lg mb-4"> </h3> <div class="enrollment-form svelte-1abjx7r"><div class="form-control svelte-1abjx7r"><label class="label svelte-1abjx7r" for="coverage-level"><span class="label-text svelte-1abjx7r">Coverage Level *</span></label> <select id="coverage-level" class="select select-bordered w-full svelte-1abjx7r"><option>Employee Only</option><option>Employee + Spouse</option><option>Employee + Child(ren)</option><option>Family</option></select></div> <div class="form-control svelte-1abjx7r"><label class="label svelte-1abjx7r" for="effective-date"><span class="label-text svelte-1abjx7r">Effective Date *</span></label> <input id="effective-date" type="date" class="input input-bordered w-full svelte-1abjx7r"/></div> <!> <!></div> <div class="modal-action svelte-1abjx7r"><button class="btn svelte-1abjx7r">Cancel</button> <button class="btn btn-primary svelte-1abjx7r"> </button></div></div></div>'),sc=d('<div class="detail-section svelte-1abjx7r"><h4 class="svelte-1abjx7r">Coverage Details</h4> <div class="detail-grid svelte-1abjx7r"><div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Deductible (Single):</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Deductible (Family):</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Out-of-Pocket Max (Single):</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Out-of-Pocket Max (Family):</strong> </div></div></div> <div class="detail-section svelte-1abjx7r"><h4 class="svelte-1abjx7r">Copays</h4> <div class="detail-grid svelte-1abjx7r"><div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Primary Care:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Specialist:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Emergency Room:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Coinsurance Rate:</strong> </div></div></div>',1),lc=d('<div class="modal modal-open svelte-1abjx7r"><div class="modal-box max-w-2xl svelte-1abjx7r"><h3 class="font-bold text-lg mb-4"> </h3> <div class="plan-details-full svelte-1abjx7r"><div class="detail-section svelte-1abjx7r"><h4 class="svelte-1abjx7r">Provider Information</h4> <div class="detail-grid svelte-1abjx7r"><div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Provider:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Plan Type:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Category:</strong> </div></div></div> <div class="detail-section svelte-1abjx7r"><h4 class="svelte-1abjx7r">Description</h4> <p> </p></div> <div class="detail-section svelte-1abjx7r"><h4 class="svelte-1abjx7r">Cost Information</h4> <div class="detail-grid svelte-1abjx7r"><div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Employee Annual Cost:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Employer Contribution:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Monthly Deduction:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Total Annual Cost:</strong> </div></div></div> <!> <div class="detail-section svelte-1abjx7r"><h4 class="svelte-1abjx7r">Enrollment Period</h4> <div class="detail-grid svelte-1abjx7r"><div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Enrollment Start:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Enrollment End:</strong> </div> <div class="svelte-1abjx7r"><strong class="svelte-1abjx7r">Coverage Effective:</strong> </div></div></div></div> <div class="modal-action svelte-1abjx7r"><button class="btn svelte-1abjx7r">Close</button> <button class="btn btn-primary svelte-1abjx7r">Enroll in This Plan</button></div></div></div>'),rc=d('<div class="benefits-container svelte-1abjx7r"><div class="benefits-header svelte-1abjx7r"><h1 class="svelte-1abjx7r">Benefits</h1> <p class="text-muted svelte-1abjx7r">Manage your health and welfare benefits</p></div> <!> <!> <div class="tabs svelte-1abjx7r"><button>Available Plans</button> <button>My Enrollments</button> <button>Summary</button></div> <div class="tab-content"><!></div></div> <!> <!>',1);function ic(i,o){Xt(o,!1);const n=()=>_a(el,"$authStore",m),[m,h]=fa(),c=Y(),g=Y(),_=Y();let p=Y(!1),u=Y(""),S=Y(""),C=Y("plans"),le=Y([]),E=Y([]),T=Y(null),L=Y(!1),z=Y(null),P=Y("employee"),R=Y(""),me=Y([]),X=Y(!1),re=Y(null),Qe=Y("all");const Je={employee:1,employee_spouse:1.5,employee_child:1.3,family:2};async function lt(){try{s(p,!0),s(u,"");const f=await fetch("/api/benefits/plans?active=true",{headers:{Authorization:`Bearer ${n().token}`}});if(!f.ok)throw new Error("Failed to load plans");s(le,await f.json())}catch(f){s(u,f.message)}finally{s(p,!1)}}async function ut(){try{s(p,!0),s(u,"");const f=await fetch("/api/benefits/enrollments",{headers:{Authorization:`Bearer ${n().token}`}});if(!f.ok)throw new Error("Failed to load enrollments");s(E,await f.json())}catch(f){s(u,f.message)}finally{s(p,!1)}}async function ft(){try{s(p,!0),s(u,"");const f=await fetch("/api/benefits/summary",{headers:{Authorization:`Bearer ${n().token}`}});if(!f.ok)throw new Error("Failed to load summary");s(T,await f.json())}catch(f){s(u,f.message)}finally{s(p,!1)}}async function ht(){try{if(s(p,!0),s(u,""),s(S,""),!e(z)){s(u,"Please select a plan");return}if(!e(R)){s(u,"Please select an effective date");return}if((e(P)==="employee_spouse"||e(P)==="family")&&!e(me).some(H=>H.relationship==="spouse")){s(u,"Spouse coverage requires at least one spouse dependent");return}if((e(P)==="employee_child"||e(P)==="family")&&!e(me).some(H=>H.relationship==="child")){s(u,"Child coverage requires at least one child dependent");return}const f=await fetch("/api/benefits/enrollments",{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({plan_id:e(z).id,coverage_level:e(P),effective_date:e(R),dependents:e(me).map(D=>({first_name:D.first_name,last_name:D.last_name,relationship:D.relationship,date_of_birth:D.date_of_birth,ssn:D.ssn||""}))})});if(!f.ok){const D=await f.json();throw new Error(D.error||"Failed to create enrollment")}s(S,"Enrollment created successfully!"),s(L,!1),At(),await ut(),await ft()}catch(f){s(u,f.message)}finally{s(p,!1)}}async function ot(f){if(confirm("Are you sure you want to cancel this enrollment? This will take effect at the end of the current month."))try{s(p,!0),s(u,""),s(S,"");const D=await fetch(`/api/benefits/enrollments/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${n().token}`}});if(!D.ok){const H=await D.json();throw new Error(H.error||"Failed to cancel enrollment")}s(S,"Enrollment cancelled successfully"),await ut(),await ft()}catch(D){s(u,D.message)}finally{s(p,!1)}}function rt(f){s(z,f),s(P,"employee"),s(R,""),s(me,[]),s(L,!0)}function At(){s(z,null),s(P,"employee"),s(R,""),s(me,[])}function it(){s(me,[...e(me),{first_name:"",last_name:"",relationship:"spouse",date_of_birth:"",ssn:""}])}function ct(f){s(me,e(me).filter((D,H)=>H!==f))}function yt(f){s(re,f),s(X,!0)}function dt(f){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f)}function pt(f){return f?new Date(f).toLocaleDateString():"N/A"}function wt(f){return{health:"ðŸ¥",dental:"ðŸ¦·",vision:"ðŸ‘ï¸",life:"ðŸ›¡ï¸",disability:"â™¿",retirement:"ðŸ¦",fsa:"ðŸ’°",hsa:"ðŸ’³",commuter:"ðŸšŒ",wellness:"ðŸ’ª",other:"ðŸ“‹"}[f]||"ðŸ“‹"}function St(f){return{active:"badge-success",pending:"badge-warning",cancelled:"badge-error",expired:"badge-ghost"}[f]||"badge-ghost"}sa(()=>{lt(),ut(),ft()}),Yt(()=>(e(Qe),e(le)),()=>{s(c,e(Qe)==="all"?e(le):e(le).filter(f=>f.category===e(Qe)))}),Yt(()=>e(le),()=>{s(g,[...new Set(e(le).map(f=>f.category))])}),Yt(()=>(e(z),e(P)),()=>{s(_,e(z)?{employeeCost:e(z).employee_cost*(Je[e(P)]||1),employerCost:e(z).employer_cost*(Je[e(P)]||1),totalCost:(e(z).employee_cost+e(z).employer_cost)*(Je[e(P)]||1),monthlyDeduction:e(z).employee_cost*(Je[e(P)]||1)/12}:null)}),za(),na();var qt=rc(),$t=nt(qt),Ae=a(t($t),2);{var Ne=f=>{var D=zd(),H=t(D),xe=t(H),ne=a(H,2);x(()=>l(xe,e(u))),O("click",ne,()=>s(u,"")),v(f,D)};y(Ae,f=>{e(u)&&f(Ne)})}var ye=a(Ae,2);{var He=f=>{var D=Pd(),H=t(D),xe=t(H),ne=a(H,2);x(()=>l(xe,e(S))),O("click",ne,()=>s(S,"")),v(f,D)};y(ye,f=>{e(S)&&f(He)})}var Ce=a(ye,2),fe=t(Ce),Oe=a(fe,2),Ie=a(Oe,2),ke=a(Ce,2),ge=t(ke);{var Pe=f=>{var D=Td();v(f,D)},Be=f=>{var D=Pt(),H=nt(D);{var xe=_e=>{var ze=Fd(),Me=t(ze),Z=t(Me),De=a(t(Z));x(()=>{e(Qe),Ut(()=>{e(g)})});var ae=t(De);ae.value=ae.__value="all";var B=a(ae);_t(B,1,()=>e(g),bt,(k,b)=>{var F=qd(),A=t(F),q={};x((w,N)=>{l(A,`${w??""} ${N??""}`),q!==(q=e(b))&&(F.value=(F.__value=e(b))??"")},[()=>(e(b),r(()=>wt(e(b)))),()=>(e(b),r(()=>e(b).charAt(0).toUpperCase()+e(b).slice(1)))]),v(k,F)});var J=a(Me,2),G=t(J);_t(G,1,()=>e(c),bt,(k,b)=>{var F=Id(),A=t(F),q=t(A),w=t(q),N=a(q,2),K=t(N),I=t(K),oe=a(K,2),W=t(oe),ve=a(oe,2),Q=t(ve),U=a(ve,2);{var V=Re=>{var Ze=Md(),Ve=t(Ze);x(Fe=>l(Ve,Fe),[()=>(e(b),r(()=>e(b).plan_type.toUpperCase()))]),v(Re,Ze)};y(U,Re=>{e(b),r(()=>e(b).plan_type)&&Re(V)})}var se=a(A,2),ie=t(se),we=t(ie),pe=a(ie,2),ue=t(pe),Te=a(t(ue),2),he=t(Te),qe=a(ue,2),Se=a(t(qe),2),je=t(Se),M=a(qe,2),te=a(t(M),2),de=t(te),ce=a(pe,2);{var ee=Re=>{var Ze=Bd(),Ve=t(Ze),Fe=a(t(Ve),2),Ye=t(Fe),Ue=a(Ve,2),et=a(t(Ue),2),tt=t(et),Ke=a(Ue,2),vt=a(t(Ke),2),xt=t(vt);x((at,Bt,zt)=>{l(Ye,at),l(tt,Bt),l(xt,zt)},[()=>(e(b),r(()=>dt(e(b).deductible_single))),()=>(e(b),r(()=>dt(e(b).copay_primary_care))),()=>(e(b),r(()=>dt(e(b).copay_specialist)))]),v(Re,Ze)};y(ce,Re=>{e(b),r(()=>e(b).category==="health")&&Re(ee)})}var Le=a(se,2),Ee=t(Le),$e=a(Ee,2);x((Re,Ze,Ve,Fe)=>{l(w,Re),l(I,(e(b),r(()=>e(b).name))),l(W,(e(b),r(()=>e(b).provider))),l(Q,(e(b),r(()=>e(b).category))),l(we,(e(b),r(()=>e(b).description||"No description available"))),l(he,Ze),l(je,Ve),l(de,Fe)},[()=>(e(b),r(()=>wt(e(b).category))),()=>(e(b),r(()=>dt(e(b).employee_cost))),()=>(e(b),r(()=>dt(e(b).employer_cost))),()=>(e(b),r(()=>dt(e(b).employee_cost/12)))]),O("click",Ee,()=>yt(e(b))),O("click",$e,()=>rt(e(b))),v(k,F)});var $=a(G,2);{var j=k=>{var b=Rd();v(k,b)};y($,k=>{e(c),r(()=>e(c).length===0)&&k(j)})}Lt(De,()=>e(Qe),k=>s(Qe,k)),v(_e,ze)},ne=_e=>{var ze=Pt(),Me=nt(ze);{var Z=ae=>{var B=Vd(),J=t(B);{var G=j=>{var k=Ld(),b=a(t(k),6);O("click",b,()=>s(C,"plans")),v(j,k)},$=j=>{var k=Jd();_t(k,5,()=>e(E),bt,(b,F)=>{var A=Hd(),q=t(A),w=t(q),N=t(w),K=t(N),I=a(N,2),oe=t(I),W=a(w,2),ve=t(W),Q=a(q,2),U=t(Q),V=t(U),se=a(t(V),2),ie=t(se),we=a(V,2),pe=a(t(we),2),ue=t(pe),Te=a(we,2),he=a(t(Te),2),qe=t(he),Se=a(Te,2),je=a(t(Se),2),M=t(je),te=a(U,2);{var de=$e=>{var Re=Nd(),Ze=a(t(Re),2);_t(Ze,5,()=>(e(F),r(()=>e(F).dependents)),bt,(Ve,Fe)=>{var Ye=Od(),Ue=t(Ye),et=t(Ue),tt=a(Ue,2),Ke=t(tt),vt=t(Ke),xt=a(Ke,2),at=t(xt),Bt=a(xt,2),zt=t(Bt);x(Ft=>{l(et,(e(Fe),r(()=>e(Fe).relationship==="spouse"?"ðŸ’‘":e(Fe).relationship==="child"?"ðŸ‘¶":e(Fe).relationship==="domestic_partner"?"ðŸ‘¥":"ðŸ‘¤"))),l(vt,`${e(Fe),r(()=>e(Fe).first_name)??""} ${e(Fe),r(()=>e(Fe).last_name)??""}`),l(at,(e(Fe),r(()=>e(Fe).relationship))),l(zt,`DOB: ${Ft??""}`)},[()=>(e(Fe),r(()=>pt(e(Fe).date_of_birth)))]),v(Ve,Ye)}),v($e,Re)};y(te,$e=>{e(F),r(()=>e(F).dependents&&e(F).dependents.length>0)&&$e(de)})}var ce=a(Q,2);{var ee=$e=>{var Re=Ud(),Ze=t(Re);O("click",Ze,()=>ot(e(F).id)),v($e,Re)};y(ce,$e=>{e(F),r(()=>e(F).status==="active")&&$e(ee)})}var Le=a(ce,2);{var Ee=$e=>{var Re=Wd(),Ze=t(Re);x(Ve=>l(Ze,`âš ï¸ This enrollment will terminate on ${Ve??""}`),[()=>(e(F),r(()=>pt(e(F).termination_date)))]),v($e,Re)};y(Le,$e=>{e(F),r(()=>e(F).termination_date)&&$e(Ee)})}x(($e,Re,Ze,Ve,Fe)=>{l(K,(e(F),r(()=>e(F).plan_name))),l(oe,(e(F),r(()=>e(F).plan_category))),st(W,1,`badge ${$e??""}`,"svelte-1abjx7r"),l(ve,(e(F),r(()=>e(F).status))),l(ie,Re),l(ue,Ze),l(qe,Ve),l(M,Fe)},[()=>(e(F),r(()=>St(e(F).status))),()=>(e(F),r(()=>e(F).coverage_level.replace("_"," + "))),()=>(e(F),r(()=>pt(e(F).effective_date))),()=>(e(F),r(()=>dt(e(F).employee_cost))),()=>(e(F),r(()=>dt(e(F).payroll_deduction)))]),v(b,A)}),v(j,k)};y(J,j=>{e(E),r(()=>e(E).length===0)?j(G):j($,!1)})}v(ae,B)},De=ae=>{var B=Pt(),J=nt(B);{var G=$=>{var j=Qd(),k=t(j);{var b=A=>{var q=Gd(),w=nt(q),N=t(w),K=a(t(N),2),I=t(K),oe=t(I),W=a(N,2),ve=a(t(W),2),Q=t(ve),U=t(Q),V=a(W,2),se=a(t(V),2),ie=t(se),we=t(ie),pe=a(V,2),ue=a(t(pe),2),Te=t(ue),he=t(Te),qe=a(w,2),Se=a(t(qe),2);_t(Se,5,()=>(e(T),r(()=>[...new Set(e(T).enrollments.filter(je=>je.status==="active").map(je=>je.plan_category))])),bt,(je,M)=>{const te=is(()=>(e(T),e(M),r(()=>e(T).enrollments.filter(vt=>vt.status==="active"&&vt.plan_category===e(M))))),de=is(()=>(ls(e(te)),r(()=>e(te).reduce((vt,xt)=>vt+xt.employee_cost,0)))),ce=is(()=>(ls(e(te)),r(()=>e(te).reduce((vt,xt)=>vt+xt.payroll_deduction,0))));var ee=Yd(),Le=t(ee),Ee=t(Le),$e=t(Ee),Re=a(Ee,2),Ze=t(Re),Ve=a(Re,2),Fe=t(Ve),Ye=a(Le,2),Ue=t(Ye),et=t(Ue),tt=a(Ue,2),Ke=t(tt);x((vt,xt,at)=>{l($e,vt),l(Ze,e(M)),l(Fe,`(${ls(e(te)),r(()=>e(te).length)??""} plan${ls(e(te)),r(()=>e(te).length!==1?"s":"")??""})`),l(et,`${xt??""}/year`),l(Ke,`${at??""}/mo`)},[()=>(e(M),r(()=>wt(e(M)))),()=>(ls(e(de)),r(()=>dt(e(de)))),()=>(ls(e(ce)),r(()=>dt(e(ce))))]),v(je,ee)}),x((je,M,te)=>{l(oe,(e(T),r(()=>e(T).active_enrollments))),l(U,je),l(we,M),l(he,te)},[()=>(e(T),r(()=>dt(e(T).total_employee_cost))),()=>(e(T),r(()=>dt(e(T).total_employer_cost))),()=>(e(T),r(()=>dt(e(T).monthly_deduction)))]),v(A,q)},F=A=>{var q=Kd();v(A,q)};y(k,A=>{e(T)?A(b):A(F,!1)})}v($,j)};y(J,$=>{e(C)==="summary"&&$(G)},!0)}v(ae,B)};y(Me,ae=>{e(C)==="enrollments"?ae(Z):ae(De,!1)},!0)}v(_e,ze)};y(H,_e=>{e(C)==="plans"?_e(xe):_e(ne,!1)},!0)}v(f,D)};y(ge,f=>{e(p)?f(Pe):f(Be,!1)})}var Xe=a($t,2);{var Ge=f=>{var D=ac(),H=t(D),xe=t(H),ne=t(xe),_e=a(xe,2),ze=t(_e),Me=a(t(ze),2);x(()=>{e(P),Ut(()=>{})});var Z=t(Me);Z.value=Z.__value="employee";var De=a(Z);De.value=De.__value="employee_spouse";var ae=a(De);ae.value=ae.__value="employee_child";var B=a(ae);B.value=B.__value="family";var J=a(ze,2),G=a(t(J),2),$=a(J,2);{var j=N=>{var K=Xd(),I=a(t(K),2),oe=t(I),W=a(t(oe),2),ve=t(W),Q=a(oe,2),U=a(t(Q),2),V=t(U),se=a(Q,2),ie=a(t(se),2),we=t(ie),pe=a(se,2),ue=a(t(pe),2),Te=t(ue);x((he,qe,Se,je)=>{l(ve,he),l(V,qe),l(we,Se),l(Te,je)},[()=>(e(_),r(()=>dt(e(_).employeeCost))),()=>(e(_),r(()=>dt(e(_).employerCost))),()=>(e(_),r(()=>dt(e(_).totalCost))),()=>(e(_),r(()=>dt(e(_).monthlyDeduction)))]),v(N,K)};y($,N=>{e(_)&&N(j)})}var k=a($,2);{var b=N=>{var K=tc(),I=t(K),oe=a(t(I),2),W=a(I,2);_t(W,1,()=>e(me),bt,(U,V,se)=>{var ie=Zd(),we=t(ie),pe=t(we);pe.textContent=`Dependent ${se+1}`;var ue=a(pe,2),Te=a(we,2),he=t(Te),qe=t(he);ca(qe,"for",`dependent-first-name-${se}`);var Se=a(qe,2);ca(Se,"id",`dependent-first-name-${se}`);var je=a(he,2),M=t(je);ca(M,"for",`dependent-last-name-${se}`);var te=a(M,2);ca(te,"id",`dependent-last-name-${se}`);var de=a(je,2),ce=t(de);ca(ce,"for",`dependent-relationship-${se}`);var ee=a(ce,2);x(()=>{e(V),Ut(()=>{})}),ca(ee,"id",`dependent-relationship-${se}`);var Le=t(ee);Le.value=Le.__value="spouse";var Ee=a(Le);Ee.value=Ee.__value="child";var $e=a(Ee);$e.value=$e.__value="domestic_partner";var Re=a($e);Re.value=Re.__value="parent";var Ze=a(de,2),Ve=t(Ze);ca(Ve,"for",`dependent-dob-${se}`);var Fe=a(Ve,2);ca(Fe,"id",`dependent-dob-${se}`);var Ye=a(Ze,2),Ue=t(Ye);ca(Ue,"for",`dependent-ssn-${se}`);var et=a(Ue,2);ca(et,"id",`dependent-ssn-${se}`),O("click",ue,()=>ct(se)),kt(Se,()=>e(V).first_name,tt=>(e(V).first_name=tt,Ut(()=>e(me)))),kt(te,()=>e(V).last_name,tt=>(e(V).last_name=tt,Ut(()=>e(me)))),Lt(ee,()=>e(V).relationship,tt=>(e(V).relationship=tt,Ut(()=>e(me)))),kt(Fe,()=>e(V).date_of_birth,tt=>(e(V).date_of_birth=tt,Ut(()=>e(me)))),kt(et,()=>e(V).ssn,tt=>(e(V).ssn=tt,Ut(()=>e(me)))),v(U,ie)});var ve=a(W,2);{var Q=U=>{var V=ec();v(U,V)};y(ve,U=>{e(me),r(()=>e(me).length===0)&&U(Q)})}O("click",oe,it),v(N,K)};y(k,N=>{e(P)!=="employee"&&N(b)})}var F=a(_e,2),A=t(F),q=a(A,2),w=t(q);x(N=>{l(ne,`Enroll in ${e(z),r(()=>e(z).name)??""}`),ca(G,"min",N),A.disabled=e(p),q.disabled=e(p)||!e(R),l(w,e(p)?"Enrolling...":"Confirm Enrollment")},[()=>r(()=>new Date().toISOString().split("T")[0])]),Lt(Me,()=>e(P),N=>s(P,N)),kt(G,()=>e(R),N=>s(R,N)),O("click",A,()=>{s(L,!1),At()}),O("click",q,ht),v(f,D)};y(Xe,f=>{e(L)&&e(z)&&f(Ge)})}var We=a(Xe,2);{var be=f=>{var D=lc(),H=t(D),xe=t(H),ne=t(xe),_e=a(xe,2),ze=t(_e),Me=a(t(ze),2),Z=t(Me),De=a(t(Z)),ae=a(Z,2),B=a(t(ae)),J=a(ae,2),G=a(t(J)),$=a(ze,2),j=a(t($),2),k=t(j),b=a($,2),F=a(t(b),2),A=t(F),q=a(t(A)),w=a(A,2),N=a(t(w)),K=a(w,2),I=a(t(K)),oe=a(K,2),W=a(t(oe)),ve=a(b,2);{var Q=je=>{var M=sc(),te=nt(M),de=a(t(te),2),ce=t(de),ee=a(t(ce)),Le=a(ce,2),Ee=a(t(Le)),$e=a(Le,2),Re=a(t($e)),Ze=a($e,2),Ve=a(t(Ze)),Fe=a(te,2),Ye=a(t(Fe),2),Ue=t(Ye),et=a(t(Ue)),tt=a(Ue,2),Ke=a(t(tt)),vt=a(tt,2),xt=a(t(vt)),at=a(vt,2),Bt=a(t(at));x((zt,Ft,Dt,Et,It,Tt,Mt)=>{l(ee,` ${zt??""}`),l(Ee,` ${Ft??""}`),l(Re,` ${Dt??""}`),l(Ve,` ${Et??""}`),l(et,` ${It??""}`),l(Ke,` ${Tt??""}`),l(xt,` ${Mt??""}`),l(Bt,` ${e(re),r(()=>e(re).coinsurance_rate)??""}%`)},[()=>(e(re),r(()=>dt(e(re).deductible_single))),()=>(e(re),r(()=>dt(e(re).deductible_family))),()=>(e(re),r(()=>dt(e(re).out_of_pocket_max_single))),()=>(e(re),r(()=>dt(e(re).out_of_pocket_max_family))),()=>(e(re),r(()=>dt(e(re).copay_primary_care))),()=>(e(re),r(()=>dt(e(re).copay_specialist))),()=>(e(re),r(()=>dt(e(re).copay_emergency)))]),v(je,M)};y(ve,je=>{e(re),r(()=>e(re).category==="health")&&je(Q)})}var U=a(ve,2),V=a(t(U),2),se=t(V),ie=a(t(se)),we=a(se,2),pe=a(t(we)),ue=a(we,2),Te=a(t(ue)),he=a(_e,2),qe=t(he),Se=a(qe,2);x((je,M,te,de,ce,ee,Le,Ee)=>{l(ne,(e(re),r(()=>e(re).name))),l(De,` ${e(re),r(()=>e(re).provider)??""}`),l(B,` ${je??""}`),l(G,` ${e(re),r(()=>e(re).category)??""}`),l(k,(e(re),r(()=>e(re).description||"No description available"))),l(q,` ${M??""}`),l(N,` ${te??""}`),l(I,` ${de??""}`),l(W,` ${ce??""}`),l(ie,` ${ee??""}`),l(pe,` ${Le??""}`),l(Te,` ${Ee??""}`)},[()=>(e(re),r(()=>{var je;return((je=e(re).plan_type)==null?void 0:je.toUpperCase())||"N/A"})),()=>(e(re),r(()=>dt(e(re).employee_cost))),()=>(e(re),r(()=>dt(e(re).employer_cost))),()=>(e(re),r(()=>dt(e(re).employee_cost/12))),()=>(e(re),r(()=>dt(e(re).employee_cost+e(re).employer_cost))),()=>(e(re),r(()=>pt(e(re).enrollment_start_date))),()=>(e(re),r(()=>pt(e(re).enrollment_end_date))),()=>(e(re),r(()=>pt(e(re).effective_date)))]),O("click",qe,()=>s(X,!1)),O("click",Se,()=>{s(X,!1),rt(e(re))}),v(f,D)};y(We,f=>{e(X)&&e(re)&&f(be)})}x(()=>{st(fe,1,`tab ${e(C)==="plans"?"tab-active":""}`,"svelte-1abjx7r"),st(Oe,1,`tab ${e(C)==="enrollments"?"tab-active":""}`,"svelte-1abjx7r"),st(Ie,1,`tab ${e(C)==="summary"?"tab-active":""}`,"svelte-1abjx7r")}),O("click",fe,()=>s(C,"plans")),O("click",Oe,()=>s(C,"enrollments")),O("click",Ie,()=>s(C,"summary")),v(i,qt),Zt(),h()}var vc=d('<div class="alert alert-error svelte-1rpegun"><span> </span> <button class="svelte-1rpegun">âœ•</button></div>'),oc=d('<div class="alert alert-success svelte-1rpegun"><span> </span> <button class="svelte-1rpegun">âœ•</button></div>'),nc=d("<button>Tax Withholding</button>"),dc=d("<button>Admin</button>"),cc=d('<div class="loading svelte-1rpegun">Loading...</div>'),uc=d('<div class="empty-state svelte-1rpegun"><span class="empty-icon svelte-1rpegun">ðŸ“„</span> <p>No pay stubs available yet</p></div>'),pc=d('<div class="detail-row svelte-1rpegun"><span class="svelte-1rpegun">Hours Worked</span> <span class="svelte-1rpegun"> </span></div>'),_c=d('<div class="paystub-card svelte-1rpegun"><div class="paystub-header svelte-1rpegun"><div class="paystub-icon svelte-1rpegun">ðŸ’µ</div> <div class="paystub-info svelte-1rpegun"><div class="paystub-amount svelte-1rpegun"> </div> <div class="paystub-date svelte-1rpegun"> </div></div></div> <div class="paystub-details svelte-1rpegun"><div class="detail-row svelte-1rpegun"><span class="svelte-1rpegun">Gross Pay</span> <strong class="svelte-1rpegun"> </strong></div> <div class="detail-row svelte-1rpegun"><span class="svelte-1rpegun">Taxes</span> <span class="text-error svelte-1rpegun"> </span></div> <div class="detail-row svelte-1rpegun"><span class="svelte-1rpegun">Deductions</span> <span class="text-error svelte-1rpegun"> </span></div> <!></div> <div class="paystub-actions svelte-1rpegun"><button class="btn btn-sm btn-primary svelte-1rpegun">View Details</button> <button class="btn btn-sm btn-ghost svelte-1rpegun">ðŸ“¥ Download</button></div></div>'),fc=d('<div class="paystubs-grid svelte-1rpegun"></div>'),bc=d('<div class="section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">Your Pay Stubs</h2> <p class="text-muted svelte-1rpegun">View and download your payment history</p></div> <!></div>'),mc=d('<div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Hourly Rate</span> <span class="info-value svelte-1rpegun"> </span></div>'),hc=d('<div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Annual Salary</span> <span class="info-value svelte-1rpegun"> </span></div>'),yc=d('<div class="info-card svelte-1rpegun"><div class="info-grid svelte-1rpegun"><div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Employment Type</span> <span> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Pay Type</span> <span class="info-value svelte-1rpegun"> </span></div> <!> <!> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Pay Frequency</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Overtime Eligible</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Standard Hours/Week</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Effective Date</span> <span class="info-value svelte-1rpegun"> </span></div></div></div>'),gc=d('<div class="empty-state svelte-1rpegun"><span class="empty-icon svelte-1rpegun">ðŸ’¼</span> <p>No compensation information set up</p> <button class="btn btn-primary svelte-1rpegun">Set Up Compensation</button></div>'),xc=d('<div class="section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">Compensation Information</h2> <button class="btn btn-primary svelte-1rpegun"> </button></div> <!></div>'),wc=d('<div class="info-card svelte-1rpegun"><div class="info-grid svelte-1rpegun"><div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Filing Status</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Federal Allowances</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">State Allowances</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Additional Withholding</span> <span class="info-value svelte-1rpegun"> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">Federal Exempt</span> <span> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">State Exempt</span> <span> </span></div> <div class="info-item svelte-1rpegun"><span class="info-label svelte-1rpegun">FICA Exempt</span> <span> </span></div></div></div>'),kc=d('<div class="empty-state svelte-1rpegun"><span class="empty-icon svelte-1rpegun">ðŸ“</span> <p>No tax withholding information set up</p> <button class="btn btn-primary svelte-1rpegun">Set Up Tax Withholding</button></div>'),$c=d('<div class="section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">Tax Withholding (W-4)</h2> <button class="btn btn-primary svelte-1rpegun"> </button></div> <!></div>'),jc=d('<button class="btn btn-sm btn-success svelte-1rpegun"> </button>'),Sc=d('<tr class="svelte-1rpegun"><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"><span> </span></td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"><!></td></tr>'),Ac=d("<option> </option>"),Ec=d('<span class="text-muted svelte-1rpegun"> </span>'),Cc=d('<span class="text-muted svelte-1rpegun">Not filed</span>'),Dc=d('<div class="form-card svelte-1rpegun"><div class="form-header svelte-1rpegun"><span class="form-year svelte-1rpegun"> </span> <span> </span></div> <div class="form-amount svelte-1rpegun"> </div> <div class="form-footer svelte-1rpegun"><!></div></div>'),zc=d('<div class="section svelte-1rpegun"><div class="admin-section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">Payroll Periods</h2> <button class="btn btn-primary svelte-1rpegun">+ Create Period</button></div> <div class="periods-table svelte-1rpegun"><table class="svelte-1rpegun"><thead><tr><th class="svelte-1rpegun">Period</th><th class="svelte-1rpegun">Pay Date</th><th class="svelte-1rpegun">Status</th><th class="svelte-1rpegun">Processed</th><th class="svelte-1rpegun">Actions</th></tr></thead><tbody class="svelte-1rpegun"></tbody></table></div></div> <div class="admin-section svelte-1rpegun"><div class="section-header svelte-1rpegun"><h2 class="svelte-1rpegun">1099 Forms</h2> <div style="display: flex; gap: 1rem; align-items: center;"><select class="select select-sm svelte-1rpegun"></select> <button class="btn btn-primary btn-sm svelte-1rpegun"> </button></div></div> <div class="forms-grid svelte-1rpegun"></div></div></div>'),Pc=d('<tr class="svelte-1rpegun"><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td></tr>'),Tc=d('<div class="detail-section svelte-1rpegun"><h3 class="svelte-1rpegun">Earnings</h3> <table class="detail-table svelte-1rpegun"><thead><tr><th class="svelte-1rpegun">Type</th><th class="svelte-1rpegun">Description</th><th class="svelte-1rpegun">Hours</th><th class="svelte-1rpegun">Rate</th><th class="svelte-1rpegun">Amount</th></tr></thead><tbody class="svelte-1rpegun"></tbody></table></div>'),qc=d('<tr class="svelte-1rpegun"><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td></tr>'),Mc=d('<div class="detail-section svelte-1rpegun"><h3 class="svelte-1rpegun">Taxes</h3> <table class="detail-table svelte-1rpegun"><thead><tr><th class="svelte-1rpegun">Type</th><th class="svelte-1rpegun">Description</th><th class="svelte-1rpegun">Taxable Wage</th><th class="svelte-1rpegun">Rate</th><th class="svelte-1rpegun">Amount</th></tr></thead><tbody class="svelte-1rpegun"></tbody></table></div>'),Bc=d('<tr class="svelte-1rpegun"><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td><td class="svelte-1rpegun"> </td></tr>'),Ic=d('<div class="detail-section svelte-1rpegun"><h3 class="svelte-1rpegun">Deductions</h3> <table class="detail-table svelte-1rpegun"><thead><tr><th class="svelte-1rpegun">Type</th><th class="svelte-1rpegun">Description</th><th class="svelte-1rpegun">Pre-Tax</th><th class="svelte-1rpegun">Amount</th></tr></thead><tbody class="svelte-1rpegun"></tbody></table></div>'),Rc=d('<div class="modal svelte-1rpegun" role="button" tabindex="0"><div class="modal-box max-w-4xl svelte-1rpegun" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1rpegun"><h2 class="svelte-1rpegun">Pay Stub Details</h2> <button class="btn btn-circle btn-sm svelte-1rpegun">âœ•</button></div> <div class="paystub-detail svelte-1rpegun"><div class="detail-summary svelte-1rpegun"><div class="summary-item svelte-1rpegun"><span class="summary-label svelte-1rpegun">Gross Pay</span> <span class="summary-value svelte-1rpegun"> </span></div> <div class="summary-item svelte-1rpegun"><span class="summary-label svelte-1rpegun">Total Taxes</span> <span class="summary-value text-error svelte-1rpegun"> </span></div> <div class="summary-item svelte-1rpegun"><span class="summary-label svelte-1rpegun">Total Deductions</span> <span class="summary-value text-error svelte-1rpegun"> </span></div> <div class="summary-item highlight svelte-1rpegun"><span class="summary-label svelte-1rpegun">Net Pay</span> <span class="summary-value svelte-1rpegun"> </span></div></div> <!> <!> <!> <div class="detail-section svelte-1rpegun"><h3 class="svelte-1rpegun">Year-to-Date Summary</h3> <div class="ytd-grid svelte-1rpegun"><div class="ytd-item svelte-1rpegun"><span class="ytd-label svelte-1rpegun">YTD Gross Pay</span> <span class="ytd-value svelte-1rpegun"> </span></div> <div class="ytd-item svelte-1rpegun"><span class="ytd-label svelte-1rpegun">YTD Net Pay</span> <span class="ytd-value svelte-1rpegun"> </span></div></div></div></div> <div class="modal-actions svelte-1rpegun"><button class="btn btn-primary svelte-1rpegun">ðŸ“¥ Download PDF</button> <button class="btn btn-ghost svelte-1rpegun">Close</button></div></div></div>'),Fc=d('<div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="hourly_rate"><span class="label-text svelte-1rpegun">Hourly Rate</span></label> <input id="hourly_rate" type="number" class="input w-full svelte-1rpegun" min="0" step="0.01" required/></div>'),Lc=d('<div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="annual_salary"><span class="label-text svelte-1rpegun">Annual Salary</span></label> <input id="annual_salary" type="number" class="input w-full svelte-1rpegun" min="0" step="1000" required/></div>'),Oc=d('<div class="modal svelte-1rpegun" role="button" tabindex="0"><div class="modal-box max-w-2xl svelte-1rpegun" role="dialog" aria-modal="true" tabindex="-1"><h2>Compensation Setup</h2> <form class="form svelte-1rpegun"><div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="employment_type"><span class="label-text svelte-1rpegun">Employment Type</span></label> <select id="employment_type" class="select w-full svelte-1rpegun" required><option>W2 Employee</option><option>1099 Contractor</option></select></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="pay_type"><span class="label-text svelte-1rpegun">Pay Type</span></label> <select id="pay_type" class="select w-full svelte-1rpegun" required><option>Hourly</option><option>Salary</option><option>Commission</option></select></div> <!> <!> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="pay_frequency"><span class="label-text svelte-1rpegun">Pay Frequency</span></label> <select id="pay_frequency" class="select w-full svelte-1rpegun" required><option>Weekly</option><option>Bi-Weekly</option><option>Semi-Monthly</option><option>Monthly</option></select></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="standard_hours"><span class="label-text svelte-1rpegun">Standard Hours Per Week</span></label> <input id="standard_hours" type="number" class="input w-full svelte-1rpegun" min="0" max="80" required/></div> <div class="form-control svelte-1rpegun"><label class="label cursor-pointer svelte-1rpegun"><span class="label-text svelte-1rpegun">Overtime Eligible</span> <input type="checkbox" class="checkbox svelte-1rpegun"/></label></div> <div class="modal-actions svelte-1rpegun"><button type="submit" class="btn btn-primary svelte-1rpegun"> </button> <button type="button" class="btn btn-ghost svelte-1rpegun">Cancel</button></div></form></div></div>'),Nc=d('<div class="modal svelte-1rpegun" role="button" tabindex="0"><div class="modal-box max-w-2xl svelte-1rpegun" role="dialog" aria-modal="true" tabindex="-1"><h2>Tax Withholding (W-4)</h2> <form class="form svelte-1rpegun"><div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="filing_status"><span class="label-text svelte-1rpegun">Filing Status</span></label> <select id="filing_status" class="select w-full svelte-1rpegun" required><option>Single</option><option>Married Filing Jointly</option><option>Head of Household</option></select></div> <div class="form-row svelte-1rpegun"><div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="federal_allowances"><span class="label-text svelte-1rpegun">Federal Allowances</span></label> <input id="federal_allowances" type="number" class="input w-full svelte-1rpegun" min="0" required/></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="state_allowances"><span class="label-text svelte-1rpegun">State Allowances</span></label> <input id="state_allowances" type="number" class="input w-full svelte-1rpegun" min="0" required/></div></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="additional_withholding"><span class="label-text svelte-1rpegun">Additional Withholding (per paycheck)</span></label> <input id="additional_withholding" type="number" class="input w-full svelte-1rpegun" min="0" step="0.01"/></div> <div class="form-control svelte-1rpegun"><label class="label cursor-pointer svelte-1rpegun"><span class="label-text svelte-1rpegun">Exempt from Federal Tax</span> <input type="checkbox" class="checkbox svelte-1rpegun"/></label></div> <div class="form-control svelte-1rpegun"><label class="label cursor-pointer svelte-1rpegun"><span class="label-text svelte-1rpegun">Exempt from State Tax</span> <input type="checkbox" class="checkbox svelte-1rpegun"/></label></div> <div class="form-control svelte-1rpegun"><label class="label cursor-pointer svelte-1rpegun"><span class="label-text svelte-1rpegun">Exempt from FICA (Social Security & Medicare)</span> <input type="checkbox" class="checkbox svelte-1rpegun"/></label></div> <div class="modal-actions svelte-1rpegun"><button type="submit" class="btn btn-primary svelte-1rpegun"> </button> <button type="button" class="btn btn-ghost svelte-1rpegun">Cancel</button></div></form></div></div>'),Uc=d('<div class="modal svelte-1rpegun" role="button" tabindex="0"><div class="modal-box svelte-1rpegun"><h2>Create Payroll Period</h2> <form class="form svelte-1rpegun"><div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="period_start_date"><span class="label-text svelte-1rpegun">Start Date</span></label> <input id="period_start_date" type="date" class="input w-full svelte-1rpegun" required/></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="period_end_date"><span class="label-text svelte-1rpegun">End Date</span></label> <input id="period_end_date" type="date" class="input w-full svelte-1rpegun" required/></div> <div class="form-control svelte-1rpegun"><label class="label svelte-1rpegun" for="period_pay_date"><span class="label-text svelte-1rpegun">Pay Date</span></label> <input id="period_pay_date" type="date" class="input w-full svelte-1rpegun" required/></div> <div class="modal-actions svelte-1rpegun"><button type="submit" class="btn btn-primary svelte-1rpegun"> </button> <button type="button" class="btn btn-ghost svelte-1rpegun">Cancel</button></div></form></div></div>'),Wc=d('<div class="payroll-container svelte-1rpegun"><div class="payroll-header svelte-1rpegun"><h1 class="svelte-1rpegun">ðŸ’° Payroll</h1> <p class="text-muted svelte-1rpegun">View pay stubs and manage compensation</p></div> <!> <!> <div class="tabs svelte-1rpegun"><button>Pay Stubs</button> <button>Compensation</button> <!> <!></div> <div class="tab-content"><!> <!> <!> <!></div></div> <!> <!> <!> <!>',1);function Hc(i,o){Xt(o,!1);const n=()=>_a(el,"$authStore",m),[m,h]=fa(),c=Y(),g=Y();let _=Y(!1),p=Y(""),u=Y(""),S=Y("paystubs"),C=Y(!1),le=Y([]),E=Y(null),T=Y(!1),L=Y(null),z=Y(!1),P=Y({employment_type:"W2",pay_type:"hourly",hourly_rate:0,annual_salary:0,pay_frequency:"biweekly",overtime_eligible:!0,standard_hours_per_week:40}),R=Y(null),me=Y(!1),X=Y({filing_status:"single",federal_allowances:0,state_allowances:0,additional_withholding:0,exempt_federal:!1,exempt_state:!1,exempt_fica:!1}),re=Y([]),Qe=Y(!1),Je=Y({start_date:"",end_date:"",pay_date:""}),lt=Y(!1),ut=Y([]),ft=Y(new Date().getFullYear());async function ht(){var A;try{s(_,!0),s(p,"");const q=(A=n().user)==null?void 0:A.employee_id;if(!q){s(p,"Employee ID not found");return}const w=await fetch(`/api/payroll/paystubs/employee/${q}`,{headers:{Authorization:`Bearer ${n().token}`}});if(!w.ok)throw new Error("Failed to load pay stubs");s(le,await w.json())}catch(q){s(p,q.message)}finally{s(_,!1)}}async function ot(A){try{s(_,!0),s(p,"");const q=await fetch(`/api/payroll/paystubs/${A}`,{headers:{Authorization:`Bearer ${n().token}`}});if(!q.ok)throw new Error("Failed to load pay stub details");s(E,await q.json()),s(T,!0)}catch(q){s(p,q.message)}finally{s(_,!1)}}async function rt(A){try{const q=await fetch(`/api/payroll/paystubs/${A}/pdf`,{headers:{Authorization:`Bearer ${n().token}`}});if(!q.ok)throw new Error("Failed to download PDF");const w=await q.blob(),N=window.URL.createObjectURL(w),K=document.createElement("a");K.href=N,K.download=`paystub_${A}.pdf`,document.body.appendChild(K),K.click(),window.URL.revokeObjectURL(N),document.body.removeChild(K)}catch(q){s(p,q.message)}}async function At(){var A;try{s(_,!0),s(p,"");const q=(A=n().user)==null?void 0:A.employee_id;if(!q){s(p,"Employee ID not found");return}const w=await fetch(`/api/payroll/compensation/employee/${q}`,{headers:{Authorization:`Bearer ${n().token}`}});if(!w.ok){s(L,null);return}s(L,await w.json())}catch(q){s(p,q.message)}finally{s(_,!1)}}async function it(){var A;try{s(_,!0),s(p,""),s(u,"");const q=(A=n().user)==null?void 0:A.employee_id;if(!q){s(p,"Employee ID not found");return}const w={employee_id:q,...e(P),effective_date:new Date().toISOString()},N=await fetch("/api/payroll/compensation",{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(w)});if(!N.ok){const K=await N.json();throw new Error(K.error||"Failed to save compensation")}s(u,"Compensation saved successfully"),s(z,!1),await At()}catch(q){s(p,q.message)}finally{s(_,!1)}}async function ct(){var A;try{s(_,!0),s(p,"");const q=(A=n().user)==null?void 0:A.employee_id;if(!q){s(p,"Employee ID not found");return}const w=await fetch(`/api/payroll/tax-withholding/${q}`,{headers:{Authorization:`Bearer ${n().token}`}});if(!w.ok){s(R,null);return}s(R,await w.json())}catch(q){s(p,q.message)}finally{s(_,!1)}}async function yt(){var A;try{s(_,!0),s(p,""),s(u,"");const q=(A=n().user)==null?void 0:A.employee_id;if(!q){s(p,"Employee ID not found");return}const w=await fetch(`/api/payroll/tax-withholding/${q}`,{method:"PUT",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(X))});if(!w.ok){const N=await w.json();throw new Error(N.error||"Failed to save tax withholding")}s(u,"Tax withholding saved successfully"),s(me,!1),await ct()}catch(q){s(p,q.message)}finally{s(_,!1)}}async function dt(){try{s(_,!0),s(p,"");const A=await fetch("/api/payroll/periods",{headers:{Authorization:`Bearer ${n().token}`}});if(!A.ok)throw new Error("Failed to load payroll periods");s(re,await A.json())}catch(A){s(p,A.message)}finally{s(_,!1)}}async function pt(){try{s(_,!0),s(p,""),s(u,"");const A=await fetch("/api/payroll/periods",{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(Je))});if(!A.ok){const q=await A.json();throw new Error(q.error||"Failed to create payroll period")}s(u,"Payroll period created successfully"),s(Qe,!1),s(Je,{start_date:"",end_date:"",pay_date:""}),await dt()}catch(A){s(p,A.message)}finally{s(_,!1)}}async function wt(A){if(confirm("Are you sure you want to process this payroll period? This will create pay stubs for all employees."))try{s(lt,!0),s(p,""),s(u,"");const q=await fetch(`/api/payroll/periods/${A}/process`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({dry_run:!1})});if(!q.ok){const N=await q.json();throw new Error(N.error||"Failed to process payroll")}const w=await q.json();s(u,`Payroll processed successfully! ${w.total_employees} employees processed.`),await dt()}catch(q){s(p,q.message)}finally{s(lt,!1)}}async function St(){if(confirm(`Generate 1099 forms for ${e(ft)}? This will create forms for all 1099 contractors.`))try{s(_,!0),s(p,""),s(u,"");const A=await fetch(`/api/payroll/1099/generate/${e(ft)}`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`}});if(!A.ok){const w=await A.json();throw new Error(w.error||"Failed to generate 1099 forms")}const q=await A.json();s(u,q.message||`${q.count} 1099 forms generated`),await qt()}catch(A){s(p,A.message)}finally{s(_,!1)}}async function qt(){try{s(_,!0),s(p,"");const A=await fetch(`/api/payroll/1099/${e(ft)}`,{headers:{Authorization:`Bearer ${n().token}`}});if(!A.ok)throw new Error("Failed to load 1099 forms");const q=await A.json();s(ut,q.forms||[])}catch(A){s(p,A.message)}finally{s(_,!1)}}function $t(A){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(A)}function Ae(A){return A?new Date(A).toLocaleDateString():"N/A"}function Ne(A){return(A*100).toFixed(2)+"%"}function ye(A){return{draft:"badge-info",processing:"badge-warning",processed:"badge-success",failed:"badge-error"}[A]||"badge-ghost"}function He(){e(L)&&s(P,{employment_type:e(L).employment_type,pay_type:e(L).pay_type,hourly_rate:e(L).hourly_rate||0,annual_salary:e(L).annual_salary||0,pay_frequency:e(L).pay_frequency,overtime_eligible:e(L).overtime_eligible,standard_hours_per_week:e(L).standard_hours_per_week}),s(z,!0)}function Ce(){e(R)&&s(X,{filing_status:e(R).filing_status,federal_allowances:e(R).federal_allowances,state_allowances:e(R).state_allowances,additional_withholding:e(R).additional_withholding,exempt_federal:e(R).exempt_federal,exempt_state:e(R).exempt_state,exempt_fica:e(R).exempt_fica}),s(me,!0)}sa(()=>{var A,q;s(C,((A=n().user)==null?void 0:A.role)==="admin"),ht(),At(),((q=e(L))==null?void 0:q.employment_type)==="W2"&&ct(),e(C)&&dt()}),Yt(()=>e(E),()=>{s(c,e(E)?e(E).pay_stub.federal_tax+e(E).pay_stub.state_tax+e(E).pay_stub.social_security+e(E).pay_stub.medicare:0)}),Yt(()=>e(E),()=>{s(g,e(E)?e(E).pay_stub.other_deductions+e(E).pay_stub.benefits_deductions:0)}),za(),na();var fe=Wc(),Oe=nt(fe),Ie=a(t(Oe),2);{var ke=A=>{var q=vc(),w=t(q),N=t(w),K=a(w,2);x(()=>l(N,e(p))),O("click",K,()=>s(p,"")),v(A,q)};y(Ie,A=>{e(p)&&A(ke)})}var ge=a(Ie,2);{var Pe=A=>{var q=oc(),w=t(q),N=t(w),K=a(w,2);x(()=>l(N,e(u))),O("click",K,()=>s(u,"")),v(A,q)};y(ge,A=>{e(u)&&A(Pe)})}var Be=a(ge,2),Xe=t(Be),Ge=a(Xe,2),We=a(Ge,2);{var be=A=>{var q=nc();x(()=>st(q,1,`tab ${e(S)==="tax-withholding"?"tab-active":""}`,"svelte-1rpegun")),O("click",q,()=>s(S,"tax-withholding")),v(A,q)};y(We,A=>{e(L),r(()=>{var q;return((q=e(L))==null?void 0:q.employment_type)==="W2"})&&A(be)})}var f=a(We,2);{var D=A=>{var q=dc();x(()=>st(q,1,`tab ${e(S)==="admin"?"tab-active":""}`,"svelte-1rpegun")),O("click",q,()=>s(S,"admin")),v(A,q)};y(f,A=>{e(C)&&A(D)})}var H=a(Be,2),xe=t(H);{var ne=A=>{var q=bc(),w=a(t(q),2);{var N=I=>{var oe=cc();v(I,oe)},K=I=>{var oe=Pt(),W=nt(oe);{var ve=U=>{var V=uc();v(U,V)},Q=U=>{var V=fc();_t(V,5,()=>e(le),bt,(se,ie)=>{var we=_c(),pe=t(we),ue=a(t(pe),2),Te=t(ue),he=t(Te),qe=a(Te,2),Se=t(qe),je=a(pe,2),M=t(je),te=a(t(M),2),de=t(te),ce=a(M,2),ee=a(t(ce),2),Le=t(ee),Ee=a(ce,2),$e=a(t(Ee),2),Re=t($e),Ze=a(Ee,2);{var Ve=et=>{var tt=pc(),Ke=a(t(tt),2),vt=t(Ke);x(xt=>l(vt,`${xt??""} hrs`),[()=>(e(ie),r(()=>e(ie).hours_worked.toFixed(2)))]),v(et,tt)};y(Ze,et=>{e(ie),r(()=>e(ie).hours_worked)&&et(Ve)})}var Fe=a(je,2),Ye=t(Fe),Ue=a(Ye,2);x((et,tt,Ke,vt,xt)=>{l(he,et),l(Se,tt),l(de,Ke),l(Le,`-${vt??""}`),l(Re,`-${xt??""}`)},[()=>(e(ie),r(()=>$t(e(ie).net_pay))),()=>(e(ie),r(()=>Ae(e(ie).created_at))),()=>(e(ie),r(()=>$t(e(ie).gross_pay))),()=>(e(ie),r(()=>$t(e(ie).federal_tax+e(ie).state_tax+e(ie).social_security+e(ie).medicare))),()=>(e(ie),r(()=>$t(e(ie).other_deductions+e(ie).benefits_deductions)))]),O("click",Ye,()=>ot(e(ie).id)),O("click",Ue,()=>rt(e(ie).id)),v(se,we)}),v(U,V)};y(W,U=>{e(le),r(()=>e(le).length===0)?U(ve):U(Q,!1)},!0)}v(I,oe)};y(w,I=>{e(_)?I(N):I(K,!1)})}v(A,q)};y(xe,A=>{e(S)==="paystubs"&&A(ne)})}var _e=a(xe,2);{var ze=A=>{var q=xc(),w=t(q),N=a(t(w),2),K=t(N),I=a(w,2);{var oe=ve=>{var Q=yc(),U=t(Q),V=t(U),se=a(t(V),2),ie=t(se),we=a(V,2),pe=a(t(we),2),ue=t(pe),Te=a(we,2);{var he=Fe=>{var Ye=mc(),Ue=a(t(Ye),2),et=t(Ue);x(tt=>l(et,`${tt??""}/hr`),[()=>(e(L),r(()=>$t(e(L).hourly_rate)))]),v(Fe,Ye)};y(Te,Fe=>{e(L),r(()=>e(L).hourly_rate)&&Fe(he)})}var qe=a(Te,2);{var Se=Fe=>{var Ye=hc(),Ue=a(t(Ye),2),et=t(Ue);x(tt=>l(et,tt),[()=>(e(L),r(()=>$t(e(L).annual_salary)))]),v(Fe,Ye)};y(qe,Fe=>{e(L),r(()=>e(L).annual_salary)&&Fe(Se)})}var je=a(qe,2),M=a(t(je),2),te=t(M),de=a(je,2),ce=a(t(de),2),ee=t(ce),Le=a(de,2),Ee=a(t(Le),2),$e=t(Ee),Re=a(Le,2),Ze=a(t(Re),2),Ve=t(Ze);x((Fe,Ye,Ue)=>{st(se,1,`info-value badge badge-${e(L),r(()=>e(L).employment_type==="W2"?"success":"info")??""}`,"svelte-1rpegun"),l(ie,(e(L),r(()=>e(L).employment_type))),l(ue,Fe),l(te,Ye),l(ee,(e(L),r(()=>e(L).overtime_eligible?"Yes":"No"))),l($e,(e(L),r(()=>e(L).standard_hours_per_week))),l(Ve,Ue)},[()=>(e(L),r(()=>e(L).pay_type.charAt(0).toUpperCase()+e(L).pay_type.slice(1))),()=>(e(L),r(()=>e(L).pay_frequency.charAt(0).toUpperCase()+e(L).pay_frequency.slice(1))),()=>(e(L),r(()=>Ae(e(L).effective_date)))]),v(ve,Q)},W=ve=>{var Q=gc(),U=a(t(Q),4);O("click",U,()=>s(z,!0)),v(ve,Q)};y(I,ve=>{e(L)?ve(oe):ve(W,!1)})}x(()=>l(K,`${e(L)?"Update":"Set Up"} Compensation`)),O("click",N,He),v(A,q)};y(_e,A=>{e(S)==="compensation"&&A(ze)})}var Me=a(_e,2);{var Z=A=>{var q=$c(),w=t(q),N=a(t(w),2),K=t(N),I=a(w,2);{var oe=ve=>{var Q=wc(),U=t(Q),V=t(U),se=a(t(V),2),ie=t(se),we=a(V,2),pe=a(t(we),2),ue=t(pe),Te=a(we,2),he=a(t(Te),2),qe=t(he),Se=a(Te,2),je=a(t(Se),2),M=t(je),te=a(Se,2),de=a(t(te),2),ce=t(de),ee=a(te,2),Le=a(t(ee),2),Ee=t(Le),$e=a(ee,2),Re=a(t($e),2),Ze=t(Re);x((Ve,Fe)=>{l(ie,Ve),l(ue,(e(R),r(()=>e(R).federal_allowances))),l(qe,(e(R),r(()=>e(R).state_allowances))),l(M,Fe),st(de,1,`info-value badge badge-${e(R),r(()=>e(R).exempt_federal?"warning":"ghost")??""}`,"svelte-1rpegun"),l(ce,(e(R),r(()=>e(R).exempt_federal?"Yes":"No"))),st(Le,1,`info-value badge badge-${e(R),r(()=>e(R).exempt_state?"warning":"ghost")??""}`,"svelte-1rpegun"),l(Ee,(e(R),r(()=>e(R).exempt_state?"Yes":"No"))),st(Re,1,`info-value badge badge-${e(R),r(()=>e(R).exempt_fica?"warning":"ghost")??""}`,"svelte-1rpegun"),l(Ze,(e(R),r(()=>e(R).exempt_fica?"Yes":"No")))},[()=>(e(R),r(()=>e(R).filing_status.split("_").map(Ve=>Ve.charAt(0).toUpperCase()+Ve.slice(1)).join(" "))),()=>(e(R),r(()=>$t(e(R).additional_withholding)))]),v(ve,Q)},W=ve=>{var Q=kc(),U=a(t(Q),4);O("click",U,()=>s(me,!0)),v(ve,Q)};y(I,ve=>{e(R)?ve(oe):ve(W,!1)})}x(()=>l(K,`${e(R)?"Update":"Set Up"} Tax Withholding`)),O("click",N,Ce),v(A,q)};y(Me,A=>{e(S)==="tax-withholding"&&A(Z)})}var De=a(Me,2);{var ae=A=>{var q=zc(),w=t(q),N=t(w),K=a(t(N),2),I=a(N,2),oe=t(I),W=a(t(oe));_t(W,5,()=>e(re),bt,(pe,ue)=>{var Te=Sc(),he=t(Te),qe=t(he),Se=a(he),je=t(Se),M=a(Se),te=t(M),de=t(te),ce=a(M),ee=t(ce),Le=a(ce),Ee=t(Le);{var $e=Re=>{var Ze=jc(),Ve=t(Ze);x(()=>{Ze.disabled=e(lt),l(Ve,e(lt)?"Processing...":"Process")}),O("click",Ze,()=>wt(e(ue).id)),v(Re,Ze)};y(Ee,Re=>{e(ue),r(()=>e(ue).status==="draft")&&Re($e)})}x((Re,Ze,Ve,Fe,Ye)=>{l(qe,`${Re??""} - ${Ze??""}`),l(je,Ve),st(te,1,`badge ${Fe??""}`,"svelte-1rpegun"),l(de,(e(ue),r(()=>e(ue).status))),l(ee,Ye)},[()=>(e(ue),r(()=>Ae(e(ue).start_date))),()=>(e(ue),r(()=>Ae(e(ue).end_date))),()=>(e(ue),r(()=>Ae(e(ue).pay_date))),()=>(e(ue),r(()=>ye(e(ue).status))),()=>(e(ue),r(()=>e(ue).processed_at?Ae(e(ue).processed_at):"-"))]),v(pe,Te)});var ve=a(w,2),Q=t(ve),U=a(t(Q),2),V=t(U);x(()=>{e(ft),Ut(()=>{})}),_t(V,4,()=>r(()=>Array(5).fill(0).map((pe,ue)=>new Date().getFullYear()-ue)),bt,(pe,ue)=>{var Te=Ac(),he=t(Te),qe={};x(()=>{l(he,ue),qe!==(qe=ue)&&(Te.value=(Te.__value=ue)??"")}),v(pe,Te)});var se=a(V,2),ie=t(se),we=a(Q,2);_t(we,5,()=>e(ut),bt,(pe,ue)=>{var Te=Dc(),he=t(Te),qe=t(he),Se=t(qe),je=a(qe,2),M=t(je),te=a(he,2),de=t(te),ce=a(te,2),ee=t(ce);{var Le=$e=>{var Re=Ec(),Ze=t(Re);x(Ve=>l(Ze,`Filed ${Ve??""}`),[()=>(e(ue),r(()=>Ae(e(ue).filed_date)))]),v($e,Re)},Ee=$e=>{var Re=Cc();v($e,Re)};y(ee,$e=>{e(ue),r(()=>e(ue).filed_date)?$e(Le):$e(Ee,!1)})}x(($e,Re)=>{l(Se,`1099-NEC ${e(ue),r(()=>e(ue).tax_year)??""}`),st(je,1,`badge ${$e??""}`,"svelte-1rpegun"),l(M,(e(ue),r(()=>e(ue).status))),l(de,Re)},[()=>(e(ue),r(()=>ye(e(ue).status))),()=>(e(ue),r(()=>$t(e(ue).total_payments)))]),v(pe,Te)}),x(()=>l(ie,`Generate ${e(ft)??""} Forms`)),O("click",K,()=>s(Qe,!0)),Lt(V,()=>e(ft),pe=>s(ft,pe)),O("click",se,St),v(A,q)};y(De,A=>{e(S)==="admin"&&e(C)&&A(ae)})}var B=a(Oe,2);{var J=A=>{var q=Rc(),w=t(q),N=t(w),K=a(t(N),2),I=a(N,2),oe=t(I),W=t(oe),ve=a(t(W),2),Q=t(ve),U=a(W,2),V=a(t(U),2),se=t(V),ie=a(U,2),we=a(t(ie),2),pe=t(we),ue=a(ie,2),Te=a(t(ue),2),he=t(Te),qe=a(oe,2);{var Se=et=>{var tt=Tc(),Ke=a(t(tt),2),vt=a(t(Ke));_t(vt,5,()=>(e(E),r(()=>e(E).earnings)),bt,(xt,at)=>{var Bt=Pc(),zt=t(Bt),Ft=t(zt),Dt=a(zt),Et=t(Dt),It=a(Dt),Tt=t(It),Mt=a(It),Ct=t(Mt),Ot=a(Mt),Rt=t(Ot);x((Wt,Nt,Vt)=>{l(Ft,(e(at),r(()=>e(at).earning_type))),l(Et,(e(at),r(()=>e(at).description))),l(Tt,Wt),l(Ct,Nt),l(Rt,Vt)},[()=>(e(at),r(()=>e(at).hours?e(at).hours.toFixed(2):"-")),()=>(e(at),r(()=>e(at).rate?$t(e(at).rate):"-")),()=>(e(at),r(()=>$t(e(at).amount)))]),v(xt,Bt)}),v(et,tt)};y(qe,et=>{e(E),r(()=>e(E).earnings.length>0)&&et(Se)})}var je=a(qe,2);{var M=et=>{var tt=Mc(),Ke=a(t(tt),2),vt=a(t(Ke));_t(vt,5,()=>(e(E),r(()=>e(E).taxes)),bt,(xt,at)=>{var Bt=qc(),zt=t(Bt),Ft=t(zt),Dt=a(zt),Et=t(Dt),It=a(Dt),Tt=t(It),Mt=a(It),Ct=t(Mt),Ot=a(Mt),Rt=t(Ot);x((Wt,Nt,Vt)=>{l(Ft,(e(at),r(()=>e(at).tax_type))),l(Et,(e(at),r(()=>e(at).description))),l(Tt,Wt),l(Ct,Nt),l(Rt,Vt)},[()=>(e(at),r(()=>$t(e(at).taxable_wage))),()=>(e(at),r(()=>e(at).tax_rate?Ne(e(at).tax_rate):"-")),()=>(e(at),r(()=>$t(e(at).amount)))]),v(xt,Bt)}),v(et,tt)};y(je,et=>{e(E),r(()=>e(E).taxes.length>0)&&et(M)})}var te=a(je,2);{var de=et=>{var tt=Ic(),Ke=a(t(tt),2),vt=a(t(Ke));_t(vt,5,()=>(e(E),r(()=>e(E).deductions)),bt,(xt,at)=>{var Bt=Bc(),zt=t(Bt),Ft=t(zt),Dt=a(zt),Et=t(Dt),It=a(Dt),Tt=t(It),Mt=a(It),Ct=t(Mt);x(Ot=>{l(Ft,(e(at),r(()=>e(at).deduction_type))),l(Et,(e(at),r(()=>e(at).description))),l(Tt,(e(at),r(()=>e(at).pre_tax?"Yes":"No"))),l(Ct,Ot)},[()=>(e(at),r(()=>$t(e(at).amount)))]),v(xt,Bt)}),v(et,tt)};y(te,et=>{e(E),r(()=>e(E).deductions.length>0)&&et(de)})}var ce=a(te,2),ee=a(t(ce),2),Le=t(ee),Ee=a(t(Le),2),$e=t(Ee),Re=a(Le,2),Ze=a(t(Re),2),Ve=t(Ze),Fe=a(I,2),Ye=t(Fe),Ue=a(Ye,2);x((et,tt,Ke,vt,xt,at)=>{l(Q,et),l(se,`-${tt??""}`),l(pe,`-${Ke??""}`),l(he,vt),l($e,xt),l(Ve,at)},[()=>(e(E),r(()=>$t(e(E).pay_stub.gross_pay))),()=>(e(c),r(()=>$t(e(c)))),()=>(e(g),r(()=>$t(e(g)))),()=>(e(E),r(()=>$t(e(E).pay_stub.net_pay))),()=>(e(E),r(()=>$t(e(E).ytd_gross_pay))),()=>(e(E),r(()=>$t(e(E).ytd_net_pay)))]),O("click",K,()=>s(T,!1)),O("click",Ye,()=>rt(e(E).pay_stub.id)),O("click",Ue,()=>s(T,!1)),O("click",w,Gt(function(et){aa.call(this,o,et)})),O("keydown",w,Gt(function(et){aa.call(this,o,et)})),O("click",q,()=>s(T,!1)),O("keydown",q,et=>et.key==="Escape"&&s(T,!1)),v(A,q)};y(B,A=>{e(T)&&e(E)&&A(J)})}var G=a(B,2);{var $=A=>{var q=Oc(),w=t(q),N=a(t(w),2),K=t(N),I=a(t(K),2);x(()=>{e(P),Ut(()=>{})});var oe=t(I);oe.value=oe.__value="W2";var W=a(oe);W.value=W.__value="1099";var ve=a(K,2),Q=a(t(ve),2);x(()=>{e(P),Ut(()=>{})});var U=t(Q);U.value=U.__value="hourly";var V=a(U);V.value=V.__value="salary";var se=a(V);se.value=se.__value="commission";var ie=a(ve,2);{var we=Ve=>{var Fe=Fc(),Ye=a(t(Fe),2);kt(Ye,()=>e(P).hourly_rate,Ue=>gt(P,e(P).hourly_rate=Ue)),v(Ve,Fe)};y(ie,Ve=>{e(P),r(()=>e(P).pay_type==="hourly")&&Ve(we)})}var pe=a(ie,2);{var ue=Ve=>{var Fe=Lc(),Ye=a(t(Fe),2);kt(Ye,()=>e(P).annual_salary,Ue=>gt(P,e(P).annual_salary=Ue)),v(Ve,Fe)};y(pe,Ve=>{e(P),r(()=>e(P).pay_type==="salary")&&Ve(ue)})}var Te=a(pe,2),he=a(t(Te),2);x(()=>{e(P),Ut(()=>{})});var qe=t(he);qe.value=qe.__value="weekly";var Se=a(qe);Se.value=Se.__value="biweekly";var je=a(Se);je.value=je.__value="semimonthly";var M=a(je);M.value=M.__value="monthly";var te=a(Te,2),de=a(t(te),2),ce=a(te,2),ee=t(ce),Le=a(t(ee),2),Ee=a(ce,2),$e=t(Ee),Re=t($e),Ze=a($e,2);x(()=>{$e.disabled=e(_),l(Re,e(_)?"Saving...":"Save")}),Lt(I,()=>e(P).employment_type,Ve=>gt(P,e(P).employment_type=Ve)),Lt(Q,()=>e(P).pay_type,Ve=>gt(P,e(P).pay_type=Ve)),Lt(he,()=>e(P).pay_frequency,Ve=>gt(P,e(P).pay_frequency=Ve)),kt(de,()=>e(P).standard_hours_per_week,Ve=>gt(P,e(P).standard_hours_per_week=Ve)),ys(Le,()=>e(P).overtime_eligible,Ve=>gt(P,e(P).overtime_eligible=Ve)),O("click",Ze,()=>s(z,!1)),O("submit",N,qs(it)),O("click",w,Gt(function(Ve){aa.call(this,o,Ve)})),O("keydown",w,Gt(function(Ve){aa.call(this,o,Ve)})),O("click",q,()=>s(z,!1)),O("keydown",q,Ve=>Ve.key==="Escape"&&s(z,!1)),v(A,q)};y(G,A=>{e(z)&&A($)})}var j=a(G,2);{var k=A=>{var q=Nc(),w=t(q),N=a(t(w),2),K=t(N),I=a(t(K),2);x(()=>{e(X),Ut(()=>{})});var oe=t(I);oe.value=oe.__value="single";var W=a(oe);W.value=W.__value="married";var ve=a(W);ve.value=ve.__value="head_of_household";var Q=a(K,2),U=t(Q),V=a(t(U),2),se=a(U,2),ie=a(t(se),2),we=a(Q,2),pe=a(t(we),2),ue=a(we,2),Te=t(ue),he=a(t(Te),2),qe=a(ue,2),Se=t(qe),je=a(t(Se),2),M=a(qe,2),te=t(M),de=a(t(te),2),ce=a(M,2),ee=t(ce),Le=t(ee),Ee=a(ee,2);x(()=>{ee.disabled=e(_),l(Le,e(_)?"Saving...":"Save")}),Lt(I,()=>e(X).filing_status,$e=>gt(X,e(X).filing_status=$e)),kt(V,()=>e(X).federal_allowances,$e=>gt(X,e(X).federal_allowances=$e)),kt(ie,()=>e(X).state_allowances,$e=>gt(X,e(X).state_allowances=$e)),kt(pe,()=>e(X).additional_withholding,$e=>gt(X,e(X).additional_withholding=$e)),ys(he,()=>e(X).exempt_federal,$e=>gt(X,e(X).exempt_federal=$e)),ys(je,()=>e(X).exempt_state,$e=>gt(X,e(X).exempt_state=$e)),ys(de,()=>e(X).exempt_fica,$e=>gt(X,e(X).exempt_fica=$e)),O("click",Ee,()=>s(me,!1)),O("submit",N,qs(yt)),O("click",w,Gt(function($e){aa.call(this,o,$e)})),O("keydown",w,Gt(function($e){aa.call(this,o,$e)})),O("click",q,()=>s(me,!1)),O("keydown",q,$e=>$e.key==="Escape"&&s(me,!1)),v(A,q)};y(j,A=>{e(me)&&A(k)})}var b=a(j,2);{var F=A=>{var q=Uc(),w=t(q),N=a(t(w),2),K=t(N),I=a(t(K),2),oe=a(K,2),W=a(t(oe),2),ve=a(oe,2),Q=a(t(ve),2),U=a(ve,2),V=t(U),se=t(V),ie=a(V,2);x(()=>{V.disabled=e(_),l(se,e(_)?"Creating...":"Create")}),kt(I,()=>e(Je).start_date,we=>gt(Je,e(Je).start_date=we)),kt(W,()=>e(Je).end_date,we=>gt(Je,e(Je).end_date=we)),kt(Q,()=>e(Je).pay_date,we=>gt(Je,e(Je).pay_date=we)),O("click",ie,()=>s(Qe,!1)),O("submit",N,qs(pt)),O("click",w,Gt(function(we){aa.call(this,o,we)})),O("click",q,()=>s(Qe,!1)),O("keydown",q,we=>we.key==="Escape"&&s(Qe,!1)),v(A,q)};y(b,A=>{e(Qe)&&A(F)})}x(()=>{st(Xe,1,`tab ${e(S)==="paystubs"?"tab-active":""}`,"svelte-1rpegun"),st(Ge,1,`tab ${e(S)==="compensation"?"tab-active":""}`,"svelte-1rpegun")}),O("click",Xe,()=>s(S,"paystubs")),O("click",Ge,()=>s(S,"compensation")),v(i,fe),Zt(),h()}var Jc=d('<div class="loading svelte-7jlt5n">Loading employee details...</div>'),Vc=d('<div class="error svelte-7jlt5n"> </div>'),Yc=d('<div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Manager</label> <div class="svelte-7jlt5n"> </div></div>'),Gc=d('<div class="info-section svelte-7jlt5n"><h3 class="svelte-7jlt5n">Contact Information</h3> <div class="info-grid svelte-7jlt5n"><div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Email</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Phone</label> <div class="svelte-7jlt5n"> </div></div></div> <h3 class="svelte-7jlt5n">Employment Details</h3> <div class="info-grid svelte-7jlt5n"><div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Hire Date</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Status</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Department</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Position</label> <div class="svelte-7jlt5n"> </div></div> <!></div></div>'),Kc=d('<div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Hourly Rate</label> <div class="pay-amount svelte-7jlt5n"> </div></div>'),Qc=d('<div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Annual Salary</label> <div class="pay-amount svelte-7jlt5n"> </div></div>'),Xc=d('<h3 class="svelte-7jlt5n">Current Compensation</h3> <div class="info-grid svelte-7jlt5n"><div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Employment Type</label> <div class="employment-type svelte-7jlt5n"><span> </span></div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Pay Type</label> <div class="svelte-7jlt5n"> </div></div> <!> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Pay Frequency</label> <div class="svelte-7jlt5n"> </div></div> <div class="info-item svelte-7jlt5n"><label class="svelte-7jlt5n">Effective Date</label> <div class="svelte-7jlt5n"> </div></div></div>',1),Zc=d('<div class="empty-state svelte-7jlt5n">No compensation information available</div>'),eu=d('<div class="info-section svelte-7jlt5n"><!></div>'),tu=d('<div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Employee Contribution</label> <div class="svelte-7jlt5n"> </div></div>'),au=d('<div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Employer Contribution</label> <div class="svelte-7jlt5n"> </div></div>'),su=d('<div class="benefit-card svelte-7jlt5n"><div class="benefit-header svelte-7jlt5n"><h4 class="svelte-7jlt5n"> </h4> <span> </span></div> <div class="benefit-details svelte-7jlt5n"><div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Type</label> <div class="svelte-7jlt5n"> </div></div> <div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Provider</label> <div class="svelte-7jlt5n"> </div></div> <div class="benefit-item svelte-7jlt5n"><label class="svelte-7jlt5n">Enrolled</label> <div class="svelte-7jlt5n"> </div></div> <!> <!></div></div>'),lu=d('<div class="benefits-list svelte-7jlt5n"></div>'),ru=d('<div class="empty-state svelte-7jlt5n">No benefits enrolled</div>'),iu=d('<div class="info-section svelte-7jlt5n"><h3 class="svelte-7jlt5n">Enrolled Benefits</h3> <!></div>'),vu=d('<div class="employee-header svelte-7jlt5n"><div class="employee-name svelte-7jlt5n"><h2 class="svelte-7jlt5n"> </h2> <span> </span></div> <div class="employee-meta svelte-7jlt5n"><span> </span> <span>â€¢</span> <span> </span></div></div> <div class="tabs svelte-7jlt5n"><button>General Information</button> <button>Compensation</button> <button>Benefits</button></div> <div class="tab-content svelte-7jlt5n"><!></div>',1),ou=d('<div class="employee-detail svelte-7jlt5n"><!></div>');function Fr(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=El(o,"employeeId",8),_=Y(null),p=Y(null),u=Y([]),S=Y(!0),C=Y(""),le=Y("general");sa(()=>{E()});async function E(){try{s(S,!0),s(C,"");const X=await fetch(`${c}/employees/${g()}`,{headers:{Authorization:`Bearer ${n().token}`}});if(!X.ok)throw new Error("Failed to load employee");s(_,await X.json());const re=await fetch(`${c}/payroll/compensation/${g()}`,{headers:{Authorization:`Bearer ${n().token}`}});re.ok&&s(p,await re.json());const Qe=await fetch(`${c}/benefits/employee/${g()}`,{headers:{Authorization:`Bearer ${n().token}`}});Qe.ok&&s(u,await Qe.json())}catch(X){s(C,X.message)}finally{s(S,!1)}}function T(X){return{onboarding:"status-onboarding",active:"status-active","on-leave":"status-leave",separated:"status-separated"}[X]||"status-default"}function L(X){return{onboarding:"Onboarding",active:"Active","on-leave":"On Leave",separated:"Separated"}[X]||X}na();var z=ou(),P=t(z);{var R=X=>{var re=Jc();v(X,re)},me=X=>{var re=Pt(),Qe=nt(re);{var Je=ut=>{var ft=Vc(),ht=t(ft);x(()=>l(ht,e(C))),v(ut,ft)},lt=ut=>{var ft=Pt(),ht=nt(ft);{var ot=rt=>{var At=vu(),it=nt(At),ct=t(it),yt=t(ct),dt=t(yt),pt=a(yt,2),wt=t(pt),St=a(ct,2),qt=t(St),$t=t(qt),Ae=a(qt,4),Ne=t(Ae),ye=a(it,2),He=t(ye);let Ce;He.__click=()=>s(le,"general");var fe=a(He,2);let Oe;fe.__click=()=>s(le,"compensation");var Ie=a(fe,2);let ke;Ie.__click=()=>s(le,"benefits");var ge=a(ye,2),Pe=t(ge);{var Be=Ge=>{var We=Gc(),be=a(t(We),2),f=t(be),D=a(t(f),2),H=t(D),xe=a(f,2),ne=a(t(xe),2),_e=t(ne),ze=a(be,4),Me=t(ze),Z=a(t(Me),2),De=t(Z),ae=a(Me,2),B=a(t(ae),2),J=t(B),G=a(ae,2),$=a(t(G),2),j=t($),k=a(G,2),b=a(t(k),2),F=t(b),A=a(k,2);{var q=w=>{var N=Yc(),K=a(t(N),2),I=t(K);x(()=>l(I,(e(_),r(()=>e(_).manager_name)))),v(w,N)};y(A,w=>{e(_),r(()=>e(_).manager_name)&&w(q)})}x((w,N)=>{l(H,(e(_),r(()=>e(_).email))),l(_e,(e(_),r(()=>e(_).phone||"Not provided"))),l(De,w),l(J,N),l(j,(e(_),r(()=>e(_).department))),l(F,(e(_),r(()=>e(_).position)))},[()=>(e(_),r(()=>new Date(e(_).hire_date).toLocaleDateString())),()=>(e(_),r(()=>L(e(_).status)))]),v(Ge,We)},Xe=Ge=>{var We=Pt(),be=nt(We);{var f=H=>{var xe=eu(),ne=t(xe);{var _e=Me=>{var Z=Xc(),De=a(nt(Z),2),ae=t(De),B=a(t(ae),2),J=t(B),G=t(J),$=a(ae,2),j=a(t($),2),k=t(j),b=a($,2);{var F=W=>{var ve=Kc(),Q=a(t(ve),2),U=t(Q);x(V=>l(U,`$${V??""}/hr`),[()=>(e(p),r(()=>{var V;return(V=e(p).hourly_rate)==null?void 0:V.toFixed(2)}))]),v(W,ve)},A=W=>{var ve=Qc(),Q=a(t(ve),2),U=t(Q);x(V=>l(U,`$${V??""}/year`),[()=>(e(p),r(()=>{var V;return(V=e(p).annual_salary)==null?void 0:V.toLocaleString()}))]),v(W,ve)};y(b,W=>{e(p),r(()=>e(p).pay_type==="hourly")?W(F):W(A,!1)})}var q=a(b,2),w=a(t(q),2),N=t(w),K=a(q,2),I=a(t(K),2),oe=t(I);x(W=>{st(J,1,`badge badge-${e(p),r(()=>e(p).employment_type)??""}`,"svelte-7jlt5n"),l(G,(e(p),r(()=>e(p).employment_type))),l(k,(e(p),r(()=>e(p).pay_type==="hourly"?"Hourly":"Salary"))),l(N,(e(p),r(()=>e(p).pay_frequency))),l(oe,W)},[()=>(e(p),r(()=>new Date(e(p).effective_date).toLocaleDateString()))]),v(Me,Z)},ze=Me=>{var Z=Zc();v(Me,Z)};y(ne,Me=>{e(p)?Me(_e):Me(ze,!1)})}v(H,xe)},D=H=>{var xe=Pt(),ne=nt(xe);{var _e=ze=>{var Me=iu(),Z=a(t(Me),2);{var De=B=>{var J=lu();_t(J,5,()=>e(u),bt,(G,$)=>{var j=su(),k=t(j),b=t(k),F=t(b),A=a(b,2),q=t(A),w=a(k,2),N=t(w),K=a(t(N),2),I=t(K),oe=a(N,2),W=a(t(oe),2),ve=t(W),Q=a(oe,2),U=a(t(Q),2),V=t(U),se=a(Q,2);{var ie=ue=>{var Te=tu(),he=a(t(Te),2),qe=t(he);x(()=>l(qe,`$${e($),r(()=>e($).employee_contribution)??""}/month`)),v(ue,Te)};y(se,ue=>{e($),r(()=>e($).employee_contribution)&&ue(ie)})}var we=a(se,2);{var pe=ue=>{var Te=au(),he=a(t(Te),2),qe=t(he);x(()=>l(qe,`$${e($),r(()=>e($).employer_contribution)??""}/month`)),v(ue,Te)};y(we,ue=>{e($),r(()=>e($).employer_contribution)&&ue(pe)})}x(ue=>{l(F,(e($),r(()=>e($).name))),st(A,1,`benefit-status status-${e($),r(()=>e($).status)??""}`,"svelte-7jlt5n"),l(q,(e($),r(()=>e($).status))),l(I,(e($),r(()=>e($).type))),l(ve,(e($),r(()=>e($).provider))),l(V,ue)},[()=>(e($),r(()=>new Date(e($).enrolled_date).toLocaleDateString()))]),v(G,j)}),v(B,J)},ae=B=>{var J=ru();v(B,J)};y(Z,B=>{e(u),r(()=>e(u).length>0)?B(De):B(ae,!1)})}v(ze,Me)};y(ne,ze=>{e(le)==="benefits"&&ze(_e)},!0)}v(H,xe)};y(be,H=>{e(le)==="compensation"?H(f):H(D,!1)},!0)}v(Ge,We)};y(Pe,Ge=>{e(le)==="general"?Ge(Be):Ge(Xe,!1)})}x((Ge,We)=>{l(dt,`${e(_),r(()=>e(_).first_name)??""} ${e(_),r(()=>e(_).last_name)??""}`),st(pt,1,`status-badge ${Ge??""}`,"svelte-7jlt5n"),l(wt,We),l($t,(e(_),r(()=>e(_).position))),l(Ne,(e(_),r(()=>e(_).department))),Ce=st(He,1,"tab svelte-7jlt5n",null,Ce,{active:e(le)==="general"}),Oe=st(fe,1,"tab svelte-7jlt5n",null,Oe,{active:e(le)==="compensation"}),ke=st(Ie,1,"tab svelte-7jlt5n",null,ke,{active:e(le)==="benefits"})},[()=>(e(_),r(()=>T(e(_).status))),()=>(e(_),r(()=>L(e(_).status)))]),v(rt,At)};y(ht,rt=>{e(_)&&rt(ot)},!0)}v(ut,ft)};y(Qe,ut=>{e(C)?ut(Je):ut(lt,!1)},!0)}v(X,re)};y(P,X=>{e(S)?X(R):X(me,!1)})}v(i,z),Zt(),h()}Pa(["click"]);var nu=d('<button class="btn btn-primary svelte-1a90hjy">+ Add Compensation Plan</button>'),du=d('<button class="btn btn-primary svelte-1a90hjy">+ Add Bonus</button>'),cu=d('<div class="alert alert-error svelte-1a90hjy"> </div>'),uu=d('<div class="alert alert-success svelte-1a90hjy"> </div>'),pu=d('<div class="loading svelte-1a90hjy">Loading...</div>'),_u=d('<tr class="svelte-1a90hjy"><td colspan="7" class="empty-state svelte-1a90hjy">No compensation plans found. Add one above!</td></tr>'),fu=d('<tr class="svelte-1a90hjy"><td class="employee-name svelte-1a90hjy"> </td><td class="svelte-1a90hjy"><span> </span></td><td class="amount svelte-1a90hjy"> </td><td class="svelte-1a90hjy"> </td><td class="svelte-1a90hjy"> </td><td class="svelte-1a90hjy"><span> </span></td><td class="actions svelte-1a90hjy"><button class="btn-icon svelte-1a90hjy" title="Edit">âœï¸</button> <button class="btn-icon svelte-1a90hjy" title="Delete">ðŸ—‘ï¸</button></td></tr>'),bu=d('<div class="table-container svelte-1a90hjy"><table class="svelte-1a90hjy"><thead class="svelte-1a90hjy"><tr><th class="svelte-1a90hjy">Employee</th><th class="svelte-1a90hjy">Type</th><th class="svelte-1a90hjy">Base Amount</th><th class="svelte-1a90hjy">Frequency</th><th class="svelte-1a90hjy">Effective Date</th><th class="svelte-1a90hjy">Status</th><th class="svelte-1a90hjy">Actions</th></tr></thead><tbody class="svelte-1a90hjy"><!></tbody></table></div>'),mu=d('<tr class="svelte-1a90hjy"><td colspan="7" class="empty-state svelte-1a90hjy">No bonuses found. Add one above!</td></tr>'),hu=d('<tr class="svelte-1a90hjy"><td class="employee-name svelte-1a90hjy"> </td><td class="svelte-1a90hjy"><span> </span></td><td class="amount svelte-1a90hjy"> </td><td class="svelte-1a90hjy"> </td><td class="svelte-1a90hjy"> </td><td class="svelte-1a90hjy"><span> </span></td><td class="actions svelte-1a90hjy"><button class="btn-icon svelte-1a90hjy" title="Edit">âœï¸</button> <button class="btn-icon svelte-1a90hjy" title="Delete">ðŸ—‘ï¸</button></td></tr>'),yu=d('<div class="table-container svelte-1a90hjy"><table class="svelte-1a90hjy"><thead class="svelte-1a90hjy"><tr><th class="svelte-1a90hjy">Employee</th><th class="svelte-1a90hjy">Type</th><th class="svelte-1a90hjy">Amount</th><th class="svelte-1a90hjy">Description</th><th class="svelte-1a90hjy">Payment Date</th><th class="svelte-1a90hjy">Status</th><th class="svelte-1a90hjy">Actions</th></tr></thead><tbody class="svelte-1a90hjy"><!></tbody></table></div>'),gu=d("<option> </option>"),xu=d('<div class="modal-overlay svelte-1a90hjy" role="button" tabindex="0"><div class="modal svelte-1a90hjy" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1a90hjy"><h3 class="svelte-1a90hjy"> </h3> <button class="close-btn svelte-1a90hjy">Ã—</button></div> <div class="modal-body svelte-1a90hjy"><div class="form-grid svelte-1a90hjy"><div class="form-group svelte-1a90hjy"><label for="employee" class="svelte-1a90hjy">Employee *</label> <select id="employee" required class="svelte-1a90hjy"><option>Select Employee</option><!></select></div> <div class="form-group svelte-1a90hjy"><label for="comp-type" class="svelte-1a90hjy">Compensation Type *</label> <select id="comp-type" required class="svelte-1a90hjy"><option>Salary</option><option>Hourly</option><option>Contract</option></select></div> <div class="form-group svelte-1a90hjy"><label for="base-amount" class="svelte-1a90hjy">Base Amount *</label> <input id="base-amount" type="number" min="0" step="0.01" required class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="currency" class="svelte-1a90hjy">Currency</label> <select id="currency" class="svelte-1a90hjy"><option>USD</option><option>EUR</option><option>GBP</option><option>CAD</option></select></div> <div class="form-group svelte-1a90hjy"><label for="pay-freq" class="svelte-1a90hjy">Pay Frequency *</label> <select id="pay-freq" required class="svelte-1a90hjy"><option>Hourly</option><option>Weekly</option><option>Bi-weekly</option><option>Monthly</option><option>Annually</option></select></div> <div class="form-group svelte-1a90hjy"><label for="effective-date" class="svelte-1a90hjy">Effective Date *</label> <input id="effective-date" type="date" required class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="end-date" class="svelte-1a90hjy">End Date (Optional)</label> <input id="end-date" type="date" class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="status" class="svelte-1a90hjy">Status</label> <select id="status" class="svelte-1a90hjy"><option>Active</option><option>Pending</option><option>Expired</option></select></div></div></div> <div class="modal-footer svelte-1a90hjy"><button class="btn btn-secondary svelte-1a90hjy">Cancel</button> <button class="btn btn-primary svelte-1a90hjy"> </button></div></div></div>'),wu=d("<option> </option>"),ku=d('<div class="modal-overlay svelte-1a90hjy" role="button" tabindex="0"><div class="modal svelte-1a90hjy" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1a90hjy"><h3 class="svelte-1a90hjy"> </h3> <button class="close-btn svelte-1a90hjy">Ã—</button></div> <div class="modal-body svelte-1a90hjy"><div class="form-grid svelte-1a90hjy"><div class="form-group svelte-1a90hjy"><label for="bonus-employee" class="svelte-1a90hjy">Employee *</label> <select id="bonus-employee" required class="svelte-1a90hjy"><option>Select Employee</option><!></select></div> <div class="form-group svelte-1a90hjy"><label for="bonus-type" class="svelte-1a90hjy">Bonus Type *</label> <select id="bonus-type" required class="svelte-1a90hjy"><option>Monthly</option><option>Quarterly</option><option>Annual</option><option>Performance</option><option>Signing</option><option>Retention</option></select></div> <div class="form-group svelte-1a90hjy"><label for="bonus-amount" class="svelte-1a90hjy">Amount *</label> <input id="bonus-amount" type="number" min="0" step="0.01" required class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="bonus-currency" class="svelte-1a90hjy">Currency</label> <select id="bonus-currency" class="svelte-1a90hjy"><option>USD</option><option>EUR</option><option>GBP</option><option>CAD</option></select></div> <div class="form-group full-width svelte-1a90hjy"><label for="bonus-desc" class="svelte-1a90hjy">Description *</label> <textarea id="bonus-desc" rows="3" required class="svelte-1a90hjy"></textarea></div> <div class="form-group svelte-1a90hjy"><label for="payment-date" class="svelte-1a90hjy">Payment Date *</label> <input id="payment-date" type="date" required class="svelte-1a90hjy"/></div> <div class="form-group svelte-1a90hjy"><label for="bonus-status" class="svelte-1a90hjy">Status</label> <select id="bonus-status" class="svelte-1a90hjy"><option>Pending</option><option>Approved</option><option>Paid</option><option>Cancelled</option></select></div></div></div> <div class="modal-footer svelte-1a90hjy"><button class="btn btn-secondary svelte-1a90hjy">Cancel</button> <button class="btn btn-primary svelte-1a90hjy"> </button></div></div></div>'),$u=d('<div class="compensation-manager svelte-1a90hjy"><div class="header svelte-1a90hjy"><h2 class="svelte-1a90hjy">ðŸ’° Compensation Management</h2> <div class="header-actions svelte-1a90hjy"><!></div></div> <!> <!> <div class="tabs svelte-1a90hjy"><button>ðŸ’¼ Compensation Plans</button> <button>ðŸŽ Bonuses</button></div> <!></div> <!> <!>',1);function Zi(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=Y([]),_=Y([]),p=Y([]),u=Y(!1),S=Y(""),C=Y(""),le=Y("plans"),E=Y(!1),T=Y(!1),L=Y(null),z=Y(null),P=Y({employee_id:"",compensation_type:"salary",base_amount:0,currency:"USD",pay_frequency:"monthly",effective_date:new Date().toISOString().split("T")[0],end_date:null,status:"active"}),R=Y({employee_id:"",bonus_type:"monthly",amount:0,currency:"USD",description:"",payment_date:new Date().toISOString().split("T")[0],status:"pending"});sa(()=>{me()});async function me(){await Promise.all([X(),re(),Qe()])}async function X(){try{s(u,!0);const f=await fetch(`${c}/compensation/plans`,{headers:{Authorization:`Bearer ${n().token}`}});if(!f.ok)throw new Error("Failed to load compensation plans");const D=await f.json();s(g,Array.isArray(D)?D:[])}catch(f){s(S,f.message),s(g,[])}finally{s(u,!1)}}async function re(){try{const f=await fetch(`${c}/compensation/bonuses`,{headers:{Authorization:`Bearer ${n().token}`}});if(!f.ok)throw new Error("Failed to load bonuses");const D=await f.json();s(_,Array.isArray(D)?D:[])}catch(f){s(S,f.message),s(_,[])}}async function Qe(){try{const f=await fetch(`${c}/employees`,{headers:{Authorization:`Bearer ${n().token}`}});if(!f.ok)throw new Error("Failed to load employees");const D=await f.json();s(p,Array.isArray(D)?D:[])}catch(f){s(S,f.message),s(p,[])}}function Je(){s(L,null),s(P,{employee_id:"",compensation_type:"salary",base_amount:0,currency:"USD",pay_frequency:"monthly",effective_date:new Date().toISOString().split("T")[0],end_date:null,status:"active"}),s(E,!0)}function lt(){s(z,null),s(R,{employee_id:"",bonus_type:"monthly",amount:0,currency:"USD",description:"",payment_date:new Date().toISOString().split("T")[0],status:"pending"}),s(T,!0)}async function ut(){try{s(u,!0),s(S,"");const f={...e(P),effective_date:e(P).effective_date?new Date(e(P).effective_date).toISOString():new Date().toISOString(),end_date:e(P).end_date?new Date(e(P).end_date).toISOString():null},D=e(L)?"PUT":"POST",H=e(L)?`${c}/compensation/plans/${e(L).id}`:`${c}/compensation/plans`,xe=await fetch(H,{method:D,headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(f)});if(!xe.ok){const ne=await xe.json().catch(()=>({error:"Failed to save compensation plan"}));throw new Error(ne.error||"Failed to save compensation plan")}s(C,e(L)?"Compensation updated!":"Compensation created!"),setTimeout(()=>s(C,""),3e3),s(E,!1),await X()}catch(f){s(S,f.message)}finally{s(u,!1)}}async function ft(){try{s(u,!0),s(S,"");const f={...e(R),payment_date:e(R).payment_date?new Date(e(R).payment_date).toISOString():new Date().toISOString()},D=e(z)?"PUT":"POST",H=e(z)?`${c}/compensation/bonuses/${e(z).id}`:`${c}/compensation/bonuses`,xe=await fetch(H,{method:D,headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(f)});if(!xe.ok){const ne=await xe.json().catch(()=>({error:"Failed to save bonus"}));throw new Error(ne.error||"Failed to save bonus")}s(C,e(z)?"Bonus updated!":"Bonus created!"),setTimeout(()=>s(C,""),3e3),s(T,!1),await re()}catch(f){s(S,f.message)}finally{s(u,!1)}}function ht(f){s(L,f),s(P,{employee_id:f.employee_id,compensation_type:f.compensation_type,base_amount:f.base_amount,currency:f.currency,pay_frequency:f.pay_frequency,effective_date:f.effective_date,end_date:f.end_date||"",status:f.status}),s(E,!0)}function ot(f){s(z,f),s(R,{employee_id:f.employee_id,bonus_type:f.bonus_type,amount:f.amount,currency:f.currency,description:f.description,payment_date:f.payment_date,status:f.status}),s(T,!0)}async function rt(f){if(confirm("Delete this compensation plan?"))try{if(!(await fetch(`${c}/compensation/plans/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${n().token}`}})).ok)throw new Error("Failed to delete");s(C,"Compensation plan deleted"),setTimeout(()=>s(C,""),3e3),await X()}catch(D){s(S,D.message)}}async function At(f){if(confirm("Delete this bonus?"))try{if(!(await fetch(`${c}/compensation/bonuses/${f}`,{method:"DELETE",headers:{Authorization:`Bearer ${n().token}`}})).ok)throw new Error("Failed to delete");s(C,"Bonus deleted"),setTimeout(()=>s(C,""),3e3),await re()}catch(D){s(S,D.message)}}function it(f,D="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:D}).format(f)}function ct(f){return new Date(f).toLocaleDateString()}function yt(f){const D=e(p).find(H=>H.id===f);return D?`${D.first_name} ${D.last_name}`:"Unknown"}function dt(f){return{active:"status-active",pending:"status-pending",expired:"status-expired",approved:"status-approved",paid:"status-paid",cancelled:"status-cancelled"}[f]||""}na();var pt=$u(),wt=nt(pt),St=t(wt),qt=a(t(St),2),$t=t(qt);{var Ae=f=>{var D=nu();D.__click=()=>Je(),v(f,D)},Ne=f=>{var D=du();D.__click=()=>lt(),v(f,D)};y($t,f=>{e(le)==="plans"?f(Ae):f(Ne,!1)})}var ye=a(St,2);{var He=f=>{var D=cu(),H=t(D);x(()=>l(H,e(S))),v(f,D)};y(ye,f=>{e(S)&&f(He)})}var Ce=a(ye,2);{var fe=f=>{var D=uu(),H=t(D);x(()=>l(H,e(C))),v(f,D)};y(Ce,f=>{e(C)&&f(fe)})}var Oe=a(Ce,2),Ie=t(Oe);Ie.__click=()=>s(le,"plans");var ke=a(Ie,2);ke.__click=()=>s(le,"bonuses");var ge=a(Oe,2);{var Pe=f=>{var D=pu();v(f,D)},Be=f=>{var D=Pt(),H=nt(D);{var xe=_e=>{var ze=bu(),Me=t(ze),Z=a(t(Me)),De=t(Z);{var ae=J=>{var G=_u();v(J,G)},B=J=>{var G=Pt(),$=nt(G);_t($,1,()=>e(g),bt,(j,k)=>{var b=fu(),F=t(b),A=t(F),q=a(F),w=t(q),N=t(w),K=a(q),I=t(K),oe=a(K),W=t(oe),ve=a(oe),Q=t(ve),U=a(ve),V=t(U),se=t(V),ie=a(U),we=t(ie);we.__click=()=>ht(e(k));var pe=a(we,2);pe.__click=()=>rt(e(k).id),x((ue,Te,he,qe)=>{l(A,ue),st(w,1,`type-badge type-${e(k).compensation_type??""}`,"svelte-1a90hjy"),l(N,e(k).compensation_type),l(I,Te),l(W,e(k).pay_frequency),l(Q,he),st(V,1,`status-badge ${qe??""}`,"svelte-1a90hjy"),l(se,e(k).status)},[()=>yt(e(k).employee_id),()=>it(e(k).base_amount,e(k).currency),()=>ct(e(k).effective_date),()=>dt(e(k).status)]),v(j,b)}),v(J,G)};y(De,J=>{!e(g)||e(g).length===0?J(ae):J(B,!1)})}v(_e,ze)},ne=_e=>{var ze=yu(),Me=t(ze),Z=a(t(Me)),De=t(Z);{var ae=J=>{var G=mu();v(J,G)},B=J=>{var G=Pt(),$=nt(G);_t($,1,()=>e(_),bt,(j,k)=>{var b=hu(),F=t(b),A=t(F),q=a(F),w=t(q),N=t(w),K=a(q),I=t(K),oe=a(K),W=t(oe),ve=a(oe),Q=t(ve),U=a(ve),V=t(U),se=t(V),ie=a(U),we=t(ie);we.__click=()=>ot(e(k));var pe=a(we,2);pe.__click=()=>At(e(k).id),x((ue,Te,he,qe)=>{l(A,ue),st(w,1,`type-badge type-${e(k).bonus_type??""}`,"svelte-1a90hjy"),l(N,e(k).bonus_type),l(I,Te),l(W,e(k).description),l(Q,he),st(V,1,`status-badge ${qe??""}`,"svelte-1a90hjy"),l(se,e(k).status)},[()=>yt(e(k).employee_id),()=>it(e(k).amount,e(k).currency),()=>ct(e(k).payment_date),()=>dt(e(k).status)]),v(j,b)}),v(J,G)};y(De,J=>{!e(_)||e(_).length===0?J(ae):J(B,!1)})}v(_e,ze)};y(H,_e=>{e(le)==="plans"?_e(xe):_e(ne,!1)})}v(f,D)};y(ge,f=>{var D,H;e(u)&&(((D=e(g))==null?void 0:D.length)??0)===0&&(((H=e(_))==null?void 0:H.length)??0)===0?f(Pe):f(Be,!1)})}var Xe=a(wt,2);{var Ge=f=>{var D=xu();D.__click=()=>s(E,!1),D.__keydown=Ee=>Ee.key==="Escape"&&s(E,!1);var H=t(D);H.__click=Ee=>Ee.stopPropagation(),H.__keydown=Ee=>Ee.key==="Escape"&&s(E,!1);var xe=t(H),ne=t(xe),_e=t(ne),ze=a(ne,2);ze.__click=()=>s(E,!1);var Me=a(xe,2),Z=t(Me),De=t(Z),ae=a(t(De),2);x(()=>{e(P),Ut(()=>{e(p)})});var B=t(ae);B.value=B.__value="";var J=a(B);{var G=Ee=>{var $e=Pt(),Re=nt($e);_t(Re,1,()=>e(p),bt,(Ze,Ve)=>{var Fe=gu(),Ye=t(Fe),Ue={};x(()=>{l(Ye,`${e(Ve).first_name??""} ${e(Ve).last_name??""}`),Ue!==(Ue=e(Ve).id)&&(Fe.value=(Fe.__value=e(Ve).id)??"")}),v(Ze,Fe)}),v(Ee,$e)};y(J,Ee=>{e(p)&&e(p).length>0&&Ee(G)})}var $=a(De,2),j=a(t($),2);x(()=>{e(P),Ut(()=>{})});var k=t(j);k.value=k.__value="salary";var b=a(k);b.value=b.__value="hourly";var F=a(b);F.value=F.__value="contract";var A=a($,2),q=a(t(A),2),w=a(A,2),N=a(t(w),2);x(()=>{e(P),Ut(()=>{})});var K=t(N);K.value=K.__value="USD";var I=a(K);I.value=I.__value="EUR";var oe=a(I);oe.value=oe.__value="GBP";var W=a(oe);W.value=W.__value="CAD";var ve=a(w,2),Q=a(t(ve),2);x(()=>{e(P),Ut(()=>{})});var U=t(Q);U.value=U.__value="hourly";var V=a(U);V.value=V.__value="weekly";var se=a(V);se.value=se.__value="biweekly";var ie=a(se);ie.value=ie.__value="monthly";var we=a(ie);we.value=we.__value="annually";var pe=a(ve,2),ue=a(t(pe),2),Te=a(pe,2),he=a(t(Te),2),qe=a(Te,2),Se=a(t(qe),2);x(()=>{e(P),Ut(()=>{})});var je=t(Se);je.value=je.__value="active";var M=a(je);M.value=M.__value="pending";var te=a(M);te.value=te.__value="expired";var de=a(Me,2),ce=t(de);ce.__click=()=>s(E,!1);var ee=a(ce,2);ee.__click=ut;var Le=t(ee);x(()=>{l(_e,`${e(L)?"Edit":"Add"} Compensation Plan`),ee.disabled=e(u),l(Le,`${e(L)?"Update":"Create"} Plan`)}),Lt(ae,()=>e(P).employee_id,Ee=>gt(P,e(P).employee_id=Ee)),Lt(j,()=>e(P).compensation_type,Ee=>gt(P,e(P).compensation_type=Ee)),kt(q,()=>e(P).base_amount,Ee=>gt(P,e(P).base_amount=Ee)),Lt(N,()=>e(P).currency,Ee=>gt(P,e(P).currency=Ee)),Lt(Q,()=>e(P).pay_frequency,Ee=>gt(P,e(P).pay_frequency=Ee)),kt(ue,()=>e(P).effective_date,Ee=>gt(P,e(P).effective_date=Ee)),kt(he,()=>e(P).end_date,Ee=>gt(P,e(P).end_date=Ee)),Lt(Se,()=>e(P).status,Ee=>gt(P,e(P).status=Ee)),v(f,D)};y(Xe,f=>{e(E)&&f(Ge)})}var We=a(Xe,2);{var be=f=>{var D=ku();D.__click=()=>s(T,!1),D.__keydown=ce=>ce.key==="Escape"&&s(T,!1);var H=t(D);H.__click=ce=>ce.stopPropagation(),H.__keydown=ce=>ce.key==="Escape"&&s(T,!1);var xe=t(H),ne=t(xe),_e=t(ne),ze=a(ne,2);ze.__click=()=>s(T,!1);var Me=a(xe,2),Z=t(Me),De=t(Z),ae=a(t(De),2);x(()=>{e(R),Ut(()=>{e(p)})});var B=t(ae);B.value=B.__value="";var J=a(B);{var G=ce=>{var ee=Pt(),Le=nt(ee);_t(Le,1,()=>e(p),bt,(Ee,$e)=>{var Re=wu(),Ze=t(Re),Ve={};x(()=>{l(Ze,`${e($e).first_name??""} ${e($e).last_name??""}`),Ve!==(Ve=e($e).id)&&(Re.value=(Re.__value=e($e).id)??"")}),v(Ee,Re)}),v(ce,ee)};y(J,ce=>{e(p)&&e(p).length>0&&ce(G)})}var $=a(De,2),j=a(t($),2);x(()=>{e(R),Ut(()=>{})});var k=t(j);k.value=k.__value="monthly";var b=a(k);b.value=b.__value="quarterly";var F=a(b);F.value=F.__value="annual";var A=a(F);A.value=A.__value="performance";var q=a(A);q.value=q.__value="signing";var w=a(q);w.value=w.__value="retention";var N=a($,2),K=a(t(N),2),I=a(N,2),oe=a(t(I),2);x(()=>{e(R),Ut(()=>{})});var W=t(oe);W.value=W.__value="USD";var ve=a(W);ve.value=ve.__value="EUR";var Q=a(ve);Q.value=Q.__value="GBP";var U=a(Q);U.value=U.__value="CAD";var V=a(I,2),se=a(t(V),2),ie=a(V,2),we=a(t(ie),2),pe=a(ie,2),ue=a(t(pe),2);x(()=>{e(R),Ut(()=>{})});var Te=t(ue);Te.value=Te.__value="pending";var he=a(Te);he.value=he.__value="approved";var qe=a(he);qe.value=qe.__value="paid";var Se=a(qe);Se.value=Se.__value="cancelled";var je=a(Me,2),M=t(je);M.__click=()=>s(T,!1);var te=a(M,2);te.__click=ft;var de=t(te);x(()=>{l(_e,`${e(z)?"Edit":"Add"} Bonus`),te.disabled=e(u),l(de,`${e(z)?"Update":"Create"} Bonus`)}),Lt(ae,()=>e(R).employee_id,ce=>gt(R,e(R).employee_id=ce)),Lt(j,()=>e(R).bonus_type,ce=>gt(R,e(R).bonus_type=ce)),kt(K,()=>e(R).amount,ce=>gt(R,e(R).amount=ce)),Lt(oe,()=>e(R).currency,ce=>gt(R,e(R).currency=ce)),kt(se,()=>e(R).description,ce=>gt(R,e(R).description=ce)),kt(we,()=>e(R).payment_date,ce=>gt(R,e(R).payment_date=ce)),Lt(ue,()=>e(R).status,ce=>gt(R,e(R).status=ce)),v(f,D)};y(We,f=>{e(T)&&f(be)})}x(()=>{st(Ie,1,`tab ${e(le)==="plans"?"active":""}`,"svelte-1a90hjy"),st(ke,1,`tab ${e(le)==="bonuses"?"active":""}`,"svelte-1a90hjy")}),v(i,pt),Zt(),h()}Pa(["click","keydown"]);var ju=d('<div class="loading svelte-a2ly5c">Loading workflows...</div>'),Su=d('<div class="error svelte-a2ly5c"> </div>'),Au=d('<div class="empty-state svelte-a2ly5c">No workflows created yet. Use a template above to get started!</div>'),Eu=d('<div class="workflow-card svelte-a2ly5c"><div class="workflow-header svelte-a2ly5c"><div><h4 class="svelte-a2ly5c"> </h4> <span class="workflow-type svelte-a2ly5c"> </span></div> <span> </span></div> <p class="workflow-description svelte-a2ly5c"> </p> <div class="workflow-meta svelte-a2ly5c"><span> </span> <span>â€¢</span> <span> </span></div> <div class="workflow-actions svelte-a2ly5c"><button class="btn-secondary svelte-a2ly5c">Edit</button> <button class="btn-danger svelte-a2ly5c">Delete</button></div></div>'),Cu=d('<div class="workflows-grid svelte-a2ly5c"></div>'),Du=d('<div class="quick-actions svelte-a2ly5c"><h3 class="svelte-a2ly5c">Workflow Templates</h3> <div class="template-buttons svelte-a2ly5c"><button class="btn-template onboarding svelte-a2ly5c"><span class="icon svelte-a2ly5c">ðŸ‘‹</span> <span class="svelte-a2ly5c">New Hire Onboarding</span></button> <button class="btn-template offboarding svelte-a2ly5c"><span class="icon svelte-a2ly5c">ðŸ‘‹</span> <span class="svelte-a2ly5c">Employee Offboarding</span></button> <button class="btn-template performance svelte-a2ly5c"><span class="icon svelte-a2ly5c">ðŸ“Š</span> <span class="svelte-a2ly5c">Performance Review</span></button> <button class="btn-template custom svelte-a2ly5c"><span class="icon svelte-a2ly5c">âž•</span> <span class="svelte-a2ly5c">Custom Workflow</span></button></div></div> <div class="workflows-list svelte-a2ly5c"><h3 class="svelte-a2ly5c"> </h3> <!></div>',1),zu=d('<div class="error-banner svelte-a2ly5c"> </div>'),Pu=d("<option> </option>"),Tu=d('<div class="empty-state svelte-a2ly5c">No steps added yet. Click "Add Step" to create your first step.</div>'),qu=d('<span class="badge badge-required svelte-a2ly5c">Required</span>'),Mu=d('<span class="badge badge-auto svelte-a2ly5c">Auto</span>'),Bu=d("<span>â€¢</span> <span> </span>",1),Iu=d('<div class="step-card svelte-a2ly5c"><div class="step-order svelte-a2ly5c"><span class="svelte-a2ly5c"> </span> <div class="step-controls svelte-a2ly5c"><button class="btn-icon svelte-a2ly5c">â–²</button> <button class="btn-icon svelte-a2ly5c">â–¼</button></div></div> <div class="step-content svelte-a2ly5c"><div class="step-header svelte-a2ly5c"><h4 class="svelte-a2ly5c"> </h4> <div class="step-badges svelte-a2ly5c"><span class="badge badge-type svelte-a2ly5c"> </span> <!> <!></div></div> <p class="step-description svelte-a2ly5c"> </p> <div class="step-meta svelte-a2ly5c"><span> </span> <!></div></div> <div class="step-actions svelte-a2ly5c"><button class="btn-icon svelte-a2ly5c">âœï¸</button> <button class="btn-icon svelte-a2ly5c">ðŸ—‘ï¸</button></div></div>'),Ru=d('<div class="steps-list svelte-a2ly5c"></div>'),Fu=d('<div class="modal-overlay svelte-a2ly5c" role="button" tabindex="0"><div class="modal large svelte-a2ly5c" role="dialog" aria-modal="true"><div class="modal-header svelte-a2ly5c"><h2 class="svelte-a2ly5c"> </h2> <button class="close-btn svelte-a2ly5c">Ã—</button></div> <div class="modal-body svelte-a2ly5c"><!> <div class="form-section svelte-a2ly5c"><h3 class="svelte-a2ly5c">Workflow Details</h3> <div class="form-grid svelte-a2ly5c"><div class="form-group svelte-a2ly5c"><label for="workflow-name" class="svelte-a2ly5c">Workflow Name *</label> <input id="workflow-name" type="text" placeholder="e.g., New Employee Onboarding" required class="svelte-a2ly5c"/></div> <div class="form-group svelte-a2ly5c"><label for="workflow-type" class="svelte-a2ly5c">Workflow Type *</label> <select id="workflow-type" class="svelte-a2ly5c"></select></div> <div class="form-group full-width svelte-a2ly5c"><label for="workflow-description" class="svelte-a2ly5c">Description</label> <textarea id="workflow-description" placeholder="Describe the purpose and scope of this workflow" rows="3" class="svelte-a2ly5c"></textarea></div> <div class="form-group svelte-a2ly5c"><label for="workflow-status" class="svelte-a2ly5c">Status</label> <select id="workflow-status" class="svelte-a2ly5c"><option>Active</option><option>Inactive</option><option>Draft</option></select></div></div></div> <div class="form-section svelte-a2ly5c"><div class="section-header svelte-a2ly5c"><h3 class="svelte-a2ly5c"> </h3> <button class="btn-primary btn-sm svelte-a2ly5c">+ Add Step</button></div> <!></div></div> <div class="modal-footer svelte-a2ly5c"><button class="btn-secondary svelte-a2ly5c">Cancel</button> <button class="btn-primary svelte-a2ly5c"> </button></div></div></div>'),Lu=d("<option> </option>"),Ou=d("<option> </option>"),Nu=d('<div class="modal-overlay svelte-a2ly5c" role="button" tabindex="0"><div class="modal svelte-a2ly5c" role="dialog" aria-modal="true"><div class="modal-header svelte-a2ly5c"><h2 class="svelte-a2ly5c"> </h2> <button class="close-btn svelte-a2ly5c">Ã—</button></div> <div class="modal-body svelte-a2ly5c"><div class="form-grid svelte-a2ly5c"><div class="form-group svelte-a2ly5c"><label for="step-order" class="svelte-a2ly5c">Step Order</label> <input id="step-order" type="number" min="1" required class="svelte-a2ly5c"/></div> <div class="form-group svelte-a2ly5c"><label for="step-type" class="svelte-a2ly5c">Step Type *</label> <select id="step-type" required class="svelte-a2ly5c"></select></div> <div class="form-group full-width svelte-a2ly5c"><label for="step-name" class="svelte-a2ly5c">Step Name *</label> <input id="step-name" type="text" placeholder="e.g., Complete I-9 Form" required class="svelte-a2ly5c"/></div> <div class="form-group full-width svelte-a2ly5c"><label for="step-description" class="svelte-a2ly5c">Description</label> <textarea id="step-description" placeholder="Detailed description of what needs to be done" rows="3" class="svelte-a2ly5c"></textarea></div> <div class="form-group svelte-a2ly5c"><label for="assigned-role" class="svelte-a2ly5c">Assigned To *</label> <select id="assigned-role" required class="svelte-a2ly5c"></select></div> <div class="form-group svelte-a2ly5c"><label for="due-days" class="svelte-a2ly5c">Due Days</label> <input id="due-days" type="number" min="0" placeholder="Days to complete" class="svelte-a2ly5c"/></div> <div class="form-group svelte-a2ly5c"><label class="checkbox-label svelte-a2ly5c"><input type="checkbox" class="svelte-a2ly5c"/> <span>Required Step</span></label></div> <div class="form-group svelte-a2ly5c"><label class="checkbox-label svelte-a2ly5c"><input type="checkbox" class="svelte-a2ly5c"/> <span>Auto-trigger</span></label></div></div></div> <div class="modal-footer svelte-a2ly5c"><button class="btn-secondary svelte-a2ly5c">Cancel</button> <button class="btn-primary svelte-a2ly5c"> </button></div></div></div>'),Uu=d('<div class="workflow-manager svelte-a2ly5c"><!></div> <!> <!>',1);function Wu(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=Y([]),_=Y(!1),p=Y(""),u=Y(!1),S=Y(!1),C=Y(null),le=Y(null),E=Y({name:"",description:"",workflow_type:"onboarding",status:"active"}),T=Y({step_order:1,step_type:"document",step_name:"",description:"",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:3}),L=Y([]);const z=[{value:"onboarding",label:"Onboarding"},{value:"offboarding",label:"Offboarding"},{value:"promotion",label:"Promotion"},{value:"transfer",label:"Transfer"},{value:"performance_review",label:"Performance Review"},{value:"custom",label:"Custom"}],P=[{value:"document",label:"Document Submission"},{value:"approval",label:"Approval Required"},{value:"background_check",label:"Background Check"},{value:"i9_verification",label:"I-9 Verification"},{value:"equipment_setup",label:"Equipment Setup"},{value:"training",label:"Training"},{value:"system_access",label:"System Access"},{value:"meeting",label:"Meeting/Orientation"},{value:"notification",label:"Notification"},{value:"custom",label:"Custom Task"}],R=[{value:"hr",label:"HR"},{value:"manager",label:"Manager"},{value:"it",label:"IT"},{value:"legal",label:"Legal"},{value:"employee",label:"Employee"},{value:"admin",label:"Admin"}];sa(()=>{me()});async function me(){try{s(_,!0),s(p,"");const ye=await fetch(`${c}/workflows/templates`,{headers:{Authorization:`Bearer ${n().token}`}});if(!ye.ok){const Ce=await ye.text();throw console.error("Failed to load workflows:",ye.status,Ce),new Error(`Failed to load workflows: ${ye.status}`)}const He=await ye.json();s(g,Array.isArray(He)?He:[])}catch(ye){console.error("Error loading workflows:",ye),s(p,ye.message),s(g,[])}finally{s(_,!1)}}function X(ye){ye?(s(C,ye),s(E,{name:ye.name,description:ye.description,workflow_type:ye.workflow_type,status:ye.status}),s(L,[...ye.steps].sort((He,Ce)=>He.step_order-Ce.step_order))):(s(C,null),s(E,{name:"",description:"",workflow_type:"onboarding",status:"active"}),s(L,[])),s(u,!0)}function re(){s(u,!1),s(C,null),s(L,[])}function Qe(ye){ye!=null?(s(le,ye),s(T,{...e(L)[ye]})):(s(le,null),s(T,{step_order:e(L).length+1,step_type:"document",step_name:"",description:"",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:3})),s(S,!0)}function Je(){s(S,!1),s(le,null)}function lt(){e(le)!==null?gt(L,e(L)[e(le)]={...e(T)}):s(L,[...e(L),{...e(T)}]),Je()}function ut(ye){confirm("Delete this step?")&&(s(L,e(L).filter((He,Ce)=>Ce!==ye)),s(L,e(L).map((He,Ce)=>({...He,step_order:Ce+1}))))}function ft(ye,He){const Ce=He==="up"?ye-1:ye+1;if(Ce<0||Ce>=e(L).length)return;const fe=e(L)[ye];gt(L,e(L)[ye]=e(L)[Ce]),gt(L,e(L)[Ce]=fe),s(L,e(L).map((Oe,Ie)=>({...Oe,step_order:Ie+1})))}async function ht(){if(!e(E).name.trim()){s(p,"Workflow name is required");return}if(e(L).length===0){s(p,"At least one step is required");return}try{s(_,!0),s(p,"");const ye={...e(E),steps:e(L)},He=e(C)?`${c}/workflows/templates/${e(C).id}`:`${c}/workflows/templates`;if(!(await fetch(He,{method:e(C)?"PUT":"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(ye)})).ok)throw new Error("Failed to save workflow");await me(),re()}catch(ye){s(p,ye.message)}finally{s(_,!1)}}async function ot(ye){if(confirm("Delete this workflow? This cannot be undone."))try{if(s(_,!0),s(p,""),!(await fetch(`${c}/workflows/templates/${ye}`,{method:"DELETE",headers:{Authorization:`Bearer ${n().token}`}})).ok)throw new Error("Failed to delete workflow");await me()}catch(He){s(p,He.message)}finally{s(_,!1)}}function rt(ye){var He;return((He=P.find(Ce=>Ce.value===ye))==null?void 0:He.label)||ye}function At(ye){var He;return((He=z.find(Ce=>Ce.value===ye))==null?void 0:He.label)||ye}function it(ye){var He;return((He=R.find(Ce=>Ce.value===ye))==null?void 0:He.label)||ye}function ct(ye){switch(ye){case"onboarding":s(E,{name:"New Employee Onboarding",description:"Complete onboarding process for new hires",workflow_type:"onboarding",status:"active"}),s(L,[{step_order:1,step_type:"document",step_name:"Submit Personal Information",description:"Employee submits personal details, emergency contacts",required:!0,auto_trigger:!0,assigned_role:"employee",due_days:1},{step_order:2,step_type:"i9_verification",step_name:"I-9 Verification",description:"Complete I-9 employment eligibility verification",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:3},{step_order:3,step_type:"background_check",step_name:"Background Check",description:"Initiate and complete background check",required:!0,auto_trigger:!0,assigned_role:"hr",due_days:7},{step_order:4,step_type:"equipment_setup",step_name:"IT Equipment Setup",description:"Provision laptop, phone, and accessories",required:!0,auto_trigger:!1,assigned_role:"it",due_days:2},{step_order:5,step_type:"system_access",step_name:"System Access Setup",description:"Create accounts and grant system access",required:!0,auto_trigger:!1,assigned_role:"it",due_days:1},{step_order:6,step_type:"meeting",step_name:"First Day Orientation",description:"Welcome meeting and company orientation",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:0},{step_order:7,step_type:"training",step_name:"Required Training Modules",description:"Complete mandatory training courses",required:!0,auto_trigger:!0,assigned_role:"employee",due_days:5}]);break;case"offboarding":s(E,{name:"Employee Offboarding",description:"Process for departing employees",workflow_type:"offboarding",status:"active"}),s(L,[{step_order:1,step_type:"notification",step_name:"Notify Stakeholders",description:"Inform IT, manager, and relevant teams",required:!0,auto_trigger:!0,assigned_role:"hr",due_days:0},{step_order:2,step_type:"meeting",step_name:"Exit Interview",description:"Conduct exit interview with employee",required:!1,auto_trigger:!1,assigned_role:"hr",due_days:1},{step_order:3,step_type:"system_access",step_name:"Revoke System Access",description:"Remove access to all systems and accounts",required:!0,auto_trigger:!1,assigned_role:"it",due_days:0},{step_order:4,step_type:"equipment_setup",step_name:"Collect Equipment",description:"Retrieve laptop, phone, badge, keys",required:!0,auto_trigger:!1,assigned_role:"it",due_days:0},{step_order:5,step_type:"document",step_name:"Final Paperwork",description:"Complete final payroll, benefits termination",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:3}]);break;case"performance_review":s(E,{name:"Performance Review Process",description:"Annual/quarterly performance review cycle",workflow_type:"performance_review",status:"active"}),s(L,[{step_order:1,step_type:"notification",step_name:"Launch Review Cycle",description:"Notify all participants about review period",required:!0,auto_trigger:!0,assigned_role:"hr",due_days:0},{step_order:2,step_type:"document",step_name:"Self-Assessment",description:"Employee completes self-assessment",required:!0,auto_trigger:!1,assigned_role:"employee",due_days:7},{step_order:3,step_type:"document",step_name:"Manager Review",description:"Manager completes performance evaluation",required:!0,auto_trigger:!1,assigned_role:"manager",due_days:7},{step_order:4,step_type:"meeting",step_name:"Review Meeting",description:"One-on-one discussion of performance",required:!0,auto_trigger:!1,assigned_role:"manager",due_days:3},{step_order:5,step_type:"approval",step_name:"HR Approval",description:"HR reviews and approves final rating",required:!0,auto_trigger:!1,assigned_role:"hr",due_days:2}]);break}X()}na();var yt=Uu(),dt=nt(yt),pt=t(dt);{var wt=ye=>{var He=ju();v(ye,He)},St=ye=>{var He=Pt(),Ce=nt(He);{var fe=Ie=>{var ke=Su(),ge=t(ke);x(()=>l(ge,e(p))),v(Ie,ke)},Oe=Ie=>{var ke=Du(),ge=nt(ke),Pe=a(t(ge),2),Be=t(Pe);Be.__click=()=>ct("onboarding");var Xe=a(Be,2);Xe.__click=()=>ct("offboarding");var Ge=a(Xe,2);Ge.__click=()=>ct("performance_review");var We=a(Ge,2);We.__click=()=>X();var be=a(ge,2),f=t(be),D=t(f),H=a(f,2);{var xe=_e=>{var ze=Au();v(_e,ze)},ne=_e=>{var ze=Cu();_t(ze,5,()=>e(g),bt,(Me,Z)=>{var De=Eu(),ae=t(De),B=t(ae),J=t(B),G=t(J),$=a(J,2),j=t($),k=a(B,2),b=t(k),F=a(ae,2),A=t(F),q=a(F,2),w=t(q),N=t(w),K=a(w,4),I=t(K),oe=a(q,2),W=t(oe);W.__click=()=>X(e(Z));var ve=a(W,2);ve.__click=()=>ot(e(Z).id),x((Q,U)=>{var V;l(G,e(Z).name),l(j,Q),st(k,1,`status-badge status-${e(Z).status??""}`,"svelte-a2ly5c"),l(b,e(Z).status),l(A,e(Z).description),l(N,`${(((V=e(Z).steps)==null?void 0:V.length)||0)??""} steps`),l(I,`Created ${U??""}`)},[()=>At(e(Z).workflow_type),()=>new Date(e(Z).created_at).toLocaleDateString()]),v(Me,De)}),v(_e,ze)};y(H,_e=>{e(g).length===0?_e(xe):_e(ne,!1)})}x(()=>l(D,`Existing Workflows (${e(g).length??""})`)),v(Ie,ke)};y(Ce,Ie=>{e(p)&&e(g).length===0?Ie(fe):Ie(Oe,!1)},!0)}v(ye,He)};y(pt,ye=>{e(_)&&e(g).length===0?ye(wt):ye(St,!1)})}var qt=a(dt,2);{var $t=ye=>{var He=Fu();He.__click=re,He.__keydown=w=>w.key==="Escape"&&re();var Ce=t(He);Ce.__click=w=>w.stopPropagation();var fe=t(Ce),Oe=t(fe),Ie=t(Oe),ke=a(Oe,2);ke.__click=re;var ge=a(fe,2),Pe=t(ge);{var Be=w=>{var N=zu(),K=t(N);x(()=>l(K,e(p))),v(w,N)};y(Pe,w=>{e(p)&&w(Be)})}var Xe=a(Pe,2),Ge=a(t(Xe),2),We=t(Ge),be=a(t(We),2),f=a(We,2),D=a(t(f),2);x(()=>{e(E),Ut(()=>{})}),_t(D,5,()=>z,bt,(w,N)=>{var K=Pu(),I=t(K),oe={};x(()=>{l(I,e(N).label),oe!==(oe=e(N).value)&&(K.value=(K.__value=e(N).value)??"")}),v(w,K)});var H=a(f,2),xe=a(t(H),2),ne=a(H,2),_e=a(t(ne),2);x(()=>{e(E),Ut(()=>{})});var ze=t(_e);ze.value=ze.__value="active";var Me=a(ze);Me.value=Me.__value="inactive";var Z=a(Me);Z.value=Z.__value="draft";var De=a(Xe,2),ae=t(De),B=t(ae),J=t(B),G=a(B,2);G.__click=()=>Qe();var $=a(ae,2);{var j=w=>{var N=Tu();v(w,N)},k=w=>{var N=Ru();_t(N,5,()=>e(L),bt,(K,I,oe)=>{var W=Iu(),ve=t(W),Q=t(ve),U=t(Q),V=a(Q,2),se=t(V);se.__click=()=>ft(oe,"up"),se.disabled=oe===0;var ie=a(se,2);ie.__click=()=>ft(oe,"down");var we=a(ve,2),pe=t(we),ue=t(pe),Te=t(ue),he=a(ue,2),qe=t(he),Se=t(qe),je=a(qe,2);{var M=Ue=>{var et=qu();v(Ue,et)};y(je,Ue=>{e(I).required&&Ue(M)})}var te=a(je,2);{var de=Ue=>{var et=Mu();v(Ue,et)};y(te,Ue=>{e(I).auto_trigger&&Ue(de)})}var ce=a(pe,2),ee=t(ce),Le=a(ce,2),Ee=t(Le),$e=t(Ee),Re=a(Ee,2);{var Ze=Ue=>{var et=Bu(),tt=a(nt(et),2),Ke=t(tt);x(()=>l(Ke,`Due: ${e(I).due_days??""} days`)),v(Ue,et)};y(Re,Ue=>{e(I).due_days!==void 0&&Ue(Ze)})}var Ve=a(we,2),Fe=t(Ve);Fe.__click=()=>Qe(oe);var Ye=a(Fe,2);Ye.__click=()=>ut(oe),x((Ue,et)=>{l(U,e(I).step_order),ie.disabled=oe===e(L).length-1,l(Te,e(I).step_name),l(Se,Ue),l(ee,e(I).description),l($e,`Assigned: ${et??""}`)},[()=>rt(e(I).step_type),()=>it(e(I).assigned_role||"hr")]),v(K,W)}),v(w,N)};y($,w=>{e(L).length===0?w(j):w(k,!1)})}var b=a(ge,2),F=t(b);F.__click=re;var A=a(F,2);A.__click=ht;var q=t(A);x(()=>{l(Ie,e(C)?"Edit Workflow":"Create Workflow"),l(J,`Workflow Steps (${e(L).length??""})`),A.disabled=e(_),l(q,e(_)?"Saving...":e(C)?"Update Workflow":"Create Workflow")}),kt(be,()=>e(E).name,w=>gt(E,e(E).name=w)),Lt(D,()=>e(E).workflow_type,w=>gt(E,e(E).workflow_type=w)),kt(xe,()=>e(E).description,w=>gt(E,e(E).description=w)),Lt(_e,()=>e(E).status,w=>gt(E,e(E).status=w)),v(ye,He)};y(qt,ye=>{e(u)&&ye($t)})}var Ae=a(qt,2);{var Ne=ye=>{var He=Nu();He.__click=Je,He.__keydown=b=>b.key==="Escape"&&Je();var Ce=t(He);Ce.__click=b=>b.stopPropagation();var fe=t(Ce),Oe=t(fe),Ie=t(Oe),ke=a(Oe,2);ke.__click=Je;var ge=a(fe,2),Pe=t(ge),Be=t(Pe),Xe=a(t(Be),2),Ge=a(Be,2),We=a(t(Ge),2);x(()=>{e(T),Ut(()=>{})}),_t(We,5,()=>P,bt,(b,F)=>{var A=Lu(),q=t(A),w={};x(()=>{l(q,e(F).label),w!==(w=e(F).value)&&(A.value=(A.__value=e(F).value)??"")}),v(b,A)});var be=a(Ge,2),f=a(t(be),2),D=a(be,2),H=a(t(D),2),xe=a(D,2),ne=a(t(xe),2);x(()=>{e(T),Ut(()=>{})}),_t(ne,5,()=>R,bt,(b,F)=>{var A=Ou(),q=t(A),w={};x(()=>{l(q,e(F).label),w!==(w=e(F).value)&&(A.value=(A.__value=e(F).value)??"")}),v(b,A)});var _e=a(xe,2),ze=a(t(_e),2),Me=a(_e,2),Z=t(Me),De=t(Z),ae=a(Me,2),B=t(ae),J=t(B),G=a(ge,2),$=t(G);$.__click=Je;var j=a($,2);j.__click=lt;var k=t(j);x(()=>{l(Ie,e(le)!==null?"Edit Step":"Add Step"),l(k,e(le)!==null?"Update Step":"Add Step")}),kt(Xe,()=>e(T).step_order,b=>gt(T,e(T).step_order=b)),Lt(We,()=>e(T).step_type,b=>gt(T,e(T).step_type=b)),kt(f,()=>e(T).step_name,b=>gt(T,e(T).step_name=b)),kt(H,()=>e(T).description,b=>gt(T,e(T).description=b)),Lt(ne,()=>e(T).assigned_role,b=>gt(T,e(T).assigned_role=b)),kt(ze,()=>e(T).due_days,b=>gt(T,e(T).due_days=b)),ys(De,()=>e(T).required,b=>gt(T,e(T).required=b)),ys(J,()=>e(T).auto_trigger,b=>gt(T,e(T).auto_trigger=b)),v(ye,He)};y(Ae,ye=>{e(S)&&ye(Ne)})}v(i,yt),Zt(),h()}Pa(["click","keydown"]);var Hu=d('<div class="loading svelte-13p5f0k">Loading dashboard...</div>'),Ju=d('<div class="error svelte-13p5f0k"> </div>'),Vu=d('<tr class="svelte-13p5f0k"><td colspan="7" class="empty-state svelte-13p5f0k">No employees found</td></tr>'),Yu=d('<tr class="svelte-13p5f0k"><td class="employee-name svelte-13p5f0k"> </td><td class="svelte-13p5f0k"> </td><td class="svelte-13p5f0k"> </td><td class="svelte-13p5f0k"> </td><td class="svelte-13p5f0k"><span> </span></td><td class="svelte-13p5f0k"> </td><td class="svelte-13p5f0k"><button class="btn-view svelte-13p5f0k">View Details</button></td></tr>'),Gu=d("<button></button>"),Ku=d('<div class="pagination svelte-13p5f0k"><div class="pagination-info svelte-13p5f0k"> </div> <div class="pagination-controls svelte-13p5f0k"><button class="btn-page svelte-13p5f0k">â† Previous</button> <div class="page-numbers svelte-13p5f0k"></div> <button class="btn-page svelte-13p5f0k">Next â†’</button></div></div>'),Qu=d('<div class="stats-grid svelte-13p5f0k"><div class="stat-card svelte-13p5f0k"><div class="stat-value svelte-13p5f0k"> </div> <div class="stat-label svelte-13p5f0k">Total Employees</div></div> <div class="stat-card svelte-13p5f0k"><div class="stat-value svelte-13p5f0k"> </div> <div class="stat-label svelte-13p5f0k">Active</div></div> <div class="stat-card svelte-13p5f0k"><div class="stat-value svelte-13p5f0k"> </div> <div class="stat-label svelte-13p5f0k">Onboarding</div></div> <div class="stat-card svelte-13p5f0k"><div class="stat-value svelte-13p5f0k"> </div> <div class="stat-label svelte-13p5f0k">On Leave</div></div></div> <div class="section"><div class="section-header"><h2>Quick Actions</h2></div> <div class="actions-grid svelte-13p5f0k"><button class="action-card svelte-13p5f0k"><div class="action-icon svelte-13p5f0k">ðŸ’°</div> <div class="action-content svelte-13p5f0k"><h3 class="svelte-13p5f0k">Workflow Manager</h3> <p class="svelte-13p5f0k">Manage onboarding and HR workflows</p></div></button> <button class="action-card svelte-13p5f0k"><div class="action-icon svelte-13p5f0k">ðŸ“‹</div> <div class="action-content svelte-13p5f0k"><h3 class="svelte-13p5f0k">Compensation</h3> <p class="svelte-13p5f0k">Manage salaries, bonuses & pay</p></div></button></div></div> <div class="filters svelte-13p5f0k"><input type="text" placeholder="Search employees..." class="search-input svelte-13p5f0k"/> <select class="filter-select svelte-13p5f0k"><option>All Statuses</option><option>Active</option><option>Onboarding</option><option>On Leave</option><option>Separated</option></select></div> <div class="employees-table svelte-13p5f0k"><table class="svelte-13p5f0k"><thead class="svelte-13p5f0k"><tr class="svelte-13p5f0k"><th class="svelte-13p5f0k">Name</th><th class="svelte-13p5f0k">Email</th><th class="svelte-13p5f0k">Department</th><th class="svelte-13p5f0k">Position</th><th class="svelte-13p5f0k">Status</th><th class="svelte-13p5f0k">Hire Date</th><th class="svelte-13p5f0k">Actions</th></tr></thead><tbody><!></tbody></table></div> <!>',1),Xu=d('<div class="modal-overlay svelte-13p5f0k" role="button" tabindex="0"><div class="modal svelte-13p5f0k" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-13p5f0k"><h2 class="svelte-13p5f0k">Employee Details</h2> <button class="close-btn svelte-13p5f0k">Ã—</button></div> <div class="modal-body svelte-13p5f0k"><!></div></div></div>'),Zu=d('<div class="modal-overlay svelte-13p5f0k" role="button" tabindex="0"><div class="modal full-screen svelte-13p5f0k" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-13p5f0k"><h2 class="svelte-13p5f0k">Workflow Management</h2> <button class="close-btn svelte-13p5f0k">Ã—</button></div> <!></div></div>'),ep=d('<div class="modal-overlay svelte-13p5f0k" role="button" tabindex="0"><div class="modal full-screen svelte-13p5f0k" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-13p5f0k"><h2 class="svelte-13p5f0k">Compensation Management</h2> <button class="close-btn svelte-13p5f0k">Ã—</button></div> <!></div></div>'),tp=d('<div class="hr-dashboard svelte-13p5f0k"><div class="dashboard-header svelte-13p5f0k"><h1 class="svelte-13p5f0k">HR Dashboard</h1></div> <!></div> <!> <!> <!>',1);function ap(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=Y(),g=Y(),_=Y(),p=$a();let u=Y([]),S=Y({totalEmployees:0,activeEmployees:0,onboardingEmployees:0,onLeaveEmployees:0}),C=Y(!0),le=Y(""),E=Y(null),T=Y(!1),L=Y("all"),z=Y(""),P=Y(!1),R=Y(!1),me=Y(1),X=10;sa(()=>{re()});async function re(){try{s(C,!0),s(le,"");const Ae=await fetch(`${p}/employees`,{headers:{Authorization:`Bearer ${n().token}`}});if(!Ae.ok)throw new Error("Failed to load employees");s(u,await Ae.json()),gt(S,e(S).totalEmployees=e(u).length),gt(S,e(S).activeEmployees=e(u).filter(Ne=>Ne.status==="active").length),gt(S,e(S).onboardingEmployees=e(u).filter(Ne=>Ne.status==="onboarding").length),gt(S,e(S).onLeaveEmployees=e(u).filter(Ne=>Ne.status==="on-leave").length)}catch(Ae){s(le,Ae.message)}finally{s(C,!1)}}function Qe(Ae){s(E,Ae),s(T,!0)}function Je(){s(T,!1),s(E,null)}function lt(Ae){return{onboarding:"status-onboarding",active:"status-active","on-leave":"status-leave",separated:"status-separated"}[Ae]||"status-default"}function ut(Ae){return{onboarding:"Onboarding",active:"Active","on-leave":"On Leave",separated:"Separated"}[Ae]||Ae}function ft(){e(me)<e(g)&&Jr(me)}function ht(){e(me)>1&&Jr(me,-1)}function ot(Ae){s(me,Ae)}Yt(()=>(e(u),e(L),e(z)),()=>{s(c,e(u).filter(Ae=>{const Ne=e(L)==="all"||Ae.status===e(L),ye=!e(z)||Ae.first_name.toLowerCase().includes(e(z).toLowerCase())||Ae.last_name.toLowerCase().includes(e(z).toLowerCase())||Ae.email.toLowerCase().includes(e(z).toLowerCase())||Ae.department.toLowerCase().includes(e(z).toLowerCase());return Ne&&ye}))}),Yt(()=>e(c),()=>{s(g,Math.ceil(e(c).length/X))}),Yt(()=>(e(L),e(z)),()=>{(e(L)||e(z))&&s(me,1)}),Yt(()=>(e(c),e(me)),()=>{s(_,e(c).slice((e(me)-1)*X,e(me)*X))}),za(),na();var rt=tp(),At=nt(rt),it=a(t(At),2);{var ct=Ae=>{var Ne=Hu();v(Ae,Ne)},yt=Ae=>{var Ne=Pt(),ye=nt(Ne);{var He=fe=>{var Oe=Ju(),Ie=t(Oe);x(()=>l(Ie,e(le))),v(fe,Oe)},Ce=fe=>{var Oe=Qu(),Ie=nt(Oe),ke=t(Ie),ge=t(ke),Pe=t(ge),Be=a(ke,2),Xe=t(Be),Ge=t(Xe),We=a(Be,2),be=t(We),f=t(be),D=a(We,2),H=t(D),xe=t(H),ne=a(Ie,2),_e=a(t(ne),2),ze=t(_e);ze.__click=()=>s(R,!0);var Me=a(ze,2);Me.__click=()=>s(P,!0);var Z=a(ne,2),De=t(Z),ae=a(De,2);x(()=>{e(L),Ut(()=>{})});var B=t(ae);B.value=B.__value="all";var J=a(B);J.value=J.__value="active";var G=a(J);G.value=G.__value="onboarding";var $=a(G);$.value=$.__value="on-leave";var j=a($);j.value=j.__value="separated";var k=a(Z,2),b=t(k),F=a(t(b)),A=t(F);{var q=I=>{var oe=Vu();v(I,oe)},w=I=>{var oe=Pt(),W=nt(oe);_t(W,1,()=>e(_),bt,(ve,Q)=>{var U=Yu(),V=t(U),se=t(V),ie=a(V),we=t(ie),pe=a(ie),ue=t(pe),Te=a(pe),he=t(Te),qe=a(Te),Se=t(qe),je=t(Se),M=a(qe),te=t(M),de=a(M),ce=t(de);ce.__click=()=>Qe(e(Q).id),x((ee,Le,Ee)=>{l(se,`${e(Q),r(()=>e(Q).first_name)??""} ${e(Q),r(()=>e(Q).last_name)??""}`),l(we,(e(Q),r(()=>e(Q).email))),l(ue,(e(Q),r(()=>e(Q).department))),l(he,(e(Q),r(()=>e(Q).position))),st(Se,1,`status-badge ${ee??""}`,"svelte-13p5f0k"),l(je,Le),l(te,Ee)},[()=>(e(Q),r(()=>lt(e(Q).status))),()=>(e(Q),r(()=>ut(e(Q).status))),()=>(e(Q),r(()=>new Date(e(Q).hire_date).toLocaleDateString()))]),v(ve,U)}),v(I,oe)};y(A,I=>{e(_),e(c),r(()=>e(_).length===0&&e(c).length===0)?I(q):I(w,!1)})}var N=a(k,2);{var K=I=>{var oe=Ku(),W=t(oe),ve=t(W),Q=a(W,2),U=t(Q);U.__click=ht;var V=a(U,2);_t(V,5,()=>(e(g),r(()=>Array(e(g)))),bt,(ie,we,pe)=>{var ue=Gu();ue.__click=()=>ot(pe+1),ue.textContent=pe+1,x(()=>st(ue,1,`btn-page-num ${e(me)===pe+1?"active":""}`,"svelte-13p5f0k")),v(ie,ue)});var se=a(V,2);se.__click=ft,x(ie=>{l(ve,`Showing ${(e(me)-1)*X+1} to ${ie??""} of ${e(c),r(()=>e(c).length)??""} employees`),U.disabled=e(me)===1,se.disabled=e(me)===e(g)},[()=>(e(me),e(c),r(()=>Math.min(e(me)*X,e(c).length)))]),v(I,oe)};y(N,I=>{e(c),r(()=>e(c).length>X)&&I(K)})}x(()=>{l(Pe,(e(S),r(()=>e(S).totalEmployees))),l(Ge,(e(S),r(()=>e(S).activeEmployees))),l(f,(e(S),r(()=>e(S).onboardingEmployees))),l(xe,(e(S),r(()=>e(S).onLeaveEmployees)))}),kt(De,()=>e(z),I=>s(z,I)),Lt(ae,()=>e(L),I=>s(L,I)),v(fe,Oe)};y(ye,fe=>{e(le)?fe(He):fe(Ce,!1)},!0)}v(Ae,Ne)};y(it,Ae=>{e(C)?Ae(ct):Ae(yt,!1)})}var dt=a(At,2);{var pt=Ae=>{var Ne=Xu();Ne.__click=Je,Ne.__keydown=Ie=>Ie.key==="Escape"&&Je();var ye=t(Ne);ye.__click=Ie=>Ie.stopPropagation(),ye.__keydown=Ie=>Ie.key==="Escape"&&Je();var He=t(ye),Ce=a(t(He),2);Ce.__click=Je;var fe=a(He,2),Oe=t(fe);Fr(Oe,{get employeeId(){return e(E)}}),v(Ae,Ne)};y(dt,Ae=>{e(T)&&e(E)&&Ae(pt)})}var wt=a(dt,2);{var St=Ae=>{var Ne=Zu();Ne.__click=()=>s(R,!1),Ne.__keydown=Oe=>Oe.key==="Escape"&&s(R,!1);var ye=t(Ne);ye.__click=Oe=>Oe.stopPropagation(),ye.__keydown=Oe=>Oe.key==="Escape"&&s(R,!1);var He=t(ye),Ce=a(t(He),2);Ce.__click=()=>s(R,!1);var fe=a(He,2);Wu(fe,{}),v(Ae,Ne)};y(wt,Ae=>{e(R)&&Ae(St)})}var qt=a(wt,2);{var $t=Ae=>{var Ne=ep();Ne.__click=()=>s(P,!1),Ne.__keydown=Oe=>Oe.key==="Escape"&&s(P,!1);var ye=t(Ne);ye.__click=Oe=>Oe.stopPropagation(),ye.__keydown=Oe=>Oe.key==="Escape"&&s(P,!1);var He=t(ye),Ce=a(t(He),2);Ce.__click=()=>s(P,!1);var fe=a(He,2);Zi(fe,{}),v(Ae,Ne)};y(qt,Ae=>{e(P)&&Ae($t)})}v(i,rt),Zt(),h()}Pa(["click","keydown"]);var sp=d('<div class="loading-state svelte-1b9nxh9"><div class="spinner svelte-1b9nxh9"></div> <p>Loading organization data...</p></div>'),lp=d(`<div class="error-help svelte-1b9nxh9"><p class="svelte-1b9nxh9"><strong>Why am I seeing this?</strong></p> <ul class="svelte-1b9nxh9"><li class="svelte-1b9nxh9">Your session may have expired</li> <li class="svelte-1b9nxh9">You need to log in to access employee data</li> <li class="svelte-1b9nxh9">Your authentication token is missing or invalid</li></ul> <p class="svelte-1b9nxh9"><strong>What should I do?</strong></p> <ul class="svelte-1b9nxh9"><li class="svelte-1b9nxh9">Return to the login page and sign in again</li> <li class="svelte-1b9nxh9">Check that you're accessing the correct URL</li> <li class="svelte-1b9nxh9">Clear your browser cache and cookies if the problem persists</li></ul></div> <div class="error-actions svelte-1b9nxh9"><button class="btn-primary svelte-1b9nxh9">Go to Login</button> <button class="btn-secondary svelte-1b9nxh9">Try Again</button></div>`,1),rp=d('<button class="btn-primary svelte-1b9nxh9">Try Again</button>'),ip=d('<div class="error-state svelte-1b9nxh9"><span class="error-icon svelte-1b9nxh9">âš ï¸</span> <h3 class="svelte-1b9nxh9"><!></h3> <p class="svelte-1b9nxh9"> </p> <!></div>'),vp=d("<option> </option>"),op=d('<div class="employee-card svelte-1b9nxh9"><div class="employee-card-header svelte-1b9nxh9"><div class="employee-avatar svelte-1b9nxh9"> </div> <div class="employee-info svelte-1b9nxh9"><h3 class="svelte-1b9nxh9"> </h3> <p class="employee-email svelte-1b9nxh9"> </p></div> <span> </span></div> <div class="employee-card-body svelte-1b9nxh9"><div class="info-row svelte-1b9nxh9"><span class="info-label svelte-1b9nxh9">Position:</span> <span class="info-value svelte-1b9nxh9"> </span></div> <div class="info-row svelte-1b9nxh9"><span class="info-label svelte-1b9nxh9">Department:</span> <span class="info-value svelte-1b9nxh9"> </span></div> <div class="info-row svelte-1b9nxh9"><span class="info-label svelte-1b9nxh9">Manager:</span> <span class="info-value svelte-1b9nxh9"> </span></div> <div class="info-row svelte-1b9nxh9"><span class="info-label svelte-1b9nxh9">Hire Date:</span> <span class="info-value svelte-1b9nxh9"> </span></div> <div class="info-row svelte-1b9nxh9"><span class="info-label svelte-1b9nxh9">Direct Reports:</span> <span class="info-value svelte-1b9nxh9"> </span></div></div> <div class="employee-card-footer svelte-1b9nxh9"><button class="btn-small svelte-1b9nxh9" type="button">Employee Details</button></div></div>'),np=d("<option> </option>"),dp=d('<div class="pagination-controls svelte-1b9nxh9"><button class="pagination-btn svelte-1b9nxh9" title="First page">Â«Â«</button> <button class="pagination-btn svelte-1b9nxh9" title="Previous page">â€¹</button> <div class="pagination-center svelte-1b9nxh9"><span class="pagination-page-info svelte-1b9nxh9">Page</span> <select class="page-select svelte-1b9nxh9"></select> <span class="pagination-page-info svelte-1b9nxh9"> </span></div> <button class="pagination-btn svelte-1b9nxh9" title="Next page">â€º</button> <button class="pagination-btn svelte-1b9nxh9" title="Last page">Â»Â»</button></div>'),cp=d('<div class="pagination-container svelte-1b9nxh9"><div class="pagination-info svelte-1b9nxh9"><span class="pagination-text svelte-1b9nxh9"> </span> <div class="pagination-per-page svelte-1b9nxh9"><label for="items-per-page">Per page:</label> <select id="items-per-page" class="per-page-select svelte-1b9nxh9"><option>6</option><option>12</option><option>24</option><option>50</option></select></div></div> <!></div>'),up=d('<div class="empty-state svelte-1b9nxh9"><span class="empty-icon svelte-1b9nxh9">ðŸ”</span> <h3 class="svelte-1b9nxh9">No Employees Found</h3> <p class="svelte-1b9nxh9">Try adjusting your search or filters</p></div>'),pp=d('<div class="view-all-tab"><div class="filters-section svelte-1b9nxh9"><div class="search-box svelte-1b9nxh9"><span class="search-icon svelte-1b9nxh9">ðŸ”</span> <input type="text" class="search-input svelte-1b9nxh9" placeholder="Search by name, email, or position..."/></div> <select class="filter-select svelte-1b9nxh9"><option>All Departments</option><!></select> <select class="filter-select svelte-1b9nxh9"><option>All Statuses</option><option>Active</option><option>Pending</option><option>Inactive</option></select> <select class="filter-select svelte-1b9nxh9"><option>Sort by Name</option><option>Sort by Department</option><option>Sort by Hire Date</option></select> <button class="btn-sort-direction svelte-1b9nxh9"> </button></div> <div class="results-info svelte-1b9nxh9">Showing <strong> </strong> to <strong> </strong> of <strong> </strong> employees</div> <div class="employee-grid svelte-1b9nxh9"></div> <!> <!></div>'),_p=d('<tr class="svelte-1b9nxh9"><td class="svelte-1b9nxh9"><div class="table-employee svelte-1b9nxh9"><div class="employee-avatar small svelte-1b9nxh9"> </div> <div><div class="employee-name svelte-1b9nxh9"> </div> <div class="employee-email svelte-1b9nxh9"> </div></div></div></td><td class="svelte-1b9nxh9"> </td><td class="svelte-1b9nxh9"> </td><td class="svelte-1b9nxh9"><span class="manager-badge svelte-1b9nxh9"> </span></td><td class="svelte-1b9nxh9"><span class="report-count svelte-1b9nxh9"> </span></td><td class="svelte-1b9nxh9"><button class="btn-action svelte-1b9nxh9"> </button></td></tr>'),fp=d('<div class="manage-tab svelte-1b9nxh9"><div class="manage-header svelte-1b9nxh9"><h2 class="svelte-1b9nxh9">Employee-Manager Assignments</h2> <p class="svelte-1b9nxh9">Assign or change reporting relationships for employees</p></div> <div class="manage-search svelte-1b9nxh9"><input type="text" class="search-input svelte-1b9nxh9" placeholder="ðŸ” Search employees..."/></div> <div class="manage-table-container svelte-1b9nxh9"><table class="manage-table svelte-1b9nxh9"><thead class="svelte-1b9nxh9"><tr><th class="svelte-1b9nxh9">Employee</th><th class="svelte-1b9nxh9">Position</th><th class="svelte-1b9nxh9">Department</th><th class="svelte-1b9nxh9">Current Manager</th><th class="svelte-1b9nxh9">Direct Reports</th><th class="svelte-1b9nxh9">Actions</th></tr></thead><tbody class="svelte-1b9nxh9"></tbody></table></div></div>'),bp=d('<div class="empty-state svelte-1b9nxh9"><span class="empty-icon svelte-1b9nxh9">ðŸ¢</span> <h3 class="svelte-1b9nxh9">No Results Found</h3> <p class="svelte-1b9nxh9">Try adjusting your search</p></div>'),mp=d('<div class="hierarchy-tab svelte-1b9nxh9"><div class="hierarchy-header svelte-1b9nxh9"><div><h2 class="svelte-1b9nxh9">Organization Hierarchy</h2> <p class="svelte-1b9nxh9">Visual representation of reporting structure</p></div> <div class="hierarchy-actions svelte-1b9nxh9"><input type="text" class="search-input-small svelte-1b9nxh9" placeholder="ðŸ” Search..."/> <button class="btn-secondary-small svelte-1b9nxh9">Expand All</button> <button class="btn-secondary-small svelte-1b9nxh9">Collapse All</button></div></div> <div class="hierarchy-tree svelte-1b9nxh9"><!></div></div>'),hp=d('<div class="tab-content svelte-1b9nxh9"><!></div>'),yp=d("<option> </option>"),gp=d('<div class="alert alert-success svelte-1b9nxh9"> </div>'),xp=d('<div class="alert alert-error svelte-1b9nxh9"> </div>'),wp=d('<div class="modal-overlay svelte-1b9nxh9"><div class="modal svelte-1b9nxh9"><div class="modal-header svelte-1b9nxh9"><h2 class="svelte-1b9nxh9">Assign Manager</h2> <button class="close-btn svelte-1b9nxh9">âœ•</button></div> <div class="modal-body svelte-1b9nxh9"><div class="employee-summary svelte-1b9nxh9"><div class="employee-avatar large svelte-1b9nxh9"> </div> <div><h3 class="svelte-1b9nxh9"> </h3> <p class="svelte-1b9nxh9"> </p></div></div> <div class="form-group svelte-1b9nxh9"><label for="manager-select" class="svelte-1b9nxh9">Select Manager</label> <select id="manager-select" class="form-select svelte-1b9nxh9"><option>No Manager (Top Level)</option><!></select> <p class="form-help svelte-1b9nxh9">Select a manager for this employee or leave blank for top-level position</p></div> <!> <!></div> <div class="modal-footer svelte-1b9nxh9"><button class="btn-secondary svelte-1b9nxh9">Cancel</button> <button class="btn-primary svelte-1b9nxh9"> </button></div></div></div>'),kp=d('<div class="modal-overlay svelte-1b9nxh9"><div class="modal-wrapper svelte-1b9nxh9"><button class="modal-close-btn svelte-1b9nxh9" title="Close">âœ•</button> <!></div></div>'),$p=d('<div class="org-dashboard svelte-1b9nxh9"><div class="dashboard-header svelte-1b9nxh9"><div><h1 class="svelte-1b9nxh9">Organization Management</h1> <p class="svelte-1b9nxh9">Manage employees, reporting structures, and organizational hierarchy</p></div> <button class="btn-refresh svelte-1b9nxh9">ðŸ”„ Refresh</button></div> <div class="tabs svelte-1b9nxh9"><button><span class="tab-icon svelte-1b9nxh9">ðŸ‘¥</span> View All Employees <span class="tab-badge svelte-1b9nxh9"> </span></button> <button><span class="tab-icon svelte-1b9nxh9">âš™ï¸</span> Employee Management</button> <button><span class="tab-icon svelte-1b9nxh9">ðŸ¢</span> Organization Hierarchy</button></div> <!></div> <!> <!>',1);function jp(i,o){Xt(o,!1);const n=Y(),m=Y(),h=Y(),c=Y(),g=Y();let _=Y("view"),p=Y([]),u=Y([]),S=Y(!0),C=Y(""),le=Y(""),E=Y(""),T=Y(""),L=Y("name"),z=Y("asc"),P=Y(1),R=Y(12),me=Y(!1),X=Y(null),re=Y(null),Qe=Y(""),Je=Y(!1),lt=Y(""),ut=Y(""),ft=Y([]),ht=new Set,ot=Y("");sa(async()=>{await rt()});async function rt(){s(S,!0),s(C,"");try{const B=localStorage.getItem("token");if(!B){s(C,"Not authenticated. Please log in."),s(S,!1);return}const J=await fetch("/api/employees",{headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(J.status===401){s(C,"Authentication failed. Please log in again."),s(S,!1),localStorage.removeItem("token");return}if(!J.ok){const $=await J.text();throw new Error(`Failed to load employees: ${J.status} ${$}`)}const G=await J.json();s(p,G),s(u,e(p).filter($=>{var j,k,b;return((j=$.position)==null?void 0:j.toLowerCase().includes("manager"))||((k=$.position)==null?void 0:k.toLowerCase().includes("director"))||((b=$.position)==null?void 0:b.toLowerCase().includes("lead"))||e(p).some(F=>F.manager_id===$.id)})),At()}catch(B){s(C,B instanceof Error?B.message:"Failed to load data"),console.error("Error loading employees:",B)}finally{s(S,!1)}}function At(){const B=e(p).filter(G=>!G.manager_id);function J(G){const $=e(p).filter(j=>j.manager_id===G.id).map(j=>J(j));return{employee:G,directReports:$.sort((j,k)=>`${j.employee.first_name} ${j.employee.last_name}`.localeCompare(`${k.employee.first_name} ${k.employee.last_name}`))}}s(ft,B.map(G=>J(G)))}function it(B){if(B>=1&&B<=e(h)){s(P,B);const J=document.querySelector(".employee-grid");J&&J.scrollIntoView({behavior:"smooth",block:"start"})}}function ct(B){s(re,B),s(Qe,B.manager_id||""),s(Je,!0),s(lt,""),s(ut,"")}function yt(B){s(X,B),s(me,!0)}function dt(){s(me,!1),s(X,null),rt()}async function pt(){if(e(re)){s(ut,""),s(lt,"");try{const B=localStorage.getItem("token");if(!(await fetch(`/api/employees/${e(re).id}`,{method:"PUT",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},body:JSON.stringify({...e(re),manager_id:e(Qe)||null})})).ok)throw new Error("Failed to assign manager");s(lt,`Successfully ${e(Qe)?"assigned":"removed"} manager for ${e(re).first_name} ${e(re).last_name}`),await rt(),setTimeout(()=>{s(Je,!1),s(lt,"")},2e3)}catch(B){s(ut,B instanceof Error?B.message:"Failed to assign manager")}}}function wt(B){ht||(ht=new Set),ht.has(B)?ht.delete(B):ht.add(B),ht=ht}function St(){const B=new Set;function J(G){B.add(G.employee.id),G.directReports.forEach($=>J($))}e(ft).forEach(G=>J(G)),ht=B}function qt(){ht=new Set}function $t(B,J){const G=J.toLowerCase();return B.map($=>{var b,F;const j=`${$.employee.first_name} ${$.employee.last_name}`.toLowerCase().includes(G)||((b=$.employee.position)==null?void 0:b.toLowerCase().includes(G))||((F=$.employee.department)==null?void 0:F.toLowerCase().includes(G)),k=$t($.directReports,J);return j||k.length>0?{...$,directReports:k}:null}).filter(Boolean)}function Ae(B,J=0){if(!B||!ht)return"";const G=ht.has(B.employee.id),$=B.directReports&&B.directReports.length>0,j=e(p).filter(b=>b.manager_id===B.employee.id).length;let k=`
      <div class="hierarchy-node" style="margin-left: ${J*32}px">
        <div class="hierarchy-node-content" data-node-id="${B.employee.id}">
          ${$?`
            <button class="expand-btn" data-toggle="${B.employee.id}">
              ${G?"â–¼":"â–¶"}
            </button>
          `:'<span class="expand-spacer"></span>'}
          
          <div class="hierarchy-employee">
            <div class="employee-avatar small">
              ${B.employee.first_name[0]}${B.employee.last_name[0]}
            </div>
            <div class="hierarchy-info">
              <div class="hierarchy-name">
                ${B.employee.first_name} ${B.employee.last_name}
              </div>
              <div class="hierarchy-details">
                ${B.employee.position||"N/A"} â€¢ ${B.employee.department||"N/A"}
                ${$?` â€¢ ${j} reports`:""}
              </div>
            </div>
          </div>
        </div>
    `;return G&&$&&(k+='<div class="hierarchy-children">',B.directReports.forEach(b=>{k+=Ae(b,J+1)}),k+="</div>"),k+="</div>",k}function Ne(B){const G=B.target.closest(".expand-btn");if(G){const $=G.getAttribute("data-toggle");$&&wt($)}}function ye(B){return new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function He(B){return{active:"green",pending:"yellow",inactive:"gray"}[B.toLowerCase()]||"gray"}function Ce(B){return`${B.first_name} ${B.last_name}`}function fe(B){if(!B)return"None";const J=e(p).find(G=>G.id===B);return J?Ce(J):"Unknown"}function Oe(B){return e(p).filter(J=>J.manager_id===B).length}Yt(()=>e(p),()=>{s(n,[...new Set(e(p).map(B=>B.department).filter(Boolean))])}),Yt(()=>(e(p),e(le),e(E),e(T),e(L),e(z)),()=>{s(m,e(p).filter(B=>{var j;const J=e(le)===""||`${B.first_name} ${B.last_name}`.toLowerCase().includes(e(le).toLowerCase())||B.email.toLowerCase().includes(e(le).toLowerCase())||((j=B.position)==null?void 0:j.toLowerCase().includes(e(le).toLowerCase())),G=!e(E)||B.department===e(E),$=!e(T)||B.status===e(T);return J&&G&&$}).sort((B,J)=>{let G=0;if(e(L)==="name"){const $=`${B.first_name} ${B.last_name}`,j=`${J.first_name} ${J.last_name}`;G=$.localeCompare(j)}else e(L)==="department"?G=(B.department||"").localeCompare(J.department||""):e(L)==="hire_date"&&(G=new Date(B.hire_date).getTime()-new Date(J.hire_date).getTime());return e(z)==="asc"?G:-G}))}),Yt(()=>(e(m),e(R)),()=>{s(h,Math.ceil(e(m).length/e(R)))}),Yt(()=>(e(le),e(E),e(T)),()=>{e(le),e(E),e(T),s(P,1)}),Yt(()=>(e(m),e(P),e(R)),()=>{s(c,e(m).slice((e(P)-1)*e(R),e(P)*e(R)))}),Yt(()=>(e(ot),e(ft)),()=>{s(g,e(ot)?$t(e(ft),e(ot)):e(ft))}),za(),na();var Ie=$p(),ke=nt(Ie),ge=t(ke),Pe=a(t(ge),2),Be=a(ge,2),Xe=t(Be);let Ge;var We=a(t(Xe),2),be=t(We),f=a(Xe,2);let D;var H=a(f,2);let xe;var ne=a(Be,2);{var _e=B=>{var J=sp();v(B,J)},ze=B=>{var J=Pt(),G=nt(J);{var $=k=>{var b=ip(),F=a(t(b),2),A=t(F);{var q=ve=>{var Q=ha("Authentication Required");v(ve,Q)},w=ve=>{var Q=ha("Error Loading Data");v(ve,Q)};y(A,ve=>{e(C),r(()=>e(C).includes("Authentication")||e(C).includes("authenticated"))?ve(q):ve(w,!1)})}var N=a(F,2),K=t(N),I=a(N,2);{var oe=ve=>{var Q=lp(),U=a(nt(Q),2),V=t(U),se=a(V,2);O("click",V,()=>window.location.href="/login"),O("click",se,rt),v(ve,Q)},W=ve=>{var Q=rp();O("click",Q,rt),v(ve,Q)};y(I,ve=>{e(C),r(()=>e(C).includes("Authentication")||e(C).includes("authenticated"))?ve(oe):ve(W,!1)})}x(()=>l(K,e(C))),v(k,b)},j=k=>{var b=hp(),F=t(b);{var A=w=>{var N=pp(),K=t(N),I=t(K),oe=a(t(I),2),W=a(I,2);x(()=>{e(E),Ut(()=>{e(n)})});var ve=t(W);ve.value=ve.__value="";var Q=a(ve);_t(Q,1,()=>e(n),bt,(Fe,Ye)=>{var Ue=vp(),et=t(Ue),tt={};x(()=>{l(et,e(Ye)),tt!==(tt=e(Ye))&&(Ue.value=(Ue.__value=e(Ye))??"")}),v(Fe,Ue)});var U=a(W,2);x(()=>{e(T),Ut(()=>{})});var V=t(U);V.value=V.__value="";var se=a(V);se.value=se.__value="active";var ie=a(se);ie.value=ie.__value="pending";var we=a(ie);we.value=we.__value="inactive";var pe=a(U,2);x(()=>{e(L),Ut(()=>{})});var ue=t(pe);ue.value=ue.__value="name";var Te=a(ue);Te.value=Te.__value="department";var he=a(Te);he.value=he.__value="hire_date";var qe=a(pe,2),Se=t(qe),je=a(K,2),M=a(t(je)),te=t(M),de=a(M,2),ce=t(de),ee=a(de,2),Le=t(ee),Ee=a(je,2);_t(Ee,5,()=>e(c),bt,(Fe,Ye)=>{var Ue=op(),et=t(Ue),tt=t(et),Ke=t(tt),vt=a(tt,2),xt=t(vt),at=t(xt),Bt=a(xt,2),zt=t(Bt),Ft=a(vt,2),Dt=t(Ft),Et=a(et,2),It=t(Et),Tt=a(t(It),2),Mt=t(Tt),Ct=a(It,2),Ot=a(t(Ct),2),Rt=t(Ot),Wt=a(Ct,2),Nt=a(t(Wt),2),Vt=t(Nt),Jt=a(Wt,2),Ht=a(t(Jt),2),Qt=t(Ht),da=a(Jt,2),ya=a(t(da),2),ba=t(ya),ga=a(Et,2),xa=t(ga);x((La,Oa,Ba,ma,Ja)=>{l(Ke,`${e(Ye),r(()=>e(Ye).first_name[0])??""}${e(Ye),r(()=>e(Ye).last_name[0])??""}`),l(at,La),l(zt,(e(Ye),r(()=>e(Ye).email))),st(Ft,1,`status-badge ${Oa??""}`,"svelte-1b9nxh9"),l(Dt,(e(Ye),r(()=>e(Ye).status))),l(Mt,(e(Ye),r(()=>e(Ye).position||"N/A"))),l(Rt,(e(Ye),r(()=>e(Ye).department||"N/A"))),l(Vt,Ba),l(Qt,ma),l(ba,Ja)},[()=>(e(Ye),r(()=>Ce(e(Ye)))),()=>(e(Ye),r(()=>He(e(Ye).status))),()=>(e(Ye),r(()=>fe(e(Ye).manager_id))),()=>(e(Ye),r(()=>ye(e(Ye).hire_date))),()=>(e(Ye),r(()=>Oe(e(Ye).id)))]),O("click",xa,()=>yt(e(Ye).id)),v(Fe,Ue)});var $e=a(Ee,2);{var Re=Fe=>{var Ye=cp(),Ue=t(Ye),et=t(Ue),tt=t(et),Ke=a(et,2),vt=a(t(Ke),2);x(()=>{e(R),Ut(()=>{e(P)})});var xt=t(vt);xt.value=xt.__value=6;var at=a(xt);at.value=at.__value=12;var Bt=a(at);Bt.value=Bt.__value=24;var zt=a(Bt);zt.value=zt.__value=50;var Ft=a(Ue,2);{var Dt=Et=>{var It=dp(),Tt=t(It),Mt=a(Tt,2),Ct=a(Mt,2),Ot=a(t(Ct),2);x(()=>{e(P),Ut(()=>{e(h)})}),_t(Ot,5,()=>(e(h),r(()=>Array.from({length:e(h)},(Jt,Ht)=>Ht+1))),bt,(Jt,Ht)=>{var Qt=np(),da=t(Qt),ya={};x(()=>{l(da,e(Ht)),ya!==(ya=e(Ht))&&(Qt.value=(Qt.__value=e(Ht))??"")}),v(Jt,Qt)});var Rt=a(Ot,2),Wt=t(Rt),Nt=a(Ct,2),Vt=a(Nt,2);x(()=>{Tt.disabled=e(P)===1,Mt.disabled=e(P)===1,l(Wt,`of ${e(h)??""}`),Nt.disabled=e(P)===e(h),Vt.disabled=e(P)===e(h)}),O("click",Tt,()=>it(1)),O("click",Mt,()=>it(e(P)-1)),Lt(Ot,()=>e(P),Jt=>s(P,Jt)),O("click",Nt,()=>it(e(P)+1)),O("click",Vt,()=>it(e(h))),v(Et,It)};y(Ft,Et=>{e(h)>1&&Et(Dt)})}x(Et=>l(tt,`Showing ${(e(P)-1)*e(R)+1} to ${Et??""} of ${e(m),r(()=>e(m).length)??""}`),[()=>(e(P),e(R),e(m),r(()=>Math.min(e(P)*e(R),e(m).length)))]),Lt(vt,()=>e(R),Et=>s(R,Et)),O("change",vt,()=>s(P,1)),v(Fe,Ye)};y($e,Fe=>{e(m),r(()=>e(m).length>0)&&Fe(Re)})}var Ze=a($e,2);{var Ve=Fe=>{var Ye=up();v(Fe,Ye)};y(Ze,Fe=>{e(m),r(()=>e(m).length===0)&&Fe(Ve)})}x(Fe=>{l(Se,e(z)==="asc"?"â†‘":"â†“"),l(te,(e(P)-1)*e(R)+1),l(ce,Fe),l(Le,(e(m),r(()=>e(m).length)))},[()=>(e(P),e(R),e(m),r(()=>Math.min(e(P)*e(R),e(m).length)))]),kt(oe,()=>e(le),Fe=>s(le,Fe)),Lt(W,()=>e(E),Fe=>s(E,Fe)),Lt(U,()=>e(T),Fe=>s(T,Fe)),Lt(pe,()=>e(L),Fe=>s(L,Fe)),O("click",qe,()=>s(z,e(z)==="asc"?"desc":"asc")),v(w,N)},q=w=>{var N=Pt(),K=nt(N);{var I=W=>{var ve=fp(),Q=a(t(ve),2),U=t(Q),V=a(Q,2),se=t(V),ie=a(t(se));_t(ie,5,()=>e(m),bt,(we,pe)=>{var ue=_p(),Te=t(ue),he=t(Te),qe=t(he),Se=t(qe),je=a(qe,2),M=t(je),te=t(M),de=a(M,2),ce=t(de),ee=a(Te),Le=t(ee),Ee=a(ee),$e=t(Ee),Re=a(Ee),Ze=t(Re),Ve=t(Ze),Fe=a(Re),Ye=t(Fe),Ue=t(Ye),et=a(Fe),tt=t(et),Ke=t(tt);x((vt,xt,at)=>{l(Se,`${e(pe),r(()=>e(pe).first_name[0])??""}${e(pe),r(()=>e(pe).last_name[0])??""}`),l(te,vt),l(ce,(e(pe),r(()=>e(pe).email))),l(Le,(e(pe),r(()=>e(pe).position||"N/A"))),l($e,(e(pe),r(()=>e(pe).department||"N/A"))),l(Ve,xt),l(Ue,at),l(Ke,`${e(pe),r(()=>e(pe).manager_id?"Change":"Assign")??""} Manager`)},[()=>(e(pe),r(()=>Ce(e(pe)))),()=>(e(pe),r(()=>fe(e(pe).manager_id))),()=>(e(pe),r(()=>Oe(e(pe).id)))]),O("click",tt,()=>ct(e(pe))),v(we,ue)}),kt(U,()=>e(le),we=>s(le,we)),v(W,ve)},oe=W=>{var ve=Pt(),Q=nt(ve);{var U=V=>{var se=mp(),ie=t(se),we=a(t(ie),2),pe=t(we),ue=a(pe,2),Te=a(ue,2),he=a(ie,2),qe=t(he);{var Se=M=>{var te=bp();v(M,te)},je=M=>{var te=Pt(),de=nt(te);go(de,()=>(e(g),r(()=>e(g).map(ce=>Ae(ce,0)).join("")))),v(M,te)};y(qe,M=>{e(g),r(()=>e(g).length===0)?M(Se):M(je,!1)})}kt(pe,()=>e(ot),M=>s(ot,M)),O("click",ue,St),O("click",Te,qt),O("click",he,Ne),v(V,se)};y(Q,V=>{e(_)==="hierarchy"&&V(U)},!0)}v(W,ve)};y(K,W=>{e(_)==="manage"?W(I):W(oe,!1)},!0)}v(w,N)};y(F,w=>{e(_)==="view"?w(A):w(q,!1)})}v(k,b)};y(G,k=>{e(C)?k($):k(j,!1)},!0)}v(B,J)};y(ne,B=>{e(S)?B(_e):B(ze,!1)})}var Me=a(ke,2);{var Z=B=>{var J=wp(),G=t(J),$=t(G),j=a(t($),2),k=a($,2),b=t(k),F=t(b),A=t(F),q=a(F,2),w=t(q),N=t(w),K=a(w,2),I=t(K),oe=a(b,2),W=a(t(oe),2);x(()=>{e(Qe),Ut(()=>{e(u),e(re)})});var ve=t(W);ve.value=ve.__value="";var Q=a(ve);_t(Q,1,()=>(e(u),e(re),r(()=>e(u).filter(he=>he.id!==e(re).id))),bt,(he,qe)=>{var Se=yp(),je=t(Se),M={};x(te=>{l(je,`${te??""} - ${e(qe),r(()=>e(qe).position)??""}`),M!==(M=(e(qe),r(()=>e(qe).id)))&&(Se.value=(Se.__value=(e(qe),r(()=>e(qe).id)))??"")},[()=>(e(qe),r(()=>Ce(e(qe))))]),v(he,Se)});var U=a(oe,2);{var V=he=>{var qe=gp(),Se=t(qe);x(()=>l(Se,`âœ“ ${e(lt)??""}`)),v(he,qe)};y(U,he=>{e(lt)&&he(V)})}var se=a(U,2);{var ie=he=>{var qe=xp(),Se=t(qe);x(()=>l(Se,`âš  ${e(ut)??""}`)),v(he,qe)};y(se,he=>{e(ut)&&he(ie)})}var we=a(k,2),pe=t(we),ue=a(pe,2),Te=t(ue);x(he=>{l(A,`${e(re),r(()=>e(re).first_name[0])??""}${e(re),r(()=>e(re).last_name[0])??""}`),l(N,he),l(I,`${e(re),r(()=>e(re).position)??""} â€¢ ${e(re),r(()=>e(re).department)??""}`),l(Te,e(Qe)?"Assign Manager":"Remove Manager")},[()=>(e(re),r(()=>Ce(e(re))))]),O("click",j,()=>s(Je,!1)),Lt(W,()=>e(Qe),he=>s(Qe,he)),O("click",pe,()=>s(Je,!1)),O("click",ue,pt),O("click",G,Gt(function(he){aa.call(this,o,he)})),O("click",J,()=>s(Je,!1)),v(B,J)};y(Me,B=>{e(Je)&&e(re)&&B(Z)})}var De=a(Me,2);{var ae=B=>{var J=kp(),G=t(J),$=t(G),j=a($,2);Fr(j,{get employeeId(){return e(X)}}),O("click",$,dt),O("click",G,Gt(function(k){aa.call(this,o,k)})),O("click",J,dt),v(B,J)};y(De,B=>{e(me)&&e(X)&&B(ae)})}x(()=>{Ge=st(Xe,1,"tab svelte-1b9nxh9",null,Ge,{active:e(_)==="view"}),l(be,(e(p),r(()=>e(p).length))),D=st(f,1,"tab svelte-1b9nxh9",null,D,{active:e(_)==="manage"}),xe=st(H,1,"tab svelte-1b9nxh9",null,xe,{active:e(_)==="hierarchy"})}),O("click",Pe,rt),O("click",Xe,()=>s(_,"view")),O("click",f,()=>s(_,"manage")),O("click",H,()=>s(_,"hierarchy")),v(i,Ie),Zt()}var Sp=d('<div class="provider-status connected svelte-26k1h2">âœ“ Connected</div>'),Ap=d('<div class="provider-status svelte-26k1h2">Click to Connect â†’</div>'),Ep=d('<button><div class="provider-icon svelte-26k1h2"> </div> <div class="provider-info svelte-26k1h2"><div class="provider-name svelte-26k1h2"> </div> <div class="provider-description svelte-26k1h2"> </div> <!></div></button>'),Cp=d('<div class="last-sync svelte-26k1h2"> </div>'),Dp=d('<div class="connected-provider svelte-26k1h2"><div class="provider-main svelte-26k1h2"><div class="provider-icon large svelte-26k1h2"> </div> <div class="provider-details svelte-26k1h2"><div class="provider-name svelte-26k1h2"> </div> <div class="provider-stats svelte-26k1h2"><span class="stat-item svelte-26k1h2"><span class="stat-icon svelte-26k1h2">ðŸ“‹</span> </span> <span class="stat-divider svelte-26k1h2">â€¢</span> <span class="stat-item svelte-26k1h2"><span class="stat-icon svelte-26k1h2">ðŸ‘¥</span> </span> <span class="stat-divider svelte-26k1h2">â€¢</span> <span> </span></div> <!></div></div> <div class="provider-actions svelte-26k1h2"><button class="action-btn secondary svelte-26k1h2"><span class="btn-icon svelte-26k1h2">ðŸ”Œ</span> Test</button> <button class="action-btn secondary svelte-26k1h2"><span class="btn-icon svelte-26k1h2">âš™ï¸</span> Settings</button> <button class="action-btn danger svelte-26k1h2"><span class="btn-icon svelte-26k1h2">âœ—</span> Disconnect</button></div></div>'),zp=d('<div class="section-card svelte-26k1h2"><h3 class="svelte-26k1h2"> </h3> <p class="section-description svelte-26k1h2">Manage your active integrations</p> <div class="connected-list svelte-26k1h2"></div></div>'),Pp=d('<div class="section-card empty svelte-26k1h2"><div class="empty-state svelte-26k1h2"><span class="empty-icon svelte-26k1h2">ðŸ”—</span> <h3 class="svelte-26k1h2">No Providers Connected</h3> <p class="svelte-26k1h2">Connect a recruiting provider to start posting jobs and receiving applicants</p></div></div>'),Tp=d('<div class="field-hint svelte-26k1h2">Enter the base URL for API requests</div>'),qp=d('<div class="field-hint svelte-26k1h2">Optional: URL to receive applicant notifications</div>'),Mp=d('<div class="form-group svelte-26k1h2"><label class="svelte-26k1h2"> </label> <input required class="svelte-26k1h2"/> <!></div>'),Bp=d('<div class="modal-overlay svelte-26k1h2"><div class="modal svelte-26k1h2"><div class="modal-header svelte-26k1h2"><div><h2 class="svelte-26k1h2"> </h2> <p class="modal-subtitle svelte-26k1h2"> </p></div> <button class="close-btn svelte-26k1h2">Ã—</button></div> <div class="modal-body svelte-26k1h2"><div class="form-section svelte-26k1h2"><div class="form-header svelte-26k1h2"><div class="provider-icon modal-icon svelte-26k1h2"> </div> <div><h4 class="svelte-26k1h2">Configuration</h4> <p class="form-description svelte-26k1h2"> </p></div></div> <!></div> <div class="modal-actions svelte-26k1h2"><button class="btn secondary svelte-26k1h2">Cancel</button> <button class="btn primary svelte-26k1h2"><span class="btn-icon svelte-26k1h2">ðŸ’¾</span> </button></div></div></div></div>'),Ip=d('<div class="providers-container svelte-26k1h2"><div class="header-section svelte-26k1h2"><div><h2 class="svelte-26k1h2">Recruiting Providers</h2> <p class="subtitle svelte-26k1h2">Connect job boards and recruiting platforms to post jobs and manage applicants</p></div></div> <div class="section-card svelte-26k1h2"><h3 class="svelte-26k1h2">Available Providers</h3> <p class="section-description svelte-26k1h2">Click on a provider to connect and configure</p> <div class="providers-grid svelte-26k1h2"></div></div> <!></div> <!>',1);function Rp(i,o){Xt(o,!1);const n=gl();let m=Y([]),h=!0,c=Y(!1),g=Y(null);const _={linkedin:{name:"LinkedIn",icon:"ðŸ’¼",color:"#0077b5",description:"Professional networking platform",fields:[{name:"client_id",label:"Client ID",type:"text",placeholder:"Enter LinkedIn Client ID"},{name:"client_secret",label:"Client Secret",type:"password",placeholder:"Enter Client Secret"},{name:"company_id",label:"Company ID",type:"text",placeholder:"Your LinkedIn Company ID"}]},indeed:{name:"Indeed",icon:"ðŸ”",color:"#2164f3",description:"World's #1 job site",fields:[{name:"publisher_id",label:"Publisher ID",type:"text",placeholder:"Your Indeed Publisher ID"},{name:"api_token",label:"API Token",type:"password",placeholder:"Indeed API Token"}]},ziprecruiter:{name:"ZipRecruiter",icon:"âš¡",color:"#1ca774",description:"Smart matching technology",fields:[{name:"api_key",label:"API Key",type:"password",placeholder:"ZipRecruiter API Key"},{name:"company_id",label:"Company ID",type:"text",placeholder:"Your Company ID"}]},glassdoor:{name:"Glassdoor",icon:"ðŸ¢",color:"#0caa41",description:"Company reviews & salaries",fields:[{name:"partner_id",label:"Partner ID",type:"text",placeholder:"Glassdoor Partner ID"},{name:"partner_key",label:"Partner Key",type:"password",placeholder:"Partner Key"}]},monster:{name:"Monster",icon:"ðŸ‘¹",color:"#6f42c1",description:"Find better candidates faster",fields:[{name:"api_key",label:"API Key",type:"password",placeholder:"Monster API Key"},{name:"account_id",label:"Account ID",type:"text",placeholder:"Your Account ID"}]},custom:{name:"Custom Provider",icon:"ðŸ”§",color:"#6b7280",description:"Configure custom integration",fields:[{name:"api_url",label:"API URL",type:"text",placeholder:"https://api.example.com"},{name:"api_key",label:"API Key",type:"password",placeholder:"Your API Key"},{name:"webhook_url",label:"Webhook URL",type:"text",placeholder:"Webhook endpoint (optional)"}]}};sa(async()=>{await p()});async function p(){try{h=!0;const Je=localStorage.getItem("token"),lt=await fetch("/api/recruiting/providers",{headers:{Authorization:`Bearer ${Je}`}});lt.ok&&s(m,await lt.json())}catch(Je){console.error("Failed to load providers:",Je)}finally{h=!1}}function u(Je){const lt=_[Je];s(g,{id:"",name:lt.name,type:Je,status:"disconnected",config:{},jobs_posted:0,applicants_received:0,last_sync:new Date().toISOString()}),lt.fields.forEach(ut=>{gt(g,e(g).config[ut.name]="")}),s(c,!0)}function S(Je){s(g,{...Je}),s(c,!0)}async function C(){var Je,lt;try{const ut=localStorage.getItem("token"),ft=(Je=e(g))!=null&&Je.id?"PUT":"POST",ht=(lt=e(g))!=null&&lt.id?`/api/recruiting/providers/${e(g).id}`:"/api/recruiting/providers",ot=await fetch(ht,{method:ft,headers:{Authorization:`Bearer ${ut}`,"Content-Type":"application/json"},body:JSON.stringify(e(g))});if(ot.ok)await p(),s(c,!1),s(g,null),n("providerUpdated");else{const rt=await ot.json();alert("Failed to save provider: "+(rt.message||"Unknown error"))}}catch(ut){console.error("Failed to save provider:",ut),alert("Failed to save provider: "+ut.message)}}async function le(Je){try{const lt=localStorage.getItem("token"),ut=await fetch(`/api/recruiting/providers/${Je.id}/test`,{method:"POST",headers:{Authorization:`Bearer ${lt}`}});if(ut.ok){const ft=await ut.json();ft.success?alert(`âœ“ Connection successful!

`+(ft.message||"Provider is properly configured.")):alert(`âœ— Connection failed!

`+(ft.error||"Unknown error")),await p()}}catch(lt){alert(`âœ— Connection test failed!

`+lt.message)}}async function E(Je){if(confirm(`Are you sure you want to disconnect ${Je.name}?

This will remove all configuration and stop syncing jobs and applicants.`))try{const lt=localStorage.getItem("token");await fetch(`/api/recruiting/providers/${Je.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${lt}`}}),await p(),n("providerUpdated")}catch(lt){console.error("Failed to disconnect provider:",lt),alert("Failed to disconnect provider: "+lt.message)}}na();var T=Ip(),L=nt(T),z=a(t(L),2),P=a(t(z),4);_t(P,5,()=>Object.entries(_),bt,(Je,lt)=>{var ut=va(()=>Ar(e(lt),2));let ft=()=>e(ut)[0],ht=()=>e(ut)[1];const ot=is(()=>e(m).find(Ne=>Ne.type===ft()));var rt=Ep();let At;var it=t(rt),ct=t(it),yt=a(it,2),dt=t(yt),pt=t(dt),wt=a(dt,2),St=t(wt),qt=a(wt,2);{var $t=Ne=>{var ye=Sp();v(Ne,ye)},Ae=Ne=>{var ye=Ap();v(Ne,ye)};y(qt,Ne=>{e(ot)?Ne($t):Ne(Ae,!1)})}x(()=>{At=st(rt,1,"provider-card svelte-26k1h2",null,At,{connected:e(ot)}),rt.disabled=!!e(ot),oa(it,`background-color: ${ht().color??""}20; color: ${ht().color??""}`),l(ct,ht().icon),l(pt,ht().name),l(St,ht().description)}),O("click",rt,()=>!e(ot)&&u(ft())),v(Je,rt)});var R=a(z,2);{var me=Je=>{var lt=zp(),ut=t(lt),ft=t(ut),ht=a(ut,4);_t(ht,5,()=>e(m),bt,(ot,rt)=>{const At=is(()=>_[e(rt).type]);var it=Dp(),ct=t(it),yt=t(ct),dt=t(yt),pt=a(yt,2),wt=t(pt),St=t(wt),qt=a(wt,2),$t=t(qt),Ae=a(t($t)),Ne=a($t,4),ye=a(t(Ne)),He=a(Ne,4),Ce=t(He),fe=a(qt,2);{var Oe=Be=>{var Xe=Cp(),Ge=t(Xe);x(We=>l(Ge,`Last synced: ${We??""}`),[()=>new Date(e(rt).last_sync).toLocaleString()]),v(Be,Xe)};y(fe,Be=>{e(rt).last_sync&&Be(Oe)})}var Ie=a(ct,2),ke=t(Ie),ge=a(ke,2),Pe=a(ge,2);x(()=>{oa(yt,`background-color: ${e(At).color??""}20; color: ${e(At).color??""}`),l(dt,e(At).icon),l(St,e(rt).name),l(Ae,` ${e(rt).jobs_posted??""} jobs posted`),l(ye,` ${e(rt).applicants_received??""} applicants`),st(He,1,`status-indicator status-${e(rt).status??""}`,"svelte-26k1h2"),l(Ce,e(rt).status==="connected"?"âœ“ Connected":e(rt).status==="error"?"âœ— Error":"â—‹ Disconnected")}),O("click",ke,()=>le(e(rt))),O("click",ge,()=>S(e(rt))),O("click",Pe,()=>E(e(rt))),v(ot,it)}),x(()=>l(ft,`Connected Providers (${e(m).length??""})`)),v(Je,lt)},X=Je=>{var lt=Pp();v(Je,lt)};y(R,Je=>{e(m).length>0?Je(me):Je(X,!1)})}var re=a(L,2);{var Qe=Je=>{const lt=is(()=>_[e(g).type]);var ut=Bp(),ft=t(ut),ht=t(ft),ot=t(ht),rt=t(ot),At=t(rt),it=a(rt,2),ct=t(it),yt=a(ot,2),dt=a(ht,2),pt=t(dt),wt=t(pt),St=t(wt),qt=t(St),$t=a(St,2),Ae=a(t($t),2),Ne=t(Ae),ye=a(wt,2);_t(ye,1,()=>e(lt).fields,bt,(Ie,ke)=>{var ge=Mp(),Pe=t(ge),Be=t(Pe),Xe=a(Pe,2),Ge=a(Xe,2);{var We=f=>{var D=Tp();v(f,D)},be=f=>{var D=Pt(),H=nt(D);{var xe=ne=>{var _e=qp();v(ne,_e)};y(H,ne=>{e(ke).name==="webhook_url"&&ne(xe)},!0)}v(f,D)};y(Ge,f=>{e(ke).name==="api_url"?f(We):f(be,!1)})}x(()=>{ca(Pe,"for",e(ke).name),l(Be,e(ke).label),ca(Xe,"id",e(ke).name),ca(Xe,"type",e(ke).type),ca(Xe,"placeholder",e(ke).placeholder)}),kt(Xe,()=>e(g).config[e(ke).name],f=>gt(g,e(g).config[e(ke).name]=f)),v(Ie,ge)});var He=a(pt,2),Ce=t(He),fe=a(Ce,2),Oe=a(t(fe));x(()=>{l(At,`${e(g).id?"Edit":"Connect"} ${e(g).name??""}`),l(ct,e(lt).description),oa(St,`background-color: ${e(lt).color??""}20; color: ${e(lt).color??""}`),l(qt,e(lt).icon),l(Ne,`Enter your API credentials to connect ${e(lt).name??""}`),l(Oe,` ${e(g).id?"Save Changes":"Save & Connect"}`)}),O("click",yt,()=>s(c,!1)),O("click",Ce,()=>s(c,!1)),O("click",fe,C),O("click",ft,Gt(function(Ie){aa.call(this,o,Ie)})),O("click",ut,()=>s(c,!1)),v(Je,ut)};y(re,Je=>{e(c)&&e(g)&&Je(Qe)})}v(i,T),Zt()}var Fp=d('<div class="loading-state svelte-19jyfyk"><div class="spinner svelte-19jyfyk"></div> Loading jobs...</div>'),Lp=d('<button class="btn primary svelte-19jyfyk"><span class="btn-icon svelte-19jyfyk">âž•</span> Create Job</button>'),Op=d('<div class="empty-state svelte-19jyfyk"><span class="empty-icon svelte-19jyfyk">ðŸ“‹</span> <h3 class="svelte-19jyfyk">No Jobs Found</h3> <p class="svelte-19jyfyk"> </p> <!></div>'),Np=d('<p class="job-description svelte-19jyfyk"> </p>'),Up=d('<div class="stat-item svelte-19jyfyk"><span class="stat-icon svelte-19jyfyk">ðŸ”—</span> <span class="stat-text svelte-19jyfyk"> </span></div>'),Wp=d('<span class="provider-badge svelte-19jyfyk"> </span>'),Hp=d('<div class="provider-badges svelte-19jyfyk"></div>'),Jp=d('<div class="job-card svelte-19jyfyk"><div class="job-header svelte-19jyfyk"><div class="job-title-section svelte-19jyfyk"><h3 class="job-title svelte-19jyfyk"> </h3> <div class="job-meta svelte-19jyfyk"><span class="meta-badge svelte-19jyfyk"><span class="meta-icon svelte-19jyfyk">ðŸ“</span> </span> <span class="meta-badge svelte-19jyfyk"><span class="meta-icon svelte-19jyfyk">ðŸ’¼</span> </span> <span class="meta-badge svelte-19jyfyk"><span class="meta-icon svelte-19jyfyk">ðŸ¢</span> </span></div></div> <div class="status-badge svelte-19jyfyk"> </div></div> <div class="job-body svelte-19jyfyk"><div class="job-salary svelte-19jyfyk"> </div> <!> <div class="job-stats svelte-19jyfyk"><div class="stat-item svelte-19jyfyk"><span class="stat-icon svelte-19jyfyk">ðŸ‘¥</span> <span class="stat-text svelte-19jyfyk"> </span></div> <!> <div class="stat-item svelte-19jyfyk"><span class="stat-icon svelte-19jyfyk">ðŸ“…</span> <span class="stat-text svelte-19jyfyk"> </span></div></div> <!></div> <div class="job-actions svelte-19jyfyk"><button class="action-btn secondary svelte-19jyfyk"><span class="btn-icon svelte-19jyfyk">âœï¸</span> Edit</button> <button><span class="btn-icon svelte-19jyfyk"><!></span> </button> <button class="action-btn svelte-19jyfyk"><span class="btn-icon svelte-19jyfyk">ðŸ‘¥</span> </button> <button class="action-btn danger svelte-19jyfyk"><span class="btn-icon svelte-19jyfyk">ðŸ—‘ï¸</span> Delete</button></div></div>'),Vp=d('<option class="svelte-19jyfyk"> </option>'),Yp=d('<div class="list-item svelte-19jyfyk"><input type="text" placeholder="e.g., 5+ years of React experience" class="svelte-19jyfyk"/> <button class="remove-btn svelte-19jyfyk">Ã—</button></div>'),Gp=d('<div class="list-item svelte-19jyfyk"><input type="text" placeholder="e.g., Lead frontend architecture decisions" class="svelte-19jyfyk"/> <button class="remove-btn svelte-19jyfyk">Ã—</button></div>'),Kp=d('<div class="list-item svelte-19jyfyk"><input type="text" placeholder="e.g., Health insurance, 401k matching" class="svelte-19jyfyk"/> <button class="remove-btn svelte-19jyfyk">Ã—</button></div>'),Qp=d('<label class="checkbox-label svelte-19jyfyk"><input type="checkbox" class="svelte-19jyfyk"/> <span class="svelte-19jyfyk"> </span></label>'),Xp=d('<p class="no-providers svelte-19jyfyk">No providers connected. <a href="#" class="svelte-19jyfyk">Connect providers</a></p>'),Zp=d('<p class="no-providers svelte-19jyfyk">Loading providers...</p>'),e_=d('<div class="form-grid svelte-19jyfyk"><div class="form-section full-width svelte-19jyfyk"><h4 class="section-title svelte-19jyfyk">Basic Information</h4> <div class="form-group svelte-19jyfyk"><label class="svelte-19jyfyk">Job Title *</label> <input type="text" placeholder="e.g., Senior Software Engineer" required class="svelte-19jyfyk"/></div> <div class="form-row svelte-19jyfyk"><div class="form-group svelte-19jyfyk"><label class="svelte-19jyfyk">Department *</label> <input type="text" placeholder="Engineering" required class="svelte-19jyfyk"/></div> <div class="form-group svelte-19jyfyk"><label class="svelte-19jyfyk">Location *</label> <input type="text" placeholder="Remote / San Francisco, CA" required class="svelte-19jyfyk"/></div> <div class="form-group svelte-19jyfyk"><label class="svelte-19jyfyk">Employment Type *</label> <select class="svelte-19jyfyk"></select></div></div> <div class="form-group svelte-19jyfyk"><label class="svelte-19jyfyk">Description *</label> <textarea placeholder="Describe the role, team, and company..." rows="5" required class="svelte-19jyfyk"></textarea></div></div> <div class="form-section svelte-19jyfyk"><h4 class="section-title svelte-19jyfyk">Compensation</h4> <div class="form-row svelte-19jyfyk"><div class="form-group svelte-19jyfyk"><label class="svelte-19jyfyk">Min Salary</label> <input type="number" placeholder="80000" class="svelte-19jyfyk"/></div> <div class="form-group svelte-19jyfyk"><label class="svelte-19jyfyk">Max Salary</label> <input type="number" placeholder="120000" class="svelte-19jyfyk"/></div> <div class="form-group svelte-19jyfyk"><label class="svelte-19jyfyk">Currency</label> <select class="svelte-19jyfyk"><option class="svelte-19jyfyk">USD</option><option class="svelte-19jyfyk">EUR</option><option class="svelte-19jyfyk">GBP</option></select></div></div></div> <div class="form-section svelte-19jyfyk"><h4 class="section-title svelte-19jyfyk">Requirements</h4> <!> <button class="add-btn svelte-19jyfyk">+ Add Requirement</button></div> <div class="form-section svelte-19jyfyk"><h4 class="section-title svelte-19jyfyk">Responsibilities</h4> <!> <button class="add-btn svelte-19jyfyk">+ Add Responsibility</button></div> <div class="form-section full-width svelte-19jyfyk"><h4 class="section-title svelte-19jyfyk">Benefits</h4> <!> <button class="add-btn svelte-19jyfyk">+ Add Benefit</button></div> <div class="form-section full-width svelte-19jyfyk"><h4 class="section-title svelte-19jyfyk">Post to Providers</h4> <div class="provider-checkboxes svelte-19jyfyk"><!> <!></div></div></div> <div class="modal-actions svelte-19jyfyk"><button class="btn secondary svelte-19jyfyk">Cancel</button> <button class="btn primary svelte-19jyfyk"><span class="btn-icon svelte-19jyfyk">ðŸ’¾</span> </button></div>',1),t_=d('<div class="prerequisites-warning svelte-19jyfyk"><div class="warning-icon svelte-19jyfyk">âš ï¸</div> <div class="warning-content svelte-19jyfyk"><h3 class="svelte-19jyfyk">Prerequisites Required</h3> <p class="svelte-19jyfyk">Before you can generate AI descriptions, please fill in the following fields in the <strong class="svelte-19jyfyk">Manual Entry</strong> tab:</p> <ul class="warning-list svelte-19jyfyk"><li> <strong class="svelte-19jyfyk">Job Title</strong> </li> <li> <strong class="svelte-19jyfyk">Base Description</strong> </li> <li> </li> <li> </li></ul> <button class="btn primary svelte-19jyfyk" style="margin-top: 16px;"><span class="btn-icon svelte-19jyfyk">ðŸ“</span> Go to Manual Entry Tab</button></div></div>'),a_=d('<span class="spinner-small svelte-19jyfyk"></span> Generating...',1),s_=d('<span class="btn-icon svelte-19jyfyk">âœ¨</span> Generate Both Versions',1),l_=d('<div class="generated-version-card svelte-19jyfyk"><div class="version-header svelte-19jyfyk"><h4 class="svelte-19jyfyk">ðŸ“¢ Job Board Version</h4> <span class="version-badge svelte-19jyfyk">External</span></div> <div class="version-preview svelte-19jyfyk"> </div> <button class="btn secondary use-btn svelte-19jyfyk"><span class="btn-icon svelte-19jyfyk">âœ“</span> Use This Version</button></div>'),r_=d('<div class="generated-version-card svelte-19jyfyk"><div class="version-header svelte-19jyfyk"><h4 class="svelte-19jyfyk">ðŸ“‹ Internal HR Version</h4> <span class="version-badge internal svelte-19jyfyk">Internal</span></div> <div class="version-preview svelte-19jyfyk"> </div> <button class="btn secondary use-btn svelte-19jyfyk"><span class="btn-icon svelte-19jyfyk">âœ“</span> Use This Version</button></div>'),i_=d('<div class="generated-versions svelte-19jyfyk"><!> <!></div>'),v_=d('<div class="ai-intro svelte-19jyfyk"><h3 class="svelte-19jyfyk">ðŸ¤– AI-Powered Job Description Generator</h3> <p class="svelte-19jyfyk">Generate two optimized versions of your job description:</p> <ul class="svelte-19jyfyk"><li class="svelte-19jyfyk"><strong class="svelte-19jyfyk">Job Board Version:</strong> Concise, engaging posting for external platforms (LinkedIn, Indeed)</li> <li class="svelte-19jyfyk"><strong class="svelte-19jyfyk">Internal HR Version:</strong> Comprehensive, detailed description for internal use</li></ul></div> <div class="ai-requirements svelte-19jyfyk"><h4 class="svelte-19jyfyk">Prerequisites</h4> <div class="requirement-checklist svelte-19jyfyk"><div> </div> <div> </div> <div> </div> <div> </div></div> <p class="requirement-note svelte-19jyfyk">ðŸ’¡ Fill in the Manual Entry tab first to get better AI-generated descriptions</p></div> <button class="btn secondary svelte-19jyfyk" style="margin-bottom: 10px;">ðŸ§ª TEST: Click Me First</button> <button class="btn primary generate-btn svelte-19jyfyk"><!></button> <div style="margin-top: 10px; padding: 10px; background: #f0f0f0; border-radius: 5px; font-size: 12px;" class="svelte-19jyfyk"><strong class="svelte-19jyfyk">Debug Info:</strong><br class="svelte-19jyfyk"/> <br class="svelte-19jyfyk"/> <br class="svelte-19jyfyk"/> <br class="svelte-19jyfyk"/> </div> <!>',1),o_=d('<button class="btn primary svelte-19jyfyk"><span class="btn-icon svelte-19jyfyk">ðŸ’¾</span> </button>'),n_=d('<div class="ai-generate-container svelte-19jyfyk"><!></div> <div class="modal-actions svelte-19jyfyk"><button class="btn secondary svelte-19jyfyk">Cancel</button> <!></div>',1),d_=d('<div class="modal-overlay svelte-19jyfyk"><div class="modal-large svelte-19jyfyk"><div class="modal-header svelte-19jyfyk"><div class="svelte-19jyfyk"><h2 class="svelte-19jyfyk"> </h2> <div class="modal-tabs svelte-19jyfyk"><button>ðŸ“ Manual Entry</button> <button>âœ¨ AI Generate</button></div></div> <button class="close-btn svelte-19jyfyk">Ã—</button></div> <div class="modal-body svelte-19jyfyk"><!></div></div></div>'),c_=d('<div class="jobs-container svelte-19jyfyk"><div class="header-section svelte-19jyfyk"><div class="svelte-19jyfyk"><h2 class="svelte-19jyfyk">Job Postings</h2> <p class="subtitle svelte-19jyfyk">Create and manage job postings across multiple platforms</p></div> <div class="header-actions svelte-19jyfyk"><button class="btn primary svelte-19jyfyk"><span class="btn-icon svelte-19jyfyk">âž•</span> Create New Job</button> <label class="btn secondary svelte-19jyfyk" for="job-file-upload-review" title="Upload file and review before saving"><span class="btn-icon svelte-19jyfyk">ðŸ“</span> Upload & Review <input id="job-file-upload-review" type="file" accept=".json,.txt,.md" style="display: none;" class="svelte-19jyfyk"/></label> <label class="btn primary svelte-19jyfyk" for="job-file-upload-save" title="Upload file and save immediately"><span class="btn-icon svelte-19jyfyk">âš¡</span> Upload & Save <input id="job-file-upload-save" type="file" accept=".json,.txt,.md" style="display: none;" class="svelte-19jyfyk"/></label></div></div> <div class="filters-section svelte-19jyfyk"><div class="search-box svelte-19jyfyk"><span class="search-icon svelte-19jyfyk">ðŸ”</span> <input type="text" placeholder="Search jobs..." class="svelte-19jyfyk"/></div> <div class="filter-tabs svelte-19jyfyk"><button> </button> <button> </button> <button> </button> <button> </button></div></div> <div class="jobs-grid svelte-19jyfyk"><!></div></div> <!>',1);function u_(i,o){Xt(o,!1);const n=Y(),m=[],h=gl();let c=Y([]),g=Y([]),_=Y(!0),p=Y(!1),u=Y(null),S=Y("all"),C=Y(""),le=Y("manual"),E=Y(!1),T=Y(""),L=Y("");const z=[{value:"full-time",label:"Full-time"},{value:"part-time",label:"Part-time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"}];sa(async()=>{await P(),await R()});async function P(){try{s(_,!0);const Z=localStorage.getItem("token"),De=await fetch("/api/recruiting/jobs",{headers:{Authorization:`Bearer ${Z}`}});De.ok&&s(c,await De.json())}catch(Z){console.error("Failed to load jobs:",Z)}finally{s(_,!1)}}async function R(){try{const Z=localStorage.getItem("token"),De=await fetch("/api/recruiting/providers",{headers:{Authorization:`Bearer ${Z}`}});if(De.ok){const ae=await De.json();s(g,Array.isArray(ae)?ae:[])}else s(g,[])}catch(Z){console.error("Failed to load providers:",Z),s(g,[])}}async function me(Z){var G;const De=Z.target,ae=(G=De.files)==null?void 0:G[0];if(!ae)return;const B=[".json",".md",".txt"],J=ae.name.substring(ae.name.lastIndexOf(".")).toLowerCase();if(!B.includes(J)){alert(`Invalid file type. Please upload: ${B.join(", ")}`),De.value="";return}try{s(_,!0);const $=new FormData;$.append("file",ae);const j=localStorage.getItem("token"),k=await fetch("/api/recruiting/jobs/upload",{method:"POST",headers:{Authorization:`Bearer ${j}`},body:$});if(!k.ok){const F=await k.text();throw new Error(F||"Failed to parse job file")}const b=await k.json();s(u,{id:"",title:b.title||"",description:b.description||"",department:b.department||"",location:b.location||"",employment_type:b.employment_type||"full-time",salary_min:b.salary_min||0,salary_max:b.salary_max||0,salary_currency:b.salary_currency||"USD",requirements:re(b.requirements),responsibilities:re(b.responsibilities),benefits:re(b.benefits),status:"draft",providers:[],applicant_count:0,created_at:new Date().toISOString()}),s(p,!0)}catch($){console.error("Failed to upload job file:",$),alert(`Failed to parse job file:

${$.message}

Supported formats:
- JSON (.json)
- Markdown (.md)
- Text (.txt)`)}finally{s(_,!1)}De.value=""}async function X(Z){var G;const De=Z.target,ae=(G=De.files)==null?void 0:G[0];if(!ae)return;const B=[".json",".md",".txt"],J=ae.name.substring(ae.name.lastIndexOf(".")).toLowerCase();if(!B.includes(J)){alert(`Invalid file type. Please upload: ${B.join(", ")}`),De.value="";return}if(!confirm(`Upload and save "${ae.name}" directly to database?

The job will be created immediately as a draft.`)){De.value="";return}try{s(_,!0);const $=new FormData;$.append("file",ae);const j=localStorage.getItem("token"),k=await fetch("/api/recruiting/jobs/upload?save=true",{method:"POST",headers:{Authorization:`Bearer ${j}`},body:$});if(!k.ok){const F=await k.text();throw new Error(F||"Failed to create job")}const b=await k.json();await P(),alert(`âœ… Job "${b.title}" created successfully!

Status: ${b.status}
ID: ${b.id}`),h("jobUpdated")}catch($){console.error("Failed to upload and save job:",$),alert(`Failed to create job:

${$.message}`)}finally{s(_,!1)}De.value=""}function re(Z){return Array.isArray(Z)&&Z.length>0?Z:[""]}function Qe(){s(u,{id:"",title:"",description:"",department:"",location:"",employment_type:"full-time",salary_min:0,salary_max:0,salary_currency:"USD",requirements:[""],responsibilities:[""],benefits:[""],status:"draft",providers:[],applicant_count:0,created_at:new Date().toISOString()}),s(p,!0)}function Je(Z){s(u,{...Z}),s(p,!0)}async function lt(){var Z,De;try{const ae=localStorage.getItem("token"),B=(Z=e(u))!=null&&Z.id?"PUT":"POST",J=(De=e(u))!=null&&De.id?`/api/recruiting/jobs/${e(u).id}`:"/api/recruiting/jobs",G=await fetch(J,{method:B,headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify(e(u))});if(G.ok)await P(),s(p,!1),s(u,null),h("jobUpdated");else{const $=await G.json();alert("Failed to save job: "+($.message||"Unknown error"))}}catch(ae){console.error("Failed to save job:",ae),alert("Failed to save job: "+ae.message)}}async function ut(Z){if(confirm(`Are you sure you want to delete "${Z.title}"?

This action cannot be undone.`))try{const De=localStorage.getItem("token"),ae=await fetch(`/api/recruiting/jobs/${Z.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${De}`}});if(ae.ok)await P(),h("jobUpdated"),alert("Job deleted successfully");else{const B=await ae.json();alert("Failed to delete job: "+(B.message||"Unknown error"))}}catch(De){console.error("Failed to delete job:",De),alert("Failed to delete job: "+De.message)}}async function ft(Z){const ae={draft:"active",active:"closed",closed:"draft",archived:"draft"}[Z.status]||"draft";if(confirm(`Change status of "${Z.title}" from ${Z.status} to ${ae}?`))try{const B=localStorage.getItem("token"),J=await fetch(`/api/recruiting/jobs/${Z.id}`,{method:"PUT",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},body:JSON.stringify({...Z,status:ae})});if(J.ok)await P(),h("jobUpdated");else{const G=await J.json();alert("Failed to update status: "+(G.message||"Unknown error"))}}catch(B){console.error("Failed to update status:",B),alert("Failed to update status: "+B.message)}}async function ht(){if(console.log("ðŸš€ FUNCTION CALLED - generateAIJobDescriptions"),alert("Button clicked! Check console for details."),!e(u)){console.error("âŒ No editing job"),alert("Error: No job data available");return}console.log("âœ… EditingJob exists:",{title:e(u).title,description:e(u).description,department:e(u).department}),s(E,!0),s(T,""),s(L,"");try{const Z=localStorage.getItem("token");if(console.log("ðŸ”‘ Token check:",Z?"Token exists":"âŒ NO TOKEN"),!Z)throw new Error("No authentication token found");const De={title:e(u).title,department:e(u).department,location:e(u).location,employment_type:e(u).employment_type,salary_min:e(u).salary_min||0,salary_max:e(u).salary_max||0,description:e(u).description,requirements:e(u).requirements.filter($=>$.trim()),responsibilities:e(u).responsibilities.filter($=>$.trim()),benefits:e(u).benefits.filter($=>$.trim())};console.log("ðŸ“¦ Job data prepared:",De),console.log("ðŸŒ About to call: /api/ai/generate-job-description");const ae=await fetch("/api/ai/generate-job-description",{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify({...De,version_type:"jobboard"})});if(console.log("ðŸ“¨ Job Board response status:",ae.status),console.log("ðŸ“¨ Job Board response ok:",ae.ok),!ae.ok){const $=await ae.text();throw console.error("âŒ Job Board error:",$),new Error(`Failed to generate job board version: ${$}`)}const B=await ae.json();s(T,B.generated_text),console.log("âœ… Job Board version generated, length:",e(T).length),console.log("ðŸŒ Generating Internal version...");const J=await fetch("/api/ai/generate-job-description",{method:"POST",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"},body:JSON.stringify({...De,version_type:"internal"})});if(console.log("ðŸ“¨ Internal response status:",J.status),!J.ok){const $=await J.text();throw console.error("âŒ Internal error:",$),new Error(`Failed to generate internal version: ${$}`)}const G=await J.json();s(L,G.generated_text),console.log("âœ… Internal version generated, length:",e(L).length),alert("âœ… Both versions generated successfully!")}catch(Z){console.error("ðŸ’¥ ERROR in generateAIJobDescriptions:",Z),alert(`âŒ Failed to generate AI descriptions:

`+Z.message+`

Check the browser console for more details.`)}finally{s(E,!1),console.log("ðŸ Generation complete, aiGenerating set to false")}}function ot(){e(u)&&e(T)&&(gt(u,e(u).description=e(T)),s(u,e(u)),alert("Job Board version applied to description!"))}function rt(){e(u)&&e(L)&&(gt(u,e(u).description=e(L)),s(u,e(u)),alert("Internal HR version applied to description!"))}function At(Z){Z.push(""),s(u,e(u))}function it(Z,De){Z.splice(De,1),s(u,e(u))}function ct(Z){const De={draft:"#6b7280",active:"#10b981",closed:"#ef4444",archived:"#9ca3af"};return De[Z]||De.draft}Yt(()=>(e(c),e(S),e(C)),()=>{s(n,e(c).filter(Z=>e(S)==="all"||Z.status===e(S)).filter(Z=>!e(C)||Z.title.toLowerCase().includes(e(C).toLowerCase())||Z.department.toLowerCase().includes(e(C).toLowerCase())||Z.location.toLowerCase().includes(e(C).toLowerCase())))}),za(),na();var yt=c_(),dt=nt(yt),pt=t(dt),wt=a(t(pt),2),St=t(wt),qt=a(St,2),$t=a(t(qt),2),Ae=a(qt,2),Ne=a(t(Ae),2),ye=a(pt,2),He=t(ye),Ce=a(t(He),2),fe=a(He,2),Oe=t(fe);let Ie;var ke=t(Oe),ge=a(Oe,2);let Pe;var Be=t(ge),Xe=a(ge,2);let Ge;var We=t(Xe),be=a(Xe,2);let f;var D=t(be),H=a(ye,2),xe=t(H);{var ne=Z=>{var De=Fp();v(Z,De)},_e=Z=>{var De=Pt(),ae=nt(De);{var B=G=>{var $=Op(),j=a(t($),4),k=t(j),b=a(j,2);{var F=A=>{var q=Lp();O("click",q,Qe),v(A,q)};y(b,A=>{e(C)||A(F)})}x(()=>l(k,e(C)?"Try adjusting your search":"Create your first job posting to get started")),v(G,$)},J=G=>{var $=Pt(),j=nt($);_t(j,1,()=>e(n),bt,(k,b)=>{var F=Jp(),A=t(F),q=t(A),w=t(q),N=t(w),K=a(w,2),I=t(K),oe=a(t(I)),W=a(I,2),ve=a(t(W)),Q=a(W,2),U=a(t(Q)),V=a(q,2),se=t(V),ie=a(A,2),we=t(ie),pe=t(we),ue=a(we,2);{var Te=at=>{var Bt=Np(),zt=t(Bt);x(Ft=>l(zt,`${Ft??""}${e(b),r(()=>e(b).description.length>150?"...":"")??""}`),[()=>(e(b),r(()=>e(b).description.substring(0,150)))]),v(at,Bt)};y(ue,at=>{e(b),r(()=>e(b).description)&&at(Te)})}var he=a(ue,2),qe=t(he),Se=a(t(qe),2),je=t(Se),M=a(qe,2);{var te=at=>{var Bt=Up(),zt=a(t(Bt),2),Ft=t(zt);x(()=>l(Ft,`${e(b),r(()=>e(b).providers.length)??""} provider${e(b),r(()=>e(b).providers.length!==1?"s":"")??""}`)),v(at,Bt)};y(M,at=>{e(b),r(()=>e(b).providers.length>0)&&at(te)})}var de=a(M,2),ce=a(t(de),2),ee=t(ce),Le=a(he,2);{var Ee=at=>{var Bt=Hp();_t(Bt,5,()=>(e(b),r(()=>e(b).providers)),bt,(zt,Ft)=>{const Dt=is(()=>(e(g),e(Ft),r(()=>e(g).find(Mt=>Mt.type===e(Ft)))));var Et=Pt(),It=nt(Et);{var Tt=Mt=>{var Ct=Wp(),Ot=t(Ct);x(()=>l(Ot,(ls(e(Dt)),r(()=>e(Dt).name)))),v(Mt,Ct)};y(It,Mt=>{e(Dt)&&Mt(Tt)})}v(zt,Et)}),v(at,Bt)};y(Le,at=>{e(b),r(()=>e(b).providers.length>0)&&at(Ee)})}var $e=a(ie,2),Re=t($e),Ze=a(Re,2);let Ve;var Fe=t(Ze),Ye=t(Fe);{var Ue=at=>{var Bt=ha("ðŸ“");v(at,Bt)},et=at=>{var Bt=Pt(),zt=nt(Bt);{var Ft=Et=>{var It=ha("âœ…");v(Et,It)},Dt=Et=>{var It=Pt(),Tt=nt(It);{var Mt=Ot=>{var Rt=ha("â¸ï¸");v(Ot,Rt)},Ct=Ot=>{var Rt=ha("ðŸ“‹");v(Ot,Rt)};y(Tt,Ot=>{e(b),r(()=>e(b).status==="closed")?Ot(Mt):Ot(Ct,!1)},!0)}v(Et,It)};y(zt,Et=>{e(b),r(()=>e(b).status==="active")?Et(Ft):Et(Dt,!1)},!0)}v(at,Bt)};y(Ye,at=>{e(b),r(()=>e(b).status==="draft")?at(Ue):at(et,!1)})}var tt=a(Fe),Ke=a(Ze,2),vt=a(t(Ke)),xt=a(Ke,2);x((at,Bt,zt,Ft,Dt,Et,It)=>{l(N,(e(b),r(()=>e(b).title))),l(oe,` ${e(b),r(()=>e(b).location)??""}`),l(ve,` ${at??""}`),l(U,` ${e(b),r(()=>e(b).department)??""}`),oa(V,`background-color: ${Bt??""}20; color: ${zt??""}`),l(se,(e(b),r(()=>e(b).status))),l(pe,`ðŸ’° $${Ft??""} - $${Dt??""} ${e(b),r(()=>e(b).salary_currency)??""}`),l(je,`${e(b),r(()=>e(b).applicant_count)??""} applicants`),l(ee,`Posted ${Et??""}`),Ve=st(Ze,1,"action-btn status-toggle svelte-19jyfyk",null,Ve,{draft:e(b).status==="draft",active:e(b).status==="active",closed:e(b).status==="closed"}),ca(Ze,"title",`Click to cycle status: ${e(b),r(()=>e(b).status)??""} â†’ ${e(b),r(()=>e(b).status==="draft"?"active":e(b).status==="active"?"closed":"draft")??""}`),l(tt,` ${It??""}`),l(vt,` Applicants (${e(b),r(()=>e(b).applicant_count)??""})`)},[()=>(e(b),r(()=>{var at;return(at=z.find(Bt=>Bt.value===e(b).employment_type))==null?void 0:at.label})),()=>(e(b),r(()=>ct(e(b).status))),()=>(e(b),r(()=>ct(e(b).status))),()=>(e(b),r(()=>e(b).salary_min.toLocaleString())),()=>(e(b),r(()=>e(b).salary_max.toLocaleString())),()=>(e(b),r(()=>new Date(e(b).created_at).toLocaleDateString())),()=>(e(b),r(()=>e(b).status.charAt(0).toUpperCase()+e(b).status.slice(1)))]),O("click",Re,()=>Je(e(b))),O("click",Ze,()=>ft(e(b))),O("click",Ke,()=>window.location.href=`/recruiting/jobs/${e(b).id}/applicants`),O("click",xt,()=>ut(e(b))),v(k,F)}),v(G,$)};y(ae,G=>{e(n),r(()=>e(n).length===0)?G(B):G(J,!1)},!0)}v(Z,De)};y(xe,Z=>{e(_)?Z(ne):Z(_e,!1)})}var ze=a(dt,2);{var Me=Z=>{var De=d_(),ae=t(De),B=t(ae),J=t(B),G=t(J),$=t(G),j=a(G,2),k=t(j);let b;var F=a(k,2);let A;var q=a(J,2),w=a(B,2),N=t(w);{var K=oe=>{var W=e_(),ve=nt(W),Q=t(ve),U=a(t(Q),2),V=a(t(U),2),se=a(U,2),ie=t(se),we=a(t(ie),2),pe=a(ie,2),ue=a(t(pe),2),Te=a(pe,2),he=a(t(Te),2);x(()=>{e(u),Ut(()=>{})}),_t(he,5,()=>z,bt,(Rt,Wt)=>{var Nt=Vp(),Vt=t(Nt),Jt={};x(()=>{l(Vt,(e(Wt),r(()=>e(Wt).label))),Jt!==(Jt=(e(Wt),r(()=>e(Wt).value)))&&(Nt.value=(Nt.__value=(e(Wt),r(()=>e(Wt).value)))??"")}),v(Rt,Nt)});var qe=a(se,2),Se=a(t(qe),2),je=a(Q,2),M=a(t(je),2),te=t(M),de=a(t(te),2),ce=a(te,2),ee=a(t(ce),2),Le=a(ce,2),Ee=a(t(Le),2);x(()=>{e(u),Ut(()=>{})});var $e=t(Ee);$e.value=$e.__value="USD";var Re=a($e);Re.value=Re.__value="EUR";var Ze=a(Re);Ze.value=Ze.__value="GBP";var Ve=a(je,2),Fe=a(t(Ve),2);_t(Fe,1,()=>(e(u),r(()=>e(u).requirements)),bt,(Rt,Wt,Nt)=>{var Vt=Yp(),Jt=t(Vt),Ht=a(Jt,2);kt(Jt,()=>e(u).requirements[Nt],Qt=>gt(u,e(u).requirements[Nt]=Qt)),O("click",Ht,()=>it(e(u).requirements,Nt)),v(Rt,Vt)});var Ye=a(Fe,2),Ue=a(Ve,2),et=a(t(Ue),2);_t(et,1,()=>(e(u),r(()=>e(u).responsibilities)),bt,(Rt,Wt,Nt)=>{var Vt=Gp(),Jt=t(Vt),Ht=a(Jt,2);kt(Jt,()=>e(u).responsibilities[Nt],Qt=>gt(u,e(u).responsibilities[Nt]=Qt)),O("click",Ht,()=>it(e(u).responsibilities,Nt)),v(Rt,Vt)});var tt=a(et,2),Ke=a(Ue,2),vt=a(t(Ke),2);_t(vt,1,()=>(e(u),r(()=>e(u).benefits)),bt,(Rt,Wt,Nt)=>{var Vt=Kp(),Jt=t(Vt),Ht=a(Jt,2);kt(Jt,()=>e(u).benefits[Nt],Qt=>gt(u,e(u).benefits[Nt]=Qt)),O("click",Ht,()=>it(e(u).benefits,Nt)),v(Rt,Vt)});var xt=a(vt,2),at=a(Ke,2),Bt=a(t(at),2),zt=t(Bt);{var Ft=Rt=>{var Wt=Pt(),Nt=nt(Wt);_t(Nt,1,()=>e(g),bt,(Vt,Jt)=>{var Ht=Qp(),Qt=t(Ht),da,ya=a(Qt,2),ba=t(ya);x(()=>{da!==(da=(e(Jt),r(()=>e(Jt).type)))&&(Qt.value=(Qt.__value=(e(Jt),r(()=>e(Jt).type)))??""),l(ba,(e(Jt),r(()=>e(Jt).name)))}),Is(m,[],Qt,()=>(e(Jt),r(()=>e(Jt).type),e(u).providers),ga=>gt(u,e(u).providers=ga)),v(Vt,Ht)}),v(Rt,Wt)};y(zt,Rt=>{e(g),r(()=>e(g)&&Array.isArray(e(g)))&&Rt(Ft)})}var Dt=a(zt,2);{var Et=Rt=>{var Wt=Xp(),Nt=a(t(Wt));O("click",Nt,qs(()=>{})),v(Rt,Wt)},It=Rt=>{var Wt=Zp();v(Rt,Wt)};y(Dt,Rt=>{e(g),r(()=>e(g)&&e(g).length===0)?Rt(Et):Rt(It,!1)})}var Tt=a(ve,2),Mt=t(Tt),Ct=a(Mt,2),Ot=a(t(Ct));x(()=>l(Ot,` ${e(u),r(()=>e(u).id?"Save Changes":"Create Job")??""}`)),kt(V,()=>e(u).title,Rt=>gt(u,e(u).title=Rt)),kt(we,()=>e(u).department,Rt=>gt(u,e(u).department=Rt)),kt(ue,()=>e(u).location,Rt=>gt(u,e(u).location=Rt)),Lt(he,()=>e(u).employment_type,Rt=>gt(u,e(u).employment_type=Rt)),kt(Se,()=>e(u).description,Rt=>gt(u,e(u).description=Rt)),kt(de,()=>e(u).salary_min,Rt=>gt(u,e(u).salary_min=Rt)),kt(ee,()=>e(u).salary_max,Rt=>gt(u,e(u).salary_max=Rt)),Lt(Ee,()=>e(u).salary_currency,Rt=>gt(u,e(u).salary_currency=Rt)),O("click",Ye,()=>At(e(u).requirements)),O("click",tt,()=>At(e(u).responsibilities)),O("click",xt,()=>At(e(u).benefits)),O("click",Mt,()=>s(p,!1)),O("click",Ct,lt),v(oe,W)},I=oe=>{var W=Pt(),ve=nt(W);{var Q=U=>{var V=n_(),se=nt(V),ie=t(se);{var we=Se=>{var je=t_(),M=a(t(je),2),te=a(t(M),4),de=t(te);let ce;var ee=t(de),Le=a(ee,2),Ee=a(de,2);let $e;var Re=t(Ee),Ze=a(Re,2),Ve=a(Ee,2);let Fe;var Ye=t(Ve),Ue=a(Ve,2);let et;var tt=t(Ue),Ke=a(te,2);x((vt,xt,at,Bt,zt,Ft,Dt,Et,It,Tt)=>{ce=st(de,1,"svelte-19jyfyk",null,ce,vt),l(ee,`${xt??""} `),l(Le,` ${at??""}`),$e=st(Ee,1,"svelte-19jyfyk",null,$e,Bt),l(Re,`${zt??""} `),l(Ze,` ${Ft??""}`),Fe=st(Ve,1,"svelte-19jyfyk",null,Fe,Dt),l(Ye,`${Et??""} Department (recommended)`),et=st(Ue,1,"svelte-19jyfyk",null,et,It),l(tt,`${Tt??""} At least one Requirement (recommended)`)},[()=>{var vt;return{complete:(vt=e(u).title)==null?void 0:vt.trim()}},()=>(e(u),r(()=>{var vt;return(vt=e(u).title)!=null&&vt.trim()?"âœ…":"âŒ"})),()=>(e(u),r(()=>{var vt;return(vt=e(u).title)!=null&&vt.trim()?"":"â† Required"})),()=>{var vt;return{complete:(vt=e(u).description)==null?void 0:vt.trim()}},()=>(e(u),r(()=>{var vt;return(vt=e(u).description)!=null&&vt.trim()?"âœ…":"âŒ"})),()=>(e(u),r(()=>{var vt;return(vt=e(u).description)!=null&&vt.trim()?"":"â† Required"})),()=>{var vt;return{complete:(vt=e(u).department)==null?void 0:vt.trim()}},()=>(e(u),r(()=>{var vt;return(vt=e(u).department)!=null&&vt.trim()?"âœ…":"ðŸ’¡"})),()=>{var vt;return{complete:(vt=e(u).requirements)==null?void 0:vt.some(xt=>xt.trim())}},()=>(e(u),r(()=>{var vt;return(vt=e(u).requirements)!=null&&vt.some(xt=>xt.trim())?"âœ…":"ðŸ’¡"}))]),O("click",Ke,()=>s(le,"manual")),v(Se,je)},pe=Se=>{var je=v_(),M=a(nt(je),2),te=a(t(M),2),de=t(te);let ce;var ee=t(de),Le=a(de,2);let Ee;var $e=t(Le),Re=a(Le,2);let Ze;var Ve=t(Re),Fe=a(Re,2);let Ye;var Ue=t(Fe),et=a(M,2),tt=a(et,2),Ke=t(tt);{var vt=Tt=>{var Mt=a_();v(Tt,Mt)},xt=Tt=>{var Mt=s_();v(Tt,Mt)};y(Ke,Tt=>{e(E)?Tt(vt):Tt(xt,!1)})}var at=a(tt,2),Bt=a(t(at),2),zt=a(Bt,2),Ft=a(zt,2),Dt=a(Ft,2),Et=a(at,2);{var It=Tt=>{var Mt=i_(),Ct=t(Mt);{var Ot=Nt=>{var Vt=l_(),Jt=a(t(Vt),2),Ht=t(Jt),Qt=a(Jt,2);x(()=>l(Ht,e(T))),O("click",Qt,ot),v(Nt,Vt)};y(Ct,Nt=>{e(T)&&Nt(Ot)})}var Rt=a(Ct,2);{var Wt=Nt=>{var Vt=r_(),Jt=a(t(Vt),2),Ht=t(Jt),Qt=a(Jt,2);x(()=>l(Ht,e(L))),O("click",Qt,rt),v(Nt,Vt)};y(Rt,Nt=>{e(L)&&Nt(Wt)})}v(Tt,Mt)};y(Et,Tt=>{(e(T)||e(L))&&Tt(It)})}x((Tt,Mt,Ct,Ot,Rt,Wt,Nt,Vt,Jt,Ht)=>{ce=st(de,1,"requirement-item svelte-19jyfyk",null,ce,Tt),l(ee,`${Mt??""} Job Title`),Ee=st(Le,1,"requirement-item svelte-19jyfyk",null,Ee,Ct),l($e,`${Ot??""} Department`),Ze=st(Re,1,"requirement-item svelte-19jyfyk",null,Ze,Rt),l(Ve,`${Wt??""} Base Description`),Ye=st(Fe,1,"requirement-item svelte-19jyfyk",null,Ye,Nt),l(Ue,`${Vt??""} At least one Requirement`),tt.disabled=Jt,l(Bt,` aiGenerating: ${e(E)??""}`),l(zt,` title exists: ${e(u),r(()=>e(u).title?"yes":"no")??""}`),l(Ft,` description exists: ${e(u),r(()=>e(u).description?"yes":"no")??""}`),l(Dt,` Button disabled: ${Ht??""}`)},[()=>{var Tt;return{complete:(Tt=e(u).title)==null?void 0:Tt.trim()}},()=>(e(u),r(()=>{var Tt;return(Tt=e(u).title)!=null&&Tt.trim()?"âœ…":"â¬œ"})),()=>{var Tt;return{complete:(Tt=e(u).department)==null?void 0:Tt.trim()}},()=>(e(u),r(()=>{var Tt;return(Tt=e(u).department)!=null&&Tt.trim()?"âœ…":"â¬œ"})),()=>{var Tt;return{complete:(Tt=e(u).description)==null?void 0:Tt.trim()}},()=>(e(u),r(()=>{var Tt;return(Tt=e(u).description)!=null&&Tt.trim()?"âœ…":"â¬œ"})),()=>{var Tt;return{complete:(Tt=e(u).requirements)==null?void 0:Tt.some(Mt=>Mt.trim())}},()=>(e(u),r(()=>{var Tt;return(Tt=e(u).requirements)!=null&&Tt.some(Mt=>Mt.trim())?"âœ…":"â¬œ"})),()=>(e(E),e(u),r(()=>{var Tt,Mt;return e(E)||!((Tt=e(u).title)!=null&&Tt.trim())||!((Mt=e(u).description)!=null&&Mt.trim())})),()=>(e(E),e(u),r(()=>{var Tt,Mt;return e(E)||!((Tt=e(u).title)!=null&&Tt.trim())||!((Mt=e(u).description)!=null&&Mt.trim())}))]),O("click",et,()=>{console.log("TEST BUTTON CLICKED"),alert("Test button works! editingJob="+(e(u)?"exists":"null"))}),O("click",tt,ht),v(Se,je)};y(ie,Se=>{e(u),r(()=>{var je,M;return!((je=e(u).title)!=null&&je.trim())||!((M=e(u).description)!=null&&M.trim())})?Se(we):Se(pe,!1)})}var ue=a(se,2),Te=t(ue),he=a(Te,2);{var qe=Se=>{var je=o_(),M=a(t(je));x(()=>l(M,` ${e(u),r(()=>e(u).id?"Save Changes":"Create Job")??""}`)),O("click",je,lt),v(Se,je)};y(he,Se=>{e(le)==="manual"&&Se(qe)})}O("click",Te,()=>s(p,!1)),v(U,V)};y(ve,U=>{e(le)==="ai-generate"&&U(Q)},!0)}v(oe,W)};y(N,oe=>{e(le)==="manual"?oe(K):oe(I,!1)})}x(()=>{l($,(e(u),r(()=>e(u).id?"Edit Job":"Create New Job"))),b=st(k,1,"modal-tab svelte-19jyfyk",null,b,{active:e(le)==="manual"}),A=st(F,1,"modal-tab svelte-19jyfyk",null,A,{active:e(le)==="ai-generate"})}),O("click",k,()=>s(le,"manual")),O("click",F,()=>s(le,"ai-generate")),O("click",q,()=>s(p,!1)),O("click",ae,Gt(function(oe){aa.call(this,o,oe)})),O("click",De,()=>s(p,!1)),v(Z,De)};y(ze,Z=>{e(p)&&e(u)&&Z(Me)})}x((Z,De,ae)=>{Ie=st(Oe,1,"filter-tab svelte-19jyfyk",null,Ie,{active:e(S)==="all"}),l(ke,`All (${e(c),r(()=>e(c).length)??""})`),Pe=st(ge,1,"filter-tab svelte-19jyfyk",null,Pe,{active:e(S)==="draft"}),l(Be,`Draft (${Z??""})`),Ge=st(Xe,1,"filter-tab svelte-19jyfyk",null,Ge,{active:e(S)==="active"}),l(We,`Active (${De??""})`),f=st(be,1,"filter-tab svelte-19jyfyk",null,f,{active:e(S)==="closed"}),l(D,`Closed (${ae??""})`)},[()=>(e(c),r(()=>e(c).filter(Z=>Z.status==="draft").length)),()=>(e(c),r(()=>e(c).filter(Z=>Z.status==="active").length)),()=>(e(c),r(()=>e(c).filter(Z=>Z.status==="closed").length))]),O("click",St,Qe),O("change",$t,me),O("change",Ne,X),kt(Ce,()=>e(C),Z=>s(C,Z)),O("click",Oe,()=>s(S,"all")),O("click",ge,()=>s(S,"draft")),O("click",Xe,()=>s(S,"active")),O("click",be,()=>s(S,"closed")),v(i,yt),Zt()}var p_=d('<div class="loading-state svelte-159xwb3"><div class="spinner svelte-159xwb3"></div> Loading applicants...</div>'),__=d('<div class="empty-state svelte-159xwb3"><span class="empty-icon svelte-159xwb3">ðŸ‘¥</span> <p>No applicants yet</p></div>'),f_=d('<div><div class="card-header svelte-159xwb3"><div> </div> <div class="applicant-info svelte-159xwb3"><h3 class="applicant-name svelte-159xwb3"> </h3> <p class="applicant-position svelte-159xwb3"> </p></div> <div class="score-badge svelte-159xwb3"> </div></div> <div class="card-body svelte-159xwb3"><div class="meta-row svelte-159xwb3"><span class="meta-item svelte-159xwb3"> </span> <span class="meta-item svelte-159xwb3"> </span></div> <div class="score-breakdown svelte-159xwb3"><div class="breakdown-item svelte-159xwb3"><div class="breakdown-header svelte-159xwb3"><span>Skills</span> <span> </span></div> <div class="breakdown-bar svelte-159xwb3"><div class="breakdown-fill svelte-159xwb3"></div></div></div> <div class="breakdown-item svelte-159xwb3"><div class="breakdown-header svelte-159xwb3"><span>Experience</span> <span> </span></div> <div class="breakdown-bar svelte-159xwb3"><div class="breakdown-fill svelte-159xwb3"></div></div></div> <div class="breakdown-item svelte-159xwb3"><div class="breakdown-header svelte-159xwb3"><span>Culture Fit</span> <span> </span></div> <div class="breakdown-bar svelte-159xwb3"><div class="breakdown-fill svelte-159xwb3"></div></div></div></div></div> <div class="card-footer svelte-159xwb3"><span> </span> <button class="view-btn svelte-159xwb3">View Details â†’</button></div></div>'),b_=d('<div class="score-detail-item svelte-159xwb3"><div class="detail-header svelte-159xwb3"><span> </span> <span class="detail-score svelte-159xwb3"> </span></div> <div class="detail-bar svelte-159xwb3"><div class="detail-fill svelte-159xwb3"></div></div></div>'),m_=d('<li class="svelte-159xwb3"> </li>'),h_=d('<li class="svelte-159xwb3"> </li>'),y_=d('<div class="analysis-section svelte-159xwb3"><h4 class="svelte-159xwb3">Areas of Concern</h4> <ul class="concern-list svelte-159xwb3"></ul></div>'),g_=d('<div class="modal-overlay svelte-159xwb3"><div class="modal-large svelte-159xwb3"><div class="modal-header svelte-159xwb3"><div><h2 class="svelte-159xwb3"> </h2> <p class="modal-subtitle svelte-159xwb3"> </p></div> <button class="close-btn svelte-159xwb3">Ã—</button></div> <div class="modal-body svelte-159xwb3"><div class="detail-grid svelte-159xwb3"><div class="detail-section svelte-159xwb3"><div class="section-header svelte-159xwb3"><h3 class="svelte-159xwb3">ðŸ¤– AI Analysis</h3> <button class="refresh-btn svelte-159xwb3"> </button></div> <div class="overall-score svelte-159xwb3"><div class="score-circle svelte-159xwb3"><div class="score-number svelte-159xwb3"> </div> <div class="score-label svelte-159xwb3">Overall Score</div></div></div> <div class="score-details svelte-159xwb3"></div> <div class="analysis-section svelte-159xwb3"><h4 class="svelte-159xwb3">Strengths</h4> <ul class="strength-list svelte-159xwb3"></ul></div> <!> <div class="analysis-summary svelte-159xwb3"><h4>Summary</h4> <p class="svelte-159xwb3"> </p></div></div> <div class="detail-section svelte-159xwb3"><div class="section-header svelte-159xwb3"><h3 class="svelte-159xwb3">ðŸ“‹ Applicant Details</h3></div> <div class="info-grid svelte-159xwb3"><div class="info-field svelte-159xwb3"><label class="svelte-159xwb3">Email</label> <div class="info-value svelte-159xwb3"><a class="svelte-159xwb3"> </a></div></div> <div class="info-field svelte-159xwb3"><label class="svelte-159xwb3">Phone</label> <div class="info-value svelte-159xwb3"> </div></div> <div class="info-field svelte-159xwb3"><label class="svelte-159xwb3">Source</label> <div class="info-value svelte-159xwb3"> </div></div> <div class="info-field svelte-159xwb3"><label class="svelte-159xwb3">Applied Date</label> <div class="info-value svelte-159xwb3"> </div></div></div> <div class="actions-section svelte-159xwb3"><h4 class="svelte-159xwb3">Quick Actions</h4> <div class="action-buttons svelte-159xwb3"><button class="action-button primary svelte-159xwb3">ðŸ“… Schedule Interview</button> <button class="action-button success svelte-159xwb3">âœ“ Send Offer</button> <button class="action-button svelte-159xwb3">ðŸ“„ View Resume</button> <button class="action-button danger svelte-159xwb3">âœ— Reject</button></div></div> <div class="notes-section svelte-159xwb3"><h4 class="svelte-159xwb3">Notes</h4> <textarea class="notes-textarea svelte-159xwb3" placeholder="Add notes about this applicant..."></textarea> <button class="save-notes-btn svelte-159xwb3">Save Notes</button></div></div></div></div></div></div>'),x_=d('<div class="alert alert-success svelte-159xwb3"> </div>'),w_=d('<div class="alert alert-error svelte-159xwb3"> </div>'),k_=d('<p class="file-info svelte-159xwb3"> </p>'),$_=d('<div class="modal-overlay svelte-159xwb3"><div class="modal svelte-159xwb3"><div class="modal-header svelte-159xwb3"><h3 class="svelte-159xwb3">ðŸ“Ž Upload Resume</h3> <button class="close-btn svelte-159xwb3">âœ•</button></div> <div class="modal-body svelte-159xwb3"><!> <!> <form><div class="form-group svelte-159xwb3"><label for="name" class="svelte-159xwb3">Full Name *</label> <input type="text" id="name" required placeholder="John Doe" class="svelte-159xwb3"/></div> <div class="form-group svelte-159xwb3"><label for="email" class="svelte-159xwb3">Email *</label> <input type="email" id="email" required placeholder="john@example.com" class="svelte-159xwb3"/></div> <div class="form-group svelte-159xwb3"><label for="phone" class="svelte-159xwb3">Phone</label> <input type="tel" id="phone" placeholder="+1 (555) 123-4567" class="svelte-159xwb3"/></div> <div class="form-group svelte-159xwb3"><label for="position" class="svelte-159xwb3">Position *</label> <input type="text" id="position" required placeholder="Software Engineer" class="svelte-159xwb3"/></div> <div class="form-group svelte-159xwb3"><label for="source" class="svelte-159xwb3">Source</label> <select id="source" class="svelte-159xwb3"><option>Manual Upload</option><option>LinkedIn</option><option>Indeed</option><option>Referral</option><option>Company Website</option><option>Other</option></select></div> <div class="form-group svelte-159xwb3"><label for="resume" class="svelte-159xwb3">Resume File * (PDF or Word)</label> <input type="file" id="resume" accept=".pdf,.doc,.docx" required class="svelte-159xwb3"/> <!></div> <div class="modal-footer svelte-159xwb3"><button type="button" class="btn-secondary svelte-159xwb3">Cancel</button> <button type="submit" class="btn-primary svelte-159xwb3"> </button></div></form></div></div></div>'),j_=d('<div class="leaderboard-container svelte-159xwb3"><div class="leaderboard-header svelte-159xwb3"><div><h2 class="svelte-159xwb3">ðŸ† Applicant Leaderboard</h2> <p class="subtitle svelte-159xwb3">AI-powered ranking and evaluation</p></div> <div class="controls svelte-159xwb3"><button class="btn-upload svelte-159xwb3">ðŸ“Ž Upload Resume</button> <select class="control-select svelte-159xwb3"><option>All Status</option><option>New</option><option>Reviewing</option><option>Interview</option><option>Offer</option><option>Rejected</option></select> <select class="control-select svelte-159xwb3"><option>Sort by Score</option><option>Sort by Date</option><option>Sort by Name</option></select></div></div> <div class="leaderboard-grid svelte-159xwb3"><!></div></div> <!> <!>',1);function S_(i,o){Xt(o,!1);const n=Y();let m=Y([]),h=Y(!0),c=Y(null),g=Y("score"),_=Y("all"),p=Y(!1),u=Y(!1),S=Y({name:"",email:"",phone:"",position:"",source:"manual"}),C=Y(null),le=Y(!1),E=Y(""),T=Y("");sa(async()=>{await L()});async function L(){try{s(h,!0);const Ie=localStorage.getItem("token"),ke=await fetch("/api/recruiting/applicants",{headers:{Authorization:`Bearer ${Ie}`}});ke.ok&&s(m,await ke.json())}catch(Ie){console.error("Failed to load applicants:",Ie)}finally{s(h,!1)}}async function z(Ie){try{s(p,!0);const ke=localStorage.getItem("token");if((await fetch(`/api/recruiting/applicants/${Ie}/analyze`,{method:"POST",headers:{Authorization:`Bearer ${ke}`}})).ok){await L();const Pe=e(m).find(Be=>Be.id===Ie);Pe&&s(c,Pe)}}catch(ke){console.error("Failed to analyze applicant:",ke)}finally{s(p,!1)}}function P(Ie){const ke=Ie.target;if(ke.files&&ke.files[0]){if(s(C,ke.files[0]),!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e(C).type)){s(E,"Please upload a PDF or Word document"),s(C,null);return}if(e(C).size>5*1024*1024){s(E,"File size must be less than 5MB"),s(C,null);return}s(E,"")}}async function R(){if(!e(C)){s(E,"Please select a resume file");return}if(!e(S).name||!e(S).email||!e(S).position){s(E,"Please fill in all required fields");return}try{s(le,!0),s(E,"");const Ie=new FormData;Ie.append("resume",e(C)),Ie.append("name",e(S).name),Ie.append("email",e(S).email),Ie.append("phone",e(S).phone),Ie.append("position",e(S).position),Ie.append("source",e(S).source);const ke=localStorage.getItem("token"),ge=await fetch("/api/recruiting/applicants/upload",{method:"POST",headers:{Authorization:`Bearer ${ke}`},body:Ie});if(ge.ok)s(T,"Resume uploaded successfully!"),s(S,{name:"",email:"",phone:"",position:"",source:"manual"}),s(C,null),await L(),setTimeout(()=>{s(u,!1),s(T,"")},2e3);else{const Pe=await ge.text();s(E,Pe||"Failed to upload resume")}}catch(Ie){s(E,"Failed to upload resume: "+Ie.message)}finally{s(le,!1)}}function me(){s(u,!1),s(E,""),s(T,""),s(S,{name:"",email:"",phone:"",position:"",source:"manual"}),s(C,null)}async function X(Ie,ke){var ge;try{const Pe=localStorage.getItem("token");await fetch(`/api/recruiting/applicants/${Ie}`,{method:"PATCH",headers:{Authorization:`Bearer ${Pe}`,"Content-Type":"application/json"},body:JSON.stringify({status:ke})}),await L(),((ge=e(c))==null?void 0:ge.id)===Ie&&s(c,null)}catch(Pe){console.error("Failed to update status:",Pe)}}function re(Ie){return Ie===0?"ðŸ¥‡":Ie===1?"ðŸ¥ˆ":Ie===2?"ðŸ¥‰":`#${Ie+1}`}function Qe(Ie){return Ie>=80?"#10b981":Ie>=60?"#3b82f6":Ie>=40?"#f59e0b":"#ef4444"}Yt(()=>(e(m),e(_),e(g)),()=>{s(n,e(m).filter(Ie=>e(_)==="all"||Ie.status===e(_)).sort((Ie,ke)=>e(g)==="score"?ke.ai_score-Ie.ai_score:e(g)==="date"?new Date(ke.applied_date).getTime()-new Date(Ie.applied_date).getTime():Ie.name.localeCompare(ke.name)))}),za(),na();var Je=j_(),lt=nt(Je),ut=t(lt),ft=a(t(ut),2),ht=t(ft),ot=a(ht,2);x(()=>{e(_),Ut(()=>{})});var rt=t(ot);rt.value=rt.__value="all";var At=a(rt);At.value=At.__value="new";var it=a(At);it.value=it.__value="reviewing";var ct=a(it);ct.value=ct.__value="interview";var yt=a(ct);yt.value=yt.__value="offer";var dt=a(yt);dt.value=dt.__value="rejected";var pt=a(ot,2);x(()=>{e(g),Ut(()=>{})});var wt=t(pt);wt.value=wt.__value="score";var St=a(wt);St.value=St.__value="date";var qt=a(St);qt.value=qt.__value="name";var $t=a(ut,2),Ae=t($t);{var Ne=Ie=>{var ke=p_();v(Ie,ke)},ye=Ie=>{var ke=Pt(),ge=nt(ke);{var Pe=Xe=>{var Ge=__();v(Xe,Ge)},Be=Xe=>{var Ge=Pt(),We=nt(Ge);_t(We,1,()=>e(n),bt,(be,f,D)=>{var H=f_();let xe;var ne=t(H),_e=t(ne);st(_e,1,"rank-badge svelte-159xwb3",null,{},{"top-three":D<3});var ze=t(_e),Me=a(_e,2),Z=t(Me),De=t(Z),ae=a(Z,2),B=t(ae),J=a(Me,2),G=t(J),$=a(ne,2),j=t($),k=t(j),b=t(k),F=a(k,2),A=t(F),q=a(j,2),w=t(q),N=t(w),K=a(t(N),2),I=t(K),oe=a(N,2),W=t(oe),ve=a(w,2),Q=t(ve),U=a(t(Q),2),V=t(U),se=a(Q,2),ie=t(se),we=a(ve,2),pe=t(we),ue=a(t(pe),2),Te=t(ue),he=a(pe,2),qe=t(he),Se=a($,2),je=t(Se),M=t(je),te=a(je,2);x((de,ce,ee,Le,Ee,$e,Re)=>{var Ze;xe=st(H,1,"applicant-card svelte-159xwb3",null,xe,{selected:((Ze=e(c))==null?void 0:Ze.id)===e(f).id,"top-three":D<3}),l(ze,de),l(De,(e(f),r(()=>e(f).name))),l(B,(e(f),r(()=>e(f).position))),oa(J,`background: ${ce??""}20; color: ${ee??""}`),l(G,`${e(f),r(()=>e(f).ai_score)??""}/100`),l(b,`ðŸ“ ${e(f),r(()=>e(f).source)??""}`),l(A,`ðŸ“… ${Le??""}`),l(I,`${e(f),r(()=>e(f).ai_analysis.skills_match)??""}%`),oa(W,`width: ${e(f),r(()=>e(f).ai_analysis.skills_match)??""}%; background: ${Ee??""}`),l(V,`${e(f),r(()=>e(f).ai_analysis.experience_score)??""}%`),oa(ie,`width: ${e(f),r(()=>e(f).ai_analysis.experience_score)??""}%; background: ${$e??""}`),l(Te,`${e(f),r(()=>e(f).ai_analysis.culture_fit)??""}%`),oa(qe,`width: ${e(f),r(()=>e(f).ai_analysis.culture_fit)??""}%; background: ${Re??""}`),st(je,1,`status-badge status-${e(f),r(()=>e(f).status)??""}`,"svelte-159xwb3"),l(M,(e(f),r(()=>e(f).status)))},[()=>r(()=>re(D)),()=>(e(f),r(()=>Qe(e(f).ai_score))),()=>(e(f),r(()=>Qe(e(f).ai_score))),()=>(e(f),r(()=>new Date(e(f).applied_date).toLocaleDateString())),()=>(e(f),r(()=>Qe(e(f).ai_analysis.skills_match))),()=>(e(f),r(()=>Qe(e(f).ai_analysis.experience_score))),()=>(e(f),r(()=>Qe(e(f).ai_analysis.culture_fit)))]),O("click",te,Gt(()=>s(c,e(f)))),O("click",H,()=>s(c,e(f))),v(be,H)}),v(Xe,Ge)};y(ge,Xe=>{e(n),r(()=>e(n).length===0)?Xe(Pe):Xe(Be,!1)},!0)}v(Ie,ke)};y(Ae,Ie=>{e(h)?Ie(Ne):Ie(ye,!1)})}var He=a(lt,2);{var Ce=Ie=>{var ke=g_(),ge=t(ke),Pe=t(ge),Be=t(Pe),Xe=t(Be),Ge=t(Xe),We=a(Xe,2),be=t(We),f=a(Be,2),D=a(Pe,2),H=t(D),xe=t(H),ne=t(xe),_e=a(t(ne),2),ze=t(_e),Me=a(ne,2),Z=t(Me),De=t(Z),ae=t(De),B=a(Me,2);_t(B,5,()=>(e(c),r(()=>[{label:"Skills Match",score:e(c).ai_analysis.skills_match},{label:"Experience",score:e(c).ai_analysis.experience_score},{label:"Education",score:e(c).ai_analysis.education_score},{label:"Culture Fit",score:e(c).ai_analysis.culture_fit}])),bt,(te,de)=>{var ce=b_(),ee=t(ce),Le=t(ee),Ee=t(Le),$e=a(Le,2),Re=t($e),Ze=a(ee,2),Ve=t(Ze);x(Fe=>{l(Ee,(e(de),r(()=>e(de).label))),l(Re,`${e(de),r(()=>e(de).score)??""}%`),oa(Ve,`width: ${e(de),r(()=>e(de).score)??""}%; background: ${Fe??""}`)},[()=>(e(de),r(()=>Qe(e(de).score)))]),v(te,ce)});var J=a(B,2),G=a(t(J),2);_t(G,5,()=>(e(c),r(()=>e(c).ai_analysis.strengths)),bt,(te,de)=>{var ce=m_(),ee=t(ce);x(()=>l(ee,`âœ“ ${e(de)??""}`)),v(te,ce)});var $=a(J,2);{var j=te=>{var de=y_(),ce=a(t(de),2);_t(ce,5,()=>(e(c),r(()=>e(c).ai_analysis.concerns)),bt,(ee,Le)=>{var Ee=h_(),$e=t(Ee);x(()=>l($e,`âš  ${e(Le)??""}`)),v(ee,Ee)}),v(te,de)};y($,te=>{e(c),r(()=>e(c).ai_analysis.concerns.length>0)&&te(j)})}var k=a($,2),b=a(t(k),2),F=t(b),A=a(xe,2),q=a(t(A),2),w=t(q),N=a(t(w),2),K=t(N),I=t(K),oe=a(w,2),W=a(t(oe),2),ve=t(W),Q=a(oe,2),U=a(t(Q),2),V=t(U),se=a(Q,2),ie=a(t(se),2),we=t(ie),pe=a(q,2),ue=a(t(pe),2),Te=t(ue),he=a(Te,2),qe=a(he,2),Se=a(qe,2),je=a(pe,2),M=a(t(je),2);x((te,de,ce)=>{l(Ge,(e(c),r(()=>e(c).name))),l(be,(e(c),r(()=>e(c).position))),_e.disabled=e(p),l(ze,e(p)?"âŸ³ Analyzing...":"â†» Re-analyze"),oa(Z,`border-color: ${te??""}`),oa(De,`color: ${de??""}`),l(ae,(e(c),r(()=>e(c).ai_score))),l(F,(e(c),r(()=>e(c).ai_analysis.summary))),ca(K,"href",`mailto:${e(c),r(()=>e(c).email)??""}`),l(I,(e(c),r(()=>e(c).email))),l(ve,(e(c),r(()=>e(c).phone))),l(V,(e(c),r(()=>e(c).source))),l(we,ce),Ql(M,(e(c),r(()=>e(c).notes||"")))},[()=>(e(c),r(()=>Qe(e(c).ai_score))),()=>(e(c),r(()=>Qe(e(c).ai_score))),()=>(e(c),r(()=>new Date(e(c).applied_date).toLocaleDateString()))]),O("click",f,()=>s(c,null)),O("click",_e,()=>z(e(c).id)),O("click",Te,()=>X(e(c).id,"interview")),O("click",he,()=>X(e(c).id,"offer")),O("click",qe,()=>window.open(e(c).resume_url,"_blank")),O("click",Se,()=>X(e(c).id,"rejected")),O("click",ge,Gt(function(te){aa.call(this,o,te)})),O("click",ke,()=>s(c,null)),v(Ie,ke)};y(He,Ie=>{e(c)&&Ie(Ce)})}var fe=a(He,2);{var Oe=Ie=>{var ke=$_(),ge=t(ke),Pe=t(ge),Be=a(t(Pe),2),Xe=a(Pe,2),Ge=t(Xe);{var We=W=>{var ve=x_(),Q=t(ve);x(()=>l(Q,`âœ“ ${e(T)??""}`)),v(W,ve)};y(Ge,W=>{e(T)&&W(We)})}var be=a(Ge,2);{var f=W=>{var ve=w_(),Q=t(ve);x(()=>l(Q,`âš ï¸ ${e(E)??""}`)),v(W,ve)};y(be,W=>{e(E)&&W(f)})}var D=a(be,2),H=t(D),xe=a(t(H),2),ne=a(H,2),_e=a(t(ne),2),ze=a(ne,2),Me=a(t(ze),2),Z=a(ze,2),De=a(t(Z),2),ae=a(Z,2),B=a(t(ae),2);x(()=>{e(S),Ut(()=>{})});var J=t(B);J.value=J.__value="manual";var G=a(J);G.value=G.__value="linkedin";var $=a(G);$.value=$.__value="indeed";var j=a($);j.value=j.__value="referral";var k=a(j);k.value=k.__value="website";var b=a(k);b.value=b.__value="other";var F=a(ae,2),A=a(t(F),2),q=a(A,2);{var w=W=>{var ve=k_(),Q=t(ve);x(U=>l(Q,`ðŸ“„ ${e(C),r(()=>e(C).name)??""} (${U??""} KB)`),[()=>(e(C),r(()=>(e(C).size/1024).toFixed(1)))]),v(W,ve)};y(q,W=>{e(C)&&W(w)})}var N=a(F,2),K=t(N),I=a(K,2),oe=t(I);x(()=>{K.disabled=e(le),I.disabled=e(le)||!e(C),l(oe,e(le)?"Uploading...":"Upload Resume")}),O("click",Be,me),kt(xe,()=>e(S).name,W=>gt(S,e(S).name=W)),kt(_e,()=>e(S).email,W=>gt(S,e(S).email=W)),kt(Me,()=>e(S).phone,W=>gt(S,e(S).phone=W)),kt(De,()=>e(S).position,W=>gt(S,e(S).position=W)),Lt(B,()=>e(S).source,W=>gt(S,e(S).source=W)),O("change",A,P),O("click",K,me),O("submit",D,qs(R)),O("click",ge,Gt(function(W){aa.call(this,o,W)})),O("click",ke,me),v(Ie,ke)};y(fe,Ie=>{e(u)&&Ie(Oe)})}O("click",ht,()=>s(u,!0)),Lt(ot,()=>e(_),Ie=>s(_,Ie)),Lt(pt,()=>e(g),Ie=>s(g,Ie)),v(i,Je),Zt()}var A_=d("<option> </option>"),E_=d('<div class="job-preview svelte-1qvjl6x"><div class="job-preview-item svelte-1qvjl6x"><span class="label svelte-1qvjl6x">Position:</span> <span class="value svelte-1qvjl6x"> </span></div> <div class="job-preview-item svelte-1qvjl6x"><span class="label svelte-1qvjl6x">Department:</span> <span class="value svelte-1qvjl6x"> </span></div> <div class="job-preview-item svelte-1qvjl6x"><span class="label svelte-1qvjl6x">Location:</span> <span class="value svelte-1qvjl6x"> </span></div> <div class="job-preview-item svelte-1qvjl6x"><span class="label svelte-1qvjl6x">Applicants:</span> <span class="value svelte-1qvjl6x"> </span></div></div>'),C_=d('<span class="spinner svelte-1qvjl6x"></span> Generating Summary...',1),D_=d('<p class="warning-text svelte-1qvjl6x">âš ï¸ This job has no applicants yet</p>'),z_=d('<div class="error-message svelte-1qvjl6x"> </div>'),P_=d('<span class="skill-tag svelte-1qvjl6x"> </span>'),T_=d('<span class="skill-tag more svelte-1qvjl6x"> </span>'),q_=d('<div class="skills-section svelte-1qvjl6x"><p class="section-label svelte-1qvjl6x">Skills:</p> <div class="skills-tags svelte-1qvjl6x"><!> <!></div></div>'),M_=d('<li class="svelte-1qvjl6x"> </li>'),B_=d('<div class="assessment-section positive svelte-1qvjl6x"><p class="section-label svelte-1qvjl6x">âœ… Strengths:</p> <ul class="svelte-1qvjl6x"></ul></div>'),I_=d('<li class="svelte-1qvjl6x"> </li>'),R_=d('<div class="assessment-section negative svelte-1qvjl6x"><p class="section-label svelte-1qvjl6x">âš ï¸ Considerations:</p> <ul class="svelte-1qvjl6x"></ul></div>'),F_=d('<div class="ai-summary-section svelte-1qvjl6x"><p class="section-label svelte-1qvjl6x">ðŸ¤– AI Analysis:</p> <p class="ai-summary-text svelte-1qvjl6x"> </p></div>'),L_=d('<div><div class="candidate-header svelte-1qvjl6x"><div class="rank-badge svelte-1qvjl6x"><!></div> <div class="candidate-name svelte-1qvjl6x"><h4 class="svelte-1qvjl6x"> </h4> <p class="candidate-contact svelte-1qvjl6x"> </p></div> <div class="candidate-score svelte-1qvjl6x"><div> </div> <span class="score-label svelte-1qvjl6x">Score</span></div></div> <div class="candidate-details svelte-1qvjl6x"><div class="detail-row svelte-1qvjl6x"><span class="icon svelte-1qvjl6x">ðŸ“ž</span> <span> </span></div> <div class="detail-row svelte-1qvjl6x"><span class="icon svelte-1qvjl6x">ðŸ’¼</span> <span> </span></div> <div class="detail-row svelte-1qvjl6x"><span class="icon svelte-1qvjl6x">ðŸ“…</span> <span> </span></div></div> <!> <!> <!> <!></div>'),O_=d('<div class="recommendation-item svelte-1qvjl6x"><span class="recommendation-number svelte-1qvjl6x"></span> <p class="svelte-1qvjl6x"> </p></div>'),N_=d('<div class="skill-gap-item svelte-1qvjl6x"><span class="gap-icon svelte-1qvjl6x">âš ï¸</span> <p class="svelte-1qvjl6x"> </p></div>'),U_=d('<div class="section svelte-1qvjl6x"><h3 class="svelte-1qvjl6x">ðŸ“Š Skill Gaps Identified</h3> <div class="skill-gaps-grid svelte-1qvjl6x"></div></div>'),W_=d('<div class="summary-results svelte-1qvjl6x"><div class="summary-header svelte-1qvjl6x"><div class="header-content svelte-1qvjl6x"><h2 class="svelte-1qvjl6x">ðŸ“Š Candidate Summary Report</h2> <div class="meta-info svelte-1qvjl6x"><span> </span> <span>â€¢</span> <span> </span> <span>â€¢</span> <span> </span></div></div> <button class="btn-export svelte-1qvjl6x">ðŸ“¥ Export Report</button></div> <div class="section svelte-1qvjl6x"><h3 class="svelte-1qvjl6x"> </h3> <div class="candidates-grid svelte-1qvjl6x"></div></div> <div class="section svelte-1qvjl6x"><h3 class="svelte-1qvjl6x">ðŸ” Comparative Analysis</h3> <div class="analysis-box svelte-1qvjl6x"><p class="svelte-1qvjl6x"> </p></div></div> <div class="section svelte-1qvjl6x"><h3 class="svelte-1qvjl6x">ðŸ’¡ Recommendations</h3> <div class="recommendations-list svelte-1qvjl6x"></div></div> <!> <div class="section svelte-1qvjl6x"><h3 class="svelte-1qvjl6x">ðŸŽ¯ Hiring Insights</h3> <div class="insights-box svelte-1qvjl6x"><p class="svelte-1qvjl6x"> </p></div></div></div>'),H_=d('<div class="candidate-summary svelte-1qvjl6x"><div class="config-section svelte-1qvjl6x"><div class="config-card svelte-1qvjl6x"><h3 class="svelte-1qvjl6x">ðŸŽ¯ Configure Summary</h3> <p class="help-text svelte-1qvjl6x">Select a job posting and specify how many top candidates to analyze</p> <div class="form-grid svelte-1qvjl6x"><div class="form-group svelte-1qvjl6x"><label for="job-select" class="svelte-1qvjl6x">Job Posting</label> <select id="job-select" class="select-input svelte-1qvjl6x"><option>Select a job...</option><!></select></div> <div class="form-group svelte-1qvjl6x"><label for="top-n" class="svelte-1qvjl6x">Number of Top Candidates</label> <select id="top-n" class="select-input svelte-1qvjl6x"><option>Top 3</option><option>Top 5</option><option>Top 10</option><option>Top 15</option></select></div></div> <!> <button class="btn-primary svelte-1qvjl6x"><!></button> <!> <!></div></div> <!></div>');function J_(i,o){Xt(o,!1);const n=Y();let m=Y([]),h=Y(""),c=Y(5),g=Y(!0),_=Y(!1),p=Y(null),u=Y("");sa(async()=>{await S()});async function S(){try{s(g,!0);const Ae=localStorage.getItem("token"),Ne=await fetch("/api/recruiting/jobs",{headers:{Authorization:`Bearer ${Ae}`}});if(Ne.ok){s(m,await Ne.json());const ye=e(m).find(He=>He.applicant_count>0);ye&&s(h,ye.id)}}catch(Ae){console.error("Failed to load jobs:",Ae)}finally{s(g,!1)}}async function C(){if(!e(h)){s(u,"Please select a job posting");return}try{s(_,!0),s(u,""),s(p,null);const Ae=localStorage.getItem("token"),Ne=await fetch(`/api/recruiting/jobs/${e(h)}/candidate-summary`,{method:"POST",headers:{Authorization:`Bearer ${Ae}`,"Content-Type":"application/json"},body:JSON.stringify({top_n:e(c)})});if(!Ne.ok){const ye=await Ne.json();throw new Error(ye.error||"Failed to generate summary")}s(p,await Ne.json())}catch(Ae){s(u,Ae.message)}finally{s(_,!1)}}function le(Ae){return new Date(Ae).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function E(){if(!e(p))return;const Ae=`
CANDIDATE SUMMARY REPORT
========================

Job: ${e(p).job_title}
Generated: ${le(e(p).generated_at)}
Total Candidates Reviewed: ${e(p).total_candidates}
Top ${e(c)} Candidates Selected

TOP CANDIDATES
==============

${e(p).top_candidates.map((Ce,fe)=>`
${fe+1}. ${Ce.first_name} ${Ce.last_name}
   Score: ${Ce.score}/100
   Experience: ${Ce.experience_years||"N/A"} years
   Email: ${Ce.email}
   Phone: ${Ce.phone}
   Applied: ${le(Ce.applied_date)}
   
   Skills: ${Ce.skills.join(", ")}
   
   Strengths:
   ${Ce.strengths.map(Oe=>`   - ${Oe}`).join(`
`)}
   
   Concerns:
   ${Ce.weaknesses.map(Oe=>`   - ${Oe}`).join(`
`)}
   
   Summary: ${Ce.ai_summary||"No summary available"}
   
`).join(`
---
`)}

COMPARATIVE ANALYSIS
====================

${e(p).comparative_analysis}

RECOMMENDATIONS
===============

${e(p).recommendations.map((Ce,fe)=>`${fe+1}. ${Ce}`).join(`
`)}

SKILL GAPS IDENTIFIED
=====================

${e(p).skill_gaps.map((Ce,fe)=>`${fe+1}. ${Ce}`).join(`
`)}

HIRING INSIGHTS
===============

${e(p).hiring_insights}
    `.trim(),Ne=new Blob([Ae],{type:"text/plain"}),ye=URL.createObjectURL(Ne),He=document.createElement("a");He.href=ye,He.download=`candidate-summary-${e(p).job_title.replace(/\s+/g,"-")}-${Date.now()}.txt`,document.body.appendChild(He),He.click(),document.body.removeChild(He),URL.revokeObjectURL(ye)}Yt(()=>(e(m),e(h)),()=>{s(n,e(m).find(Ae=>Ae.id===e(h)))}),za(),na();var T=H_(),L=t(T),z=t(L),P=a(t(z),4),R=t(P),me=a(t(R),2);x(()=>{e(h),Ut(()=>{e(g),e(m)})});var X=t(me);X.value=X.__value="";var re=a(X);_t(re,1,()=>e(m),bt,(Ae,Ne)=>{var ye=A_(),He=t(ye),Ce={};x(()=>{l(He,`${e(Ne),r(()=>e(Ne).title)??""} (${e(Ne),r(()=>e(Ne).applicant_count)??""} applicants)`),Ce!==(Ce=(e(Ne),r(()=>e(Ne).id)))&&(ye.value=(ye.__value=(e(Ne),r(()=>e(Ne).id)))??"")}),v(Ae,ye)});var Qe=a(R,2),Je=a(t(Qe),2);x(()=>{e(c),Ut(()=>{})});var lt=t(Je);lt.value=lt.__value=3;var ut=a(lt);ut.value=ut.__value=5;var ft=a(ut);ft.value=ft.__value=10;var ht=a(ft);ht.value=ht.__value=15;var ot=a(P,2);{var rt=Ae=>{var Ne=E_(),ye=t(Ne),He=a(t(ye),2),Ce=t(He),fe=a(ye,2),Oe=a(t(fe),2),Ie=t(Oe),ke=a(fe,2),ge=a(t(ke),2),Pe=t(ge),Be=a(ke,2),Xe=a(t(Be),2),Ge=t(Xe);x(()=>{l(Ce,(e(n),r(()=>e(n).title))),l(Ie,(e(n),r(()=>e(n).department))),l(Pe,(e(n),r(()=>e(n).location))),l(Ge,(e(n),r(()=>e(n).applicant_count)))}),v(Ae,Ne)};y(ot,Ae=>{e(n)&&Ae(rt)})}var At=a(ot,2),it=t(At);{var ct=Ae=>{var Ne=C_();v(Ae,Ne)},yt=Ae=>{var Ne=ha("âœ¨ Generate Candidate Summary");v(Ae,Ne)};y(it,Ae=>{e(_)?Ae(ct):Ae(yt,!1)})}var dt=a(At,2);{var pt=Ae=>{var Ne=D_();v(Ae,Ne)};y(dt,Ae=>{e(n),r(()=>e(n)&&e(n).applicant_count===0)&&Ae(pt)})}var wt=a(dt,2);{var St=Ae=>{var Ne=z_(),ye=t(Ne);x(()=>l(ye,`âŒ ${e(u)??""}`)),v(Ae,Ne)};y(wt,Ae=>{e(u)&&Ae(St)})}var qt=a(L,2);{var $t=Ae=>{var Ne=W_(),ye=t(Ne),He=t(ye),Ce=a(t(He),2),fe=t(Ce),Oe=t(fe),Ie=a(fe,4),ke=t(Ie),ge=a(Ie,4),Pe=t(ge),Be=a(He,2),Xe=a(ye,2),Ge=t(Xe),We=t(Ge),be=a(Ge,2);_t(be,5,()=>(e(p),r(()=>e(p).top_candidates)),bt,(J,G,$)=>{var j=L_();st(j,1,"candidate-card svelte-1qvjl6x",null,{},{gold:$===0,silver:$===1,bronze:$===2});var k=t(j),b=t(k),F=t(b);{var A=$e=>{var Re=ha("ðŸ¥‡");v($e,Re)},q=$e=>{var Re=Pt(),Ze=nt(Re);{var Ve=Ye=>{var Ue=ha("ðŸ¥ˆ");v(Ye,Ue)},Fe=Ye=>{var Ue=Pt(),et=nt(Ue);{var tt=vt=>{var xt=ha("ðŸ¥‰");v(vt,xt)},Ke=vt=>{var xt=ha();xt.nodeValue=`#${$+1}`,v(vt,xt)};y(et,vt=>{$===2?vt(tt):vt(Ke,!1)},!0)}v(Ye,Ue)};y(Ze,Ye=>{$===1?Ye(Ve):Ye(Fe,!1)},!0)}v($e,Re)};y(F,$e=>{$===0?$e(A):$e(q,!1)})}var w=a(b,2),N=t(w),K=t(N),I=a(N,2),oe=t(I),W=a(w,2),ve=t(W);let Q;var U=t(ve),V=a(k,2),se=t(V),ie=a(t(se),2),we=t(ie),pe=a(se,2),ue=a(t(pe),2),Te=t(ue),he=a(pe,2),qe=a(t(he),2),Se=t(qe),je=a(V,2);{var M=$e=>{var Re=q_(),Ze=a(t(Re),2),Ve=t(Ze);_t(Ve,1,()=>(e(G),r(()=>e(G).skills.slice(0,5))),bt,(Ue,et)=>{var tt=P_(),Ke=t(tt);x(()=>l(Ke,e(et))),v(Ue,tt)});var Fe=a(Ve,2);{var Ye=Ue=>{var et=T_(),tt=t(et);x(()=>l(tt,`+${e(G),r(()=>e(G).skills.length-5)??""} more`)),v(Ue,et)};y(Fe,Ue=>{e(G),r(()=>e(G).skills.length>5)&&Ue(Ye)})}v($e,Re)};y(je,$e=>{e(G),r(()=>e(G).skills&&e(G).skills.length>0)&&$e(M)})}var te=a(je,2);{var de=$e=>{var Re=B_(),Ze=a(t(Re),2);_t(Ze,5,()=>(e(G),r(()=>e(G).strengths.slice(0,3))),bt,(Ve,Fe)=>{var Ye=M_(),Ue=t(Ye);x(()=>l(Ue,e(Fe))),v(Ve,Ye)}),v($e,Re)};y(te,$e=>{e(G),r(()=>e(G).strengths&&e(G).strengths.length>0)&&$e(de)})}var ce=a(te,2);{var ee=$e=>{var Re=R_(),Ze=a(t(Re),2);_t(Ze,5,()=>(e(G),r(()=>e(G).weaknesses.slice(0,2))),bt,(Ve,Fe)=>{var Ye=I_(),Ue=t(Ye);x(()=>l(Ue,e(Fe))),v(Ve,Ye)}),v($e,Re)};y(ce,$e=>{e(G),r(()=>e(G).weaknesses&&e(G).weaknesses.length>0)&&$e(ee)})}var Le=a(ce,2);{var Ee=$e=>{var Re=F_(),Ze=a(t(Re),2),Ve=t(Ze);x(()=>l(Ve,(e(G),r(()=>e(G).ai_summary)))),v($e,Re)};y(Le,$e=>{e(G),r(()=>e(G).ai_summary)&&$e(Ee)})}x($e=>{l(K,`${e(G),r(()=>e(G).first_name)??""} ${e(G),r(()=>e(G).last_name)??""}`),l(oe,(e(G),r(()=>e(G).email))),Q=st(ve,1,"score-circle svelte-1qvjl6x",null,Q,{high:e(G).score>=80,medium:e(G).score>=60&&e(G).score<80,low:e(G).score<60}),l(U,(e(G),r(()=>e(G).score))),l(we,(e(G),r(()=>e(G).phone))),l(Te,`${e(G),r(()=>e(G).experience_years||"N/A")??""} years experience`),l(Se,`Applied ${$e??""}`)},[()=>(e(G),r(()=>le(e(G).applied_date)))]),v(J,j)});var f=a(Xe,2),D=a(t(f),2),H=t(D),xe=t(H),ne=a(f,2),_e=a(t(ne),2);_t(_e,5,()=>(e(p),r(()=>e(p).recommendations)),bt,(J,G,$)=>{var j=O_(),k=t(j);k.textContent=$+1;var b=a(k,2),F=t(b);x(()=>l(F,e(G))),v(J,j)});var ze=a(ne,2);{var Me=J=>{var G=U_(),$=a(t(G),2);_t($,5,()=>(e(p),r(()=>e(p).skill_gaps)),bt,(j,k)=>{var b=N_(),F=a(t(b),2),A=t(F);x(()=>l(A,e(k))),v(j,b)}),v(J,G)};y(ze,J=>{e(p),r(()=>e(p).skill_gaps&&e(p).skill_gaps.length>0)&&J(Me)})}var Z=a(ze,2),De=a(t(Z),2),ae=t(De),B=t(ae);x(J=>{l(Oe,`ðŸ“‹ ${e(p),r(()=>e(p).job_title)??""}`),l(ke,`ðŸ‘¥ ${e(p),r(()=>e(p).total_candidates)??""} candidates reviewed`),l(Pe,`ðŸ• ${J??""}`),l(We,`ðŸ† Top ${e(p),r(()=>e(p).top_candidates.length)??""} Candidates`),l(xe,(e(p),r(()=>e(p).comparative_analysis))),l(B,(e(p),r(()=>e(p).hiring_insights)))},[()=>(e(p),r(()=>le(e(p).generated_at)))]),O("click",Be,E),v(Ae,Ne)};y(qt,Ae=>{e(p)&&Ae($t)})}x(()=>{me.disabled=e(g),At.disabled=(e(h),e(_),e(n),r(()=>!e(h)||e(_)||e(n)&&e(n).applicant_count===0))}),Lt(me,()=>e(h),Ae=>s(h,Ae)),Lt(Je,()=>e(c),Ae=>s(c,Ae)),O("click",At,C),v(i,T),Zt()}var V_=d('<div class="job-item svelte-di67vw"><div class="job-info svelte-di67vw"><h3 class="svelte-di67vw"> </h3> <p class="svelte-di67vw"> </p></div> <div class="job-stats svelte-di67vw"><span class="applicant-count svelte-di67vw"> </span> <span> </span></div></div>'),Y_=d('<div class="empty-state svelte-di67vw"><p class="svelte-di67vw">No recent jobs. Post your first job to get started!</p></div>'),G_=d('<div class="applicant-item svelte-di67vw"><div class="rank svelte-di67vw"></div> <div class="applicant-info svelte-di67vw"><h4 class="svelte-di67vw"> </h4> <p class="svelte-di67vw"> </p></div> <div class="applicant-score svelte-di67vw"><span class="score svelte-di67vw"> </span> <span class="score-label svelte-di67vw">Score</span></div></div>'),K_=d(`<div class="empty-state svelte-di67vw"><p class="svelte-di67vw">No applicants yet. They'll appear here once you start receiving applications!</p></div>`),Q_=d('<div class="overview-container svelte-di67vw"><div class="stats-grid svelte-di67vw"><div class="stat-card primary svelte-di67vw"><div class="stat-header svelte-di67vw"><span class="stat-icon svelte-di67vw">ðŸ“‹</span> <h3 class="svelte-di67vw">Active Jobs</h3></div> <div class="stat-value svelte-di67vw"> </div> <button class="stat-action svelte-di67vw">Manage Jobs â†’</button></div> <div class="stat-card svelte-di67vw"><div class="stat-header svelte-di67vw"><span class="stat-icon svelte-di67vw">ðŸ‘¥</span> <h3 class="svelte-di67vw">Total Applicants</h3></div> <div class="stat-value svelte-di67vw"> </div> <button class="stat-action svelte-di67vw">View Leaderboard â†’</button></div> <div class="stat-card warning svelte-di67vw"><div class="stat-header svelte-di67vw"><span class="stat-icon svelte-di67vw">â³</span> <h3 class="svelte-di67vw">Pending Reviews</h3></div> <div class="stat-value svelte-di67vw"> </div> <div class="stat-subtitle svelte-di67vw">Need attention</div></div> <div class="stat-card success svelte-di67vw"><div class="stat-header svelte-di67vw"><span class="stat-icon svelte-di67vw">ðŸ“…</span> <h3 class="svelte-di67vw">Scheduled Interviews</h3></div> <div class="stat-value svelte-di67vw"> </div> <div class="stat-subtitle svelte-di67vw">This week</div></div></div> <div class="quick-actions-section svelte-di67vw"><h2 class="svelte-di67vw">Quick Actions</h2> <div class="quick-actions svelte-di67vw"><button class="action-card svelte-di67vw"><span class="action-icon svelte-di67vw">âž•</span> <div class="action-content svelte-di67vw"><h3 class="svelte-di67vw">Post New Job</h3> <p class="svelte-di67vw">Create and publish job posting</p></div></button> <button class="action-card svelte-di67vw"><span class="action-icon svelte-di67vw">ðŸ†</span> <div class="action-content svelte-di67vw"><h3 class="svelte-di67vw">Applicant Leaderboard</h3> <p class="svelte-di67vw">View ranked candidates by job</p></div></button> <button class="action-card svelte-di67vw"><span class="action-icon svelte-di67vw">ðŸ“Š</span> <div class="action-content svelte-di67vw"><h3 class="svelte-di67vw">Candidate Summary</h3> <p class="svelte-di67vw">Generate AI summary of top candidates</p></div></button> <button class="action-card svelte-di67vw"><span class="action-icon svelte-di67vw">ðŸ”—</span> <div class="action-content svelte-di67vw"><h3 class="svelte-di67vw">Connect Providers</h3> <p class="svelte-di67vw">Integrate with job boards</p></div></button></div></div> <div class="activity-section svelte-di67vw"><div class="section-header svelte-di67vw"><h2 class="svelte-di67vw">Recent Job Postings</h2> <button class="btn-secondary svelte-di67vw">View All</button></div> <div class="recent-jobs svelte-di67vw"><!></div></div> <div class="activity-section svelte-di67vw"><div class="section-header svelte-di67vw"><h2 class="svelte-di67vw">Top Applicants This Week</h2> <button class="btn-secondary svelte-di67vw">View Leaderboard</button></div> <div class="top-applicants svelte-di67vw"><!></div></div></div>'),X_=d('<div class="view-container svelte-di67vw"><div class="view-header svelte-di67vw"><button class="btn-back svelte-di67vw">â† Back to Overview</button> <h2 class="svelte-di67vw">Recruiting Providers</h2></div> <!></div>'),Z_=d('<div class="view-container svelte-di67vw"><div class="view-header svelte-di67vw"><button class="btn-back svelte-di67vw">â† Back to Overview</button> <h2 class="svelte-di67vw">Job Posting Manager</h2></div> <!></div>'),e1=d('<div class="view-container svelte-di67vw"><div class="view-header svelte-di67vw"><button class="btn-back svelte-di67vw">â† Back to Overview</button> <h2 class="svelte-di67vw">ðŸ“Š Applicant Leaderboard</h2></div> <!></div>'),t1=d('<div class="view-container svelte-di67vw"><div class="view-header svelte-di67vw"><button class="btn-back svelte-di67vw">â† Back to Overview</button> <h2 class="svelte-di67vw">ðŸŽ¯ Candidate Summary</h2></div> <!></div>'),a1=d('<div class="recruiting-dashboard svelte-di67vw"><!></div>');function s1(i,o){Xt(o,!1);const n=gl();let m=Y("overview"),h=Y({activeJobs:0,totalApplicants:0,pendingReviews:0,scheduledInterviews:0,avgTimeToHire:0,topSourceByApplicants:"",connectedProviders:0}),c=Y([]),g=Y([]),_=!0;sa(async()=>{await p()});async function p(){try{_=!0;const T=localStorage.getItem("token"),L=await fetch("/api/recruiting/dashboard",{headers:{Authorization:`Bearer ${T}`}});if(L.ok){const z=await L.json();s(h,{activeJobs:z.active_jobs||0,totalApplicants:z.total_applicants||0,pendingReviews:z.pending_reviews||0,scheduledInterviews:z.scheduled_interviews||0,avgTimeToHire:z.avg_time_to_hire||0,topSourceByApplicants:z.top_source||"N/A",connectedProviders:z.connected_providers||0}),s(c,z.recent_jobs||[]),s(g,z.top_applicants||[])}n("statsUpdated")}catch(T){console.error("Failed to load recruiting dashboard:",T)}finally{_=!1}}function u(){p()}na();var S=a1(),C=t(S);{var le=T=>{var L=Q_(),z=t(L),P=t(z),R=a(t(P),2),me=t(R),X=a(R,2),re=a(P,2),Qe=a(t(re),2),Je=t(Qe),lt=a(Qe,2),ut=a(re,2),ft=a(t(ut),2),ht=t(ft),ot=a(ut,2),rt=a(t(ot),2),At=t(rt),it=a(z,2),ct=a(t(it),2),yt=t(ct),dt=a(yt,2),pt=a(dt,2),wt=a(pt,2),St=a(it,2),qt=t(St),$t=a(t(qt),2),Ae=a(qt,2),Ne=t(Ae);{var ye=Be=>{var Xe=Pt(),Ge=nt(Xe);_t(Ge,1,()=>e(c).slice(0,5),bt,(We,be)=>{var f=V_(),D=t(f),H=t(D),xe=t(H),ne=a(H,2),_e=t(ne),ze=a(D,2),Me=t(ze),Z=t(Me),De=a(Me,2);let ae;var B=t(De);x(()=>{l(xe,e(be).title),l(_e,`${e(be).department??""} â€¢ ${e(be).location??""}`),l(Z,`${(e(be).applicant_count||0)??""} applicants`),ae=st(De,1,"status-badge svelte-di67vw",null,ae,{active:e(be).status==="active"}),l(B,e(be).status)}),v(We,f)}),v(Be,Xe)},He=Be=>{var Xe=Y_();v(Be,Xe)};y(Ne,Be=>{e(c).length>0?Be(ye):Be(He,!1)})}var Ce=a(St,2),fe=t(Ce),Oe=a(t(fe),2),Ie=a(fe,2),ke=t(Ie);{var ge=Be=>{var Xe=Pt(),Ge=nt(Xe);_t(Ge,1,()=>e(g).slice(0,5),bt,(We,be,f)=>{var D=G_(),H=t(D);H.textContent=`# ${f+1}`;var xe=a(H,2),ne=t(xe),_e=t(ne),ze=a(ne,2),Me=t(ze),Z=a(xe,2),De=t(Z),ae=t(De);x(()=>{l(_e,e(be).name),l(Me,e(be).position),l(ae,e(be).score||0)}),v(We,D)}),v(Be,Xe)},Pe=Be=>{var Xe=K_();v(Be,Xe)};y(ke,Be=>{e(g).length>0?Be(ge):Be(Pe,!1)})}x(()=>{l(me,e(h).activeJobs),l(Je,e(h).totalApplicants),l(ht,e(h).pendingReviews),l(At,e(h).scheduledInterviews)}),O("click",X,()=>s(m,"jobs")),O("click",lt,()=>s(m,"leaderboard")),O("click",yt,()=>s(m,"jobs")),O("click",dt,()=>s(m,"leaderboard")),O("click",pt,()=>s(m,"summary")),O("click",wt,()=>s(m,"providers")),O("click",$t,()=>s(m,"jobs")),O("click",Oe,()=>s(m,"leaderboard")),v(T,L)},E=T=>{var L=Pt(),z=nt(L);{var P=me=>{var X=X_(),re=t(X),Qe=t(re),Je=a(re,2);Rp(Je,{$$events:{providerUpdated:u}}),O("click",Qe,()=>s(m,"overview")),v(me,X)},R=me=>{var X=Pt(),re=nt(X);{var Qe=lt=>{var ut=Z_(),ft=t(ut),ht=t(ft),ot=a(ft,2);u_(ot,{$$events:{jobUpdated:p}}),O("click",ht,()=>s(m,"overview")),v(lt,ut)},Je=lt=>{var ut=Pt(),ft=nt(ut);{var ht=rt=>{var At=e1(),it=t(At),ct=t(it),yt=a(it,2);S_(yt,{}),O("click",ct,()=>s(m,"overview")),v(rt,At)},ot=rt=>{var At=Pt(),it=nt(At);{var ct=yt=>{var dt=t1(),pt=t(dt),wt=t(pt),St=a(pt,2);J_(St,{}),O("click",wt,()=>s(m,"overview")),v(yt,dt)};y(it,yt=>{e(m)==="summary"&&yt(ct)},!0)}v(rt,At)};y(ft,rt=>{e(m)==="leaderboard"?rt(ht):rt(ot,!1)},!0)}v(lt,ut)};y(re,lt=>{e(m)==="jobs"?lt(Qe):lt(Je,!1)},!0)}v(me,X)};y(z,me=>{e(m)==="providers"?me(P):me(R,!1)},!0)}v(T,L)};y(C,T=>{e(m)==="overview"?T(le):T(E,!1)})}v(i,S),Zt()}var l1=d('<div class="loading svelte-1wfw2w6">Loading templates...</div>'),r1=d('<div class="empty-state svelte-1wfw2w6"><div class="empty-icon svelte-1wfw2w6">ðŸ“‹</div> <h3 class="svelte-1wfw2w6">No Templates Yet</h3> <p class="svelte-1wfw2w6">Create your first workflow template to get started</p> <button class="btn-primary svelte-1wfw2w6">Create First Template</button></div>'),i1=d('<span class="status-badge inactive svelte-1wfw2w6">Inactive</span>'),v1=d('<div class="step-preview svelte-1wfw2w6"><span class="step-number svelte-1wfw2w6"></span> <span class="step-name svelte-1wfw2w6"> </span></div>'),o1=d('<div class="step-preview more svelte-1wfw2w6"><span> </span></div>'),n1=d('<div><div class="template-header svelte-1wfw2w6"><div class="template-type svelte-1wfw2w6"><span class="type-badge svelte-1wfw2w6"> </span> <!></div> <div class="template-actions svelte-1wfw2w6"><button class="icon-btn svelte-1wfw2w6"> </button> <button class="icon-btn svelte-1wfw2w6" title="Edit">âœï¸</button> <button class="icon-btn danger svelte-1wfw2w6" title="Delete">ðŸ—‘ï¸</button></div></div> <h3 class="template-name svelte-1wfw2w6"> </h3> <p class="template-description svelte-1wfw2w6"> </p> <div class="template-meta svelte-1wfw2w6"><div class="meta-item svelte-1wfw2w6"><span class="meta-icon svelte-1wfw2w6">ðŸ“</span> <span> </span></div> <div class="meta-item svelte-1wfw2w6"><span class="meta-icon svelte-1wfw2w6">â±ï¸</span> <span> </span></div></div> <div class="template-steps svelte-1wfw2w6"><!> <!></div></div>'),d1=d('<div class="templates-grid svelte-1wfw2w6"></div>'),c1=d("<option> </option>"),u1=d('<span class="required-badge svelte-1wfw2w6">Required</span>'),p1=d('<div class="step-item svelte-1wfw2w6"><div class="step-order svelte-1wfw2w6"><button class="move-btn svelte-1wfw2w6">â–²</button> <span class="step-num svelte-1wfw2w6"> </span> <button class="move-btn svelte-1wfw2w6">â–¼</button></div> <div class="step-details svelte-1wfw2w6"><div class="step-info svelte-1wfw2w6"><strong> </strong> <span class="step-meta svelte-1wfw2w6"> <!></span></div> <button class="remove-btn svelte-1wfw2w6">ðŸ—‘ï¸</button></div></div>'),_1=d('<div class="steps-list svelte-1wfw2w6"></div>'),f1=d("<option> </option>"),b1=d('<div class="modal-overlay svelte-1wfw2w6"><div class="modal svelte-1wfw2w6"><div class="modal-header svelte-1wfw2w6"><h2 class="svelte-1wfw2w6"> </h2> <button class="close-btn svelte-1wfw2w6">âœ•</button></div> <div class="modal-body svelte-1wfw2w6"><div class="form-group svelte-1wfw2w6"><label class="svelte-1wfw2w6">Template Name *</label> <input type="text" placeholder="e.g., New Hire Onboarding" class="svelte-1wfw2w6"/></div> <div class="form-group svelte-1wfw2w6"><label class="svelte-1wfw2w6">Description</label> <textarea placeholder="Describe the workflow purpose and process" class="svelte-1wfw2w6"></textarea></div> <div class="form-row svelte-1wfw2w6"><div class="form-group svelte-1wfw2w6"><label class="svelte-1wfw2w6">Workflow Type *</label> <select class="svelte-1wfw2w6"></select></div> <div class="form-group svelte-1wfw2w6"><label class="svelte-1wfw2w6">Estimated Days</label> <input type="number" min="1" max="365" class="svelte-1wfw2w6"/></div></div> <div class="steps-section svelte-1wfw2w6"><h3 class="svelte-1wfw2w6">Workflow Steps</h3> <!> <div class="add-step-form svelte-1wfw2w6"><h4 class="svelte-1wfw2w6">Add Step</h4> <div class="form-row svelte-1wfw2w6"><div class="form-group flex-2 svelte-1wfw2w6"><input type="text" placeholder="Step name *" class="svelte-1wfw2w6"/></div> <div class="form-group flex-1 svelte-1wfw2w6"><input type="number" placeholder="Days" min="1" class="svelte-1wfw2w6"/></div></div> <div class="form-row svelte-1wfw2w6"><div class="form-group flex-2 svelte-1wfw2w6"><input type="text" placeholder="Step description" class="svelte-1wfw2w6"/></div> <div class="form-group flex-1 svelte-1wfw2w6"><select class="svelte-1wfw2w6"></select></div></div> <div class="form-row svelte-1wfw2w6"><label class="checkbox-label svelte-1wfw2w6"><input type="checkbox"/> Required step</label> <button class="btn-secondary svelte-1wfw2w6">Add Step</button></div></div></div></div> <div class="modal-footer svelte-1wfw2w6"><button class="btn-secondary svelte-1wfw2w6">Cancel</button> <button class="btn-primary svelte-1wfw2w6"> </button></div></div></div>'),m1=d('<div class="template-manager svelte-1wfw2w6"><div class="manager-header svelte-1wfw2w6"><div><h2 class="svelte-1wfw2w6">Workflow Templates</h2> <p class="svelte-1wfw2w6">Create and manage reusable workflow templates for common processes</p></div> <button class="btn-primary svelte-1wfw2w6"><span>âž•</span> Create Template</button></div> <!></div> <!>',1);function h1(i,o){Xt(o,!1);const n=gl();let m=Y([]),h=Y(!0),c=Y(!1),g=Y(null),_=Y({name:"",description:"",type:"onboarding",estimated_days:14,steps:[]}),p=Y({name:"",description:"",order:1,estimated_days:1,required:!0,assignee_role:"HR"});const u=[{value:"onboarding",label:"New Hire Onboarding"},{value:"offboarding",label:"Employee Offboarding"},{value:"promotion",label:"Promotion Process"},{value:"transfer",label:"Department Transfer"},{value:"performance",label:"Performance Review"},{value:"custom",label:"Custom Workflow"}],S=["HR","Manager","IT","Admin","Finance","Employee"];sa(async()=>{await C()});async function C(){try{s(h,!0);const it=localStorage.getItem("token"),ct=await fetch("/api/workflows/templates",{headers:{Authorization:`Bearer ${it}`}});ct.ok&&s(m,await ct.json())}catch(it){console.error("Failed to load templates:",it)}finally{s(h,!1)}}function le(){s(g,null),T(),s(c,!0)}function E(it){s(g,it),s(_,{name:it.name,description:it.description,type:it.type,estimated_days:it.estimated_days,steps:[...it.steps]}),s(c,!0)}function T(){s(_,{name:"",description:"",type:"onboarding",estimated_days:14,steps:[]}),s(p,{name:"",description:"",order:1,estimated_days:1,required:!0,assignee_role:"HR"})}function L(){e(p).name&&(gt(_,e(_).steps=[...e(_).steps,{...e(p),order:e(_).steps.length+1}]),s(p,{name:"",description:"",order:e(_).steps.length+2,estimated_days:1,required:!0,assignee_role:"HR"}))}function z(it){gt(_,e(_).steps=e(_).steps.filter((ct,yt)=>yt!==it)),e(_).steps.forEach((ct,yt)=>ct.order=yt+1)}function P(it){if(it===0)return;const ct=[...e(_).steps];[ct[it-1],ct[it]]=[ct[it],ct[it-1]],ct.forEach((yt,dt)=>yt.order=dt+1),gt(_,e(_).steps=ct)}function R(it){if(it===e(_).steps.length-1)return;const ct=[...e(_).steps];[ct[it],ct[it+1]]=[ct[it+1],ct[it]],ct.forEach((yt,dt)=>yt.order=dt+1),gt(_,e(_).steps=ct)}async function me(){if(!e(_).name||e(_).steps.length===0){alert("Please provide a name and at least one step");return}try{const it=localStorage.getItem("token"),ct=e(g)?"PUT":"POST",yt=e(g)?`/api/workflows/templates/${e(g).id}`:"/api/workflows/templates",dt=await fetch(yt,{method:ct,headers:{Authorization:`Bearer ${it}`,"Content-Type":"application/json"},body:JSON.stringify(e(_))});if(dt.ok)s(c,!1),await C(),n("updated");else{const pt=await dt.text();alert(`Failed to save template: ${pt}`)}}catch(it){console.error("Failed to save template:",it),alert("Failed to save template")}}async function X(it){try{const ct=localStorage.getItem("token");(await fetch(`/api/workflows/templates/${it.id}/toggle`,{method:"PUT",headers:{Authorization:`Bearer ${ct}`}})).ok&&(await C(),n("updated"))}catch(ct){console.error("Failed to toggle template:",ct)}}async function re(it){if(confirm("Are you sure you want to delete this template?"))try{const ct=localStorage.getItem("token");(await fetch(`/api/workflows/templates/${it}`,{method:"DELETE",headers:{Authorization:`Bearer ${ct}`}})).ok&&(await C(),n("updated"))}catch(ct){console.error("Failed to delete template:",ct)}}na();var Qe=m1(),Je=nt(Qe),lt=t(Je),ut=a(t(lt),2),ft=a(lt,2);{var ht=it=>{var ct=l1();v(it,ct)},ot=it=>{var ct=Pt(),yt=nt(ct);{var dt=wt=>{var St=r1(),qt=a(t(St),6);O("click",qt,le),v(wt,St)},pt=wt=>{var St=d1();_t(St,5,()=>e(m),bt,(qt,$t)=>{var Ae=n1();let Ne;var ye=t(Ae),He=t(ye),Ce=t(He),fe=t(Ce),Oe=a(Ce,2);{var Ie=J=>{var G=i1();v(J,G)};y(Oe,J=>{e($t).is_active||J(Ie)})}var ke=a(He,2),ge=t(ke),Pe=t(ge),Be=a(ge,2),Xe=a(Be,2),Ge=a(ye,2),We=t(Ge),be=a(Ge,2),f=t(be),D=a(be,2),H=t(D),xe=a(t(H),2),ne=t(xe),_e=a(H,2),ze=a(t(_e),2),Me=t(ze),Z=a(D,2),De=t(Z);_t(De,1,()=>e($t).steps.slice(0,3),bt,(J,G,$)=>{var j=v1(),k=t(j);k.textContent=$+1;var b=a(k,2),F=t(b);x(()=>l(F,e(G).name)),v(J,j)});var ae=a(De,2);{var B=J=>{var G=o1(),$=t(G),j=t($);x(()=>l(j,`+${e($t).steps.length-3} more steps`)),v(J,G)};y(ae,J=>{e($t).steps.length>3&&J(B)})}x(()=>{Ne=st(Ae,1,"template-card svelte-1wfw2w6",null,Ne,{inactive:!e($t).is_active}),l(fe,e($t).type),ca(ge,"title",e($t).is_active?"Deactivate":"Activate"),l(Pe,e($t).is_active?"â¸ï¸":"â–¶ï¸"),l(We,e($t).name),l(f,e($t).description),l(ne,`${e($t).steps.length??""} steps`),l(Me,`~${e($t).estimated_days??""} days`)}),O("click",ge,()=>X(e($t))),O("click",Be,()=>E(e($t))),O("click",Xe,()=>re(e($t).id)),v(qt,Ae)}),v(wt,St)};y(yt,wt=>{e(m).length===0?wt(dt):wt(pt,!1)},!0)}v(it,ct)};y(ft,it=>{e(h)?it(ht):it(ot,!1)})}var rt=a(Je,2);{var At=it=>{var ct=b1(),yt=t(ct),dt=t(yt),pt=t(dt),wt=t(pt),St=a(pt,2),qt=a(dt,2),$t=t(qt),Ae=a(t($t),2),Ne=a($t,2),ye=a(t(Ne),2),He=a(Ne,2),Ce=t(He),fe=a(t(Ce),2);x(()=>{e(_),Ut(()=>{})}),_t(fe,5,()=>u,bt,($,j)=>{var k=c1(),b=t(k),F={};x(()=>{l(b,e(j).label),F!==(F=e(j).value)&&(k.value=(k.__value=e(j).value)??"")}),v($,k)});var Oe=a(Ce,2),Ie=a(t(Oe),2),ke=a(He,2),ge=a(t(ke),2);{var Pe=$=>{var j=_1();_t(j,5,()=>e(_).steps,bt,(k,b,F)=>{var A=p1(),q=t(A),w=t(q);w.disabled=F===0;var N=a(w,2),K=t(N),I=a(N,2),oe=a(q,2),W=t(oe),ve=t(W),Q=t(ve),U=a(ve,2),V=t(U),se=a(V);{var ie=pe=>{var ue=u1();v(pe,ue)};y(se,pe=>{e(b).required&&pe(ie)})}var we=a(W,2);x(()=>{l(K,e(b).order),I.disabled=F===e(_).steps.length-1,l(Q,e(b).name),l(V,`${e(b).description??""} â€¢ ${e(b).estimated_days??""}d â€¢ ${e(b).assignee_role??""} `)}),O("click",w,()=>P(F)),O("click",I,()=>R(F)),O("click",we,()=>z(F)),v(k,A)}),v($,j)};y(ge,$=>{e(_).steps.length>0&&$(Pe)})}var Be=a(ge,2),Xe=a(t(Be),2),Ge=t(Xe),We=t(Ge),be=a(Ge,2),f=t(be),D=a(Xe,2),H=t(D),xe=t(H),ne=a(H,2),_e=t(ne);x(()=>{e(p),Ut(()=>{})}),_t(_e,5,()=>S,bt,($,j)=>{var k=f1(),b=t(k),F={};x(()=>{l(b,e(j)),F!==(F=e(j))&&(k.value=(k.__value=e(j))??"")}),v($,k)});var ze=a(D,2),Me=t(ze),Z=t(Me),De=a(Me,2),ae=a(qt,2),B=t(ae),J=a(B,2),G=t(J);x(()=>{l(wt,e(g)?"Edit Template":"Create Workflow Template"),l(G,e(g)?"Update Template":"Create Template")}),O("click",St,()=>s(c,!1)),kt(Ae,()=>e(_).name,$=>gt(_,e(_).name=$)),kt(ye,()=>e(_).description,$=>gt(_,e(_).description=$)),Lt(fe,()=>e(_).type,$=>gt(_,e(_).type=$)),kt(Ie,()=>e(_).estimated_days,$=>gt(_,e(_).estimated_days=$)),kt(We,()=>e(p).name,$=>gt(p,e(p).name=$)),kt(f,()=>e(p).estimated_days,$=>gt(p,e(p).estimated_days=$)),kt(xe,()=>e(p).description,$=>gt(p,e(p).description=$)),Lt(_e,()=>e(p).assignee_role,$=>gt(p,e(p).assignee_role=$)),ys(Z,()=>e(p).required,$=>gt(p,e(p).required=$)),O("click",De,L),O("click",B,()=>s(c,!1)),O("click",J,me),O("click",yt,Gt(function($){aa.call(this,o,$)})),O("click",ct,()=>s(c,!1)),v(it,ct)};y(rt,it=>{e(c)&&it(At)})}O("click",ut,le),v(i,Qe),Zt()}var y1=d('<div class="recent-item svelte-1i1uwjw"><div class="recent-info svelte-1i1uwjw"><div class="recent-employee svelte-1i1uwjw"> </div> <div class="recent-template svelte-1i1uwjw"> </div> <div class="recent-meta svelte-1i1uwjw"> </div></div> <div class="recent-status svelte-1i1uwjw"><div class="progress-circle svelte-1i1uwjw"><svg viewBox="0 0 36 36" class="svelte-1i1uwjw"><path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#e2e8f0" stroke-width="3"></path><path d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831" fill="none" stroke="#4f46e5" stroke-width="3"></path></svg> <span class="progress-text svelte-1i1uwjw"> </span></div> <span> </span></div></div>'),g1=d('<div class="recent-section svelte-1i1uwjw"><h3 class="svelte-1i1uwjw">Recent Assignments</h3> <div class="recent-list svelte-1i1uwjw"></div></div>'),x1=d("<option> </option>"),w1=d('<div class="loading svelte-1i1uwjw">Loading employees...</div>'),k1=d('<div class="empty-state svelte-1i1uwjw"><div class="empty-icon svelte-1i1uwjw">ðŸ‘¥</div> <h3 class="svelte-1i1uwjw">No Employees Found</h3> <p class="svelte-1i1uwjw">Try adjusting your search or filters</p></div>'),$1=d('<tr class="svelte-1i1uwjw"><td class="svelte-1i1uwjw"><div class="employee-cell svelte-1i1uwjw"><div class="employee-avatar svelte-1i1uwjw"> </div> <div class="employee-info"><div class="employee-name svelte-1i1uwjw"> </div> <div class="employee-email svelte-1i1uwjw"> </div></div></div></td><td class="svelte-1i1uwjw"> </td><td class="svelte-1i1uwjw"> </td><td class="svelte-1i1uwjw"> </td><td class="svelte-1i1uwjw"><span> </span></td><td class="svelte-1i1uwjw"><button class="btn-assign svelte-1i1uwjw">Assign Workflow</button></td></tr>'),j1=d('<div class="employees-table svelte-1i1uwjw"><table class="svelte-1i1uwjw"><thead class="svelte-1i1uwjw"><tr><th class="svelte-1i1uwjw">Employee</th><th class="svelte-1i1uwjw">Department</th><th class="svelte-1i1uwjw">Position</th><th class="svelte-1i1uwjw">Hire Date</th><th class="svelte-1i1uwjw">Status</th><th class="svelte-1i1uwjw">Actions</th></tr></thead><tbody class="svelte-1i1uwjw"></tbody></table></div>'),S1=d('<button><div class="template-option-header svelte-1i1uwjw"><span class="template-type svelte-1i1uwjw"> </span> <span class="template-duration svelte-1i1uwjw"> </span></div> <h4 class="svelte-1i1uwjw"> </h4> <p class="svelte-1i1uwjw"> </p> <div class="template-steps-count svelte-1i1uwjw"> </div></button>'),A1=d('<div class="step-preview-item svelte-1i1uwjw"><span class="step-num svelte-1i1uwjw"></span> <span class="step-name svelte-1i1uwjw"> </span> <span class="step-duration svelte-1i1uwjw"> </span></div>'),E1=d('<div class="step-preview-item more svelte-1i1uwjw"> </div>'),C1=d('<div class="workflow-preview svelte-1i1uwjw"><h4 class="svelte-1i1uwjw">Workflow Steps Preview</h4> <div class="steps-preview-list svelte-1i1uwjw"><!> <!></div></div>'),D1=d(`<div class="modal-overlay svelte-1i1uwjw"><div class="modal svelte-1i1uwjw"><div class="modal-header svelte-1i1uwjw"><h2 class="svelte-1i1uwjw">Assign Workflow</h2> <button class="close-btn svelte-1i1uwjw">âœ•</button></div> <div class="modal-body svelte-1i1uwjw"><div class="employee-summary svelte-1i1uwjw"><div class="employee-avatar large svelte-1i1uwjw"> </div> <div><h3 class="svelte-1i1uwjw"> </h3> <p class="svelte-1i1uwjw"> </p></div></div> <div class="form-group svelte-1i1uwjw"><label class="svelte-1i1uwjw">Select Workflow Template</label> <div class="template-grid svelte-1i1uwjw"></div></div> <!> <div class="form-group svelte-1i1uwjw"><label for="startDate" class="svelte-1i1uwjw">Start Date</label> <input type="date" id="startDate" class="svelte-1i1uwjw"/></div> <div class="form-group svelte-1i1uwjw"><label for="notes" class="svelte-1i1uwjw">Notes (Optional)</label> <textarea id="notes" placeholder="Add any special instructions or notes..." class="svelte-1i1uwjw"></textarea></div> <div class="form-group svelte-1i1uwjw"><label class="checkbox-label svelte-1i1uwjw"><input type="checkbox"/> Also notify employee's manager</label></div></div> <div class="modal-footer svelte-1i1uwjw"><button class="btn-secondary svelte-1i1uwjw">Cancel</button> <button class="btn-primary svelte-1i1uwjw">Assign Workflow</button></div></div></div>`),z1=d('<div class="workflow-assign svelte-1i1uwjw"><div class="assign-header svelte-1i1uwjw"><div><h2 class="svelte-1i1uwjw">Assign Workflows to Employees</h2> <p class="svelte-1i1uwjw">Select an employee and assign a workflow template for onboarding or other processes</p></div></div> <!> <div class="filters svelte-1i1uwjw"><input type="text" class="search-input svelte-1i1uwjw" placeholder="ðŸ” Search employees..."/> <select class="filter-select svelte-1i1uwjw"><option>All Departments</option><!></select> <select class="filter-select svelte-1i1uwjw"><option>All Statuses</option><option>Active</option><option>Pending</option><option>Inactive</option></select></div> <!></div> <!>',1);function P1(i,o){Xt(o,!1);const n=Y(),m=Y(),h=gl();let c=Y([]),g=Y([]),_=Y([]),p=Y(!0),u=Y(!1),S=Y(null),C=Y(null),le=Y(new Date().toISOString().split("T")[0]),E=Y(""),T=Y(!1),L=Y(""),z=Y(""),P=Y("");sa(async()=>{await Promise.all([R(),me(),X()])});async function R(){try{const fe=localStorage.getItem("token"),Oe=await fetch("/api/employees",{headers:{Authorization:`Bearer ${fe}`}});Oe.ok&&s(c,await Oe.json())}catch(fe){console.error("Failed to load employees:",fe)}}async function me(){try{const fe=localStorage.getItem("token"),Oe=await fetch("/api/workflows/templates?active=true",{headers:{Authorization:`Bearer ${fe}`}});Oe.ok&&s(g,await Oe.json())}catch(fe){console.error("Failed to load templates:",fe)}finally{s(p,!1)}}async function X(){try{const fe=localStorage.getItem("token"),Oe=await fetch("/api/workflows/assignments/recent",{headers:{Authorization:`Bearer ${fe}`}});Oe.ok?s(_,await Oe.json()):(console.log("Recent assignments endpoint not available"),s(_,[]))}catch(fe){console.error("Failed to load recent assignments:",fe),s(_,[])}}function re(fe){s(S,fe),s(C,null),s(le,new Date().toISOString().split("T")[0]),s(E,""),s(T,!1),s(u,!0)}function Qe(fe){s(C,fe)}async function Je(){if(!e(S)||!e(C)){alert("Please select an employee and template");return}try{const fe=localStorage.getItem("token"),Oe=await fetch("/api/workflows",{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"},body:JSON.stringify({employee_id:e(S).id,template_id:e(C).id,start_date:e(le),notes:e(E),assign_to_manager:e(T)})});if(Oe.ok)s(u,!1),await X(),h("assigned"),alert(`Workflow "${e(C).name}" assigned to ${e(S).first_name} ${e(S).last_name}`);else{const Ie=await Oe.text();alert(`Failed to assign workflow: ${Ie}`)}}catch(fe){console.error("Failed to assign workflow:",fe),alert("Failed to assign workflow")}}function lt(fe){return{active:"green",pending:"yellow",inactive:"gray",completed:"blue"}[fe.toLowerCase()]||"gray"}function ut(fe){return new Date(fe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}Yt(()=>(e(c),e(L),e(z),e(P)),()=>{s(n,e(c).filter(fe=>{const Oe=e(L)===""||`${fe.first_name} ${fe.last_name}`.toLowerCase().includes(e(L).toLowerCase())||fe.email.toLowerCase().includes(e(L).toLowerCase()),Ie=!e(z)||fe.department===e(z),ke=!e(P)||fe.status===e(P);return Oe&&Ie&&ke}))}),Yt(()=>e(c),()=>{s(m,[...new Set(e(c).map(fe=>fe.department).filter(Boolean))])}),za(),na();var ft=z1(),ht=nt(ft),ot=a(t(ht),2);{var rt=fe=>{var Oe=g1(),Ie=a(t(Oe),2);_t(Ie,5,()=>(e(_),r(()=>e(_).slice(0,5))),bt,(ke,ge)=>{var Pe=y1(),Be=t(Pe),Xe=t(Be),Ge=t(Xe),We=a(Xe,2),be=t(We),f=a(We,2),D=t(f),H=a(Be,2),xe=t(H),ne=t(xe),_e=a(t(ne)),ze=a(ne,2),Me=t(ze),Z=a(xe,2);let De;var ae=t(Z);x((B,J,G)=>{l(Ge,(e(ge),r(()=>e(ge).employee_name))),l(be,(e(ge),r(()=>e(ge).template_name))),l(D,`Started: ${B??""} â€¢ Due: ${J??""}`),ca(_e,"stroke-dasharray",`${e(ge),r(()=>e(ge).progress)??""}, 100`),l(Me,`${G??""}%`),De=st(Z,1,"status-badge svelte-1i1uwjw",null,De,{active:e(ge).status==="active",completed:e(ge).status==="completed"}),l(ae,(e(ge),r(()=>e(ge).status)))},[()=>(e(ge),r(()=>ut(e(ge).start_date))),()=>(e(ge),r(()=>ut(e(ge).due_date))),()=>(e(ge),r(()=>Math.round(e(ge).progress)))]),v(ke,Pe)}),v(fe,Oe)};y(ot,fe=>{e(_),r(()=>e(_).length>0)&&fe(rt)})}var At=a(ot,2),it=t(At),ct=a(it,2);x(()=>{e(z),Ut(()=>{e(m)})});var yt=t(ct);yt.value=yt.__value="";var dt=a(yt);_t(dt,1,()=>e(m),bt,(fe,Oe)=>{var Ie=x1(),ke=t(Ie),ge={};x(()=>{l(ke,e(Oe)),ge!==(ge=e(Oe))&&(Ie.value=(Ie.__value=e(Oe))??"")}),v(fe,Ie)});var pt=a(ct,2);x(()=>{e(P),Ut(()=>{})});var wt=t(pt);wt.value=wt.__value="";var St=a(wt);St.value=St.__value="active";var qt=a(St);qt.value=qt.__value="pending";var $t=a(qt);$t.value=$t.__value="inactive";var Ae=a(At,2);{var Ne=fe=>{var Oe=w1();v(fe,Oe)},ye=fe=>{var Oe=Pt(),Ie=nt(Oe);{var ke=Pe=>{var Be=k1();v(Pe,Be)},ge=Pe=>{var Be=j1(),Xe=t(Be),Ge=a(t(Xe));_t(Ge,5,()=>e(n),bt,(We,be)=>{var f=$1(),D=t(f),H=t(D),xe=t(H),ne=t(xe),_e=a(xe,2),ze=t(_e),Me=t(ze),Z=a(ze,2),De=t(Z),ae=a(D),B=t(ae),J=a(ae),G=t(J),$=a(J),j=t($),k=a($),b=t(k),F=t(b),A=a(k),q=t(A);x((w,N)=>{l(ne,`${e(be),r(()=>e(be).first_name[0])??""}${e(be),r(()=>e(be).last_name[0])??""}`),l(Me,`${e(be),r(()=>e(be).first_name)??""} ${e(be),r(()=>e(be).last_name)??""}`),l(De,(e(be),r(()=>e(be).email))),l(B,(e(be),r(()=>e(be).department||"-"))),l(G,(e(be),r(()=>e(be).position||"-"))),l(j,w),st(b,1,`status-pill ${N??""}`,"svelte-1i1uwjw"),l(F,(e(be),r(()=>e(be).status)))},[()=>(e(be),r(()=>ut(e(be).hire_date))),()=>(e(be),r(()=>lt(e(be).status)))]),O("click",q,()=>re(e(be))),v(We,f)}),v(Pe,Be)};y(Ie,Pe=>{e(n),r(()=>e(n).length===0)?Pe(ke):Pe(ge,!1)},!0)}v(fe,Oe)};y(Ae,fe=>{e(p)?fe(Ne):fe(ye,!1)})}var He=a(ht,2);{var Ce=fe=>{var Oe=D1(),Ie=t(Oe),ke=t(Ie),ge=a(t(ke),2),Pe=a(ke,2),Be=t(Pe),Xe=t(Be),Ge=t(Xe),We=a(Xe,2),be=t(We),f=t(be),D=a(be,2),H=t(D),xe=a(Be,2),ne=a(t(xe),2);_t(ne,5,()=>e(g),bt,(b,F)=>{var A=S1();let q;var w=t(A),N=t(w),K=t(N),I=a(N,2),oe=t(I),W=a(w,2),ve=t(W),Q=a(W,2),U=t(Q),V=a(Q,2),se=t(V);x(()=>{var ie;q=st(A,1,"template-option svelte-1i1uwjw",null,q,{selected:((ie=e(C))==null?void 0:ie.id)===e(F).id}),l(K,(e(F),r(()=>e(F).type))),l(oe,`${e(F),r(()=>e(F).estimated_days)??""} days`),l(ve,(e(F),r(()=>e(F).name))),l(U,(e(F),r(()=>e(F).description))),l(se,`${e(F),r(()=>{var we;return((we=e(F).steps)==null?void 0:we.length)||0})??""} steps`)}),O("click",A,()=>Qe(e(F))),v(b,A)});var _e=a(xe,2);{var ze=b=>{var F=C1(),A=a(t(F),2),q=t(A);_t(q,1,()=>(e(C),r(()=>{var K;return((K=e(C).steps)==null?void 0:K.slice(0,3))||[]})),bt,(K,I,oe)=>{var W=A1(),ve=t(W);ve.textContent=oe+1;var Q=a(ve,2),U=t(Q),V=a(Q,2),se=t(V);x(()=>{l(U,(e(I),r(()=>e(I).name))),l(se,`${e(I),r(()=>e(I).estimated_days)??""}d`)}),v(K,W)});var w=a(q,2);{var N=K=>{var I=E1(),oe=t(I);x(()=>l(oe,`+${e(C),r(()=>e(C).steps.length-3)??""} more steps`)),v(K,I)};y(w,K=>{e(C),r(()=>{var I;return(((I=e(C).steps)==null?void 0:I.length)||0)>3})&&K(N)})}v(b,F)};y(_e,b=>{e(C)&&b(ze)})}var Me=a(_e,2),Z=a(t(Me),2),De=a(Me,2),ae=a(t(De),2),B=a(De,2),J=t(B),G=t(J),$=a(Pe,2),j=t($),k=a(j,2);x(()=>{l(Ge,`${e(S),r(()=>e(S).first_name[0])??""}${e(S),r(()=>e(S).last_name[0])??""}`),l(f,`${e(S),r(()=>e(S).first_name)??""} ${e(S),r(()=>e(S).last_name)??""}`),l(H,`${e(S),r(()=>e(S).position)??""} â€¢ ${e(S),r(()=>e(S).department)??""}`),k.disabled=!e(C)}),O("click",ge,()=>s(u,!1)),kt(Z,()=>e(le),b=>s(le,b)),kt(ae,()=>e(E),b=>s(E,b)),ys(G,()=>e(T),b=>s(T,b)),O("click",j,()=>s(u,!1)),O("click",k,Je),O("click",Ie,Gt(function(b){aa.call(this,o,b)})),O("click",Oe,()=>s(u,!1)),v(fe,Oe)};y(He,fe=>{e(u)&&e(S)&&fe(Ce)})}kt(it,()=>e(L),fe=>s(L,fe)),Lt(ct,()=>e(z),fe=>s(z,fe)),Lt(pt,()=>e(P),fe=>s(P,fe)),v(i,ft),Zt()}var T1=d("<option> </option>"),q1=d("<option> </option>"),M1=d("<option> </option>"),B1=d('<div class="loading svelte-1fzb0h5"><div class="spinner svelte-1fzb0h5"></div> <p>Loading workflows...</p></div>'),I1=d('<div class="empty-state svelte-1fzb0h5"><div class="empty-icon svelte-1fzb0h5">ðŸ“‹</div> <h3 class="svelte-1fzb0h5">No Workflows Found</h3> <p class="svelte-1fzb0h5">No workflows match your current filters</p></div>'),R1=d('<span class="overdue-badge svelte-1fzb0h5"> </span>'),F1=d('<span class="days-remaining svelte-1fzb0h5"> </span>'),L1=d('<span class="step-stat overdue svelte-1fzb0h5"> </span>'),O1=d('<button class="btn-action secondary svelte-1fzb0h5">Put On Hold</button>'),N1=d('<button class="btn-action secondary svelte-1fzb0h5">Resume</button>'),U1=d('<div class="workflow-card svelte-1fzb0h5"><div class="workflow-header svelte-1fzb0h5"><div class="workflow-employee svelte-1fzb0h5"><div class="employee-avatar svelte-1fzb0h5"> </div> <div><div class="employee-name svelte-1fzb0h5"> </div> <div class="employee-meta svelte-1fzb0h5"> </div></div></div> <div class="workflow-status"><span class="status-badge svelte-1fzb0h5"> </span></div></div> <div class="workflow-body svelte-1fzb0h5"><div class="workflow-info svelte-1fzb0h5"><h3 class="svelte-1fzb0h5"> </h3> <div class="workflow-meta svelte-1fzb0h5"><span class="meta-item svelte-1fzb0h5"><span class="meta-icon svelte-1fzb0h5">ðŸ“…</span> </span> <span class="meta-item svelte-1fzb0h5"><span class="meta-icon svelte-1fzb0h5">â°</span> <!></span> <span class="meta-item svelte-1fzb0h5"><span class="meta-icon svelte-1fzb0h5">ðŸ‘¤</span> </span></div></div> <div class="workflow-progress svelte-1fzb0h5"><div class="progress-header svelte-1fzb0h5"><span>Progress</span> <span class="progress-percentage svelte-1fzb0h5"> </span></div> <div class="progress-bar svelte-1fzb0h5"><div></div></div> <div class="steps-summary svelte-1fzb0h5"><span class="step-stat complete svelte-1fzb0h5"> </span> <span class="step-stat pending svelte-1fzb0h5"> </span> <!></div></div></div> <div class="workflow-actions svelte-1fzb0h5"><button class="btn-action svelte-1fzb0h5">View Details</button> <!></div></div>'),W1=d('<div class="workflows-list svelte-1fzb0h5"></div>'),H1=d('<div class="stat-item svelte-1fzb0h5"><div class="stat-label svelte-1fzb0h5">Overdue</div> <div class="stat-value overdue svelte-1fzb0h5"> </div></div>'),J1=d("<p>Loading tasks...</p>"),V1=d("<span> </span>"),Y1=d('<div><div class="task-status-icon svelte-1fzb0h5"><!></div> <div class="task-details svelte-1fzb0h5"><div class="task-name svelte-1fzb0h5"> </div> <div class="task-meta svelte-1fzb0h5"><!> <span> </span> <span> </span></div></div> <div class="task-status"><span class="status-pill small"> </span></div></div>'),G1=d('<div class="tasks-list svelte-1fzb0h5"></div>'),K1=d('<div class="modal-overlay svelte-1fzb0h5"><div class="modal large svelte-1fzb0h5"><div class="modal-header svelte-1fzb0h5"><div><h2 class="svelte-1fzb0h5"> </h2> <p class="svelte-1fzb0h5"> </p></div> <button class="close-btn svelte-1fzb0h5">âœ•</button></div> <div class="modal-body svelte-1fzb0h5"><div class="detail-progress svelte-1fzb0h5"><div class="circular-progress svelte-1fzb0h5"><svg viewBox="0 0 120 120" class="svelte-1fzb0h5"><circle cx="60" cy="60" r="54" fill="none" stroke="#e2e8f0" stroke-width="8"></circle><circle cx="60" cy="60" r="54" fill="none" stroke-width="8" transform="rotate(-90 60 60)" stroke-linecap="round"></circle></svg> <div class="progress-center svelte-1fzb0h5"><div class="progress-value svelte-1fzb0h5"> </div> <div class="progress-label svelte-1fzb0h5">Complete</div></div></div> <div class="detail-stats svelte-1fzb0h5"><div class="stat-item svelte-1fzb0h5"><div class="stat-label svelte-1fzb0h5">Total Steps</div> <div class="stat-value svelte-1fzb0h5"> </div></div> <div class="stat-item svelte-1fzb0h5"><div class="stat-label svelte-1fzb0h5">Completed</div> <div class="stat-value complete svelte-1fzb0h5"> </div></div> <div class="stat-item svelte-1fzb0h5"><div class="stat-label svelte-1fzb0h5">Pending</div> <div class="stat-value pending svelte-1fzb0h5"> </div></div> <!></div></div> <div class="tasks-section svelte-1fzb0h5"><h3 class="svelte-1fzb0h5">Workflow Tasks</h3> <!></div></div> <div class="modal-footer svelte-1fzb0h5"><button class="btn-secondary svelte-1fzb0h5">Close</button></div></div></div>'),Q1=d('<div class="workflow-monitoring svelte-1fzb0h5"><div class="monitoring-header svelte-1fzb0h5"><div><h2 class="svelte-1fzb0h5">Workflow Monitoring</h2> <p class="svelte-1fzb0h5">Track and manage employee workflow progress in real-time</p></div> <button class="btn-refresh svelte-1fzb0h5">ðŸ”„ Refresh</button></div> <div class="summary-cards svelte-1fzb0h5"><div class="summary-card svelte-1fzb0h5"><div class="summary-icon svelte-1fzb0h5">ðŸš€</div> <div class="summary-content"><div class="summary-value svelte-1fzb0h5"> </div> <div class="summary-label svelte-1fzb0h5">Active</div></div></div> <div class="summary-card svelte-1fzb0h5"><div class="summary-icon svelte-1fzb0h5">âš ï¸</div> <div class="summary-content"><div class="summary-value svelte-1fzb0h5"> </div> <div class="summary-label svelte-1fzb0h5">With Overdue Steps</div></div></div> <div class="summary-card svelte-1fzb0h5"><div class="summary-icon svelte-1fzb0h5">âœ…</div> <div class="summary-content"><div class="summary-value svelte-1fzb0h5"> </div> <div class="summary-label svelte-1fzb0h5">Completed</div></div></div> <div class="summary-card svelte-1fzb0h5"><div class="summary-icon svelte-1fzb0h5">ðŸ“Š</div> <div class="summary-content"><div class="summary-value svelte-1fzb0h5"> </div> <div class="summary-label svelte-1fzb0h5">Avg Progress</div></div></div></div> <div class="controls svelte-1fzb0h5"><input type="text" class="search-input svelte-1fzb0h5" placeholder="ðŸ” Search by employee name, email, or workflow..."/> <select class="filter-select svelte-1fzb0h5"></select> <select class="filter-select svelte-1fzb0h5"></select> <select class="filter-select svelte-1fzb0h5"></select></div> <!></div> <!>',1);function X1(i,o){Xt(o,!1);const n=Y(),m=gl();let h=Y([]),c=Y(null),g=Y([]),_=Y(!0),p=Y(!1),u=Y(""),S=Y(""),C=Y(""),le=Y("due_date");const E=[{value:"",label:"All Statuses"},{value:"active",label:"Active"},{value:"completed",label:"Completed"},{value:"on_hold",label:"On Hold"},{value:"overdue",label:"Overdue"}],T=[{value:"",label:"All Types"},{value:"onboarding",label:"Onboarding"},{value:"offboarding",label:"Offboarding"},{value:"promotion",label:"Promotion"},{value:"transfer",label:"Transfer"}],L=[{value:"due_date",label:"Due Date"},{value:"progress",label:"Progress"},{value:"start_date",label:"Start Date"},{value:"employee_name",label:"Employee Name"}];sa(async()=>{await z()});async function z(){try{s(_,!0);const f=localStorage.getItem("token"),D=await fetch("/api/onboarding/workflows",{headers:{Authorization:`Bearer ${f}`}});D.ok&&s(h,await D.json())}catch(f){console.error("Failed to load workflows:",f)}finally{s(_,!1)}}async function P(f){s(c,f),await R(f.id),s(p,!0)}async function R(f){try{const D=localStorage.getItem("token"),H=await fetch(`/api/onboarding/workflows/${f}/tasks`,{headers:{Authorization:`Bearer ${D}`}});H.ok&&s(g,await H.json())}catch(D){console.error("Failed to load workflow tasks:",D)}}async function me(f,D){try{const H=localStorage.getItem("token");(await fetch(`/api/onboarding/workflows/${f}`,{method:"PUT",headers:{Authorization:`Bearer ${H}`,"Content-Type":"application/json"},body:JSON.stringify({status:D})})).ok&&(await z(),m("updated"))}catch(H){console.error("Failed to update workflow status:",H)}}function X(f){return{active:"#48bb78",completed:"#4299e1",on_hold:"#ed8936",overdue:"#f56565"}[f]||"#a0aec0"}function re(f){return{active:"ðŸš€",completed:"âœ…",on_hold:"â¸ï¸",overdue:"âš ï¸"}[f]||"ðŸ“‹"}function Qe(f){return new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Je(f){return Math.ceil((new Date(f).getTime()-new Date().getTime())/864e5)}function lt(f){return f<30?"low":f<70?"medium":"high"}Yt(()=>(e(h),e(u),e(S),e(C),e(le)),()=>{s(n,e(h).filter(f=>{const D=!e(u)||f.status===e(u),H=!e(S)||f.workflow_type===e(S),xe=!e(C)||f.employee_name.toLowerCase().includes(e(C).toLowerCase())||f.template_name.toLowerCase().includes(e(C).toLowerCase())||f.employee_email.toLowerCase().includes(e(C).toLowerCase());return D&&H&&xe}).sort((f,D)=>{switch(e(le)){case"progress":return D.progress-f.progress;case"start_date":return new Date(D.start_date).getTime()-new Date(f.start_date).getTime();case"employee_name":return f.employee_name.localeCompare(D.employee_name);default:return new Date(f.due_date).getTime()-new Date(D.due_date).getTime()}}))}),za(),na();var ut=Q1(),ft=nt(ut),ht=t(ft),ot=a(t(ht),2),rt=a(ht,2),At=t(rt),it=a(t(At),2),ct=t(it),yt=t(ct),dt=a(At,2),pt=a(t(dt),2),wt=t(pt),St=t(wt),qt=a(dt,2),$t=a(t(qt),2),Ae=t($t),Ne=t(Ae),ye=a(qt,2),He=a(t(ye),2),Ce=t(He),fe=t(Ce),Oe=a(rt,2),Ie=t(Oe),ke=a(Ie,2);x(()=>{e(u),Ut(()=>{})}),_t(ke,5,()=>E,bt,(f,D)=>{var H=T1(),xe=t(H),ne={};x(()=>{l(xe,(e(D),r(()=>e(D).label))),ne!==(ne=(e(D),r(()=>e(D).value)))&&(H.value=(H.__value=(e(D),r(()=>e(D).value)))??"")}),v(f,H)});var ge=a(ke,2);x(()=>{e(S),Ut(()=>{})}),_t(ge,5,()=>T,bt,(f,D)=>{var H=q1(),xe=t(H),ne={};x(()=>{l(xe,(e(D),r(()=>e(D).label))),ne!==(ne=(e(D),r(()=>e(D).value)))&&(H.value=(H.__value=(e(D),r(()=>e(D).value)))??"")}),v(f,H)});var Pe=a(ge,2);x(()=>{e(le),Ut(()=>{})}),_t(Pe,5,()=>L,bt,(f,D)=>{var H=M1(),xe=t(H),ne={};x(()=>{l(xe,`Sort: ${e(D),r(()=>e(D).label)??""}`),ne!==(ne=(e(D),r(()=>e(D).value)))&&(H.value=(H.__value=(e(D),r(()=>e(D).value)))??"")}),v(f,H)});var Be=a(Oe,2);{var Xe=f=>{var D=B1();v(f,D)},Ge=f=>{var D=Pt(),H=nt(D);{var xe=_e=>{var ze=I1();v(_e,ze)},ne=_e=>{var ze=W1();_t(ze,5,()=>e(n),bt,(Me,Z)=>{var De=U1(),ae=t(De),B=t(ae),J=t(B),G=t(J),$=a(J,2),j=t($),k=t(j),b=a(j,2),F=t(b),A=a(B,2),q=t(A),w=t(q),N=a(ae,2),K=t(N),I=t(K),oe=t(I),W=a(I,2),ve=t(W),Q=a(t(ve)),U=a(ve,2),V=a(t(U)),se=a(V);{var ie=Ue=>{var et=R1(),tt=t(et);x(Ke=>l(tt,`Overdue by ${Ke??""}d`),[()=>(e(Z),r(()=>Math.abs(Je(e(Z).due_date))))]),v(Ue,et)},we=Ue=>{var et=F1(),tt=t(et);x(Ke=>l(tt,`${Ke??""}d left`),[()=>(e(Z),r(()=>Je(e(Z).due_date)))]),v(Ue,et)};y(se,Ue=>{e(Z),r(()=>Je(e(Z).due_date)<0)?Ue(ie):Ue(we,!1)})}var pe=a(U,2),ue=a(t(pe)),Te=a(K,2),he=t(Te),qe=a(t(he),2),Se=t(qe),je=a(he,2),M=t(je),te=a(je,2),de=t(te),ce=t(de),ee=a(de,2),Le=t(ee),Ee=a(ee,2);{var $e=Ue=>{var et=L1(),tt=t(et);x(()=>l(tt,`âš  ${e(Z),r(()=>e(Z).overdue_steps)??""} overdue`)),v(Ue,et)};y(Ee,Ue=>{e(Z),r(()=>e(Z).overdue_steps>0)&&Ue($e)})}var Re=a(N,2),Ze=t(Re),Ve=a(Ze,2);{var Fe=Ue=>{var et=O1();O("click",et,Gt(()=>me(e(Z).id,"on_hold"))),v(Ue,et)},Ye=Ue=>{var et=Pt(),tt=nt(et);{var Ke=vt=>{var xt=N1();O("click",xt,Gt(()=>me(e(Z).id,"active"))),v(vt,xt)};y(tt,vt=>{e(Z),r(()=>e(Z).status==="on_hold")&&vt(Ke)},!0)}v(Ue,et)};y(Ve,Ue=>{e(Z),r(()=>e(Z).status==="active")?Ue(Fe):Ue(Ye,!1)})}x((Ue,et,tt,Ke,vt,xt)=>{l(G,(e(Z),r(()=>e(Z).employee_name[0]))),l(k,(e(Z),r(()=>e(Z).employee_name))),l(F,`${e(Z),r(()=>e(Z).employee_department)??""} â€¢ ${e(Z),r(()=>e(Z).employee_email)??""}`),oa(q,`background-color: ${Ue??""}`),l(w,`${et??""} ${e(Z),r(()=>e(Z).status)??""}`),l(oe,(e(Z),r(()=>e(Z).template_name))),l(Q,` Started: ${tt??""}`),l(V,` Due: ${Ke??""} `),l(ue,` Assigned to: ${e(Z),r(()=>e(Z).assigned_to)??""}`),l(Se,`${vt??""}%`),st(M,1,`progress-fill ${xt??""}`,"svelte-1fzb0h5"),oa(M,`width: ${e(Z),r(()=>e(Z).progress)??""}%`),l(ce,`âœ“ ${e(Z),r(()=>e(Z).completed_steps)??""} completed`),l(Le,`â—‹ ${e(Z),r(()=>e(Z).pending_steps)??""} pending`)},[()=>(e(Z),r(()=>X(e(Z).status))),()=>(e(Z),r(()=>re(e(Z).status))),()=>(e(Z),r(()=>Qe(e(Z).start_date))),()=>(e(Z),r(()=>Qe(e(Z).due_date))),()=>(e(Z),r(()=>Math.round(e(Z).progress))),()=>(e(Z),r(()=>lt(e(Z).progress)))]),O("click",Ze,Gt(()=>P(e(Z)))),O("click",De,()=>P(e(Z))),v(Me,De)}),v(_e,ze)};y(H,_e=>{e(n),r(()=>e(n).length===0)?_e(xe):_e(ne,!1)},!0)}v(f,D)};y(Be,f=>{e(_)?f(Xe):f(Ge,!1)})}var We=a(ft,2);{var be=f=>{var D=K1(),H=t(D),xe=t(H),ne=t(xe),_e=t(ne),ze=t(_e),Me=a(_e,2),Z=t(Me),De=a(ne,2),ae=a(xe,2),B=t(ae),J=t(B),G=t(J),$=a(t(G)),j=a(G,2),k=t(j),b=t(k),F=a(J,2),A=t(F),q=a(t(A),2),w=t(q),N=a(A,2),K=a(t(N),2),I=t(K),oe=a(N,2),W=a(t(oe),2),ve=t(W),Q=a(oe,2);{var U=Te=>{var he=H1(),qe=a(t(he),2),Se=t(qe);x(()=>l(Se,(e(c),r(()=>e(c).overdue_steps)))),v(Te,he)};y(Q,Te=>{e(c),r(()=>e(c).overdue_steps>0)&&Te(U)})}var V=a(B,2),se=a(t(V),2);{var ie=Te=>{var he=J1();v(Te,he)},we=Te=>{var he=G1();_t(he,5,()=>e(g),bt,(qe,Se)=>{var je=Y1();let M;var te=t(je),de=t(te);{var ce=xt=>{var at=ha("âœ…");v(xt,at)},ee=xt=>{var at=ha("â­•");v(xt,at)};y(de,xt=>{e(Se),r(()=>e(Se).status==="completed")?xt(ce):xt(ee,!1)})}var Le=a(te,2),Ee=t(Le),$e=t(Ee),Re=a(Ee,2),Ze=t(Re);{var Ve=xt=>{var at=V1(),Bt=t(at);x(()=>l(Bt,(e(Se),r(()=>e(Se).description)))),v(xt,at)};y(Ze,xt=>{e(Se),r(()=>e(Se).description)&&xt(Ve)})}var Fe=a(Ze,2),Ye=t(Fe),Ue=a(Fe,2),et=t(Ue),tt=a(Le,2),Ke=t(tt),vt=t(Ke);x((xt,at)=>{M=st(je,1,"task-item svelte-1fzb0h5",null,M,{completed:e(Se).status==="completed"}),l($e,(e(Se),r(()=>e(Se).name))),l(Ye,`Assigned to: ${e(Se),r(()=>e(Se).assignee)??""}`),l(et,`Due: ${xt??""}`),oa(Ke,`background-color: ${at??""}`),l(vt,(e(Se),r(()=>e(Se).status)))},[()=>(e(Se),r(()=>Qe(e(Se).due_date))),()=>(e(Se),r(()=>X(e(Se).status)))]),v(qe,je)}),v(Te,he)};y(se,Te=>{e(g),r(()=>e(g).length===0)?Te(ie):Te(we,!1)})}var pe=a(ae,2),ue=t(pe);x((Te,he)=>{l(ze,(e(c),r(()=>e(c).template_name))),l(Z,`${e(c),r(()=>e(c).employee_name)??""} â€¢ ${e(c),r(()=>e(c).employee_department)??""}`),ca($,"stroke",Te),ca($,"stroke-dasharray",`${e(c),r(()=>e(c).progress*3.39)??""}, 339`),l(b,`${he??""}%`),l(w,(e(c),r(()=>e(c).total_steps))),l(I,(e(c),r(()=>e(c).completed_steps))),l(ve,(e(c),r(()=>e(c).pending_steps)))},[()=>(e(c),r(()=>X(e(c).status))),()=>(e(c),r(()=>Math.round(e(c).progress)))]),O("click",De,()=>s(p,!1)),O("click",ue,()=>s(p,!1)),O("click",H,Gt(function(Te){aa.call(this,o,Te)})),O("click",D,()=>s(p,!1)),v(f,D)};y(We,f=>{e(p)&&e(c)&&f(be)})}x((f,D,H,xe)=>{l(yt,f),l(St,D),l(Ne,H),l(fe,`${xe??""}%`)},[()=>(e(h),r(()=>e(h).filter(f=>f.status==="active").length)),()=>(e(h),r(()=>e(h).filter(f=>f.overdue_steps>0).length)),()=>(e(h),r(()=>e(h).filter(f=>f.status==="completed").length)),()=>(e(h),r(()=>e(h).length>0?Math.round(e(h).reduce((f,D)=>f+D.progress,0)/e(h).length):0))]),O("click",ot,z),kt(Ie,()=>e(C),f=>s(C,f)),Lt(ke,()=>e(u),f=>s(u,f)),Lt(ge,()=>e(S),f=>s(S,f)),Lt(Pe,()=>e(le),f=>s(le,f)),v(i,ut),Zt()}var Z1=d('<div class="stat-card pending svelte-1nc03we"><div class="stat-icon svelte-1nc03we">âš ï¸</div> <div class="stat-content svelte-1nc03we"><div class="stat-value svelte-1nc03we"> </div> <div class="stat-label svelte-1nc03we">Pending</div> <div class="stat-sublabel svelte-1nc03we">Requires assignment</div></div></div>'),ef=d('<span class="tab-badge svelte-1nc03we"> </span>'),tf=d('<span class="tab-badge svelte-1nc03we"> </span>'),af=d('<div class="workflow-management svelte-1nc03we"><div class="page-header svelte-1nc03we"><div class="header-content svelte-1nc03we"><h1 class="svelte-1nc03we">Workflow Management</h1> <p class="svelte-1nc03we">Create templates, assign workflows to employees, and monitor progress</p></div></div> <div class="stats-grid svelte-1nc03we"><div class="stat-card svelte-1nc03we"><div class="stat-icon svelte-1nc03we">ðŸ“‹</div> <div class="stat-content svelte-1nc03we"><div class="stat-value svelte-1nc03we"> </div> <div class="stat-label svelte-1nc03we">Templates</div> <div class="stat-sublabel svelte-1nc03we">Available workflow templates</div></div></div> <div class="stat-card active svelte-1nc03we"><div class="stat-icon svelte-1nc03we">ðŸš€</div> <div class="stat-content svelte-1nc03we"><div class="stat-value svelte-1nc03we"> </div> <div class="stat-label svelte-1nc03we">Active Workflows</div> <div class="stat-sublabel svelte-1nc03we">Currently in progress</div></div></div> <div class="stat-card svelte-1nc03we"><div class="stat-icon svelte-1nc03we">âœ…</div> <div class="stat-content svelte-1nc03we"><div class="stat-value svelte-1nc03we"> </div> <div class="stat-label svelte-1nc03we">Completed</div> <div class="stat-sublabel svelte-1nc03we">This month</div></div></div> <div class="stat-card svelte-1nc03we"><div class="stat-icon svelte-1nc03we">â±ï¸</div> <div class="stat-content svelte-1nc03we"><div class="stat-value svelte-1nc03we"> </div> <div class="stat-label svelte-1nc03we">Avg Time</div> <div class="stat-sublabel svelte-1nc03we">To completion</div></div></div> <!></div> <div class="tabs-container svelte-1nc03we"><div class="tabs svelte-1nc03we"><button><span class="tab-icon svelte-1nc03we">ðŸ“‹</span> <div class="tab-content svelte-1nc03we"><span class="tab-title svelte-1nc03we">Add Workflow Template</span> <span class="tab-description svelte-1nc03we">Create reusable workflow templates</span></div></button> <button><span class="tab-icon svelte-1nc03we">ðŸ‘¤</span> <div class="tab-content svelte-1nc03we"><span class="tab-title svelte-1nc03we">Workflow Assign</span> <span class="tab-description svelte-1nc03we">Assign workflows to employees</span></div> <!></button> <button><span class="tab-icon svelte-1nc03we">ðŸ“Š</span> <div class="tab-content svelte-1nc03we"><span class="tab-title svelte-1nc03we">Monitoring</span> <span class="tab-description svelte-1nc03we">Track employee workflow progress</span></div> <!></button></div></div> <div class="tab-panel svelte-1nc03we"><!></div></div>');function sf(i,o){Xt(o,!1);let n=Y("templates"),m=Y({templates:0,activeWorkflows:0,completedThisMonth:0,averageCompletionTime:0,pendingAssignments:0}),h=!0;sa(async()=>{await c()});async function c(){try{h=!0;const He=localStorage.getItem("token"),Ce=await fetch("/api/workflows/stats",{headers:{Authorization:`Bearer ${He}`}});if(Ce.ok){const fe=await Ce.json();s(m,{templates:fe.templates_count||0,activeWorkflows:fe.active_workflows||0,completedThisMonth:fe.completed_this_month||0,averageCompletionTime:Math.round(fe.avg_completion_time||0),pendingAssignments:fe.pending_assignments||0})}}catch(He){console.error("Failed to load workflow stats:",He)}finally{h=!1}}function g(){c()}na();var _=af(),p=a(t(_),2),u=t(p),S=a(t(u),2),C=t(S),le=t(C),E=a(u,2),T=a(t(E),2),L=t(T),z=t(L),P=a(E,2),R=a(t(P),2),me=t(R),X=t(me),re=a(P,2),Qe=a(t(re),2),Je=t(Qe),lt=t(Je),ut=a(re,2);{var ft=He=>{var Ce=Z1(),fe=a(t(Ce),2),Oe=t(fe),Ie=t(Oe);x(()=>l(Ie,e(m).pendingAssignments)),v(He,Ce)};y(ut,He=>{e(m).pendingAssignments>0&&He(ft)})}var ht=a(p,2),ot=t(ht),rt=t(ot);let At;var it=a(rt,2);let ct;var yt=a(t(it),4);{var dt=He=>{var Ce=ef(),fe=t(Ce);x(()=>l(fe,e(m).pendingAssignments)),v(He,Ce)};y(yt,He=>{e(m).pendingAssignments>0&&He(dt)})}var pt=a(it,2);let wt;var St=a(t(pt),4);{var qt=He=>{var Ce=tf(),fe=t(Ce);x(()=>l(fe,e(m).activeWorkflows)),v(He,Ce)};y(St,He=>{e(m).activeWorkflows>0&&He(qt)})}var $t=a(ht,2),Ae=t($t);{var Ne=He=>{h1(He,{$$events:{updated:g}})},ye=He=>{var Ce=Pt(),fe=nt(Ce);{var Oe=ke=>{P1(ke,{$$events:{assigned:g}})},Ie=ke=>{var ge=Pt(),Pe=nt(ge);{var Be=Xe=>{X1(Xe,{$$events:{updated:g}})};y(Pe,Xe=>{e(n)==="monitoring"&&Xe(Be)},!0)}v(ke,ge)};y(fe,ke=>{e(n)==="assign"?ke(Oe):ke(Ie,!1)},!0)}v(He,Ce)};y(Ae,He=>{e(n)==="templates"?He(Ne):He(ye,!1)})}x(()=>{l(le,e(m).templates),l(z,e(m).activeWorkflows),l(X,e(m).completedThisMonth),l(lt,`${e(m).averageCompletionTime??""}d`),At=st(rt,1,"tab svelte-1nc03we",null,At,{active:e(n)==="templates"}),ct=st(it,1,"tab svelte-1nc03we",null,ct,{active:e(n)==="assign"}),wt=st(pt,1,"tab svelte-1nc03we",null,wt,{active:e(n)==="monitoring"})}),O("click",rt,()=>s(n,"templates")),O("click",it,()=>s(n,"assign")),O("click",pt,()=>s(n,"monitoring")),v(i,_),Zt()}var lf=d('<span class="tab-badge svelte-12bepwg"> </span>'),rf=d('<span class="tab-badge svelte-12bepwg"> </span>'),vf=d('<div class="talent-center svelte-12bepwg"><div class="header svelte-12bepwg"><div><h1 class="svelte-12bepwg">ðŸŽ¯ Talent Center</h1> <p class="subtitle svelte-12bepwg">Recruiting, Onboarding & Workflow Management</p></div></div> <div class="tabs svelte-12bepwg"><button><span class="tab-icon svelte-12bepwg">ðŸ“‹</span> <span class="tab-text svelte-12bepwg">Recruiting</span> <!></button> <button><span class="tab-icon svelte-12bepwg">âš™ï¸</span> <span class="tab-text svelte-12bepwg">Workflows</span> <!></button></div> <div class="tab-content svelte-12bepwg"><!></div></div>');function of(i,o){Xt(o,!1);let n=El(o,"initialTab",8,"recruiting"),m=Y(n()),h=Y({activeJobs:0,totalApplicants:0,activeOnboardings:0,workflowTemplates:0});sa(async()=>{await c()});async function c(){try{const X=localStorage.getItem("token"),re=await fetch("/api/recruiting/stats",{headers:{Authorization:`Bearer ${X}`}});if(re.ok){const Je=await re.json();gt(h,e(h).activeJobs=Je.active_jobs||0),gt(h,e(h).totalApplicants=Je.total_applicants||0)}const Qe=await fetch("/api/workflows/stats",{headers:{Authorization:`Bearer ${X}`}});if(Qe.ok){const Je=await Qe.json();gt(h,e(h).activeOnboardings=Je.active_onboardings||0),gt(h,e(h).workflowTemplates=Je.templates_count||0)}}catch(X){console.error("Failed to load stats:",X)}}na();var g=vf(),_=a(t(g),2),p=t(_);let u;var S=a(t(p),4);{var C=X=>{var re=lf(),Qe=t(re);x(()=>l(Qe,(e(h),r(()=>e(h).activeJobs)))),v(X,re)};y(S,X=>{e(h),r(()=>e(h).activeJobs>0)&&X(C)})}var le=a(p,2);let E;var T=a(t(le),4);{var L=X=>{var re=rf(),Qe=t(re);x(()=>l(Qe,(e(h),r(()=>e(h).activeOnboardings)))),v(X,re)};y(T,X=>{e(h),r(()=>e(h).activeOnboardings>0)&&X(L)})}var z=a(_,2),P=t(z);{var R=X=>{s1(X,{$$events:{statsUpdated:c}})},me=X=>{var re=Pt(),Qe=nt(re);{var Je=lt=>{sf(lt,{$$events:{statsUpdated:c}})};y(Qe,lt=>{e(m)==="workflows"&&lt(Je)},!0)}v(X,re)};y(P,X=>{e(m)==="recruiting"?X(R):X(me,!1)})}x(()=>{u=st(p,1,"tab svelte-12bepwg",null,u,{active:e(m)==="recruiting"}),E=st(le,1,"tab svelte-12bepwg",null,E,{active:e(m)==="workflows"})}),O("click",p,()=>s(m,"recruiting")),O("click",le,()=>s(m,"workflows")),v(i,g),Zt()}var nf=d('<span class="tab-badge svelte-5hf7bm"> </span>'),df=d('<span class="tab-badge svelte-5hf7bm"> </span>'),cf=d('<div class="loading svelte-5hf7bm">Loading payroll runs...</div>'),uf=d('<div class="empty-state svelte-5hf7bm"><span class="empty-icon svelte-5hf7bm">ðŸ’µ</span> <p>No payroll runs yet</p></div>'),pf=d('<div class="payroll-actions svelte-5hf7bm"><button class="btn-small primary svelte-5hf7bm">Process Payroll</button></div>'),_f=d('<div class="payroll-card svelte-5hf7bm"><div class="payroll-header svelte-5hf7bm"><div class="payroll-period svelte-5hf7bm"><h3 class="svelte-5hf7bm">Pay Period</h3> <p class="svelte-5hf7bm"> </p></div> <span> </span></div> <div class="payroll-body svelte-5hf7bm"><div class="payroll-stat svelte-5hf7bm"><span class="stat-label svelte-5hf7bm">Pay Date</span> <span class="stat-value svelte-5hf7bm"> </span></div> <div class="payroll-stat svelte-5hf7bm"><span class="stat-label svelte-5hf7bm">Employees</span> <span class="stat-value svelte-5hf7bm"> </span></div> <div class="payroll-stat svelte-5hf7bm"><span class="stat-label svelte-5hf7bm">Gross Pay</span> <span class="stat-value svelte-5hf7bm"> </span></div> <div class="payroll-stat svelte-5hf7bm"><span class="stat-label svelte-5hf7bm">Net Pay</span> <span class="stat-value highlight svelte-5hf7bm"> </span></div></div> <!></div>'),ff=d('<div class="payroll-list svelte-5hf7bm"></div>'),bf=d('<div class="tab-content svelte-5hf7bm"><div class="stats-grid svelte-5hf7bm"><div class="stat-card svelte-5hf7bm"><div class="stat-icon svelte-5hf7bm">ðŸ“…</div> <div class="stat-content svelte-5hf7bm"><div class="stat-label svelte-5hf7bm">Next Pay Date</div> <div class="stat-value svelte-5hf7bm"> </div></div></div> <div class="stat-card svelte-5hf7bm"><div class="stat-icon svelte-5hf7bm">ðŸ’°</div> <div class="stat-content svelte-5hf7bm"><div class="stat-label svelte-5hf7bm">Monthly Payroll</div> <div class="stat-value svelte-5hf7bm"> </div></div></div> <div class="stat-card highlight svelte-5hf7bm"><div class="stat-icon svelte-5hf7bm">â³</div> <div class="stat-content svelte-5hf7bm"><div class="stat-label svelte-5hf7bm">Pending Approval</div> <div class="stat-value svelte-5hf7bm"> </div></div></div> <div class="stat-card svelte-5hf7bm"><div class="stat-icon svelte-5hf7bm">âœ“</div> <div class="stat-content svelte-5hf7bm"><div class="stat-label svelte-5hf7bm">Last Run</div> <div class="stat-value svelte-5hf7bm"> </div></div></div></div> <div class="section-card svelte-5hf7bm"><div class="section-header svelte-5hf7bm"><h2 class="svelte-5hf7bm">Payroll Runs</h2> <button class="btn-primary svelte-5hf7bm">+ New Payroll Run</button></div> <!></div></div>'),mf=d('<div class="loading svelte-5hf7bm">Loading expenses...</div>'),hf=d('<div class="empty-state svelte-5hf7bm"><span class="empty-icon svelte-5hf7bm">ðŸ§¾</span> <p> </p></div>'),yf=d('<div class="expense-card svelte-5hf7bm"><div class="expense-header svelte-5hf7bm"><div class="expense-info svelte-5hf7bm"><h3 class="expense-employee svelte-5hf7bm"> </h3> <p class="expense-description svelte-5hf7bm"> </p></div> <div class="expense-amount svelte-5hf7bm"> </div></div> <div class="expense-meta svelte-5hf7bm"><span class="expense-category svelte-5hf7bm"><span class="meta-icon svelte-5hf7bm">ðŸ·ï¸</span> </span> <span class="expense-date svelte-5hf7bm"><span class="meta-icon svelte-5hf7bm">ðŸ“…</span> </span> <span> </span></div></div>'),gf=d('<div class="expense-list svelte-5hf7bm"></div>'),xf=d('<div class="tab-content svelte-5hf7bm"><div class="stats-grid svelte-5hf7bm"><div class="stat-card highlight svelte-5hf7bm"><div class="stat-icon svelte-5hf7bm">â³</div> <div class="stat-content svelte-5hf7bm"><div class="stat-label svelte-5hf7bm">Pending Approval</div> <div class="stat-value svelte-5hf7bm"> </div> <div class="stat-sublabel svelte-5hf7bm"> </div></div></div> <div class="stat-card svelte-5hf7bm"><div class="stat-icon svelte-5hf7bm">âœ“</div> <div class="stat-content svelte-5hf7bm"><div class="stat-label svelte-5hf7bm">Approved This Month</div> <div class="stat-value svelte-5hf7bm"> </div> <div class="stat-sublabel svelte-5hf7bm"> </div></div></div> <div class="stat-card svelte-5hf7bm"><div class="stat-icon svelte-5hf7bm">ðŸ“Š</div> <div class="stat-content svelte-5hf7bm"><div class="stat-label svelte-5hf7bm">Total Expenses</div> <div class="stat-value svelte-5hf7bm"> </div></div></div></div> <div class="filter-bar svelte-5hf7bm"><button> </button> <button> </button> <button> </button> <button> </button></div> <div class="section-card svelte-5hf7bm"><!></div></div>'),wf=d('<tr><td class="svelte-5hf7bm"> </td><td class="svelte-5hf7bm"> </td><td class="svelte-5hf7bm"> </td><td class="svelte-5hf7bm"> </td><td class="svelte-5hf7bm"> </td><td class="svelte-5hf7bm"> </td><td class="net-pay svelte-5hf7bm"> </td></tr>'),kf=d('<div class="modal-overlay svelte-5hf7bm"><div class="modal large svelte-5hf7bm"><div class="modal-header svelte-5hf7bm"><div><h2 class="svelte-5hf7bm">Payroll Run Details</h2> <p class="modal-subtitle svelte-5hf7bm"> </p></div> <button class="close-btn svelte-5hf7bm">Ã—</button></div> <div class="modal-body svelte-5hf7bm"><div class="payroll-summary svelte-5hf7bm"><div class="summary-item svelte-5hf7bm"><span class="summary-label svelte-5hf7bm">Total Gross</span> <span class="summary-value svelte-5hf7bm"> </span></div> <div class="summary-item svelte-5hf7bm"><span class="summary-label svelte-5hf7bm">Total Taxes</span> <span class="summary-value svelte-5hf7bm"> </span></div> <div class="summary-item svelte-5hf7bm"><span class="summary-label svelte-5hf7bm">Total Net</span> <span class="summary-value highlight svelte-5hf7bm"> </span></div></div> <div class="employee-payroll-table svelte-5hf7bm"><table class="svelte-5hf7bm"><thead><tr><th class="svelte-5hf7bm">Employee</th><th class="svelte-5hf7bm">Department</th><th class="svelte-5hf7bm">Hours</th><th class="svelte-5hf7bm">Gross Pay</th><th class="svelte-5hf7bm">Taxes</th><th class="svelte-5hf7bm">Deductions</th><th class="svelte-5hf7bm">Net Pay</th></tr></thead><tbody></tbody></table></div></div></div></div>'),$f=d('<div class="detail-row full svelte-5hf7bm"><span class="detail-label svelte-5hf7bm">Notes</span> <p class="detail-description svelte-5hf7bm"> </p></div>'),jf=d('<div class="detail-row full svelte-5hf7bm"><button class="btn-link svelte-5hf7bm">ðŸ“Ž View Receipt</button></div>'),Sf=d('<div class="expense-actions svelte-5hf7bm"><button class="btn-primary svelte-5hf7bm">âœ“ Approve</button> <button class="btn-danger svelte-5hf7bm">âœ— Reject</button></div>'),Af=d('<div class="modal-overlay svelte-5hf7bm"><div class="modal svelte-5hf7bm"><div class="modal-header svelte-5hf7bm"><div><h2 class="svelte-5hf7bm">Expense Details</h2> <p class="modal-subtitle svelte-5hf7bm"> </p></div> <button class="close-btn svelte-5hf7bm">Ã—</button></div> <div class="modal-body svelte-5hf7bm"><div class="expense-detail svelte-5hf7bm"><div class="detail-row svelte-5hf7bm"><span class="detail-label svelte-5hf7bm">Category</span> <span class="detail-value svelte-5hf7bm"> </span></div> <div class="detail-row svelte-5hf7bm"><span class="detail-label svelte-5hf7bm">Amount</span> <span class="detail-value svelte-5hf7bm"> </span></div> <div class="detail-row svelte-5hf7bm"><span class="detail-label svelte-5hf7bm">Submitted</span> <span class="detail-value svelte-5hf7bm"> </span></div> <div class="detail-row svelte-5hf7bm"><span class="detail-label svelte-5hf7bm">Status</span> <span> </span></div> <div class="detail-row full svelte-5hf7bm"><span class="detail-label svelte-5hf7bm">Description</span> <p class="detail-description svelte-5hf7bm"> </p></div> <!> <!></div> <!></div></div></div>'),Ef=d('<div class="pay-expenses-container svelte-5hf7bm"><div class="header svelte-5hf7bm"><div><h1 class="svelte-5hf7bm">ðŸ’³ Pay & Expenses</h1> <p class="subtitle svelte-5hf7bm">Manage payroll processing and expense approvals</p></div></div> <div class="tabs svelte-5hf7bm"><button><span class="tab-icon svelte-5hf7bm">ðŸ’µ</span> <span class="tab-text">Payroll</span> <!></button> <button><span class="tab-icon svelte-5hf7bm">ðŸ§¾</span> <span class="tab-text">Expenses</span> <!></button></div> <!></div> <!> <!>',1);function Cf(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=Y(),g=$a();let _=Y("payroll"),p=Y([]),u=Y(null),S=Y([]),C=Y(!1),le=Y(!0),E=Y([]),T=Y(null),L=Y(!1),z=Y("pending"),P=Y(!0),R=Y({nextPayDate:"",totalMonthly:0,pendingApprovals:0,lastRunDate:""}),me=Y({pending:0,pendingAmount:0,approvedThisMonth:0,approvedAmount:0});sa(async()=>{await X(),await ut()});async function X(){try{s(le,!0);const ge=n().token||localStorage.getItem("token"),Pe=await fetch(`${g}/payroll/runs`,{headers:{Authorization:`Bearer ${ge}`}});Pe.ok&&(s(p,await Pe.json()),re())}catch(ge){console.error("Failed to load payroll:",ge)}finally{s(le,!1)}}function re(){const ge=new Date,Pe=e(p).find(Xe=>new Date(Xe.pay_date)>ge&&Xe.status!=="completed"),Be=e(p).filter(Xe=>Xe.status==="completed").sort((Xe,Ge)=>new Date(Ge.pay_date).getTime()-new Date(Xe.pay_date).getTime())[0];gt(R,e(R).nextPayDate=(Pe==null?void 0:Pe.pay_date)||"Not scheduled"),gt(R,e(R).lastRunDate=(Be==null?void 0:Be.pay_date)||"N/A"),gt(R,e(R).totalMonthly=e(p).filter(Xe=>{const Ge=new Date(Xe.pay_date);return Ge.getMonth()===ge.getMonth()&&Ge.getFullYear()===ge.getFullYear()}).reduce((Xe,Ge)=>Xe+Ge.total_net,0)),gt(R,e(R).pendingApprovals=e(p).filter(Xe=>Xe.status==="draft").length)}async function Qe(ge){s(u,ge);try{const Pe=n().token||localStorage.getItem("token"),Be=await fetch(`${g}/payroll/runs/${ge.id}/employees`,{headers:{Authorization:`Bearer ${Pe}`}});Be.ok&&(s(S,await Be.json()),s(C,!0))}catch(Pe){console.error("Failed to load payroll details:",Pe)}}function Je(){s(C,!1),s(u,null),s(S,[])}async function lt(ge){if(confirm("Process this payroll run? This will initiate payments to all employees."))try{const Pe=n().token||localStorage.getItem("token");(await fetch(`${g}/payroll/runs/${ge}/process`,{method:"POST",headers:{Authorization:`Bearer ${Pe}`}})).ok&&(await X(),alert("Payroll processing initiated successfully!"))}catch(Pe){console.error("Failed to process payroll:",Pe),alert("Failed to process payroll: "+Pe.message)}}async function ut(){try{s(P,!0);const ge=n().token||localStorage.getItem("token"),Pe=await fetch(`${g}/expenses`,{headers:{Authorization:`Bearer ${ge}`}});Pe.ok&&(s(E,await Pe.json()),ft())}catch(ge){console.error("Failed to load expenses:",ge)}finally{s(P,!1)}}function ft(){const ge=new Date,Pe=e(E).filter(Be=>{const Xe=new Date(Be.submitted_date);return Xe.getMonth()===ge.getMonth()&&Xe.getFullYear()===ge.getFullYear()});gt(me,e(me).pending=e(E).filter(Be=>Be.status==="pending").length),gt(me,e(me).pendingAmount=e(E).filter(Be=>Be.status==="pending").reduce((Be,Xe)=>Be+Xe.amount,0)),gt(me,e(me).approvedThisMonth=Pe.filter(Be=>Be.status==="approved"||Be.status==="paid").length),gt(me,e(me).approvedAmount=Pe.filter(Be=>Be.status==="approved"||Be.status==="paid").reduce((Be,Xe)=>Be+Xe.amount,0))}function ht(ge){s(T,ge),s(L,!0)}function ot(){s(L,!1),s(T,null)}async function rt(ge,Pe,Be){try{const Xe=n().token||localStorage.getItem("token");(await fetch(`${g}/expenses/${ge}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${Xe}`,"Content-Type":"application/json"},body:JSON.stringify({status:Pe,notes:Be})})).ok&&(await ut(),ot())}catch(Xe){console.error("Failed to update expense:",Xe),alert("Failed to update expense: "+Xe.message)}}function At(ge){return{draft:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",completed:"bg-green-100 text-green-800",paid:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",failed:"bg-red-100 text-red-800"}[ge]||"bg-gray-100 text-gray-800"}Yt(()=>(e(E),e(z)),()=>{s(c,e(E).filter(ge=>e(z)==="all"||ge.status===e(z)))}),za(),na();var it=Ef(),ct=nt(it),yt=a(t(ct),2),dt=t(yt);let pt;var wt=a(t(dt),4);{var St=ge=>{var Pe=nf(),Be=t(Pe);x(()=>l(Be,(e(R),r(()=>e(R).pendingApprovals)))),v(ge,Pe)};y(wt,ge=>{e(R),r(()=>e(R).pendingApprovals>0)&&ge(St)})}var qt=a(dt,2);let $t;var Ae=a(t(qt),4);{var Ne=ge=>{var Pe=df(),Be=t(Pe);x(()=>l(Be,(e(me),r(()=>e(me).pending)))),v(ge,Pe)};y(Ae,ge=>{e(me),r(()=>e(me).pending>0)&&ge(Ne)})}var ye=a(yt,2);{var He=ge=>{var Pe=bf(),Be=t(Pe),Xe=t(Be),Ge=a(t(Xe),2),We=a(t(Ge),2),be=t(We),f=a(Xe,2),D=a(t(f),2),H=a(t(D),2),xe=t(H),ne=a(f,2),_e=a(t(ne),2),ze=a(t(_e),2),Me=t(ze),Z=a(ne,2),De=a(t(Z),2),ae=a(t(De),2),B=t(ae),J=a(Be,2),G=a(t(J),2);{var $=k=>{var b=cf();v(k,b)},j=k=>{var b=Pt(),F=nt(b);{var A=w=>{var N=uf();v(w,N)},q=w=>{var N=ff();_t(N,5,()=>e(p),bt,(K,I)=>{var oe=_f(),W=t(oe),ve=t(W),Q=a(t(ve),2),U=t(Q),V=a(ve,2),se=t(V),ie=a(W,2),we=t(ie),pe=a(t(we),2),ue=t(pe),Te=a(we,2),he=a(t(Te),2),qe=t(he),Se=a(Te,2),je=a(t(Se),2),M=t(je),te=a(Se,2),de=a(t(te),2),ce=t(de),ee=a(ie,2);{var Le=Ee=>{var $e=pf(),Re=t($e);O("click",Re,Gt(()=>lt(e(I).id))),v(Ee,$e)};y(ee,Ee=>{e(I),r(()=>e(I).status==="draft")&&Ee(Le)})}x((Ee,$e,Re,Ze,Ve,Fe)=>{l(U,`${Ee??""} - ${$e??""}`),st(V,1,`status-badge ${Re??""}`,"svelte-5hf7bm"),l(se,(e(I),r(()=>e(I).status))),l(ue,Ze),l(qe,(e(I),r(()=>e(I).employee_count))),l(M,`$${Ve??""}`),l(ce,`$${Fe??""}`)},[()=>(e(I),r(()=>new Date(e(I).period_start).toLocaleDateString())),()=>(e(I),r(()=>new Date(e(I).period_end).toLocaleDateString())),()=>(e(I),r(()=>At(e(I).status))),()=>(e(I),r(()=>new Date(e(I).pay_date).toLocaleDateString())),()=>(e(I),r(()=>e(I).total_gross.toLocaleString())),()=>(e(I),r(()=>e(I).total_net.toLocaleString()))]),O("click",oe,()=>Qe(e(I))),v(K,oe)}),v(w,N)};y(F,w=>{e(p),r(()=>e(p).length===0)?w(A):w(q,!1)},!0)}v(k,b)};y(G,k=>{e(le)?k($):k(j,!1)})}x((k,b,F)=>{l(be,k),l(xe,`$${b??""}`),l(Me,(e(R),r(()=>e(R).pendingApprovals))),l(B,F)},[()=>(e(R),r(()=>e(R).nextPayDate==="Not scheduled"?e(R).nextPayDate:new Date(e(R).nextPayDate).toLocaleDateString())),()=>(e(R),r(()=>e(R).totalMonthly.toLocaleString())),()=>(e(R),r(()=>e(R).lastRunDate==="N/A"?e(R).lastRunDate:new Date(e(R).lastRunDate).toLocaleDateString()))]),v(ge,Pe)},Ce=ge=>{var Pe=xf(),Be=t(Pe),Xe=t(Be),Ge=a(t(Xe),2),We=a(t(Ge),2),be=t(We),f=a(We,2),D=t(f),H=a(Xe,2),xe=a(t(H),2),ne=a(t(xe),2),_e=t(ne),ze=a(ne,2),Me=t(ze),Z=a(H,2),De=a(t(Z),2),ae=a(t(De),2),B=t(ae),J=a(Be,2),G=t(J);let $;var j=t(G),k=a(G,2);let b;var F=t(k),A=a(k,2);let q;var w=t(A),N=a(A,2);let K;var I=t(N),oe=a(J,2),W=t(oe);{var ve=U=>{var V=mf();v(U,V)},Q=U=>{var V=Pt(),se=nt(V);{var ie=pe=>{var ue=hf(),Te=a(t(ue),2),he=t(Te);x(()=>l(he,`No ${(e(z)==="all"?"":e(z))??""} expenses found`)),v(pe,ue)},we=pe=>{var ue=gf();_t(ue,5,()=>e(c),bt,(Te,he)=>{var qe=yf(),Se=t(qe),je=t(Se),M=t(je),te=t(M),de=a(M,2),ce=t(de),ee=a(je,2),Le=t(ee),Ee=a(Se,2),$e=t(Ee),Re=a(t($e)),Ze=a($e,2),Ve=a(t(Ze)),Fe=a(Ze,2),Ye=t(Fe);x((Ue,et,tt)=>{l(te,(e(he),r(()=>e(he).employee_name))),l(ce,(e(he),r(()=>e(he).description))),l(Le,`$${Ue??""}`),l(Re,` ${e(he),r(()=>e(he).category)??""}`),l(Ve,` ${et??""}`),st(Fe,1,`status-badge ${tt??""}`,"svelte-5hf7bm"),l(Ye,(e(he),r(()=>e(he).status)))},[()=>(e(he),r(()=>e(he).amount.toLocaleString())),()=>(e(he),r(()=>new Date(e(he).submitted_date).toLocaleDateString())),()=>(e(he),r(()=>At(e(he).status)))]),O("click",qe,()=>ht(e(he))),v(Te,qe)}),v(pe,ue)};y(se,pe=>{e(c),r(()=>e(c).length===0)?pe(ie):pe(we,!1)},!0)}v(U,V)};y(W,U=>{e(P)?U(ve):U(Q,!1)})}x((U,V,se,ie,we)=>{l(be,(e(me),r(()=>e(me).pending))),l(D,`$${U??""}`),l(_e,(e(me),r(()=>e(me).approvedThisMonth))),l(Me,`$${V??""}`),l(B,(e(E),r(()=>e(E).length))),$=st(G,1,"filter-btn svelte-5hf7bm",null,$,{active:e(z)==="all"}),l(j,`All (${e(E),r(()=>e(E).length)??""})`),b=st(k,1,"filter-btn svelte-5hf7bm",null,b,{active:e(z)==="pending"}),l(F,`Pending (${se??""})`),q=st(A,1,"filter-btn svelte-5hf7bm",null,q,{active:e(z)==="approved"}),l(w,`Approved (${ie??""})`),K=st(N,1,"filter-btn svelte-5hf7bm",null,K,{active:e(z)==="rejected"}),l(I,`Rejected (${we??""})`)},[()=>(e(me),r(()=>e(me).pendingAmount.toLocaleString())),()=>(e(me),r(()=>e(me).approvedAmount.toLocaleString())),()=>(e(E),r(()=>e(E).filter(U=>U.status==="pending").length)),()=>(e(E),r(()=>e(E).filter(U=>U.status==="approved").length)),()=>(e(E),r(()=>e(E).filter(U=>U.status==="rejected").length))]),O("click",G,()=>s(z,"all")),O("click",k,()=>s(z,"pending")),O("click",A,()=>s(z,"approved")),O("click",N,()=>s(z,"rejected")),v(ge,Pe)};y(ye,ge=>{e(_)==="payroll"?ge(He):ge(Ce,!1)})}var fe=a(ct,2);{var Oe=ge=>{var Pe=kf(),Be=t(Pe),Xe=t(Be),Ge=t(Xe),We=a(t(Ge),2),be=t(We),f=a(Ge,2),D=a(Xe,2),H=t(D),xe=t(H),ne=a(t(xe),2),_e=t(ne),ze=a(xe,2),Me=a(t(ze),2),Z=t(Me),De=a(ze,2),ae=a(t(De),2),B=t(ae),J=a(H,2),G=t(J),$=a(t(G));_t($,5,()=>e(S),bt,(j,k)=>{var b=wf(),F=t(b),A=t(F),q=a(F),w=t(q),N=a(q),K=t(N),I=a(N),oe=t(I),W=a(I),ve=t(W),Q=a(W),U=t(Q),V=a(Q),se=t(V);x((ie,we,pe,ue)=>{l(A,(e(k),r(()=>e(k).employee_name))),l(w,(e(k),r(()=>e(k).department))),l(K,(e(k),r(()=>e(k).hours_worked||"-"))),l(oe,`$${ie??""}`),l(ve,`$${we??""}`),l(U,`$${pe??""}`),l(se,`$${ue??""}`)},[()=>(e(k),r(()=>e(k).gross_pay.toLocaleString())),()=>(e(k),r(()=>e(k).taxes.toLocaleString())),()=>(e(k),r(()=>e(k).deductions.toLocaleString())),()=>(e(k),r(()=>e(k).net_pay.toLocaleString()))]),v(j,b)}),x((j,k,b,F,A)=>{l(be,`Pay Period: ${j??""} - 
            ${k??""}`),l(_e,`$${b??""}`),l(Z,`$${F??""}`),l(B,`$${A??""}`)},[()=>(e(u),r(()=>new Date(e(u).period_start).toLocaleDateString())),()=>(e(u),r(()=>new Date(e(u).period_end).toLocaleDateString())),()=>(e(u),r(()=>e(u).total_gross.toLocaleString())),()=>(e(u),r(()=>e(u).total_taxes.toLocaleString())),()=>(e(u),r(()=>e(u).total_net.toLocaleString()))]),O("click",f,Je),O("click",Be,Gt(function(j){aa.call(this,o,j)})),O("click",Pe,Je),v(ge,Pe)};y(fe,ge=>{e(C)&&e(u)&&ge(Oe)})}var Ie=a(fe,2);{var ke=ge=>{var Pe=Af(),Be=t(Pe),Xe=t(Be),Ge=t(Xe),We=a(t(Ge),2),be=t(We),f=a(Ge,2),D=a(Xe,2),H=t(D),xe=t(H),ne=a(t(xe),2),_e=t(ne),ze=a(xe,2),Me=a(t(ze),2),Z=t(Me),De=a(ze,2),ae=a(t(De),2),B=t(ae),J=a(De,2),G=a(t(J),2),$=t(G),j=a(J,2),k=a(t(j),2),b=t(k),F=a(j,2);{var A=I=>{var oe=$f(),W=a(t(oe),2),ve=t(W);x(()=>l(ve,(e(T),r(()=>e(T).notes)))),v(I,oe)};y(F,I=>{e(T),r(()=>e(T).notes)&&I(A)})}var q=a(F,2);{var w=I=>{var oe=jf(),W=t(oe);O("click",W,()=>window.open(e(T).receipt_url,"_blank")),v(I,oe)};y(q,I=>{e(T),r(()=>e(T).receipt_url)&&I(w)})}var N=a(H,2);{var K=I=>{var oe=Sf(),W=t(oe),ve=a(W,2);O("click",W,()=>rt(e(T).id,"approved")),O("click",ve,()=>{const Q=prompt("Reason for rejection (optional):");rt(e(T).id,"rejected",Q||void 0)}),v(I,oe)};y(N,I=>{e(T),r(()=>e(T).status==="pending")&&I(K)})}x((I,oe,W)=>{l(be,(e(T),r(()=>e(T).employee_name))),l(_e,(e(T),r(()=>e(T).category))),l(Z,`$${I??""} ${e(T),r(()=>e(T).currency)??""}`),l(B,oe),st(G,1,`status-badge ${W??""}`,"svelte-5hf7bm"),l($,(e(T),r(()=>e(T).status))),l(b,(e(T),r(()=>e(T).description)))},[()=>(e(T),r(()=>e(T).amount.toLocaleString())),()=>(e(T),r(()=>new Date(e(T).submitted_date).toLocaleDateString())),()=>(e(T),r(()=>At(e(T).status)))]),O("click",f,ot),O("click",Be,Gt(function(I){aa.call(this,o,I)})),O("click",Pe,ot),v(ge,Pe)};y(Ie,ge=>{e(L)&&e(T)&&ge(ke)})}x(()=>{pt=st(dt,1,"tab svelte-5hf7bm",null,pt,{active:e(_)==="payroll"}),$t=st(qt,1,"tab svelte-5hf7bm",null,$t,{active:e(_)==="expenses"})}),O("click",dt,()=>s(_,"payroll")),O("click",qt,()=>s(_,"expenses")),v(i,it),Zt(),h()}var Df=d('<span class="tab-badge svelte-19zd8uh"> </span>'),zf=d('<span class="tab-badge svelte-19zd8uh"> </span>'),Pf=d('<span class="tab-badge svelte-19zd8uh"> </span>'),Tf=d('<div class="loading svelte-19zd8uh">Loading compliance data...</div>'),qf=d('<div class="category-card svelte-19zd8uh"><div class="category-header svelte-19zd8uh"><h3 class="svelte-19zd8uh"> </h3> <span> </span></div> <div class="category-score svelte-19zd8uh"><div class="score-bar svelte-19zd8uh"><div class="score-fill svelte-19zd8uh"></div></div> <span class="score-text svelte-19zd8uh"> </span></div> <div class="category-details svelte-19zd8uh"><span class="detail-item svelte-19zd8uh"><span class="detail-icon svelte-19zd8uh">âš ï¸</span> </span> <span class="detail-item svelte-19zd8uh"><span class="detail-icon svelte-19zd8uh">ðŸ”</span> </span></div></div>'),Mf=d('<div class="tab-content svelte-19zd8uh"><div class="stats-grid svelte-19zd8uh"><div class="stat-card large svelte-19zd8uh"><div><div class="score-value svelte-19zd8uh"> </div> <div class="score-label svelte-19zd8uh">Overall Compliance</div></div></div> <div><div class="stat-icon svelte-19zd8uh">âš ï¸</div> <div class="stat-content svelte-19zd8uh"><div class="stat-value svelte-19zd8uh"> </div> <div class="stat-label svelte-19zd8uh">Critical Issues</div> <div class="stat-sublabel svelte-19zd8uh">Requires immediate attention</div></div></div> <div><div class="stat-icon svelte-19zd8uh">ðŸ“…</div> <div class="stat-content svelte-19zd8uh"><div class="stat-value svelte-19zd8uh"> </div> <div class="stat-label svelte-19zd8uh">Upcoming Deadlines</div> <div class="stat-sublabel svelte-19zd8uh">Next 30 days</div></div></div></div> <div class="section-card svelte-19zd8uh"><div class="section-header svelte-19zd8uh"><h2 class="svelte-19zd8uh">Compliance Categories</h2></div> <div class="categories-grid svelte-19zd8uh"></div></div></div>'),Bf=d('<div class="empty-state svelte-19zd8uh"><span class="empty-icon svelte-19zd8uh">ðŸ“„</span> <p> </p></div>'),If=d('<div class="date-item svelte-19zd8uh"><span class="date-label svelte-19zd8uh">Expires:</span> <span class="date-value svelte-19zd8uh"> </span></div>'),Rf=d('<div class="document-card svelte-19zd8uh"><div class="document-header svelte-19zd8uh"><div class="document-icon svelte-19zd8uh"> </div> <span> </span></div> <h3 class="document-title svelte-19zd8uh"> </h3> <div class="document-meta svelte-19zd8uh"><span class="meta-item svelte-19zd8uh"><span class="meta-icon svelte-19zd8uh">ðŸ·ï¸</span> </span> <span class="meta-item svelte-19zd8uh"><span class="meta-icon svelte-19zd8uh">ðŸ¢</span> </span></div> <div class="document-dates svelte-19zd8uh"><!> <div class="date-item svelte-19zd8uh"><span class="date-label svelte-19zd8uh">Reviewed:</span> <span class="date-value svelte-19zd8uh"> </span></div></div></div>'),Ff=d('<div class="documents-grid svelte-19zd8uh"></div>'),Lf=d('<div class="tab-content svelte-19zd8uh"><div class="filter-bar svelte-19zd8uh"><button> </button> <button> </button> <button> </button> <button> </button> <button> </button></div> <div class="section-card svelte-19zd8uh"><!></div></div>'),Of=d('<div class="empty-state svelte-19zd8uh"><span class="empty-icon svelte-19zd8uh">ðŸŽ“</span> <p>No training modules found</p></div>'),Nf=d('<div class="training-due svelte-19zd8uh"><span class="due-icon svelte-19zd8uh">ðŸ“…</span> </div>'),Uf=d('<div class="training-badge svelte-19zd8uh"><span class="required-badge svelte-19zd8uh">Required</span></div>'),Wf=d('<div class="training-card svelte-19zd8uh"><div class="training-header svelte-19zd8uh"><div><h3 class="training-title svelte-19zd8uh"> </h3> <p class="training-category svelte-19zd8uh"> </p></div> <span> </span></div> <div class="training-progress svelte-19zd8uh"><div class="progress-header svelte-19zd8uh"><span class="progress-label svelte-19zd8uh">Completion Rate</span> <span class="progress-value svelte-19zd8uh"> </span></div> <div class="progress-bar svelte-19zd8uh"><div class="progress-fill svelte-19zd8uh"></div></div> <div class="progress-stats svelte-19zd8uh"><span class="stat-text svelte-19zd8uh"> </span> <span class="stat-divider svelte-19zd8uh">â€¢</span> <span class="stat-text svelte-19zd8uh"> </span> <span class="stat-divider svelte-19zd8uh">â€¢</span> <span class="stat-text svelte-19zd8uh"> </span></div></div> <!> <!></div>'),Hf=d('<div class="training-list svelte-19zd8uh"></div>'),Jf=d('<div class="tab-content svelte-19zd8uh"><div class="section-card svelte-19zd8uh"><div class="section-header svelte-19zd8uh"><h2 class="svelte-19zd8uh">Training Compliance</h2> <button class="btn-primary svelte-19zd8uh">+ Assign Training</button></div> <!></div></div>'),Vf=d('<div class="empty-state svelte-19zd8uh"><span class="empty-icon svelte-19zd8uh">ðŸ”</span> <p> </p></div>'),Yf=d('<div class="audit-card svelte-19zd8uh"><div class="audit-header svelte-19zd8uh"><div class="audit-severity svelte-19zd8uh"> </div> <span> </span></div> <h3 class="audit-title svelte-19zd8uh"> </h3> <p class="audit-description svelte-19zd8uh"> </p> <div class="audit-meta svelte-19zd8uh"><span class="meta-item svelte-19zd8uh"><span class="meta-icon svelte-19zd8uh">ðŸ·ï¸</span> </span> <span class="meta-item svelte-19zd8uh"><span class="meta-icon svelte-19zd8uh">ðŸ‘¤</span> </span> <span class="meta-item svelte-19zd8uh"><span class="meta-icon svelte-19zd8uh">ðŸ“…</span> </span></div></div>'),Gf=d('<div class="audit-list svelte-19zd8uh"></div>'),Kf=d('<div class="tab-content svelte-19zd8uh"><div class="filter-bar svelte-19zd8uh"><button> </button> <button> </button> <button> </button> <button> </button></div> <div class="section-card svelte-19zd8uh"><!></div></div>'),Qf=d('<div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Expiry Date</span> <span class="detail-value svelte-19zd8uh"> </span></div>'),Xf=d('<div class="modal-actions svelte-19zd8uh"><button class="btn-primary svelte-19zd8uh">ðŸ“„ View Document</button></div>'),Zf=d('<div class="modal-overlay svelte-19zd8uh"><div class="modal svelte-19zd8uh"><div class="modal-header svelte-19zd8uh"><div><h2 class="svelte-19zd8uh"> </h2> <p class="modal-subtitle svelte-19zd8uh"> </p></div> <button class="close-btn svelte-19zd8uh">Ã—</button></div> <div class="modal-body svelte-19zd8uh"><div class="detail-grid svelte-19zd8uh"><div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Type</span> <span class="detail-value svelte-19zd8uh"> </span></div> <div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Status</span> <span> </span></div> <div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Department</span> <span class="detail-value svelte-19zd8uh"> </span></div> <div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Owner</span> <span class="detail-value svelte-19zd8uh"> </span></div> <!> <div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Last Reviewed</span> <span class="detail-value svelte-19zd8uh"> </span></div></div> <!></div></div></div>'),eb=d('<div class="info-banner svelte-19zd8uh"><span class="banner-icon svelte-19zd8uh">ðŸ“…</span> <div class="banner-content svelte-19zd8uh"><strong>Due Date:</strong> </div></div>'),tb=d('<div class="modal-overlay svelte-19zd8uh"><div class="modal large svelte-19zd8uh"><div class="modal-header svelte-19zd8uh"><div><h2 class="svelte-19zd8uh"> </h2> <p class="modal-subtitle svelte-19zd8uh"> </p></div> <button class="close-btn svelte-19zd8uh">Ã—</button></div> <div class="modal-body svelte-19zd8uh"><div class="training-detail svelte-19zd8uh"><div class="completion-summary svelte-19zd8uh"><div class="summary-circle svelte-19zd8uh"><div class="summary-inner svelte-19zd8uh"><div class="summary-value svelte-19zd8uh"> </div> <div class="summary-label svelte-19zd8uh">Complete</div></div></div> <div class="summary-stats svelte-19zd8uh"><div class="summary-stat svelte-19zd8uh"><span class="stat-value svelte-19zd8uh"> </span> <span class="stat-label svelte-19zd8uh">Completed</span></div> <div class="summary-stat svelte-19zd8uh"><span class="stat-value svelte-19zd8uh"> </span> <span class="stat-label svelte-19zd8uh">Pending</span></div> <div class="summary-stat svelte-19zd8uh"><span class="stat-value svelte-19zd8uh"> </span> <span class="stat-label svelte-19zd8uh">Total</span></div></div></div> <!></div></div></div></div>'),ab=d('<div class="detail-row full svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Findings</span> <p class="detail-description svelte-19zd8uh"> </p></div>'),sb=d('<div class="detail-row full svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Resolution</span> <p class="detail-description svelte-19zd8uh"> </p></div>'),lb=d('<div class="modal-actions svelte-19zd8uh"><button class="btn-primary svelte-19zd8uh">Start Progress</button></div>'),rb=d('<div class="modal-actions svelte-19zd8uh"><button class="btn-primary svelte-19zd8uh">Mark Resolved</button></div>'),ib=d('<div class="modal-overlay svelte-19zd8uh"><div class="modal svelte-19zd8uh"><div class="modal-header svelte-19zd8uh"><div><h2 class="svelte-19zd8uh"> </h2> <p class="modal-subtitle svelte-19zd8uh"> </p></div> <button class="close-btn svelte-19zd8uh">Ã—</button></div> <div class="modal-body svelte-19zd8uh"><div class="audit-severity-banner svelte-19zd8uh"><span class="severity-icon svelte-19zd8uh">âš ï¸</span> <strong> </strong></div> <div class="detail-grid svelte-19zd8uh"><div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Status</span> <span> </span></div> <div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Assigned To</span> <span class="detail-value svelte-19zd8uh"> </span></div> <div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Due Date</span> <span class="detail-value svelte-19zd8uh"> </span></div> <div class="detail-row svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Created</span> <span class="detail-value svelte-19zd8uh"> </span></div> <div class="detail-row full svelte-19zd8uh"><span class="detail-label svelte-19zd8uh">Description</span> <p class="detail-description svelte-19zd8uh"> </p></div> <!> <!></div> <!></div></div></div>'),vb=d('<div class="compliance-dashboard svelte-19zd8uh"><div class="header svelte-19zd8uh"><div><h1 class="svelte-19zd8uh">âš–ï¸ Compliance Dashboard</h1> <p class="subtitle svelte-19zd8uh">Monitor regulatory compliance, training, and audit requirements</p></div></div> <div class="tabs svelte-19zd8uh"><button><span class="tab-icon svelte-19zd8uh">ðŸ“Š</span> <span class="tab-text">Overview</span></button> <button><span class="tab-icon svelte-19zd8uh">ðŸ“„</span> <span class="tab-text">Documents</span> <!></button> <button><span class="tab-icon svelte-19zd8uh">ðŸŽ“</span> <span class="tab-text">Training</span> <!></button> <button><span class="tab-icon svelte-19zd8uh">ðŸ”</span> <span class="tab-text">Audits</span> <!></button></div> <!></div> <!> <!> <!>',1);function ob(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=Y(),g=Y(),_=$a();let p=Y("overview"),u=Y([]),S=Y(0),C=Y(0),le=Y(0),E=Y([]),T=Y("all"),L=Y([]),z=Y([]),P=Y("open"),R=Y(null),me=Y(null),X=Y(null),re=Y(!1),Qe=Y(!1),Je=Y(!1),lt=Y(!0);sa(async()=>{await ut()});async function ut(){try{s(lt,!0);const H=n().token||localStorage.getItem("token"),[xe,ne,_e,ze]=await Promise.all([fetch(`${_}/compliance/metrics`,{headers:{Authorization:`Bearer ${H}`}}),fetch(`${_}/compliance/documents`,{headers:{Authorization:`Bearer ${H}`}}),fetch(`${_}/compliance/training`,{headers:{Authorization:`Bearer ${H}`}}),fetch(`${_}/compliance/audits`,{headers:{Authorization:`Bearer ${H}`}})]);if(xe.ok){const Me=await xe.json();s(u,Me.metrics||[]),s(S,Me.overall_score||0),s(C,Me.critical_issues||0),s(le,Me.upcoming_deadlines||0)}ne.ok&&s(E,await ne.json()),_e.ok&&s(L,await _e.json()),ze.ok&&s(z,await ze.json())}catch(H){console.error("Failed to load compliance data:",H)}finally{s(lt,!1)}}function ft(H){return{compliant:"bg-green-100 text-green-800",current:"bg-green-100 text-green-800","on-track":"bg-green-100 text-green-800",resolved:"bg-green-100 text-green-800",closed:"bg-gray-100 text-gray-800",warning:"bg-yellow-100 text-yellow-800",expiring:"bg-yellow-100 text-yellow-800","at-risk":"bg-yellow-100 text-yellow-800","in-progress":"bg-blue-100 text-blue-800",critical:"bg-red-100 text-red-800",expired:"bg-red-100 text-red-800",missing:"bg-red-100 text-red-800",overdue:"bg-red-100 text-red-800",open:"bg-purple-100 text-purple-800"}[H]||"bg-gray-100 text-gray-800"}function ht(H){return{low:"#10b981",medium:"#f59e0b",high:"#f97316",critical:"#ef4444"}[H]||"#6b7280"}function ot(H){s(R,H),s(re,!0)}function rt(H){s(me,H),s(Qe,!0)}function At(H){s(X,H),s(Je,!0)}async function it(H,xe){try{const ne=n().token||localStorage.getItem("token");await fetch(`${_}/compliance/audits/${H}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"},body:JSON.stringify({status:xe})}),await ut(),s(Je,!1)}catch(ne){console.error("Failed to update audit:",ne)}}Yt(()=>(e(E),e(T)),()=>{s(c,e(E).filter(H=>e(T)==="all"||H.status===e(T)))}),Yt(()=>(e(z),e(P)),()=>{s(g,e(z).filter(H=>e(P)==="all"||H.status===e(P)))}),za(),na();var ct=vb(),yt=nt(ct),dt=a(t(yt),2),pt=t(dt);let wt;var St=a(pt,2);let qt;var $t=a(t(St),4);{var Ae=H=>{var xe=Df(),ne=t(xe);x(_e=>l(ne,_e),[()=>(e(E),r(()=>e(E).filter(_e=>_e.status==="expired"||_e.status==="expiring").length))]),v(H,xe)};y($t,H=>{e(E),r(()=>e(E).filter(xe=>xe.status==="expired"||xe.status==="expiring").length>0)&&H(Ae)})}var Ne=a(St,2);let ye;var He=a(t(Ne),4);{var Ce=H=>{var xe=zf(),ne=t(xe);x(_e=>l(ne,_e),[()=>(e(L),r(()=>e(L).filter(_e=>_e.status==="overdue"||_e.status==="at-risk").length))]),v(H,xe)};y(He,H=>{e(L),r(()=>e(L).filter(xe=>xe.status==="overdue"||xe.status==="at-risk").length>0)&&H(Ce)})}var fe=a(Ne,2);let Oe;var Ie=a(t(fe),4);{var ke=H=>{var xe=Pf(),ne=t(xe);x(_e=>l(ne,_e),[()=>(e(z),r(()=>e(z).filter(_e=>_e.status==="open"||_e.status==="in-progress").length))]),v(H,xe)};y(Ie,H=>{e(z),r(()=>e(z).filter(xe=>xe.status==="open"||xe.status==="in-progress").length>0)&&H(ke)})}var ge=a(dt,2);{var Pe=H=>{var xe=Tf();v(H,xe)},Be=H=>{var xe=Pt(),ne=nt(xe);{var _e=Me=>{var Z=Mf(),De=t(Z),ae=t(De),B=t(ae);let J;var G=t(B),$=t(G),j=a(ae,2);let k;var b=a(t(j),2),F=t(b),A=t(F),q=a(j,2);let w;var N=a(t(q),2),K=t(N),I=t(K),oe=a(De,2),W=a(t(oe),2);_t(W,5,()=>e(u),bt,(ve,Q)=>{var U=qf(),V=t(U),se=t(V),ie=t(se),we=a(se,2),pe=t(we),ue=a(V,2),Te=t(ue),he=t(Te),qe=a(Te,2),Se=t(qe),je=a(ue,2),M=t(je),te=a(t(M)),de=a(M,2),ce=a(t(de));x((ee,Le,Ee)=>{l(ie,(e(Q),r(()=>e(Q).category))),st(we,1,`status-badge ${ee??""}`,"svelte-19zd8uh"),l(pe,(e(Q),r(()=>e(Q).status))),oa(he,`width: ${e(Q),r(()=>e(Q).score)??""}%; background: ${Le??""}`),l(Se,`${e(Q),r(()=>e(Q).score)??""}%`),l(te,` ${e(Q),r(()=>e(Q).issues)??""} issues`),l(ce,` Last audit: ${Ee??""}`)},[()=>(e(Q),r(()=>ft(e(Q).status))),()=>(e(Q),r(()=>ht(e(Q).status==="critical"?"critical":e(Q).status==="warning"?"medium":"low"))),()=>(e(Q),r(()=>new Date(e(Q).last_audit).toLocaleDateString()))]),v(ve,U)}),x(()=>{J=st(B,1,"score-circle svelte-19zd8uh",null,J,{critical:e(S)<70,warning:e(S)>=70&&e(S)<85,good:e(S)>=85}),l($,`${e(S)??""}%`),k=st(j,1,"stat-card svelte-19zd8uh",null,k,{highlight:e(C)>0}),l(A,e(C)),w=st(q,1,"stat-card svelte-19zd8uh",null,w,{highlight:e(le)>0}),l(I,e(le))}),v(Me,Z)},ze=Me=>{var Z=Pt(),De=nt(Z);{var ae=J=>{var G=Lf(),$=t(G),j=t($);let k;var b=t(j),F=a(j,2);let A;var q=t(F),w=a(F,2);let N;var K=t(w),I=a(w,2);let oe;var W=t(I),ve=a(I,2);let Q;var U=t(ve),V=a($,2),se=t(V);{var ie=pe=>{var ue=Bf(),Te=a(t(ue),2),he=t(Te);x(()=>l(he,`No ${(e(T)==="all"?"":e(T))??""} documents found`)),v(pe,ue)},we=pe=>{var ue=Ff();_t(ue,5,()=>e(c),bt,(Te,he)=>{var qe=Rf(),Se=t(qe),je=t(Se),M=t(je),te=a(je,2),de=t(te),ce=a(Se,2),ee=t(ce),Le=a(ce,2),Ee=t(Le),$e=a(t(Ee)),Re=a(Ee,2),Ze=a(t(Re)),Ve=a(Le,2),Fe=t(Ve);{var Ye=Ke=>{var vt=If(),xt=a(t(vt),2),at=t(xt);x(Bt=>l(at,Bt),[()=>(e(he),r(()=>new Date(e(he).expiry_date).toLocaleDateString()))]),v(Ke,vt)};y(Fe,Ke=>{e(he),r(()=>e(he).expiry_date)&&Ke(Ye)})}var Ue=a(Fe,2),et=a(t(Ue),2),tt=t(et);x((Ke,vt)=>{l(M,(e(he),r(()=>e(he).type==="policy"?"ðŸ“‹":e(he).type==="certificate"?"ðŸ†":e(he).type==="form"?"ðŸ“":"ðŸ“„"))),st(te,1,`status-badge ${Ke??""}`,"svelte-19zd8uh"),l(de,(e(he),r(()=>e(he).status))),l(ee,(e(he),r(()=>e(he).title))),l($e,` ${e(he),r(()=>e(he).category)??""}`),l(Ze,` ${e(he),r(()=>e(he).department)??""}`),l(tt,vt)},[()=>(e(he),r(()=>ft(e(he).status))),()=>(e(he),r(()=>new Date(e(he).last_reviewed).toLocaleDateString()))]),O("click",qe,()=>ot(e(he))),v(Te,qe)}),v(pe,ue)};y(se,pe=>{e(c),r(()=>e(c).length===0)?pe(ie):pe(we,!1)})}x((pe,ue,Te,he)=>{k=st(j,1,"filter-btn svelte-19zd8uh",null,k,{active:e(T)==="all"}),l(b,`All (${e(E),r(()=>e(E).length)??""})`),A=st(F,1,"filter-btn svelte-19zd8uh",null,A,{active:e(T)==="current"}),l(q,`Current (${pe??""})`),N=st(w,1,"filter-btn svelte-19zd8uh",null,N,{active:e(T)==="expiring"}),l(K,`Expiring (${ue??""})`),oe=st(I,1,"filter-btn svelte-19zd8uh",null,oe,{active:e(T)==="expired"}),l(W,`Expired (${Te??""})`),Q=st(ve,1,"filter-btn svelte-19zd8uh",null,Q,{active:e(T)==="missing"}),l(U,`Missing (${he??""})`)},[()=>(e(E),r(()=>e(E).filter(pe=>pe.status==="current").length)),()=>(e(E),r(()=>e(E).filter(pe=>pe.status==="expiring").length)),()=>(e(E),r(()=>e(E).filter(pe=>pe.status==="expired").length)),()=>(e(E),r(()=>e(E).filter(pe=>pe.status==="missing").length))]),O("click",j,()=>s(T,"all")),O("click",F,()=>s(T,"current")),O("click",w,()=>s(T,"expiring")),O("click",I,()=>s(T,"expired")),O("click",ve,()=>s(T,"missing")),v(J,G)},B=J=>{var G=Pt(),$=nt(G);{var j=b=>{var F=Jf(),A=t(F),q=a(t(A),2);{var w=K=>{var I=Of();v(K,I)},N=K=>{var I=Hf();_t(I,5,()=>e(L),bt,(oe,W)=>{var ve=Wf(),Q=t(ve),U=t(Q),V=t(U),se=t(V),ie=a(V,2),we=t(ie),pe=a(U,2),ue=t(pe),Te=a(Q,2),he=t(Te),qe=a(t(he),2),Se=t(qe),je=a(he,2),M=t(je),te=a(je,2),de=t(te),ce=t(de),ee=a(de,4),Le=t(ee),Ee=a(ee,4),$e=t(Ee),Re=a(Te,2);{var Ze=Ye=>{var Ue=Nf(),et=a(t(Ue));x(tt=>l(et,` Due: ${tt??""}`),[()=>(e(W),r(()=>new Date(e(W).due_date).toLocaleDateString()))]),v(Ye,Ue)};y(Re,Ye=>{e(W),r(()=>e(W).due_date)&&Ye(Ze)})}var Ve=a(Re,2);{var Fe=Ye=>{var Ue=Uf();v(Ye,Ue)};y(Ve,Ye=>{e(W),r(()=>e(W).required)&&Ye(Fe)})}x(Ye=>{l(se,(e(W),r(()=>e(W).title))),l(we,(e(W),r(()=>e(W).category))),st(pe,1,`status-badge ${Ye??""}`,"svelte-19zd8uh"),l(ue,(e(W),r(()=>e(W).status))),l(Se,`${e(W),r(()=>e(W).completion_rate)??""}%`),oa(M,`width: ${e(W),r(()=>e(W).completion_rate)??""}%; background: ${e(W),r(()=>e(W).completion_rate>=90?"#10b981":e(W).completion_rate>=70?"#f59e0b":"#ef4444")??""}`),l(ce,`${e(W),r(()=>e(W).completed_employees)??""} completed`),l(Le,`${e(W),r(()=>e(W).pending_employees)??""} pending`),l($e,`${e(W),r(()=>e(W).total_employees)??""} total`)},[()=>(e(W),r(()=>ft(e(W).status)))]),O("click",ve,()=>rt(e(W))),v(oe,ve)}),v(K,I)};y(q,K=>{e(L),r(()=>e(L).length===0)?K(w):K(N,!1)})}v(b,F)},k=b=>{var F=Pt(),A=nt(F);{var q=w=>{var N=Kf(),K=t(N),I=t(K);let oe;var W=t(I),ve=a(I,2);let Q;var U=t(ve),V=a(ve,2);let se;var ie=t(V),we=a(V,2);let pe;var ue=t(we),Te=a(K,2),he=t(Te);{var qe=je=>{var M=Vf(),te=a(t(M),2),de=t(te);x(()=>l(de,`No ${(e(P)==="all"?"":e(P))??""} audit items found`)),v(je,M)},Se=je=>{var M=Gf();_t(M,5,()=>e(g),bt,(te,de)=>{var ce=Yf(),ee=t(ce),Le=t(ee),Ee=t(Le),$e=a(Le,2),Re=t($e),Ze=a(ee,2),Ve=t(Ze),Fe=a(Ze,2),Ye=t(Fe),Ue=a(Fe,2),et=t(Ue),tt=a(t(et)),Ke=a(et,2),vt=a(t(Ke)),xt=a(Ke,2),at=a(t(xt));x((Bt,zt,Ft,Dt,Et)=>{oa(Le,`background-color: ${Bt??""}20; color: ${zt??""}`),l(Ee,Ft),st($e,1,`status-badge ${Dt??""}`,"svelte-19zd8uh"),l(Re,(e(de),r(()=>e(de).status))),l(Ve,(e(de),r(()=>e(de).title))),l(Ye,(e(de),r(()=>e(de).description))),l(tt,` ${e(de),r(()=>e(de).category)??""}`),l(vt,` ${e(de),r(()=>e(de).assigned_to)??""}`),l(at,` Due: ${Et??""}`)},[()=>(e(de),r(()=>ht(e(de).severity))),()=>(e(de),r(()=>ht(e(de).severity))),()=>(e(de),r(()=>e(de).severity.toUpperCase())),()=>(e(de),r(()=>ft(e(de).status))),()=>(e(de),r(()=>new Date(e(de).due_date).toLocaleDateString()))]),O("click",ce,()=>At(e(de))),v(te,ce)}),v(je,M)};y(he,je=>{e(g),r(()=>e(g).length===0)?je(qe):je(Se,!1)})}x((je,M,te)=>{oe=st(I,1,"filter-btn svelte-19zd8uh",null,oe,{active:e(P)==="all"}),l(W,`All (${e(z),r(()=>e(z).length)??""})`),Q=st(ve,1,"filter-btn svelte-19zd8uh",null,Q,{active:e(P)==="open"}),l(U,`Open (${je??""})`),se=st(V,1,"filter-btn svelte-19zd8uh",null,se,{active:e(P)==="in-progress"}),l(ie,`In Progress (${M??""})`),pe=st(we,1,"filter-btn svelte-19zd8uh",null,pe,{active:e(P)==="resolved"}),l(ue,`Resolved (${te??""})`)},[()=>(e(z),r(()=>e(z).filter(je=>je.status==="open").length)),()=>(e(z),r(()=>e(z).filter(je=>je.status==="in-progress").length)),()=>(e(z),r(()=>e(z).filter(je=>je.status==="resolved").length))]),O("click",I,()=>s(P,"all")),O("click",ve,()=>s(P,"open")),O("click",V,()=>s(P,"in-progress")),O("click",we,()=>s(P,"resolved")),v(w,N)};y(A,w=>{e(p)==="audits"&&w(q)},!0)}v(b,F)};y($,b=>{e(p)==="training"?b(j):b(k,!1)},!0)}v(J,G)};y(De,J=>{e(p)==="documents"?J(ae):J(B,!1)},!0)}v(Me,Z)};y(ne,Me=>{e(p)==="overview"?Me(_e):Me(ze,!1)})}v(H,xe)};y(ge,H=>{e(lt)?H(Pe):H(Be,!1)})}var Xe=a(yt,2);{var Ge=H=>{var xe=Zf(),ne=t(xe),_e=t(ne),ze=t(_e),Me=t(ze),Z=t(Me),De=a(Me,2),ae=t(De),B=a(ze,2),J=a(_e,2),G=t(J),$=t(G),j=a(t($),2),k=t(j),b=a($,2),F=a(t(b),2),A=t(F),q=a(b,2),w=a(t(q),2),N=t(w),K=a(q,2),I=a(t(K),2),oe=t(I),W=a(K,2);{var ve=we=>{var pe=Qf(),ue=a(t(pe),2),Te=t(ue);x(he=>l(Te,he),[()=>(e(R),r(()=>new Date(e(R).expiry_date).toLocaleDateString()))]),v(we,pe)};y(W,we=>{e(R),r(()=>e(R).expiry_date)&&we(ve)})}var Q=a(W,2),U=a(t(Q),2),V=t(U),se=a(G,2);{var ie=we=>{var pe=Xf(),ue=t(pe);O("click",ue,()=>window.open(e(R).file_url,"_blank")),v(we,pe)};y(se,we=>{e(R),r(()=>e(R).file_url)&&we(ie)})}x((we,pe)=>{l(Z,(e(R),r(()=>e(R).title))),l(ae,(e(R),r(()=>e(R).category))),l(k,(e(R),r(()=>e(R).type))),st(F,1,`status-badge ${we??""}`,"svelte-19zd8uh"),l(A,(e(R),r(()=>e(R).status))),l(N,(e(R),r(()=>e(R).department))),l(oe,(e(R),r(()=>e(R).owner))),l(V,pe)},[()=>(e(R),r(()=>ft(e(R).status))),()=>(e(R),r(()=>new Date(e(R).last_reviewed).toLocaleDateString()))]),O("click",B,()=>s(re,!1)),O("click",ne,Gt(function(we){aa.call(this,o,we)})),O("click",xe,()=>s(re,!1)),v(H,xe)};y(Xe,H=>{e(re)&&e(R)&&H(Ge)})}var We=a(Xe,2);{var be=H=>{var xe=tb(),ne=t(xe),_e=t(ne),ze=t(_e),Me=t(ze),Z=t(Me),De=a(Me,2),ae=t(De),B=a(ze,2),J=a(_e,2),G=t(J),$=t(G),j=t($),k=t(j),b=t(k),F=t(b),A=a(j,2),q=t(A),w=t(q),N=t(w),K=a(q,2),I=t(K),oe=t(I),W=a(K,2),ve=t(W),Q=t(ve),U=a($,2);{var V=se=>{var ie=eb(),we=a(t(ie),2),pe=a(t(we));x(ue=>l(pe,` ${ue??""}`),[()=>(e(me),r(()=>new Date(e(me).due_date).toLocaleDateString()))]),v(se,ie)};y(U,se=>{e(me),r(()=>e(me).due_date)&&se(V)})}x(()=>{l(Z,(e(me),r(()=>e(me).title))),l(ae,(e(me),r(()=>e(me).category))),oa(j,`background: conic-gradient(#10b981 0% ${e(me),r(()=>e(me).completion_rate)??""}%, #e5e7eb ${e(me),r(()=>e(me).completion_rate)??""}% 100%)`),l(F,`${e(me),r(()=>e(me).completion_rate)??""}%`),l(N,(e(me),r(()=>e(me).completed_employees))),l(oe,(e(me),r(()=>e(me).pending_employees))),l(Q,(e(me),r(()=>e(me).total_employees)))}),O("click",B,()=>s(Qe,!1)),O("click",ne,Gt(function(se){aa.call(this,o,se)})),O("click",xe,()=>s(Qe,!1)),v(H,xe)};y(We,H=>{e(Qe)&&e(me)&&H(be)})}var f=a(We,2);{var D=H=>{var xe=ib(),ne=t(xe),_e=t(ne),ze=t(_e),Me=t(ze),Z=t(Me),De=a(Me,2),ae=t(De),B=a(ze,2),J=a(_e,2),G=t(J),$=a(t(G),2),j=t($),k=a(G,2),b=t(k),F=a(t(b),2),A=t(F),q=a(b,2),w=a(t(q),2),N=t(w),K=a(q,2),I=a(t(K),2),oe=t(I),W=a(K,2),ve=a(t(W),2),Q=t(ve),U=a(W,2),V=a(t(U),2),se=t(V),ie=a(U,2);{var we=Se=>{var je=ab(),M=a(t(je),2),te=t(M);x(()=>l(te,(e(X),r(()=>e(X).findings)))),v(Se,je)};y(ie,Se=>{e(X),r(()=>e(X).findings)&&Se(we)})}var pe=a(ie,2);{var ue=Se=>{var je=sb(),M=a(t(je),2),te=t(M);x(()=>l(te,(e(X),r(()=>e(X).resolution)))),v(Se,je)};y(pe,Se=>{e(X),r(()=>e(X).resolution)&&Se(ue)})}var Te=a(k,2);{var he=Se=>{var je=lb(),M=t(je);O("click",M,()=>it(e(X).id,"in-progress")),v(Se,je)},qe=Se=>{var je=Pt(),M=nt(je);{var te=de=>{var ce=rb(),ee=t(ce);O("click",ee,()=>it(e(X).id,"resolved")),v(de,ce)};y(M,de=>{e(X),r(()=>e(X).status==="in-progress")&&de(te)},!0)}v(Se,je)};y(Te,Se=>{e(X),r(()=>e(X).status==="open")?Se(he):Se(qe,!1)})}x((Se,je,M,te,de,ce)=>{l(Z,(e(X),r(()=>e(X).title))),l(ae,(e(X),r(()=>e(X).category))),oa(G,`background-color: ${Se??""}20; border-left-color: ${je??""}`),l(j,`${M??""} SEVERITY`),st(F,1,`status-badge ${te??""}`,"svelte-19zd8uh"),l(A,(e(X),r(()=>e(X).status))),l(N,(e(X),r(()=>e(X).assigned_to))),l(oe,de),l(Q,ce),l(se,(e(X),r(()=>e(X).description)))},[()=>(e(X),r(()=>ht(e(X).severity))),()=>(e(X),r(()=>ht(e(X).severity))),()=>(e(X),r(()=>e(X).severity.toUpperCase())),()=>(e(X),r(()=>ft(e(X).status))),()=>(e(X),r(()=>new Date(e(X).due_date).toLocaleDateString())),()=>(e(X),r(()=>new Date(e(X).created_date).toLocaleDateString()))]),O("click",B,()=>s(Je,!1)),O("click",ne,Gt(function(Se){aa.call(this,o,Se)})),O("click",xe,()=>s(Je,!1)),v(H,xe)};y(f,H=>{e(Je)&&e(X)&&H(D)})}x(()=>{wt=st(pt,1,"tab svelte-19zd8uh",null,wt,{active:e(p)==="overview"}),qt=st(St,1,"tab svelte-19zd8uh",null,qt,{active:e(p)==="documents"}),ye=st(Ne,1,"tab svelte-19zd8uh",null,ye,{active:e(p)==="training"}),Oe=st(fe,1,"tab svelte-19zd8uh",null,Oe,{active:e(p)==="audits"})}),O("click",pt,()=>s(p,"overview")),O("click",St,()=>s(p,"documents")),O("click",Ne,()=>s(p,"training")),O("click",fe,()=>s(p,"audits")),v(i,ct),Zt(),h()}var nb=d('<span class="tab-badge svelte-16ry2bv"> </span>'),db=d('<div class="loading svelte-16ry2bv">Loading benefits data...</div>'),cb=d('<div class="empty-state svelte-16ry2bv"><span class="empty-icon svelte-16ry2bv">ðŸ¥</span> <p>No healthcare plans configured</p></div>'),ub=d('<div class="plan-card svelte-16ry2bv"><div class="plan-header svelte-16ry2bv"><div><h3 class="plan-name svelte-16ry2bv"> </h3> <p class="plan-provider svelte-16ry2bv"> </p></div> <span class="plan-type-badge svelte-16ry2bv"> </span></div> <div class="plan-details svelte-16ry2bv"><div class="detail-row svelte-16ry2bv"><span class="detail-label svelte-16ry2bv">Monthly Premium</span> <span class="detail-value svelte-16ry2bv"> </span></div> <div class="detail-row svelte-16ry2bv"><span class="detail-label svelte-16ry2bv">Deductible</span> <span class="detail-value svelte-16ry2bv"> </span></div> <div class="detail-row svelte-16ry2bv"><span class="detail-label svelte-16ry2bv">Out-of-Pocket Max</span> <span class="detail-value svelte-16ry2bv"> </span></div></div> <div class="plan-subsidy svelte-16ry2bv"><div class="subsidy-bar svelte-16ry2bv"><div class="subsidy-fill svelte-16ry2bv"></div></div> <span class="subsidy-text svelte-16ry2bv"> </span></div> <div class="plan-footer svelte-16ry2bv"><span class="enrolled-count svelte-16ry2bv"><span class="count-icon svelte-16ry2bv">ðŸ‘¥</span> </span></div></div>'),pb=d('<div class="plans-grid svelte-16ry2bv"></div>'),_b=d('<div class="empty-state svelte-16ry2bv"><span class="empty-icon svelte-16ry2bv">ðŸ’°</span> <p>No retirement plans configured</p></div>'),fb=d('<span class="asset-class-badge svelte-16ry2bv"> </span>'),bb=d('<div class="retirement-card svelte-16ry2bv"><div class="retirement-header svelte-16ry2bv"><div class="retirement-info"><h3 class="retirement-name svelte-16ry2bv"> </h3> <p class="retirement-provider svelte-16ry2bv"> </p></div> <div class="retirement-stats svelte-16ry2bv"><div class="stat-item svelte-16ry2bv"><span class="stat-label svelte-16ry2bv">Total Assets</span> <span class="stat-value svelte-16ry2bv"> </span></div> <div class="stat-item svelte-16ry2bv"><span class="stat-label svelte-16ry2bv">Enrolled</span> <span class="stat-value svelte-16ry2bv"> </span></div></div></div> <div class="retirement-body svelte-16ry2bv"><div class="match-info svelte-16ry2bv"><span class="match-icon svelte-16ry2bv">ðŸŽ</span> <div class="match-details svelte-16ry2bv"><strong>Employer Match:</strong> </div></div> <div class="contribution-rate svelte-16ry2bv"><span class="rate-label svelte-16ry2bv">Average Contribution Rate:</span> <span class="rate-value svelte-16ry2bv"> </span> <div class="rate-bar svelte-16ry2bv"><div class="rate-fill svelte-16ry2bv"></div></div></div> <div class="funds-info svelte-16ry2bv"><span class="funds-label svelte-16ry2bv"><span class="funds-icon svelte-16ry2bv">ðŸ“Š</span> </span> <div class="asset-classes svelte-16ry2bv"></div></div></div></div>'),mb=d('<div class="retirement-list svelte-16ry2bv"></div>'),hb=d('<div class="tab-content svelte-16ry2bv"><div class="stats-grid svelte-16ry2bv"><div class="stat-card svelte-16ry2bv"><div class="stat-icon svelte-16ry2bv">ðŸ¥</div> <div class="stat-content svelte-16ry2bv"><div class="stat-value svelte-16ry2bv"> </div> <div class="stat-label svelte-16ry2bv">Healthcare Providers</div> <div class="stat-sublabel svelte-16ry2bv"> </div></div></div> <div class="stat-card svelte-16ry2bv"><div class="stat-icon svelte-16ry2bv">ðŸ’°</div> <div class="stat-content svelte-16ry2bv"><div class="stat-value svelte-16ry2bv"> </div> <div class="stat-label svelte-16ry2bv">Retirement Plans</div> <div class="stat-sublabel svelte-16ry2bv"> </div></div></div> <div class="stat-card highlight svelte-16ry2bv"><div class="stat-icon svelte-16ry2bv">ðŸ’µ</div> <div class="stat-content svelte-16ry2bv"><div class="stat-value svelte-16ry2bv"> </div> <div class="stat-label svelte-16ry2bv">Monthly Employer Cost</div> <div class="stat-sublabel svelte-16ry2bv">Total contributions & subsidies</div></div></div></div> <div class="section-card svelte-16ry2bv"><div class="section-header svelte-16ry2bv"><h2 class="svelte-16ry2bv">ðŸ¥ Healthcare Plans</h2> <button class="btn-primary svelte-16ry2bv">+ Add Plan</button></div> <!></div> <div class="section-card svelte-16ry2bv"><div class="section-header svelte-16ry2bv"><h2 class="svelte-16ry2bv">ðŸ’° Retirement Plans</h2> <button class="btn-primary svelte-16ry2bv">+ Add Plan</button></div> <!></div></div>'),yb=d('<div class="empty-state svelte-16ry2bv"><span class="empty-icon svelte-16ry2bv">âœ“</span> <p>All employees are enrolled in benefits</p></div>'),gb=d('<div class="enrollment-card svelte-16ry2bv"><div class="employee-info svelte-16ry2bv"><div class="employee-avatar svelte-16ry2bv"> </div> <div class="employee-details"><h3 class="employee-name svelte-16ry2bv"> </h3> <p class="employee-meta svelte-16ry2bv"><span> </span> <span class="divider svelte-16ry2bv">â€¢</span> <span> </span></p></div></div> <span> </span> <button class="btn-primary svelte-16ry2bv"> </button></div>'),xb=d('<div class="enrollment-list svelte-16ry2bv"></div>'),wb=d('<div class="completed-item svelte-16ry2bv"><span class="completed-icon svelte-16ry2bv">âœ“</span> <div class="completed-info svelte-16ry2bv"><strong> </strong> <span class="completed-date svelte-16ry2bv"> </span></div></div>'),kb=d('<div class="section-card svelte-16ry2bv"><div class="section-header svelte-16ry2bv"><h2 class="svelte-16ry2bv">Recently Completed</h2></div> <div class="completed-list svelte-16ry2bv"></div></div>'),$b=d('<div class="tab-content svelte-16ry2bv"><div class="ai-banner svelte-16ry2bv"><div class="ai-icon svelte-16ry2bv">ðŸ¤–</div> <div class="ai-content svelte-16ry2bv"><h3 class="svelte-16ry2bv">AI Benefits Assistant</h3> <p class="svelte-16ry2bv">Get personalized recommendations for healthcare plans and retirement allocations based on employee profiles, risk tolerance, and financial goals.</p></div></div> <div class="section-card svelte-16ry2bv"><div class="section-header svelte-16ry2bv"><h2 class="svelte-16ry2bv">Pending Enrollments</h2> <span class="count-badge svelte-16ry2bv"> </span></div> <!></div> <!></div>'),jb=d('<div class="modal-overlay svelte-16ry2bv"><div class="modal large svelte-16ry2bv"><div class="modal-header svelte-16ry2bv"><div><h2 class="svelte-16ry2bv"> </h2> <p class="modal-subtitle svelte-16ry2bv"> </p></div> <button class="close-btn svelte-16ry2bv">Ã—</button></div> <div class="modal-body svelte-16ry2bv"><div class="provider-stats-grid svelte-16ry2bv"><div class="provider-stat svelte-16ry2bv"><span class="provider-stat-label svelte-16ry2bv">Enrolled Employees</span> <span class="provider-stat-value svelte-16ry2bv"> </span></div> <div class="provider-stat svelte-16ry2bv"><span class="provider-stat-label svelte-16ry2bv">Total Monthly Cost</span> <span class="provider-stat-value svelte-16ry2bv"> </span></div> <div class="provider-stat svelte-16ry2bv"><span class="provider-stat-label svelte-16ry2bv">Employer Contribution</span> <span class="provider-stat-value svelte-16ry2bv"> </span></div> <div class="provider-stat svelte-16ry2bv"><span class="provider-stat-label svelte-16ry2bv">Employee Contribution</span> <span class="provider-stat-value svelte-16ry2bv"> </span></div></div></div></div></div>'),Sb=d('<div class="ai-response svelte-16ry2bv"><div class="response-header svelte-16ry2bv"><span class="response-icon svelte-16ry2bv">ðŸ’¡</span> <strong>AI Recommendation:</strong></div> <p class="response-text svelte-16ry2bv"> </p></div>'),Ab=d('<div class="ai-recommended svelte-16ry2bv">âœ¨ AI Recommended</div>'),Eb=d('<label><input type="radio" name="healthcare" class="svelte-16ry2bv"/> <div class="selection-content svelte-16ry2bv"><div class="selection-header svelte-16ry2bv"><strong> </strong> <span class="plan-type-badge small svelte-16ry2bv"> </span></div> <div class="selection-details svelte-16ry2bv"><span> </span> <span> </span> <span> </span></div> <!></div></label>'),Cb=d('<label><input type="radio" name="retirement" class="svelte-16ry2bv"/> <div class="selection-content svelte-16ry2bv"><div class="selection-header svelte-16ry2bv"><strong> </strong></div> <div class="selection-details svelte-16ry2bv"><span> </span> <span> </span></div></div></label>'),Db=d('<span class="match-full svelte-16ry2bv"> </span>'),zb=d('<span class="match-partial svelte-16ry2bv"> </span>'),Pb=d('<div class="match-display svelte-16ry2bv"><!></div>'),Tb=d('<div class="contribution-selector svelte-16ry2bv"><label class="svelte-16ry2bv">Contribution Percentage</label> <div class="slider-container svelte-16ry2bv"><input type="range" min="0" max="25" step="0.5" class="contribution-slider svelte-16ry2bv"/> <span class="slider-value svelte-16ry2bv"> </span></div> <!></div>'),qb=d('<div class="allocation-row svelte-16ry2bv"><span class="allocation-label svelte-16ry2bv"> </span> <div class="allocation-bar svelte-16ry2bv"><div class="allocation-fill svelte-16ry2bv"></div></div> <span class="allocation-percentage svelte-16ry2bv"> </span></div>'),Mb=d('<div class="wizard-section svelte-16ry2bv"><div class="section-title svelte-16ry2bv"><span class="title-icon svelte-16ry2bv">ðŸ“Š</span> <h3 class="svelte-16ry2bv">Recommended Asset Allocation</h3></div> <div class="allocation-display svelte-16ry2bv"><p class="allocation-note svelte-16ry2bv"> </p> <!></div></div>'),Bb=d(`<div class="modal-overlay svelte-16ry2bv"><div class="modal xlarge svelte-16ry2bv"><div class="modal-header svelte-16ry2bv"><div><h2 class="svelte-16ry2bv"> </h2> <p class="modal-subtitle svelte-16ry2bv"> </p></div> <button class="close-btn svelte-16ry2bv">Ã—</button></div> <div class="modal-body svelte-16ry2bv"><div class="enrollment-wizard svelte-16ry2bv"><div class="wizard-section svelte-16ry2bv"><div class="section-title svelte-16ry2bv"><span class="title-icon svelte-16ry2bv">ðŸ¤–</span> <h3 class="svelte-16ry2bv">AI Benefits Assistant</h3></div> <div class="ai-controls svelte-16ry2bv"><div class="control-group svelte-16ry2bv"><label class="svelte-16ry2bv">Risk Profile</label> <select class="control-select svelte-16ry2bv"><option>Conservative</option><option>Moderate</option><option>Aggressive</option></select></div> <div class="control-group svelte-16ry2bv"><label class="svelte-16ry2bv">Preferred Asset Classes</label> <div class="checkbox-group svelte-16ry2bv"><label class="checkbox-label svelte-16ry2bv"><input type="checkbox" class="svelte-16ry2bv"/> <span>Stocks</span></label> <label class="checkbox-label svelte-16ry2bv"><input type="checkbox" class="svelte-16ry2bv"/> <span>Bonds</span></label> <label class="checkbox-label svelte-16ry2bv"><input type="checkbox" class="svelte-16ry2bv"/> <span>International</span></label> <label class="checkbox-label svelte-16ry2bv"><input type="checkbox" class="svelte-16ry2bv"/> <span>Real Estate</span></label></div></div> <div class="control-group svelte-16ry2bv"><label class="svelte-16ry2bv">Ask AI Assistant</label> <textarea placeholder="e.g., 'Which healthcare plan is best for a family of 4?' or 'How should I allocate retirement funds for long-term growth?'" rows="3" class="ai-query-input svelte-16ry2bv"></textarea></div> <button class="btn-ai svelte-16ry2bv"> </button> <!></div></div> <div class="wizard-section svelte-16ry2bv"><div class="section-title svelte-16ry2bv"><span class="title-icon svelte-16ry2bv">ðŸ¥</span> <h3 class="svelte-16ry2bv">Healthcare Plan Selection</h3></div> <div class="plan-selection svelte-16ry2bv"></div></div> <div class="wizard-section svelte-16ry2bv"><div class="section-title svelte-16ry2bv"><span class="title-icon svelte-16ry2bv">ðŸ’°</span> <h3 class="svelte-16ry2bv">Retirement Plan & Contribution</h3></div> <div class="retirement-selection svelte-16ry2bv"><!> <!></div></div> <!></div> <div class="modal-actions svelte-16ry2bv"><button class="btn secondary svelte-16ry2bv">Cancel</button> <button class="btn primary svelte-16ry2bv"><span class="btn-icon svelte-16ry2bv">ðŸ’¾</span> Save Enrollment</button></div></div></div></div>`),Ib=d('<div class="benefits-dashboard svelte-16ry2bv"><div class="header svelte-16ry2bv"><div><h1 class="svelte-16ry2bv">ðŸ¥ Benefits Dashboard</h1> <p class="subtitle svelte-16ry2bv">Manage healthcare and retirement benefits with AI-powered enrollment assistance</p></div></div> <div class="tabs svelte-16ry2bv"><button><span class="tab-icon svelte-16ry2bv">âš™ï¸</span> <span class="tab-text">Benefits Manager</span></button> <button><span class="tab-icon svelte-16ry2bv">ðŸ‘¥</span> <span class="tab-text">Employee Enrollment</span> <!></button></div> <!></div> <!> <!>',1);function Rb(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=Y(),g=Y(),_=Y(),p=[],u=[],S=[],C=$a();let le=Y("manager"),E=Y([]),T=Y([]),L=Y([]),z=Y(null),P=Y(!1),R=Y([]),me=Y([]),X=Y(null),re=Y(null),Qe=Y(!1),Je=Y(""),lt=Y(""),ut=Y(!1),ft=Y("moderate"),ht=Y([]),ot=Y(!0);sa(async()=>{await rt()});async function rt(){try{s(ot,!0);const Ge=n().token||localStorage.getItem("token"),[We,be,f,D,H]=await Promise.all([fetch(`${C}/benefits/providers`,{headers:{Authorization:`Bearer ${Ge}`}}),fetch(`${C}/benefits/healthcare/plans`,{headers:{Authorization:`Bearer ${Ge}`}}),fetch(`${C}/benefits/retirement/plans`,{headers:{Authorization:`Bearer ${Ge}`}}),fetch(`${C}/benefits/enrollment/pending`,{headers:{Authorization:`Bearer ${Ge}`}}),fetch(`${C}/benefits/enrollment/sessions`,{headers:{Authorization:`Bearer ${Ge}`}})]);We.ok&&s(E,await We.json()),be.ok&&s(T,await be.json()),f.ok&&s(L,await f.json()),D.ok&&s(R,await D.json()),H.ok&&s(me,await H.json())}catch(Ge){console.error("Failed to load benefits data:",Ge)}finally{s(ot,!1)}}function At(Ge){s(z,Ge),s(P,!0)}function it(){s(P,!1),s(z,null)}function ct(Ge){s(X,Ge),s(re,e(me).find(We=>We.employee_id===Ge.id)||{id:"",employee_id:Ge.id,employee_name:Ge.name,status:"pending",ai_recommendations:{}}),s(Qe,!0)}function yt(){s(Qe,!1),s(X,null),s(re,null)}async function dt(){if(e(re))try{s(ut,!0);const Ge=n().token||localStorage.getItem("token"),We=await fetch(`${C}/benefits/ai/recommend`,{method:"POST",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json"},body:JSON.stringify({employee_id:e(re).employee_id,risk_profile:e(ft),preferred_asset_classes:e(ht),query:e(Je)})});if(We.ok){const be=await We.json();gt(re,e(re).ai_recommendations=be.recommendations),s(lt,be.explanation||"")}}catch(Ge){console.error("Failed to get AI recommendations:",Ge),s(lt,"Failed to get recommendations. Please try again.")}finally{s(ut,!1)}}async function pt(){if(e(re))try{const Ge=n().token||localStorage.getItem("token");(await fetch(`${C}/benefits/enrollment`,{method:"POST",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json"},body:JSON.stringify(e(re))})).ok&&(await rt(),yt(),alert("Enrollment saved successfully!"))}catch(Ge){console.error("Failed to save enrollment:",Ge),alert("Failed to save enrollment: "+Ge.message)}}function wt(Ge){return{active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800","in-progress":"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"}[Ge]||"bg-gray-100 text-gray-800"}Yt(()=>e(E),()=>{s(c,e(E).filter(Ge=>Ge.type==="healthcare"))}),Yt(()=>e(E),()=>{s(g,e(E).filter(Ge=>Ge.type==="retirement"))}),Yt(()=>e(E),()=>{s(_,e(E).reduce((Ge,We)=>Ge+We.employer_contribution,0))}),za(),na();var St=Ib(),qt=nt(St),$t=a(t(qt),2),Ae=t($t);let Ne;var ye=a(Ae,2);let He;var Ce=a(t(ye),4);{var fe=Ge=>{var We=nb(),be=t(We);x(()=>l(be,(e(R),r(()=>e(R).length)))),v(Ge,We)};y(Ce,Ge=>{e(R),r(()=>e(R).length>0)&&Ge(fe)})}var Oe=a($t,2);{var Ie=Ge=>{var We=db();v(Ge,We)},ke=Ge=>{var We=Pt(),be=nt(We);{var f=H=>{var xe=hb(),ne=t(xe),_e=t(ne),ze=a(t(_e),2),Me=t(ze),Z=t(Me),De=a(Me,4),ae=t(De),B=a(_e,2),J=a(t(B),2),G=t(J),$=t(G),j=a(G,4),k=t(j),b=a(B,2),F=a(t(b),2),A=t(F),q=t(A),w=a(ne,2),N=a(t(w),2);{var K=U=>{var V=cb();v(U,V)},I=U=>{var V=pb();_t(V,5,()=>e(T),bt,(se,ie)=>{var we=ub(),pe=t(we),ue=t(pe),Te=t(ue),he=t(Te),qe=a(Te,2),Se=t(qe),je=a(ue,2),M=t(je),te=a(pe,2),de=t(te),ce=a(t(de),2),ee=t(ce),Le=a(de,2),Ee=a(t(Le),2),$e=t(Ee),Re=a(Le,2),Ze=a(t(Re),2),Ve=t(Ze),Fe=a(te,2),Ye=t(Fe),Ue=t(Ye),et=a(Ye,2),tt=t(et),Ke=a(Fe,2),vt=t(Ke),xt=a(t(vt));x((at,Bt,zt)=>{l(he,(e(ie),r(()=>e(ie).plan_name))),l(Se,(e(ie),r(()=>e(ie).provider_name))),l(M,(e(ie),r(()=>e(ie).plan_type))),l(ee,`$${at??""}`),l($e,`$${Bt??""}`),l(Ve,`$${zt??""}`),oa(Ue,`width: ${e(ie),r(()=>e(ie).employer_subsidy_percentage)??""}%`),l(tt,`${e(ie),r(()=>e(ie).employer_subsidy_percentage)??""}% Employer Subsidy`),l(xt,` ${e(ie),r(()=>e(ie).enrolled_count)??""} enrolled`)},[()=>(e(ie),r(()=>e(ie).monthly_premium.toLocaleString())),()=>(e(ie),r(()=>e(ie).deductible.toLocaleString())),()=>(e(ie),r(()=>e(ie).out_of_pocket_max.toLocaleString()))]),O("click",we,()=>At(e(E).find(at=>at.id===e(ie).provider_id))),v(se,we)}),v(U,V)};y(N,U=>{e(T),r(()=>e(T).length===0)?U(K):U(I,!1)})}var oe=a(w,2),W=a(t(oe),2);{var ve=U=>{var V=_b();v(U,V)},Q=U=>{var V=mb();_t(V,5,()=>e(L),bt,(se,ie)=>{var we=bb(),pe=t(we),ue=t(pe),Te=t(ue),he=t(Te),qe=a(Te,2),Se=t(qe),je=a(ue,2),M=t(je),te=a(t(M),2),de=t(te),ce=a(M,2),ee=a(t(ce),2),Le=t(ee),Ee=a(pe,2),$e=t(Ee),Re=a(t($e),2),Ze=a(t(Re)),Ve=a($e,2),Fe=a(t(Ve),2),Ye=t(Fe),Ue=a(Fe,2),et=t(Ue),tt=a(Ve,2),Ke=t(tt),vt=a(t(Ke)),xt=a(Ke,2);_t(xt,5,()=>(e(ie),r(()=>[...new Set(e(ie).available_funds.map(at=>at.asset_class))])),bt,(at,Bt)=>{var zt=fb(),Ft=t(zt);x(()=>l(Ft,e(Bt))),v(at,zt)}),x(at=>{l(he,(e(ie),r(()=>e(ie).plan_type))),l(Se,(e(ie),r(()=>e(ie).provider_name))),l(de,`$${at??""}M`),l(Le,(e(ie),r(()=>e(ie).enrolled_count))),l(Ze,` ${e(ie),r(()=>e(ie).employer_match_percentage)??""}% up to ${e(ie),r(()=>e(ie).employer_match_cap)??""}% of salary`),l(Ye,`${e(ie),r(()=>e(ie).average_contribution_rate)??""}%`),oa(et,`width: ${e(ie),r(()=>e(ie).average_contribution_rate/15*100)??""}%`),l(vt,` ${e(ie),r(()=>e(ie).available_funds.length)??""} Investment Options`)},[()=>(e(ie),r(()=>(e(ie).total_assets/1e6).toFixed(1)))]),O("click",we,()=>At(e(E).find(at=>at.id===e(ie).provider_id))),v(se,we)}),v(U,V)};y(W,U=>{e(L),r(()=>e(L).length===0)?U(ve):U(Q,!1)})}x((U,V)=>{l(Z,(e(c),r(()=>e(c).length))),l(ae,`${e(T),r(()=>e(T).length)??""} plans available`),l($,(e(g),r(()=>e(g).length))),l(k,`${U??""} investment options`),l(q,`$${V??""}`)},[()=>(e(L),r(()=>e(L).reduce((U,V)=>U+V.available_funds.length,0))),()=>(e(_),r(()=>e(_).toLocaleString()))]),v(H,xe)},D=H=>{var xe=$b(),ne=a(t(xe),2),_e=t(ne),ze=a(t(_e),2),Me=t(ze),Z=a(_e,2);{var De=G=>{var $=yb();v(G,$)},ae=G=>{var $=xb();_t($,5,()=>e(R),bt,(j,k)=>{var b=gb(),F=t(b),A=t(F),q=t(A),w=a(A,2),N=t(w),K=t(N),I=a(N,2),oe=t(I),W=t(oe),ve=a(oe,4),Q=t(ve),U=a(F,2),V=t(U),se=a(U,2),ie=t(se);x((we,pe,ue)=>{l(q,we),l(K,(e(k),r(()=>e(k).name))),l(W,(e(k),r(()=>e(k).department))),l(Q,`Hired: ${pe??""}`),st(U,1,`status-badge ${ue??""}`,"svelte-16ry2bv"),l(V,(e(k),r(()=>e(k).enrollment_status))),l(ie,(e(k),r(()=>e(k).enrollment_status==="pending"?"Start Enrollment":"Continue Enrollment")))},[()=>(e(k),r(()=>e(k).name.split(" ").map(we=>we[0]).join(""))),()=>(e(k),r(()=>new Date(e(k).hire_date).toLocaleDateString())),()=>(e(k),r(()=>wt(e(k).enrollment_status)))]),O("click",se,()=>ct(e(k))),v(j,b)}),v(G,$)};y(Z,G=>{e(R),r(()=>e(R).length===0)?G(De):G(ae,!1)})}var B=a(ne,2);{var J=G=>{var $=kb(),j=a(t($),2);_t(j,5,()=>(e(me),r(()=>e(me).filter(k=>k.status==="completed").slice(0,5))),bt,(k,b)=>{var F=wb(),A=a(t(F),2),q=t(A),w=t(q),N=a(q,2),K=t(N);x(I=>{l(w,(e(b),r(()=>e(b).employee_name))),l(K,`Completed ${I??""}`)},[()=>(e(b),r(()=>e(b).completed_at?new Date(e(b).completed_at).toLocaleDateString():"Recently"))]),v(k,F)}),v(G,$)};y(B,G=>{e(me),r(()=>e(me).filter($=>$.status==="completed").length>0)&&G(J)})}x(()=>l(Me,`${e(R),r(()=>e(R).length)??""} pending`)),v(H,xe)};y(be,H=>{e(le)==="manager"?H(f):H(D,!1)})}v(Ge,We)};y(Oe,Ge=>{e(ot)?Ge(Ie):Ge(ke,!1)})}var ge=a(qt,2);{var Pe=Ge=>{var We=jb(),be=t(We),f=t(be),D=t(f),H=t(D),xe=t(H),ne=a(H,2),_e=t(ne),ze=a(D,2),Me=a(f,2),Z=t(Me),De=t(Z),ae=a(t(De),2),B=t(ae),J=a(De,2),G=a(t(J),2),$=t(G),j=a(J,2),k=a(t(j),2),b=t(k),F=a(j,2),A=a(t(F),2),q=t(A);x((w,N,K)=>{l(xe,(e(z),r(()=>e(z).name))),l(_e,(e(z),r(()=>e(z).type==="healthcare"?"Healthcare Provider":"Retirement Plan Provider"))),l(B,(e(z),r(()=>e(z).enrolled_employees))),l($,`$${w??""}`),l(b,`$${N??""}`),l(q,`$${K??""}`)},[()=>(e(z),r(()=>e(z).total_cost.toLocaleString())),()=>(e(z),r(()=>e(z).employer_contribution.toLocaleString())),()=>(e(z),r(()=>e(z).employee_contribution.toLocaleString()))]),O("click",ze,it),O("click",be,Gt(function(w){aa.call(this,o,w)})),O("click",We,it),v(Ge,We)};y(ge,Ge=>{e(P)&&e(z)&&Ge(Pe)})}var Be=a(ge,2);{var Xe=Ge=>{var We=Bb(),be=t(We),f=t(be),D=t(f),H=t(D),xe=t(H),ne=a(H,2),_e=t(ne),ze=a(D,2),Me=a(f,2),Z=t(Me),De=t(Z),ae=a(t(De),2),B=t(ae),J=a(t(B),2);x(()=>{e(ft),Ut(()=>{})});var G=t(J);G.value=G.__value="conservative";var $=a(G);$.value=$.__value="moderate";var j=a($);j.value=j.__value="aggressive";var k=a(B,2),b=a(t(k),2),F=t(b),A=t(F);A.value=A.__value="stocks";var q=a(F,2),w=t(q);w.value=w.__value="bonds";var N=a(q,2),K=t(N);K.value=K.__value="international";var I=a(N,2),oe=t(I);oe.value=oe.__value="real-estate";var W=a(k,2),ve=a(t(W),2),Q=a(W,2),U=t(Q),V=a(Q,2);{var se=ce=>{var ee=Sb(),Le=a(t(ee),2),Ee=t(Le);x(()=>l(Ee,e(lt))),v(ce,ee)};y(V,ce=>{e(lt)&&ce(se)})}var ie=a(De,2),we=a(t(ie),2);_t(we,5,()=>e(T),bt,(ce,ee)=>{var Le=Eb();let Ee;var $e=t(Le),Re,Ze=a($e,2),Ve=t(Ze),Fe=t(Ve),Ye=t(Fe),Ue=a(Fe,2),et=t(Ue),tt=a(Ve,2),Ke=t(tt),vt=t(Ke),xt=a(Ke,2),at=t(xt),Bt=a(xt,2),zt=t(Bt),Ft=a(tt,2);{var Dt=Et=>{var It=Ab();v(Et,It)};y(Ft,Et=>{e(re),e(ee),r(()=>e(re).ai_recommendations.healthcare_plan_id===e(ee).id)&&Et(Dt)})}x(Et=>{Ee=st(Le,1,"selection-card svelte-16ry2bv",null,Ee,{selected:e(re).healthcare_selected===e(ee).id}),Re!==(Re=(e(ee),r(()=>e(ee).id)))&&($e.value=($e.__value=(e(ee),r(()=>e(ee).id)))??""),l(Ye,(e(ee),r(()=>e(ee).plan_name))),l(et,(e(ee),r(()=>e(ee).plan_type))),l(vt,`Premium: $${e(ee),r(()=>e(ee).monthly_premium)??""}/mo`),l(at,`Deductible: $${Et??""}`),l(zt,`Employer pays: ${e(ee),r(()=>e(ee).employer_subsidy_percentage)??""}%`)},[()=>(e(ee),r(()=>e(ee).deductible.toLocaleString()))]),Is(u,[],$e,()=>(e(ee),r(()=>e(ee).id),e(re).healthcare_selected),Et=>gt(re,e(re).healthcare_selected=Et)),v(ce,Le)});var pe=a(ie,2),ue=a(t(pe),2),Te=t(ue);_t(Te,1,()=>e(L),bt,(ce,ee)=>{var Le=Cb();let Ee;var $e=t(Le),Re,Ze=a($e,2),Ve=t(Ze),Fe=t(Ve),Ye=t(Fe),Ue=a(Ve,2),et=t(Ue),tt=t(et),Ke=a(et,2),vt=t(Ke);x(()=>{Ee=st(Le,1,"selection-card svelte-16ry2bv",null,Ee,{selected:e(re).retirement_selected===e(ee).id}),Re!==(Re=(e(ee),r(()=>e(ee).id)))&&($e.value=($e.__value=(e(ee),r(()=>e(ee).id)))??""),l(Ye,(e(ee),r(()=>e(ee).plan_type))),l(tt,`Match: ${e(ee),r(()=>e(ee).employer_match_percentage)??""}% up to ${e(ee),r(()=>e(ee).employer_match_cap)??""}%`),l(vt,`Vesting: ${e(ee),r(()=>e(ee).vesting_schedule)??""}`)}),Is(S,[],$e,()=>(e(ee),r(()=>e(ee).id),e(re).retirement_selected),xt=>gt(re,e(re).retirement_selected=xt)),v(ce,Le)});var he=a(Te,2);{var qe=ce=>{var ee=Tb(),Le=a(t(ee),2),Ee=t(Le),$e=a(Ee,2),Re=t($e),Ze=a(Le,2);{var Ve=Fe=>{const Ye=is(()=>(e(L),e(re),r(()=>e(L).find(Ke=>Ke.id===e(re).retirement_selected))));var Ue=Pt(),et=nt(Ue);{var tt=Ke=>{var vt=Pb(),xt=t(vt);{var at=zt=>{var Ft=Db(),Dt=t(Ft);x(()=>l(Dt,`âœ“ Receiving full employer match (${ls(e(Ye)),r(()=>e(Ye).employer_match_percentage)??""}%)`)),v(zt,Ft)},Bt=zt=>{var Ft=zb(),Dt=t(Ft);x(()=>l(Dt,`âš ï¸ Contributing below match cap - consider increasing to ${ls(e(Ye)),r(()=>e(Ye).employer_match_cap)??""}%`)),v(zt,Ft)};y(xt,zt=>{e(re),ls(e(Ye)),r(()=>e(re).retirement_contribution_percentage>=e(Ye).employer_match_cap)?zt(at):zt(Bt,!1)})}v(Ke,vt)};y(et,Ke=>{e(Ye)&&Ke(tt)})}v(Fe,Ue)};y(Ze,Fe=>{e(re),r(()=>e(re).retirement_contribution_percentage)&&Fe(Ve)})}x(()=>l(Re,`${e(re),r(()=>e(re).retirement_contribution_percentage||0)??""}%`)),kt(Ee,()=>e(re).retirement_contribution_percentage,Fe=>gt(re,e(re).retirement_contribution_percentage=Fe)),v(ce,ee)};y(he,ce=>{e(re),r(()=>e(re).retirement_selected)&&ce(qe)})}var Se=a(pe,2);{var je=ce=>{var ee=Mb(),Le=a(t(ee),2),Ee=t(Le),$e=t(Ee),Re=a(Ee,2);_t(Re,1,()=>(e(re),r(()=>Object.entries(e(re).ai_recommendations.retirement_allocation))),bt,(Ze,Ve)=>{var Fe=va(()=>Ar(e(Ve),2));let Ye=()=>e(Fe)[0],Ue=()=>e(Fe)[1];var et=qb(),tt=t(et),Ke=t(tt),vt=a(tt,2),xt=t(vt),at=a(vt,2),Bt=t(at);x(()=>{l(Ke,Ye()),oa(xt,`width: ${Ue()??""}%`),l(Bt,`${Ue()??""}%`)}),v(Ze,et)}),x(()=>l($e,`Based on ${e(ft)??""} risk profile`)),v(ce,ee)};y(Se,ce=>{e(re),r(()=>e(re).ai_recommendations.retirement_allocation)&&ce(je)})}var M=a(Z,2),te=t(M),de=a(te,2);x(()=>{l(xe,`Benefits Enrollment: ${e(X),r(()=>e(X).name)??""}`),l(_e,(e(X),r(()=>e(X).department))),Q.disabled=e(ut),l(U,e(ut)?"ðŸ”„ Getting Recommendations...":"âœ¨ Get AI Recommendations"),de.disabled=(e(re),r(()=>!e(re).healthcare_selected||!e(re).retirement_selected))}),O("click",ze,yt),Lt(J,()=>e(ft),ce=>s(ft,ce)),Is(p,[],A,()=>e(ht),ce=>s(ht,ce)),Is(p,[],w,()=>e(ht),ce=>s(ht,ce)),Is(p,[],K,()=>e(ht),ce=>s(ht,ce)),Is(p,[],oe,()=>e(ht),ce=>s(ht,ce)),kt(ve,()=>e(Je),ce=>s(Je,ce)),O("click",Q,dt),O("click",te,yt),O("click",de,pt),O("click",be,Gt(function(ce){aa.call(this,o,ce)})),O("click",We,yt),v(Ge,We)};y(Be,Ge=>{e(Qe)&&e(X)&&e(re)&&Ge(Xe)})}x(()=>{Ne=st(Ae,1,"tab svelte-16ry2bv",null,Ne,{active:e(le)==="manager"}),He=st(ye,1,"tab svelte-16ry2bv",null,He,{active:e(le)==="enrollment"})}),O("click",Ae,()=>s(le,"manager")),O("click",ye,()=>s(le,"enrollment")),v(i,St),Zt(),h()}var Fb=d('<div class="loading svelte-1g4a8xw">Loading dashboard...</div>'),Lb=d('<div class="error svelte-1g4a8xw"><p> </p> <button class="svelte-1g4a8xw">Retry</button></div>'),Ob=d('<div class="stats-grid svelte-1g4a8xw"><div class="stat-card svelte-1g4a8xw"><div class="stat-icon svelte-1g4a8xw">ðŸ‘¥</div> <div class="stat-content svelte-1g4a8xw"><div class="stat-value svelte-1g4a8xw"> </div> <div class="stat-label svelte-1g4a8xw">Total Employees</div></div></div> <div class="stat-card svelte-1g4a8xw"><div class="stat-icon svelte-1g4a8xw">âœ“</div> <div class="stat-content svelte-1g4a8xw"><div class="stat-value svelte-1g4a8xw"> </div> <div class="stat-label svelte-1g4a8xw">Active</div></div></div> <div class="stat-card svelte-1g4a8xw"><div class="stat-icon svelte-1g4a8xw">ðŸš€</div> <div class="stat-content svelte-1g4a8xw"><div class="stat-value svelte-1g4a8xw"> </div> <div class="stat-label svelte-1g4a8xw">Onboarding</div></div></div> <div class="stat-card svelte-1g4a8xw"><div class="stat-icon svelte-1g4a8xw">ðŸ–ï¸</div> <div class="stat-content svelte-1g4a8xw"><div class="stat-value svelte-1g4a8xw"> </div> <div class="stat-label svelte-1g4a8xw">On Leave</div></div></div></div> <div class="section svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Quick Actions</h2> <div class="quick-actions-grid svelte-1g4a8xw"><button class="action-card svelte-1g4a8xw"><div class="action-icon svelte-1g4a8xw">ðŸ‘¥</div> <div class="action-content svelte-1g4a8xw"><h3 class="svelte-1g4a8xw">Organization Management</h3> <p class="svelte-1g4a8xw">Manage employees & organization</p></div></button> <button class="action-card svelte-1g4a8xw"><div class="action-icon svelte-1g4a8xw">ðŸŽ¯</div> <div class="action-content svelte-1g4a8xw"><h3 class="svelte-1g4a8xw">Talent Center</h3> <p class="svelte-1g4a8xw">Recruiting, onboarding & workflows</p></div></button> <button class="action-card svelte-1g4a8xw"><div class="action-icon svelte-1g4a8xw">ðŸ’³</div> <div class="action-content svelte-1g4a8xw"><h3 class="svelte-1g4a8xw">Pay & Expenses</h3> <p class="svelte-1g4a8xw">Payroll & expense approvals</p></div></button> <button class="action-card svelte-1g4a8xw"><div class="action-icon svelte-1g4a8xw">âš–ï¸</div> <div class="action-content svelte-1g4a8xw"><h3 class="svelte-1g4a8xw">Compliance</h3> <p class="svelte-1g4a8xw">Documents, training & audits</p></div></button> <button class="action-card svelte-1g4a8xw"><div class="action-icon svelte-1g4a8xw">ðŸ¥</div> <div class="action-content svelte-1g4a8xw"><h3 class="svelte-1g4a8xw">Benefits</h3> <p class="svelte-1g4a8xw">Healthcare, retirement & enrollment</p></div></button> <button class="action-card svelte-1g4a8xw"><div class="action-icon svelte-1g4a8xw">ðŸ’°</div> <div class="action-content svelte-1g4a8xw"><h3 class="svelte-1g4a8xw">Compensation</h3> <p class="svelte-1g4a8xw">Manage salaries & bonuses</p></div></button></div></div> <div class="section svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Recent Activity</h2> <div class="recent-activity svelte-1g4a8xw"><p class="text-muted svelte-1g4a8xw">Recent employee activities will appear here</p></div></div>',1),Nb=d('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">All Employees</h2> <button class="close-btn svelte-1g4a8xw">Ã—</button></div> <div class="modal-body svelte-1g4a8xw"><!></div></div></div>'),Ub=d('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Employee Details</h2> <button class="close-btn svelte-1g4a8xw">Ã—</button></div> <div class="modal-body svelte-1g4a8xw"><!></div></div></div>'),Wb=d('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="title-section h1 svelte-1g4a8xw"><h1 class="svelte-1g4a8xw">ðŸŽ¯ Talent Center</h1> <p class="subtitle svelte-1g4a8xw">Employee and Organization Management</p> <button class="close-btn svelte-1g4a8xw">Ã—</button></div> <!></div></div>'),Hb=d('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="title-section h1 svelte-1g4a8xw"><h1 class="svelte-1g4a8xw">ðŸŽ¯ Talent Center</h1> <p class="subtitle svelte-1g4a8xw">Recruiting, Onboarding & Workflow Management</p> <button class="close-btn svelte-1g4a8xw">Ã—</button></div> <!></div></div>'),Jb=d('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Pay & Expenses</h2> <button class="close-btn svelte-1g4a8xw">Ã—</button></div> <div class="modal-body svelte-1g4a8xw"><!></div></div></div>'),Vb=d('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Compliance Dashboard</h2> <button class="close-btn svelte-1g4a8xw">Ã—</button></div> <div class="modal-body svelte-1g4a8xw"><!></div></div></div>'),Yb=d('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Benefits Dashboard</h2> <button class="close-btn svelte-1g4a8xw">Ã—</button></div> <div class="modal-body svelte-1g4a8xw"><!></div></div></div>'),Gb=d('<div class="modal-overlay svelte-1g4a8xw" role="button" tabindex="0"><div class="modal full-screen svelte-1g4a8xw" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-1g4a8xw"><h2 class="svelte-1g4a8xw">Compensation Management</h2> <button class="close-btn svelte-1g4a8xw">Ã—</button></div> <!></div></div>'),Kb=d('<div class="hr-dashboard svelte-1g4a8xw"><div class="dashboard-header svelte-1g4a8xw"><h1 class="svelte-1g4a8xw">HR Dashboard</h1></div> <!></div> <!> <!> <!> <!> <!> <!> <!> <!>',1);function Qb(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=Y([]),_=Y({totalEmployees:0,activeEmployees:0,onboardingEmployees:0,onLeaveEmployees:0}),p=Y(!0),u=Y(""),S=Y(null),C=Y(!1),le=Y(!1),E=Y(!1),T=Y(!1),L=Y(!1),z=Y(!1),P=Y(!1),R=Y(!1);sa(()=>{me()});async function me(){try{s(p,!0),s(u,"");const Ce=await fetch(`${c}/employees`,{headers:{Authorization:`Bearer ${n().token}`}});if(!Ce.ok)throw new Error("Failed to load employees");s(g,await Ce.json()),X()}catch(Ce){s(u,Ce.message),console.error("Dashboard error:",Ce)}finally{s(p,!1)}}function X(){gt(_,e(_).totalEmployees=e(g).length),gt(_,e(_).activeEmployees=e(g).filter(Ce=>Ce.status==="active").length),gt(_,e(_).onboardingEmployees=e(g).filter(Ce=>Ce.status==="onboarding").length),gt(_,e(_).onLeaveEmployees=e(g).filter(Ce=>Ce.status==="on-leave").length)}function re(Ce){s(S,Ce),s(C,!0)}function Qe(){s(C,!1),s(S,null)}na();var Je=Kb(),lt=nt(Je),ut=a(t(lt),2);{var ft=Ce=>{var fe=Fb();v(Ce,fe)},ht=Ce=>{var fe=Pt(),Oe=nt(fe);{var Ie=ge=>{var Pe=Lb(),Be=t(Pe),Xe=t(Be),Ge=a(Be,2);Ge.__click=me,x(()=>l(Xe,`Error: ${e(u)??""}`)),v(ge,Pe)},ke=ge=>{var Pe=Ob(),Be=nt(Pe),Xe=t(Be),Ge=a(t(Xe),2),We=t(Ge),be=t(We),f=a(Xe,2),D=a(t(f),2),H=t(D),xe=t(H),ne=a(f,2),_e=a(t(ne),2),ze=t(_e),Me=t(ze),Z=a(ne,2),De=a(t(Z),2),ae=t(De),B=t(ae),J=a(Be,2),G=a(t(J),2),$=t(G);$.__click=()=>s(T,!0);var j=a($,2);j.__click=()=>s(E,!0);var k=a(j,2);k.__click=()=>s(L,!0);var b=a(k,2);b.__click=()=>s(z,!0);var F=a(b,2);F.__click=()=>s(P,!0);var A=a(F,2);A.__click=()=>s(le,!0),x(()=>{l(be,e(_).totalEmployees),l(xe,e(_).activeEmployees),l(Me,e(_).onboardingEmployees),l(B,e(_).onLeaveEmployees)}),v(ge,Pe)};y(Oe,ge=>{e(u)?ge(Ie):ge(ke,!1)},!0)}v(Ce,fe)};y(ut,Ce=>{e(p)&&e(g).length===0?Ce(ft):Ce(ht,!1)})}var ot=a(lt,2);{var rt=Ce=>{var fe=Nb();fe.__click=()=>s(R,!1),fe.__keydown=Be=>Be.key==="Escape"&&s(R,!1);var Oe=t(fe);Oe.__click=Be=>Be.stopPropagation(),Oe.__keydown=Be=>Be.key==="Escape"&&s(R,!1);var Ie=t(Oe),ke=a(t(Ie),2);ke.__click=()=>s(R,!1);var ge=a(Ie,2),Pe=t(ge);ap(Pe,{get employees(){return e(g)},loading:!1,onViewDetails:re}),v(Ce,fe)};y(ot,Ce=>{e(R)&&Ce(rt)})}var At=a(ot,2);{var it=Ce=>{var fe=Ub();fe.__click=Qe,fe.__keydown=Be=>Be.key==="Escape"&&Qe();var Oe=t(fe);Oe.__click=Be=>Be.stopPropagation(),Oe.__keydown=Be=>Be.key==="Escape"&&Qe();var Ie=t(Oe),ke=a(t(Ie),2);ke.__click=Qe;var ge=a(Ie,2),Pe=t(ge);Fr(Pe,{get employeeId(){return e(S)}}),v(Ce,fe)};y(At,Ce=>{e(C)&&e(S)&&Ce(it)})}var ct=a(At,2);{var yt=Ce=>{var fe=Wb();fe.__click=()=>s(T,!1),fe.__keydown=Pe=>Pe.key==="Escape"&&s(T,!1);var Oe=t(fe);Oe.__click=Pe=>Pe.stopPropagation(),Oe.__keydown=Pe=>Pe.key==="Escape"&&s(T,!1);var Ie=t(Oe),ke=a(t(Ie),4);ke.__click=()=>s(T,!1);var ge=a(Ie,2);jp(ge,{}),v(Ce,fe)};y(ct,Ce=>{e(T)&&Ce(yt)})}var dt=a(ct,2);{var pt=Ce=>{var fe=Hb();fe.__click=()=>s(E,!1),fe.__keydown=Pe=>Pe.key==="Escape"&&s(E,!1);var Oe=t(fe);Oe.__click=Pe=>Pe.stopPropagation(),Oe.__keydown=Pe=>Pe.key==="Escape"&&s(E,!1);var Ie=t(Oe),ke=a(t(Ie),4);ke.__click=()=>s(E,!1);var ge=a(Ie,2);of(ge,{}),v(Ce,fe)};y(dt,Ce=>{e(E)&&Ce(pt)})}var wt=a(dt,2);{var St=Ce=>{var fe=Jb();fe.__click=()=>s(L,!1),fe.__keydown=Be=>Be.key==="Escape"&&s(L,!1);var Oe=t(fe);Oe.__click=Be=>Be.stopPropagation(),Oe.__keydown=Be=>Be.key==="Escape"&&s(L,!1);var Ie=t(Oe),ke=a(t(Ie),2);ke.__click=()=>s(L,!1);var ge=a(Ie,2),Pe=t(ge);Cf(Pe,{}),v(Ce,fe)};y(wt,Ce=>{e(L)&&Ce(St)})}var qt=a(wt,2);{var $t=Ce=>{var fe=Vb();fe.__click=()=>s(z,!1),fe.__keydown=Be=>Be.key==="Escape"&&s(z,!1);var Oe=t(fe);Oe.__click=Be=>Be.stopPropagation(),Oe.__keydown=Be=>Be.key==="Escape"&&s(z,!1);var Ie=t(Oe),ke=a(t(Ie),2);ke.__click=()=>s(z,!1);var ge=a(Ie,2),Pe=t(ge);ob(Pe,{}),v(Ce,fe)};y(qt,Ce=>{e(z)&&Ce($t)})}var Ae=a(qt,2);{var Ne=Ce=>{var fe=Yb();fe.__click=()=>s(P,!1),fe.__keydown=Be=>Be.key==="Escape"&&s(P,!1);var Oe=t(fe);Oe.__click=Be=>Be.stopPropagation(),Oe.__keydown=Be=>Be.key==="Escape"&&s(P,!1);var Ie=t(Oe),ke=a(t(Ie),2);ke.__click=()=>s(P,!1);var ge=a(Ie,2),Pe=t(ge);Rb(Pe,{}),v(Ce,fe)};y(Ae,Ce=>{e(P)&&Ce(Ne)})}var ye=a(Ae,2);{var He=Ce=>{var fe=Gb();fe.__click=()=>s(le,!1),fe.__keydown=Pe=>Pe.key==="Escape"&&s(le,!1);var Oe=t(fe);Oe.__click=Pe=>Pe.stopPropagation(),Oe.__keydown=Pe=>Pe.key==="Escape"&&s(le,!1);var Ie=t(Oe),ke=a(t(Ie),2);ke.__click=()=>s(le,!1);var ge=a(Ie,2);Zi(ge,{}),v(Ce,fe)};y(ye,Ce=>{e(le)&&Ce(He)})}v(i,Je),Zt(),h()}Pa(["click","keydown"]);var Xb=d('<div class="alert alert-success svelte-tl2sd2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-tl2sd2"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> </div>'),Zb=d('<div class="loading svelte-tl2sd2"><div class="spinner svelte-tl2sd2"></div> <p>Loading team members...</p></div>'),e2=d('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-tl2sd2"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <h3 class="svelte-tl2sd2">No team members found</h3> <p class="svelte-tl2sd2">Try adjusting your search or filter</p> <button type="button" class="btn btn-secondary svelte-tl2sd2">Clear Filters</button>',1),t2=d(`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-tl2sd2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 00-3-3.87"></path><path d="M16 3.13a4 4 0 010 7.75"></path></svg> <h3 class="svelte-tl2sd2">No team members assigned</h3> <p class="svelte-tl2sd2">You don't have any employees or contractors reporting to you yet.</p> <p class="help-text svelte-tl2sd2">Team members will appear here when their manager_id is set to your employee ID.</p>`,1),a2=d('<div class="empty-state svelte-tl2sd2"><!></div>'),s2=d('<div class="detail-row svelte-tl2sd2"><span class="detail-label svelte-tl2sd2">Position</span> <span class="detail-value svelte-tl2sd2"> </span></div>'),l2=d('<div class="detail-row svelte-tl2sd2"><span class="detail-label svelte-tl2sd2">Department</span> <span class="detail-value svelte-tl2sd2"> </span></div>'),r2=d('<div class="detail-row svelte-tl2sd2"><span class="detail-label svelte-tl2sd2">Phone</span> <span class="detail-value svelte-tl2sd2"> </span></div>'),i2=d('<div class="member-card svelte-tl2sd2"><div class="member-header svelte-tl2sd2"><div class="member-avatar svelte-tl2sd2"> </div> <div class="member-info svelte-tl2sd2"><h3 class="svelte-tl2sd2"> </h3> <p class="member-email svelte-tl2sd2"> </p></div></div> <div class="member-details svelte-tl2sd2"><div class="detail-row svelte-tl2sd2"><span class="detail-label svelte-tl2sd2">Type</span> <span> </span></div> <!> <!> <!> <div class="detail-row svelte-tl2sd2"><span class="detail-label svelte-tl2sd2">Hire Date</span> <span class="detail-value svelte-tl2sd2"> </span></div> <div class="detail-row svelte-tl2sd2"><span class="detail-label svelte-tl2sd2">Status</span> <span> </span></div></div> <div class="member-actions svelte-tl2sd2"><button type="button" class="btn btn-sm btn-primary svelte-tl2sd2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-tl2sd2"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg> Manage Projects</button></div></div>'),v2=d('<div class="results-header svelte-tl2sd2"><span class="results-count svelte-tl2sd2"> </span></div> <div class="team-grid svelte-tl2sd2"></div>',1),o2=d('<div class="alert alert-success svelte-tl2sd2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-tl2sd2"><polyline points="20 6 9 17 4 12"></polyline></svg> </div>'),n2=d('<div class="alert alert-error svelte-tl2sd2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-tl2sd2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> </div>'),d2=d("<option> </option>"),c2=d('<p class="no-projects svelte-tl2sd2">All active projects have been assigned</p>'),u2=d('<div class="modal-loading svelte-tl2sd2"><div class="spinner-sm svelte-tl2sd2"></div> <span>Loading projects...</span></div>'),p2=d('<p class="no-projects svelte-tl2sd2">No projects assigned yet</p>'),_2=d('<div class="project-item svelte-tl2sd2"><div class="project-info svelte-tl2sd2"><h5 class="svelte-tl2sd2"> </h5> <div class="project-meta svelte-tl2sd2"><span class="role-badge svelte-tl2sd2"> </span> <span class="date-assigned svelte-tl2sd2"> </span></div></div> <button type="button" class="btn-revoke svelte-tl2sd2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-tl2sd2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Revoke</button></div>'),f2=d('<div class="projects-list svelte-tl2sd2"></div>'),b2=d('<div class="modal-overlay svelte-tl2sd2"><div class="modal svelte-tl2sd2"><div class="modal-header svelte-tl2sd2"><h3 class="svelte-tl2sd2"> </h3> <button type="button" class="modal-close svelte-tl2sd2"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-tl2sd2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="modal-body svelte-tl2sd2"><!> <!> <div class="assign-section svelte-tl2sd2"><h4 class="svelte-tl2sd2">Assign Project</h4> <div class="assign-form svelte-tl2sd2"><select class="project-select svelte-tl2sd2"><option>Select a project...</option><!></select> <select class="role-select svelte-tl2sd2"><option>Member</option><option>Lead</option><option>Manager</option></select> <button type="button" class="btn btn-primary svelte-tl2sd2"> </button></div> <!></div> <div class="current-projects svelte-tl2sd2"><h4 class="svelte-tl2sd2">Current Projects</h4> <!></div></div> <div class="modal-footer svelte-tl2sd2"><button type="button" class="btn btn-secondary svelte-tl2sd2">Close</button></div></div></div>'),m2=d('<div class="team-management svelte-tl2sd2"><div class="section-header svelte-tl2sd2"><h2 class="svelte-tl2sd2">My Team</h2> <p class="section-subtitle svelte-tl2sd2">Manage your assigned employees and contractors</p></div> <!> <div class="controls svelte-tl2sd2"><div class="search-box svelte-tl2sd2"><svg class="search-icon svelte-tl2sd2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <input type="text" placeholder="Search by name, email, position..." class="search-input svelte-tl2sd2"/></div> <select class="filter-select svelte-tl2sd2"><option>All Types</option><option>W-2 Employees</option><option>Full Time</option><option>Part Time</option><option>Contractors</option></select></div> <!></div> <!>',1);function h2(i,o){Xt(o,!0);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=mt(!1),_=mt(Kt([])),p=mt(Kt([])),u=mt(""),S=mt("all"),C=mt(Kt([])),le=mt(!1),E=mt(null),T=mt(Kt([])),L=mt(Kt([])),z=mt(""),P=mt("member"),R=mt(!1),me=mt(!1),X=mt(""),re=mt("");sa(()=>{Qe(),Je()});async function Qe(){s(g,!0);try{const We=await fetch(`${c}/employees/team`,{headers:{Authorization:`Bearer ${n().token}`}});if(We.ok){const be=await We.json();s(_,Array.isArray(be)?be:[],!0),lt()}else console.error("Failed to load team members:",We.status),s(_,[],!0)}catch(We){console.error("Error loading team members:",We),s(_,[],!0)}finally{s(g,!1)}}async function Je(){try{const We=await fetch(`${c}/projects`,{headers:{Authorization:`Bearer ${n().token}`}});if(We.ok){const be=await We.json();s(C,Array.isArray(be)?be.filter(f=>f.status==="active"):[],!0)}}catch(We){console.error("Error loading projects:",We),s(C,[],!0)}}function lt(){let We=[...e(_)];if(e(S)!=="all"&&(We=We.filter(be=>e(S)==="1099"||e(S)==="contractor"?be.employment_type==="1099"||be.employment_type==="contractor":be.employment_type===e(S))),e(u).trim()){const be=e(u).toLowerCase();We=We.filter(f=>{var D,H;return f.first_name.toLowerCase().includes(be)||f.last_name.toLowerCase().includes(be)||f.email.toLowerCase().includes(be)||((D=f.position)==null?void 0:D.toLowerCase().includes(be))||((H=f.department)==null?void 0:H.toLowerCase().includes(be))})}s(p,We,!0)}function ut(We){s(u,We.target.value,!0),lt()}function ft(We){s(S,We.target.value,!0),lt()}async function ht(We){s(E,We,!0),s(le,!0),s(R,!0),s(re,""),s(X,"");try{const be=await fetch(`${c}/projects/employee/${We.id}`,{headers:{Authorization:`Bearer ${n().token}`}});if(be.ok){const f=await be.json();s(T,Array.isArray(f)?f:[],!0);const D=new Set(e(T).map(H=>H.project_id));s(L,e(C).filter(H=>!D.has(H.id)),!0)}else s(T,[],!0),s(L,[...e(C)],!0)}catch(be){console.error("Error loading employee projects:",be),s(T,[],!0),s(L,[...e(C)],!0)}finally{s(R,!1)}}function ot(){s(le,!1),s(E,null),s(T,[],!0),s(L,[],!0),s(z,""),s(P,"member"),s(re,""),s(X,"")}async function rt(){if(!e(E)||!e(z)){s(re,"Please select a project");return}s(me,!0),s(re,"");try{const We=await fetch(`${c}/projects/${e(z)}/members`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({employee_id:e(E).id,role:e(P)})});if(We.ok)s(X,"Project assigned successfully!"),await ht(e(E)),s(z,""),s(P,"member");else{const be=await We.json();s(re,be.error||"Failed to assign project",!0)}}catch(We){console.error("Error assigning project:",We),s(re,"An error occurred while assigning the project")}finally{s(me,!1)}}async function At(We){if(e(E)&&confirm("Are you sure you want to revoke this project assignment?")){s(me,!0),s(re,""),s(X,"");try{const be=await fetch(`${c}/projects/${We}/members/${e(E).id}`,{method:"DELETE",headers:{Authorization:`Bearer ${n().token}`}});if(be.ok)s(X,"Project revoked successfully!"),await ht(e(E));else{const f=await be.json();s(re,f.error||"Failed to revoke project",!0)}}catch(be){console.error("Error revoking project:",be),s(re,"An error occurred while revoking the project")}finally{s(me,!1)}}}function it(We){return{W2:"badge-w2","full-time":"badge-fulltime","part-time":"badge-parttime",1099:"badge-contractor",contractor:"badge-contractor"}[We]||"badge-default"}function ct(We){return{W2:"W-2 Employee","full-time":"Full Time","part-time":"Part Time",1099:"Contractor",contractor:"Contractor"}[We]||We}function yt(We){return We?new Date(We).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}function dt(We,be){return`${We.charAt(0)}${be.charAt(0)}`.toUpperCase()}var pt=m2(),wt=nt(pt),St=a(t(wt),2);{var qt=We=>{var be=Xb(),f=a(t(be));x(()=>l(f,` ${e(X)??""}`)),v(We,be)};y(St,We=>{e(X)&&We(qt)})}var $t=a(St,2),Ae=t($t),Ne=a(t(Ae),2);Ne.__input=ut;var ye=a(Ae,2);ye.__change=ft;var He=t(ye);He.value=He.__value="all";var Ce=a(He);Ce.value=Ce.__value="W2";var fe=a(Ce);fe.value=fe.__value="full-time";var Oe=a(fe);Oe.value=Oe.__value="part-time";var Ie=a(Oe);Ie.value=Ie.__value="contractor";var ke;ir(ye);var ge=a($t,2);{var Pe=We=>{var be=Zb();v(We,be)},Be=We=>{var be=Pt(),f=nt(be);{var D=xe=>{var ne=a2(),_e=t(ne);{var ze=Z=>{var De=e2(),ae=a(nt(De),6);ae.__click=()=>{s(u,""),s(S,"all"),lt()},v(Z,De)},Me=Z=>{var De=t2();v(Z,De)};y(_e,Z=>{e(u)||e(S)!=="all"?Z(ze):Z(Me,!1)})}v(xe,ne)},H=xe=>{var ne=v2(),_e=nt(ne),ze=t(_e),Me=t(ze),Z=a(_e,2);_t(Z,21,()=>e(p),bt,(De,ae)=>{var B=i2(),J=t(B),G=t(J),$=t(G),j=a(G,2),k=t(j),b=t(k),F=a(k,2),A=t(F),q=a(J,2),w=t(q),N=a(t(w),2),K=t(N),I=a(w,2);{var oe=qe=>{var Se=s2(),je=a(t(Se),2),M=t(je);x(()=>l(M,e(ae).position)),v(qe,Se)};y(I,qe=>{e(ae).position&&qe(oe)})}var W=a(I,2);{var ve=qe=>{var Se=l2(),je=a(t(Se),2),M=t(je);x(()=>l(M,e(ae).department)),v(qe,Se)};y(W,qe=>{e(ae).department&&qe(ve)})}var Q=a(W,2);{var U=qe=>{var Se=r2(),je=a(t(Se),2),M=t(je);x(()=>l(M,e(ae).phone)),v(qe,Se)};y(Q,qe=>{e(ae).phone&&qe(U)})}var V=a(Q,2),se=a(t(V),2),ie=t(se),we=a(V,2),pe=a(t(we),2),ue=t(pe),Te=a(q,2),he=t(Te);he.__click=()=>ht(e(ae)),x((qe,Se,je,M)=>{l($,qe),l(b,`${e(ae).first_name??""} ${e(ae).last_name??""}`),l(A,e(ae).email),st(N,1,`badge ${Se??""}`,"svelte-tl2sd2"),l(K,je),l(ie,M),st(pe,1,`status-badge status-${e(ae).status??""}`,"svelte-tl2sd2"),l(ue,e(ae).status)},[()=>dt(e(ae).first_name,e(ae).last_name),()=>it(e(ae).employment_type),()=>ct(e(ae).employment_type),()=>yt(e(ae).hire_date)]),v(De,B)}),x(()=>l(Me,`${e(p).length??""} team member${e(p).length!==1?"s":""}`)),v(xe,ne)};y(f,xe=>{e(p).length===0?xe(D):xe(H,!1)},!0)}v(We,be)};y(ge,We=>{e(g)?We(Pe):We(Be,!1)})}var Xe=a(wt,2);{var Ge=We=>{var be=b2();be.__click=ot;var f=t(be);f.__click=U=>U.stopPropagation();var D=t(f),H=t(D),xe=t(H),ne=a(H,2);ne.__click=ot;var _e=a(D,2),ze=t(_e);{var Me=U=>{var V=o2(),se=a(t(V));x(()=>l(se,` ${e(X)??""}`)),v(U,V)};y(ze,U=>{e(X)&&U(Me)})}var Z=a(ze,2);{var De=U=>{var V=n2(),se=a(t(V));x(()=>l(se,` ${e(re)??""}`)),v(U,V)};y(Z,U=>{e(re)&&U(De)})}var ae=a(Z,2),B=a(t(ae),2),J=t(B),G=t(J);G.value=G.__value="";var $=a(G);_t($,17,()=>e(L),bt,(U,V)=>{var se=d2(),ie=t(se),we={};x(()=>{l(ie,e(V).name),we!==(we=e(V).id)&&(se.value=(se.__value=e(V).id)??"")}),v(U,se)});var j=a(J,2),k=t(j);k.value=k.__value="member";var b=a(k);b.value=b.__value="lead";var F=a(b);F.value=F.__value="manager";var A=a(j,2);A.__click=rt;var q=t(A),w=a(B,2);{var N=U=>{var V=c2();v(U,V)};y(w,U=>{e(L).length===0&&U(N)})}var K=a(ae,2),I=a(t(K),2);{var oe=U=>{var V=u2();v(U,V)},W=U=>{var V=Pt(),se=nt(V);{var ie=pe=>{var ue=p2();v(pe,ue)},we=pe=>{var ue=f2();_t(ue,21,()=>e(T),bt,(Te,he)=>{var qe=_2(),Se=t(qe),je=t(Se),M=t(je),te=a(je,2),de=t(te),ce=t(de),ee=a(de,2),Le=t(ee),Ee=a(Se,2);Ee.__click=()=>At(e(he).project_id),x($e=>{l(M,e(he).project_name),l(ce,e(he).role),l(Le,`Assigned ${$e??""}`),Ee.disabled=e(me)},[()=>yt(e(he).assigned_at)]),v(Te,qe)}),v(pe,ue)};y(se,pe=>{e(T).length===0?pe(ie):pe(we,!1)},!0)}v(U,V)};y(I,U=>{e(R)?U(oe):U(W,!1)})}var ve=a(_e,2),Q=t(ve);Q.__click=ot,x(()=>{l(xe,`Manage Projects - ${e(E).first_name??""} ${e(E).last_name??""}`),J.disabled=e(me),j.disabled=e(me),A.disabled=e(me)||!e(z),l(q,e(me)?"Assigning...":"Assign")}),Lt(J,()=>e(z),U=>s(z,U)),Lt(j,()=>e(P),U=>s(P,U)),v(We,be)};y(Xe,We=>{e(le)&&e(E)&&We(Ge)})}x(()=>{Ql(Ne,e(u)),ke!==(ke=e(S))&&(ye.value=(ye.__value=e(S))??"",Rl(ye,e(S)))}),v(i,pt),Zt(),h()}Pa(["input","change","click"]);var y2=d('<div class="alert alert-success svelte-1mda95v"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1mda95v"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> <button type="button" class="alert-close svelte-1mda95v">Ã—</button></div>'),g2=d('<div class="alert alert-error svelte-1mda95v"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1mda95v"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> <button type="button" class="alert-close svelte-1mda95v">Ã—</button></div>'),x2=d('<div class="loading svelte-1mda95v"><div class="spinner svelte-1mda95v"></div> <p>Loading pending timesheets...</p></div>'),w2=d('<div class="empty-state svelte-1mda95v"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1mda95v"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> <h3 class="svelte-1mda95v">All caught up!</h3> <p class="svelte-1mda95v">There are no pending timesheets to review at this time.</p></div>'),k2=d('<div class="summary-item svelte-1mda95v"><span class="summary-label svelte-1mda95v">Overtime</span> <span class="summary-value overtime svelte-1mda95v"> </span></div>'),$2=d('<div class="details-loading svelte-1mda95v"><div class="spinner-sm svelte-1mda95v"></div> <span>Loading details...</span></div>'),j2=d('<tr class="svelte-1mda95v"><td class="svelte-1mda95v"> </td><td class="svelte-1mda95v"> </td><td class="svelte-1mda95v"><span> </span></td><td class="hours-cell svelte-1mda95v"> </td><td class="notes-cell svelte-1mda95v"> </td></tr>'),S2=d('<table class="entries-table svelte-1mda95v"><thead class="svelte-1mda95v"><tr><th class="svelte-1mda95v">Date</th><th class="svelte-1mda95v">Project</th><th class="svelte-1mda95v">Type</th><th class="svelte-1mda95v">Hours</th><th class="svelte-1mda95v">Notes</th></tr></thead><tbody class="svelte-1mda95v"></tbody><tfoot class="svelte-1mda95v"><tr><td colspan="3" class="total-label svelte-1mda95v">Total</td><td class="total-hours svelte-1mda95v"> </td><td class="svelte-1mda95v"></td></tr></tfoot></table>'),A2=d('<p class="no-entries svelte-1mda95v">No time entries found</p>'),E2=d('<div class="timesheet-details svelte-1mda95v"><!></div>'),C2=d('<div class="timesheet-card svelte-1mda95v"><div class="timesheet-header svelte-1mda95v"><div class="employee-info svelte-1mda95v"><div class="employee-avatar svelte-1mda95v"> </div> <div><h3 class="svelte-1mda95v"> </h3> <p class="week-label svelte-1mda95v"> </p></div></div> <div class="timesheet-summary svelte-1mda95v"><div class="summary-item svelte-1mda95v"><span class="summary-label svelte-1mda95v">Total Hours</span> <span class="summary-value svelte-1mda95v"> </span></div> <!> <div class="summary-item svelte-1mda95v"><span class="summary-label svelte-1mda95v">Submitted</span> <span class="summary-value svelte-1mda95v"> </span></div></div></div> <button type="button" class="details-toggle svelte-1mda95v"> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg></button> <!> <div class="timesheet-actions svelte-1mda95v"><button type="button" class="btn btn-reject svelte-1mda95v"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1mda95v"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Reject</button> <button type="button" class="btn btn-approve svelte-1mda95v"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1mda95v"><polyline points="20 6 9 17 4 12"></polyline></svg> Approve</button></div></div>'),D2=d('<div class="timesheets-list svelte-1mda95v"></div>'),z2=d('<p class="svelte-1mda95v"><strong>Overtime Hours:</strong> </p>'),P2=d('<div class="rejection-reason svelte-1mda95v"><label for="rejection-reason" class="svelte-1mda95v">Rejection Reason <span class="required svelte-1mda95v">*</span></label> <textarea id="rejection-reason" placeholder="Please provide a reason for rejecting this timesheet..." rows="4" required class="svelte-1mda95v"></textarea></div>'),T2=d('<div class="alert alert-error svelte-1mda95v"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1mda95v"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> </div>'),q2=d('<button type="button" class="btn btn-approve svelte-1mda95v"> </button>'),M2=d('<button type="button" class="btn btn-reject svelte-1mda95v"> </button>'),B2=d('<div class="modal-overlay svelte-1mda95v"><div class="modal svelte-1mda95v"><div class="modal-header svelte-1mda95v"><h3 class="svelte-1mda95v"> </h3> <button type="button" class="modal-close svelte-1mda95v"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1mda95v"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="modal-body svelte-1mda95v"><div class="modal-summary svelte-1mda95v"><p class="svelte-1mda95v"><strong>Employee:</strong> </p> <p class="svelte-1mda95v"><strong>Period:</strong> </p> <p class="svelte-1mda95v"><strong>Total Hours:</strong> </p> <!></div> <!> <!></div> <div class="modal-footer svelte-1mda95v"><button type="button" class="btn btn-secondary svelte-1mda95v">Cancel</button> <!></div></div></div>'),I2=d('<div class="timesheet-approval svelte-1mda95v"><div class="section-header svelte-1mda95v"><h2 class="svelte-1mda95v">Timesheet Approvals</h2> <p class="section-subtitle svelte-1mda95v">Review and approve timesheets submitted by your team</p></div> <!> <!> <!></div> <!>',1);function R2(i,o){Xt(o,!0);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=mt(!1),_=mt(!1),p=mt(Kt([])),u=mt(null),S=mt(!1),C=mt("approve"),le=mt(""),E=mt(""),T=mt(""),L=mt(null),z=mt(null);sa(()=>{P()});async function P(){s(g,!0),s(T,"");try{const Ae=await fetch(`${c}/timesheet/pending`,{headers:{Authorization:`Bearer ${n().token}`}});if(Ae.ok){const Ne=await Ae.json();s(p,Array.isArray(Ne)?Ne:[],!0),console.log("Loaded timesheets:",e(p))}else console.error("Failed to load timesheets:",Ae.status),s(p,[],!0)}catch(Ae){console.error("Error loading timesheets:",Ae),s(T,"Failed to load pending timesheets"),s(p,[],!0)}finally{s(g,!1)}}async function R(Ae){s(z,Ae,!0);try{console.log("Loading details for timesheet:",Ae);const Ne=await fetch(`${c}/timesheet/timesheets/${Ae}`,{headers:{Authorization:`Bearer ${n().token}`}});if(Ne.ok){const ye=await Ne.json();console.log("Timesheet details:",ye);const He=e(p).findIndex(Ce=>Ce.id===Ae);He!==-1&&(e(p)[He]={...e(p)[He],time_entries:ye.time_entries||[]},s(p,[...e(p)],!0))}else console.error("Failed to load timesheet details:",Ne.status),s(T,"Failed to load timesheet details")}catch(Ne){console.error("Error loading timesheet details:",Ne),s(T,"Error loading timesheet details")}finally{s(z,null)}}function me(Ae){s(u,Ae,!0),s(C,"approve"),s(le,""),s(S,!0),s(T,"")}function X(Ae){s(u,Ae,!0),s(C,"reject"),s(le,""),s(S,!0),s(T,"")}function re(){s(S,!1),s(u,null),s(le,""),s(T,"")}async function Qe(){var Ae;if(e(u)){s(_,!0),s(T,""),s(E,"");try{const Ne=await fetch(`${c}/timesheet/timesheets/${e(u).id}/approve`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"approve"})});if(Ne.ok)s(E,`Timesheet approved for ${e(u).employee_name}`),re(),await P(),(Ae=o.onAction)==null||Ae.call(o);else{const ye=await Ne.json();s(T,ye.error||"Failed to approve timesheet",!0)}}catch(Ne){console.error("Error approving timesheet:",Ne),s(T,"An error occurred while approving the timesheet")}finally{s(_,!1)}}}async function Je(){var Ae;if(e(u)){if(!e(le).trim()){s(T,"Please provide a reason for rejection");return}s(_,!0),s(T,""),s(E,"");try{const Ne=await fetch(`${c}/timesheet/timesheets/${e(u).id}/approve`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({action:"reject",rejection_reason:e(le)})});if(Ne.ok)s(E,`Timesheet rejected for ${e(u).employee_name}`),re(),await P(),(Ae=o.onAction)==null||Ae.call(o);else{const ye=await Ne.json();s(T,ye.error||"Failed to reject timesheet",!0)}}catch(Ne){console.error("Error rejecting timesheet:",Ne),s(T,"An error occurred while rejecting the timesheet")}finally{s(_,!1)}}}function lt(Ae){if(e(L)===Ae)s(L,null);else{s(L,Ae,!0);const Ne=e(p).find(ye=>ye.id===Ae);Ne&&!Ne.time_entries&&R(Ae)}}function ut(Ae){if(!Ae)return"N/A";try{let Ne;return Ae.includes("T")||Ae.includes("-")?Ne=new Date(Ae):Ne=new Date(Ae),isNaN(Ne.getTime())?(console.error("Invalid date:",Ae),"Invalid Date"):Ne.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(Ne){return console.error("Error formatting date:",Ae,Ne),"Invalid Date"}}function ft(Ae){if(!Ae)return"N/A";try{const Ne=new Date(Ae);return isNaN(Ne.getTime())?(console.error("Invalid datetime:",Ae),"Invalid Date"):Ne.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})}catch(Ne){return console.error("Error formatting datetime:",Ae,Ne),"Invalid Date"}}function ht(Ae,Ne){const ye=ut(Ae),He=ut(Ne);return ye==="Invalid Date"||He==="Invalid Date"?"Invalid Date Range":`${ye} - ${He}`}function ot(Ae){return Ae?Ae.split(" ").map(Ne=>Ne[0]).join("").toUpperCase():"NA"}var rt=I2(),At=nt(rt),it=a(t(At),2);{var ct=Ae=>{var Ne=y2(),ye=a(t(Ne)),He=a(ye);He.__click=()=>s(E,""),x(()=>l(ye,` ${e(E)??""} `)),v(Ae,Ne)};y(it,Ae=>{e(E)&&Ae(ct)})}var yt=a(it,2);{var dt=Ae=>{var Ne=g2(),ye=a(t(Ne)),He=a(ye);He.__click=()=>s(T,""),x(()=>l(ye,` ${e(T)??""} `)),v(Ae,Ne)};y(yt,Ae=>{e(T)&&Ae(dt)})}var pt=a(yt,2);{var wt=Ae=>{var Ne=x2();v(Ae,Ne)},St=Ae=>{var Ne=Pt(),ye=nt(Ne);{var He=fe=>{var Oe=w2();v(fe,Oe)},Ce=fe=>{var Oe=D2();_t(Oe,21,()=>e(p),bt,(Ie,ke)=>{var ge=C2(),Pe=t(ge),Be=t(Pe),Xe=t(Be),Ge=t(Xe),We=a(Xe,2),be=t(We),f=t(be),D=a(be,2),H=t(D),xe=a(Be,2),ne=t(xe),_e=a(t(ne),2),ze=t(_e),Me=a(ne,2);{var Z=q=>{var w=k2(),N=a(t(w),2),K=t(N);x(I=>l(K,I),[()=>e(ke).overtime_hours.toFixed(2)]),v(q,w)};y(Me,q=>{e(ke).overtime_hours&&e(ke).overtime_hours>0&&q(Z)})}var De=a(Me,2),ae=a(t(De),2),B=t(ae),J=a(Pe,2);J.__click=()=>lt(e(ke).id);var G=t(J),$=a(G),j=a(J,2);{var k=q=>{var w=E2(),N=t(w);{var K=oe=>{var W=$2();v(oe,W)},I=oe=>{var W=Pt(),ve=nt(W);{var Q=V=>{var se=S2(),ie=a(t(se));_t(ie,21,()=>e(ke).time_entries,bt,(he,qe)=>{var Se=j2(),je=t(Se),M=t(je),te=a(je),de=t(te),ce=a(te),ee=t(ce),Le=t(ee),Ee=a(ce),$e=t(Ee),Re=a(Ee),Ze=t(Re);x((Ve,Fe)=>{l(M,Ve),l(de,e(qe).project_name||"No Project"),st(ee,1,`type-badge type-${e(qe).type??""}`,"svelte-1mda95v"),l(Le,e(qe).type),l($e,Fe),l(Ze,e(qe).notes||"-")},[()=>ut(e(qe).date),()=>{var Ve;return((Ve=e(qe).hours)==null?void 0:Ve.toFixed(2))||"0.00"}]),v(he,Se)});var we=a(ie),pe=t(we),ue=a(t(pe)),Te=t(ue);x(he=>l(Te,he),[()=>e(ke).time_entries.reduce((he,qe)=>he+(qe.hours||0),0).toFixed(2)]),v(V,se)},U=V=>{var se=A2();v(V,se)};y(ve,V=>{e(ke).time_entries&&e(ke).time_entries.length>0?V(Q):V(U,!1)},!0)}v(oe,W)};y(N,oe=>{e(z)===e(ke).id?oe(K):oe(I,!1)})}v(q,w)};y(j,q=>{e(L)===e(ke).id&&q(k)})}var b=a(j,2),F=t(b);F.__click=()=>X(e(ke));var A=a(F,2);A.__click=()=>me(e(ke)),x((q,w,N,K)=>{l(Ge,q),l(f,e(ke).employee_name||"Unknown Employee"),l(H,w),l(ze,N),l(B,K),l(G,`${e(L)===e(ke).id?"Hide":"View"} Details `),st($,0,`toggle-icon ${e(L)===e(ke).id?"expanded":""}`,"svelte-1mda95v"),F.disabled=e(_),A.disabled=e(_)},[()=>ot(e(ke).employee_name),()=>ht(e(ke).start_date,e(ke).end_date),()=>{var q;return((q=e(ke).total_hours)==null?void 0:q.toFixed(2))||"0.00"},()=>ft(e(ke).submitted_at)]),v(Ie,ge)}),v(fe,Oe)};y(ye,fe=>{e(p).length===0?fe(He):fe(Ce,!1)},!0)}v(Ae,Ne)};y(pt,Ae=>{e(g)?Ae(wt):Ae(St,!1)})}var qt=a(At,2);{var $t=Ae=>{var Ne=B2();Ne.__click=re;var ye=t(Ne);ye.__click=ae=>ae.stopPropagation();var He=t(ye),Ce=t(He),fe=t(Ce),Oe=a(Ce,2);Oe.__click=re;var Ie=a(He,2),ke=t(Ie),ge=t(ke),Pe=a(t(ge)),Be=a(ge,2),Xe=a(t(Be)),Ge=a(Be,2),We=a(t(Ge)),be=a(Ge,2);{var f=ae=>{var B=z2(),J=a(t(B));x(G=>l(J,` ${G??""}`),[()=>e(u).overtime_hours.toFixed(2)]),v(ae,B)};y(be,ae=>{e(u).overtime_hours&&e(u).overtime_hours>0&&ae(f)})}var D=a(ke,2);{var H=ae=>{var B=P2(),J=a(t(B),2);kt(J,()=>e(le),G=>s(le,G)),v(ae,B)};y(D,ae=>{e(C)==="reject"&&ae(H)})}var xe=a(D,2);{var ne=ae=>{var B=T2(),J=a(t(B));x(()=>l(J,` ${e(T)??""}`)),v(ae,B)};y(xe,ae=>{e(T)&&ae(ne)})}var _e=a(Ie,2),ze=t(_e);ze.__click=re;var Me=a(ze,2);{var Z=ae=>{var B=q2();B.__click=Qe;var J=t(B);x(()=>{B.disabled=e(_),l(J,e(_)?"Approving...":"Approve Timesheet")}),v(ae,B)},De=ae=>{var B=M2();B.__click=Je;var J=t(B);x(()=>{B.disabled=e(_),l(J,e(_)?"Rejecting...":"Reject Timesheet")}),v(ae,B)};y(Me,ae=>{e(C)==="approve"?ae(Z):ae(De,!1)})}x((ae,B)=>{l(fe,`${e(C)==="approve"?"Approve":"Reject"} Timesheet`),l(Pe,` ${e(u).employee_name??""}`),l(Xe,` ${ae??""}`),l(We,` ${B??""}`),ze.disabled=e(_)},[()=>ht(e(u).start_date,e(u).end_date),()=>{var ae;return((ae=e(u).total_hours)==null?void 0:ae.toFixed(2))||"0.00"}]),v(Ae,Ne)};y(qt,Ae=>{e(S)&&e(u)&&Ae($t)})}v(i,rt),Zt(),h()}Pa(["click"]);var F2=d('<div class="alert alert-success svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> <button type="button" class="alert-close svelte-f7rtb0">Ã—</button></div>'),L2=d('<div class="alert alert-error svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> <button type="button" class="alert-close svelte-f7rtb0">Ã—</button></div>'),O2=d('<div class="loading svelte-f7rtb0"><div class="spinner svelte-f7rtb0"></div> <p>Loading...</p></div>'),N2=d('<div class="empty-state svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg> <h3 class="svelte-f7rtb0">No projects yet</h3> <p class="svelte-f7rtb0">Create your first project to get started</p> <button type="button" class="btn btn-primary svelte-f7rtb0">Create Project</button></div>'),U2=d('<p class="project-description svelte-f7rtb0"> </p>'),W2=d('<div class="meta-item svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg> <!></div>'),H2=d('<div class="meta-item svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path></svg> </div>'),J2=d('<div class="project-card svelte-f7rtb0"><div class="project-header svelte-f7rtb0"><h3 class="svelte-f7rtb0"> </h3> <span> </span></div> <!> <div class="project-meta svelte-f7rtb0"><!> <!></div> <div class="project-actions svelte-f7rtb0"><button type="button" class="btn btn-sm btn-secondary svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 00-3-3.87"></path><path d="M16 3.13a4 4 0 010 7.75"></path></svg> Manage Team</button> <button type="button" class="btn btn-sm btn-secondary svelte-f7rtb0">Edit</button> <button type="button" class="btn btn-sm btn-danger svelte-f7rtb0">Delete</button></div></div>'),V2=d('<div class="projects-grid svelte-f7rtb0"></div>'),Y2=d(`<div class="empty-state svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 00-3-3.87"></path><path d="M16 3.13a4 4 0 010 7.75"></path></svg> <h3 class="svelte-f7rtb0">No team members assigned</h3> <p class="svelte-f7rtb0">You don't have any employees or contractors reporting to you yet.</p> <p class="help-text svelte-f7rtb0">Team members will appear here when their manager_id is set to your employee ID.</p></div>`),G2=d('<p class="team-position svelte-f7rtb0"> </p>'),K2=d('<div class="team-card svelte-f7rtb0"><div class="team-avatar svelte-f7rtb0"> </div> <h4 class="svelte-f7rtb0"> </h4> <p class="team-email svelte-f7rtb0"> </p> <!> <span class="employment-badge svelte-f7rtb0"> </span></div>'),Q2=d('<div class="team-grid svelte-f7rtb0"></div>'),X2=d('<div class="alert alert-success svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><polyline points="20 6 9 17 4 12"></polyline></svg> </div>'),Z2=d('<div class="alert alert-error svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> </div>'),em=d("<option> </option>"),tm=d('<p class="no-members svelte-f7rtb0">All your team members are already assigned to this project</p>'),am=d('<div class="modal-loading svelte-f7rtb0"><div class="spinner-sm svelte-f7rtb0"></div> <span>Loading team...</span></div>'),sm=d('<p class="no-members svelte-f7rtb0">No team members assigned yet</p>'),lm=d('<span class="type-badge svelte-f7rtb0"> </span>'),rm=d('<div class="member-item svelte-f7rtb0"><div class="member-avatar-sm svelte-f7rtb0"> </div> <div class="member-info svelte-f7rtb0"><h5 class="svelte-f7rtb0"> </h5> <p class="svelte-f7rtb0"> </p> <div class="member-meta svelte-f7rtb0"><span class="role-badge svelte-f7rtb0"> </span> <!> <span class="date-assigned svelte-f7rtb0"> </span></div></div> <button type="button" class="btn-revoke svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg> Remove</button></div>'),im=d('<div class="members-list svelte-f7rtb0"></div>'),vm=d('<div class="modal-overlay svelte-f7rtb0"><div class="modal large svelte-f7rtb0"><div class="modal-header svelte-f7rtb0"><h3 class="svelte-f7rtb0"> </h3> <button type="button" class="modal-close svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="modal-body svelte-f7rtb0"><!> <!> <div class="assign-section svelte-f7rtb0"><h4 class="svelte-f7rtb0">Assign Team Member</h4> <p class="help-text svelte-f7rtb0">Only your direct reports can be assigned to this project</p> <div class="assign-form svelte-f7rtb0"><select class="employee-select svelte-f7rtb0"><option>Select team member...</option><!></select> <select class="role-select svelte-f7rtb0"><option>Member</option><option>Lead</option><option>Manager</option></select> <button type="button" class="btn btn-primary svelte-f7rtb0"> </button></div> <!></div> <div class="current-members svelte-f7rtb0"><h4 class="svelte-f7rtb0">Current Team Members</h4> <!></div></div> <div class="modal-footer svelte-f7rtb0"><button type="button" class="btn btn-secondary svelte-f7rtb0">Close</button></div></div></div>'),om=d('<div class="alert alert-error svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> </div>'),nm=d('<div class="modal-overlay svelte-f7rtb0"><div class="modal svelte-f7rtb0"><div class="modal-header svelte-f7rtb0"><h3 class="svelte-f7rtb0"> </h3> <button type="button" class="modal-close svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="modal-body svelte-f7rtb0"><!> <form class="project-form svelte-f7rtb0"><div class="form-group svelte-f7rtb0"><label for="project-name" class="svelte-f7rtb0">Project Name <span class="required svelte-f7rtb0">*</span></label> <input id="project-name" type="text" placeholder="Enter project name" required class="svelte-f7rtb0"/></div> <div class="form-group svelte-f7rtb0"><label for="project-description" class="svelte-f7rtb0">Description</label> <textarea id="project-description" placeholder="Enter project description" rows="3" class="svelte-f7rtb0"></textarea></div> <div class="form-row svelte-f7rtb0"><div class="form-group svelte-f7rtb0"><label for="project-status" class="svelte-f7rtb0">Status</label> <select id="project-status" class="svelte-f7rtb0"><option>Active</option><option>Completed</option><option>On Hold</option><option>Cancelled</option></select></div> <div class="form-group svelte-f7rtb0"><label for="project-budget" class="svelte-f7rtb0">Budget ($)</label> <input id="project-budget" type="number" min="0" step="1000" class="svelte-f7rtb0"/></div></div> <div class="form-row svelte-f7rtb0"><div class="form-group svelte-f7rtb0"><label for="project-start" class="svelte-f7rtb0">Start Date</label> <input id="project-start" type="date" class="svelte-f7rtb0"/></div> <div class="form-group svelte-f7rtb0"><label for="project-end" class="svelte-f7rtb0">End Date</label> <input id="project-end" type="date" class="svelte-f7rtb0"/></div></div></form></div> <div class="modal-footer svelte-f7rtb0"><button type="button" class="btn btn-secondary svelte-f7rtb0">Cancel</button> <button type="button" class="btn btn-primary svelte-f7rtb0"> </button></div></div></div>'),dm=d('<div class="project-manager svelte-f7rtb0"><div class="header svelte-f7rtb0"><div class="header-content svelte-f7rtb0"><h1 class="svelte-f7rtb0">Project Management</h1> <p class="subtitle svelte-f7rtb0"> </p></div> <button type="button" class="btn btn-primary svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg> New Project</button></div> <!> <!> <div class="stats-grid svelte-f7rtb0"><button type="button"><div class="stat-icon projects svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg></div> <div class="stat-content svelte-f7rtb0"><div class="stat-value svelte-f7rtb0"> </div> <div class="stat-label svelte-f7rtb0">Projects</div></div></button> <button type="button"><div class="stat-icon team svelte-f7rtb0"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-f7rtb0"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 00-3-3.87"></path><path d="M16 3.13a4 4 0 010 7.75"></path></svg></div> <div class="stat-content svelte-f7rtb0"><div class="stat-value svelte-f7rtb0"> </div> <div class="stat-label svelte-f7rtb0">My Team Members</div></div></button></div> <div class="tabs svelte-f7rtb0"><button type="button">ðŸ“‹ Projects</button> <button type="button">ðŸ‘¥ Team Overview</button></div> <div class="content svelte-f7rtb0"><!></div></div> <!> <!>',1);function cm(i,o){Xt(o,!0);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=mt(!1),_=mt("projects"),p=mt(Kt([])),u=mt(Kt([])),S=mt(null),C=mt(Kt([])),le=mt(Kt([])),E=mt(0),T=mt(0),L=mt(!1),z=mt(!1),P=mt(!1),R=mt(!1),me=mt(""),X=mt("member"),re=mt(""),Qe=mt(""),Je=mt(Kt({name:"",description:"",status:"active",start_date:"",end_date:"",budget:0})),lt=mt(null),ut=va(()=>o.employee||n().employee);sa(()=>{ft(),ht()});async function ft(){s(g,!0);try{const $=await fetch(`${c}/projects`,{headers:{Authorization:`Bearer ${n().token}`}});if($.ok){const j=await $.json();s(p,Array.isArray(j)?j:[],!0),s(E,e(p).length,!0)}}catch($){console.error("Error loading projects:",$),s(p,[],!0)}finally{s(g,!1)}}async function ht(){try{const $=await fetch(`${c}/employees/team`,{headers:{Authorization:`Bearer ${n().token}`}});if($.ok){const j=await $.json();s(u,Array.isArray(j)?j:[],!0),s(T,e(u).length,!0)}}catch($){console.error("Error loading team members:",$),s(u,[],!0)}}async function ot($){s(S,$,!0),s(L,!0),s(P,!0),s(Qe,""),s(re,"");try{const j=await fetch(`${c}/projects/${$.id}/members`,{headers:{Authorization:`Bearer ${n().token}`}});if(j.ok){const k=await j.json();s(C,Array.isArray(k)?k:[],!0);const b=new Set(e(C).map(F=>F.employee_id));s(le,e(u).filter(F=>!b.has(F.id)),!0)}else s(C,[],!0),s(le,[...e(u)],!0)}catch(j){console.error("Error loading project members:",j),s(C,[],!0),s(le,[...e(u)],!0)}finally{s(P,!1)}}function rt(){s(L,!1),s(S,null),s(C,[],!0),s(le,[],!0),s(me,""),s(X,"member")}async function At(){if(!e(S)||!e(me)){s(Qe,"Please select an employee");return}s(R,!0),s(Qe,"");try{const $=await fetch(`${c}/projects/${e(S).id}/members`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({employee_id:e(me),role:e(X)})});if($.ok)s(re,"Team member assigned successfully!"),s(me,""),s(X,"member"),await ot(e(S));else{const j=await $.json();s(Qe,j.error||"Failed to assign team member",!0)}}catch($){console.error("Error assigning member:",$),s(Qe,"An error occurred while assigning the team member")}finally{s(R,!1)}}async function it($,j){if(e(S)&&confirm(`Remove ${j} from ${e(S).name}?`)){s(R,!0),s(Qe,"");try{const k=await fetch(`${c}/projects/${e(S).id}/members/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${n().token}`}});if(k.ok)s(re,"Team member removed successfully!"),await ot(e(S));else{const b=await k.json();s(Qe,b.error||"Failed to remove team member",!0)}}catch(k){console.error("Error removing member:",k),s(Qe,"An error occurred while removing the team member")}finally{s(R,!1)}}}function ct($){$?(s(lt,$.id,!0),s(Je,{name:$.name,description:$.description||"",status:$.status,start_date:$.start_date?$.start_date.split("T")[0]:"",end_date:$.end_date?$.end_date.split("T")[0]:"",budget:$.budget||0},!0)):(s(lt,null),s(Je,{name:"",description:"",status:"active",start_date:"",end_date:"",budget:0},!0)),s(z,!0),s(Qe,""),s(re,"")}function yt(){s(z,!1),s(lt,null),s(Qe,""),s(re,"")}async function dt(){if(!e(Je).name.trim()){s(Qe,"Project name is required");return}s(R,!0),s(Qe,"");try{const $=e(lt)?`${c}/projects/${e(lt)}`:`${c}/projects`,j=e(lt)?"PUT":"POST",k=await fetch($,{method:j,headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(Je))});if(k.ok)s(re,e(lt)?"Project updated successfully!":"Project created successfully!",!0),yt(),await ft();else{const b=await k.json();s(Qe,b.error||"Failed to save project",!0)}}catch($){console.error("Error saving project:",$),s(Qe,"An error occurred while saving the project")}finally{s(R,!1)}}async function pt($){if(confirm(`Are you sure you want to delete "${$.name}"? This action cannot be undone.`))try{const j=await fetch(`${c}/projects/${$.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${n().token}`}});if(j.ok)s(re,"Project deleted successfully!"),await ft();else{const k=await j.json();s(Qe,k.error||"Failed to delete project",!0)}}catch(j){console.error("Error deleting project:",j),s(Qe,"An error occurred while deleting the project")}}function wt($){return{active:"status-active",completed:"status-completed","on-hold":"status-hold",cancelled:"status-cancelled"}[$]||"status-default"}function St($){return $?new Date($).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}function qt($){return $.split(" ").map(j=>j[0]).join("").toUpperCase().slice(0,2)}var $t=dm(),Ae=nt($t),Ne=t(Ae),ye=t(Ne),He=a(t(ye),2),Ce=t(He),fe=a(ye,2);fe.__click=()=>ct();var Oe=a(Ne,2);{var Ie=$=>{var j=F2(),k=a(t(j)),b=a(k);b.__click=()=>s(re,""),x(()=>l(k,` ${e(re)??""} `)),v($,j)};y(Oe,$=>{e(re)&&$(Ie)})}var ke=a(Oe,2);{var ge=$=>{var j=L2(),k=a(t(j)),b=a(k);b.__click=()=>s(Qe,""),x(()=>l(k,` ${e(Qe)??""} `)),v($,j)};y(ke,$=>{e(Qe)&&$(ge)})}var Pe=a(ke,2),Be=t(Pe);Be.__click=()=>s(_,"projects");var Xe=a(t(Be),2),Ge=t(Xe),We=t(Ge),be=a(Be,2);be.__click=()=>s(_,"team");var f=a(t(be),2),D=t(f),H=t(D),xe=a(Pe,2),ne=t(xe);ne.__click=()=>s(_,"projects");var _e=a(ne,2);_e.__click=()=>s(_,"team");var ze=a(xe,2),Me=t(ze);{var Z=$=>{var j=O2();v($,j)},De=$=>{var j=Pt(),k=nt(j);{var b=A=>{var q=Pt(),w=nt(q);{var N=I=>{var oe=N2(),W=a(t(oe),6);W.__click=()=>ct(),v(I,oe)},K=I=>{var oe=V2();_t(oe,21,()=>e(p),bt,(W,ve)=>{var Q=J2(),U=t(Q),V=t(U),se=t(V),ie=a(V,2),we=t(ie),pe=a(U,2);{var ue=ee=>{var Le=U2(),Ee=t(Le);x(()=>l(Ee,e(ve).description)),v(ee,Le)};y(pe,ee=>{e(ve).description&&ee(ue)})}var Te=a(pe,2),he=t(Te);{var qe=ee=>{var Le=W2(),Ee=a(t(Le)),$e=a(Ee);{var Re=Ze=>{var Ve=ha();x(Fe=>l(Ve,`â†’ ${Fe??""}`),[()=>St(e(ve).end_date)]),v(Ze,Ve)};y($e,Ze=>{e(ve).end_date&&Ze(Re)})}x(Ze=>l(Ee,` ${Ze??""} `),[()=>St(e(ve).start_date)]),v(ee,Le)};y(he,ee=>{e(ve).start_date&&ee(qe)})}var Se=a(he,2);{var je=ee=>{var Le=H2(),Ee=a(t(Le));x($e=>l(Ee,` $${$e??""}`),[()=>e(ve).budget.toLocaleString()]),v(ee,Le)};y(Se,ee=>{e(ve).budget&&ee(je)})}var M=a(Te,2),te=t(M);te.__click=()=>ot(e(ve));var de=a(te,2);de.__click=()=>ct(e(ve));var ce=a(de,2);ce.__click=()=>pt(e(ve)),x(ee=>{l(se,e(ve).name),st(ie,1,`status-badge ${ee??""}`,"svelte-f7rtb0"),l(we,e(ve).status)},[()=>wt(e(ve).status)]),v(W,Q)}),v(I,oe)};y(w,I=>{e(p).length===0?I(N):I(K,!1)})}v(A,q)},F=A=>{var q=Pt(),w=nt(q);{var N=K=>{var I=Pt(),oe=nt(I);{var W=Q=>{var U=Y2();v(Q,U)},ve=Q=>{var U=Q2();_t(U,21,()=>e(u),bt,(V,se)=>{var ie=K2(),we=t(ie),pe=t(we),ue=a(we,2),Te=t(ue),he=a(ue,2),qe=t(he),Se=a(he,2);{var je=de=>{var ce=G2(),ee=t(ce);x(()=>l(ee,e(se).position)),v(de,ce)};y(Se,de=>{e(se).position&&de(je)})}var M=a(Se,2),te=t(M);x(de=>{l(pe,de),l(Te,`${e(se).first_name??""} ${e(se).last_name??""}`),l(qe,e(se).email),l(te,e(se).employment_type)},[()=>qt(`${e(se).first_name} ${e(se).last_name}`)]),v(V,ie)}),v(Q,U)};y(oe,Q=>{e(u).length===0?Q(W):Q(ve,!1)})}v(K,I)};y(w,K=>{e(_)==="team"&&K(N)},!0)}v(A,q)};y(k,A=>{e(_)==="projects"?A(b):A(F,!1)},!0)}v($,j)};y(Me,$=>{e(g)?$(Z):$(De,!1)})}var ae=a(Ae,2);{var B=$=>{var j=vm();j.__click=rt;var k=t(j);k.__click=ee=>ee.stopPropagation();var b=t(k),F=t(b),A=t(F),q=a(F,2);q.__click=rt;var w=a(b,2),N=t(w);{var K=ee=>{var Le=X2(),Ee=a(t(Le));x(()=>l(Ee,` ${e(re)??""}`)),v(ee,Le)};y(N,ee=>{e(re)&&ee(K)})}var I=a(N,2);{var oe=ee=>{var Le=Z2(),Ee=a(t(Le));x(()=>l(Ee,` ${e(Qe)??""}`)),v(ee,Le)};y(I,ee=>{e(Qe)&&ee(oe)})}var W=a(I,2),ve=a(t(W),4),Q=t(ve),U=t(Q);U.value=U.__value="";var V=a(U);_t(V,17,()=>e(le),bt,(ee,Le)=>{var Ee=em(),$e=t(Ee),Re={};x(()=>{l($e,`${e(Le).first_name??""} ${e(Le).last_name??""} (${e(Le).employment_type??""})`),Re!==(Re=e(Le).id)&&(Ee.value=(Ee.__value=e(Le).id)??"")}),v(ee,Ee)});var se=a(Q,2),ie=t(se);ie.value=ie.__value="member";var we=a(ie);we.value=we.__value="lead";var pe=a(we);pe.value=pe.__value="manager";var ue=a(se,2);ue.__click=At;var Te=t(ue),he=a(ve,2);{var qe=ee=>{var Le=tm();v(ee,Le)};y(he,ee=>{e(le).length===0&&ee(qe)})}var Se=a(W,2),je=a(t(Se),2);{var M=ee=>{var Le=am();v(ee,Le)},te=ee=>{var Le=Pt(),Ee=nt(Le);{var $e=Ze=>{var Ve=sm();v(Ze,Ve)},Re=Ze=>{var Ve=im();_t(Ve,21,()=>e(C),bt,(Fe,Ye)=>{var Ue=rm(),et=t(Ue),tt=t(et),Ke=a(et,2),vt=t(Ke),xt=t(vt),at=a(vt,2),Bt=t(at),zt=a(at,2),Ft=t(zt),Dt=t(Ft),Et=a(Ft,2);{var It=Ot=>{var Rt=lm(),Wt=t(Rt);x(()=>l(Wt,e(Ye).employment_type)),v(Ot,Rt)};y(Et,Ot=>{e(Ye).employment_type&&Ot(It)})}var Tt=a(Et,2),Mt=t(Tt),Ct=a(Ke,2);Ct.__click=()=>it(e(Ye).employee_id,e(Ye).employee_name),x((Ot,Rt)=>{l(tt,Ot),l(xt,e(Ye).employee_name),l(Bt,e(Ye).email),l(Dt,e(Ye).role),l(Mt,`Assigned ${Rt??""}`),Ct.disabled=e(R)},[()=>qt(e(Ye).employee_name),()=>St(e(Ye).assigned_at)]),v(Fe,Ue)}),v(Ze,Ve)};y(Ee,Ze=>{e(C).length===0?Ze($e):Ze(Re,!1)},!0)}v(ee,Le)};y(je,ee=>{e(P)?ee(M):ee(te,!1)})}var de=a(w,2),ce=t(de);ce.__click=rt,x(()=>{l(A,`Manage Team - ${e(S).name??""}`),Q.disabled=e(R),se.disabled=e(R),ue.disabled=e(R)||!e(me),l(Te,e(R)?"Assigning...":"Assign")}),Lt(Q,()=>e(me),ee=>s(me,ee)),Lt(se,()=>e(X),ee=>s(X,ee)),v($,j)};y(ae,$=>{e(L)&&e(S)&&$(B)})}var J=a(ae,2);{var G=$=>{var j=nm();j.__click=yt;var k=t(j);k.__click=Ee=>Ee.stopPropagation();var b=t(k),F=t(b),A=t(F),q=a(F,2);q.__click=yt;var w=a(b,2),N=t(w);{var K=Ee=>{var $e=om(),Re=a(t($e));x(()=>l(Re,` ${e(Qe)??""}`)),v(Ee,$e)};y(N,Ee=>{e(Qe)&&Ee(K)})}var I=a(N,2),oe=t(I),W=a(t(oe),2),ve=a(oe,2),Q=a(t(ve),2),U=a(ve,2),V=t(U),se=a(t(V),2),ie=t(se);ie.value=ie.__value="active";var we=a(ie);we.value=we.__value="completed";var pe=a(we);pe.value=pe.__value="on-hold";var ue=a(pe);ue.value=ue.__value="cancelled";var Te=a(V,2),he=a(t(Te),2),qe=a(U,2),Se=t(qe),je=a(t(Se),2),M=a(Se,2),te=a(t(M),2),de=a(w,2),ce=t(de);ce.__click=yt;var ee=a(ce,2);ee.__click=dt;var Le=t(ee);x(()=>{l(A,e(lt)?"Edit Project":"Create New Project"),ee.disabled=e(R),l(Le,e(R)?"Saving...":e(lt)?"Update":"Create")}),O("submit",I,Ee=>{Ee.preventDefault(),dt()}),kt(W,()=>e(Je).name,Ee=>e(Je).name=Ee),kt(Q,()=>e(Je).description,Ee=>e(Je).description=Ee),Lt(se,()=>e(Je).status,Ee=>e(Je).status=Ee),kt(he,()=>e(Je).budget,Ee=>e(Je).budget=Ee),kt(je,()=>e(Je).start_date,Ee=>e(Je).start_date=Ee),kt(te,()=>e(Je).end_date,Ee=>e(Je).end_date=Ee),v($,j)};y(J,$=>{e(z)&&$(G)})}x(()=>{var $;l(Ce,`Welcome back, ${((($=e(ut))==null?void 0:$.first_name)||"Manager")??""}`),st(Be,1,`stat-card ${e(_)==="projects"?"active":""}`,"svelte-f7rtb0"),l(We,e(E)),st(be,1,`stat-card ${e(_)==="team"?"active":""}`,"svelte-f7rtb0"),l(H,e(T)),st(ne,1,`tab-btn ${e(_)==="projects"?"active":""}`,"svelte-f7rtb0"),st(_e,1,`tab-btn ${e(_)==="team"?"active":""}`,"svelte-f7rtb0")}),v(i,$t),Zt(),h()}Pa(["click"]);var um=d('<div class="stat-badge svelte-105tl1d"> </div>'),pm=d('<span class="badge svelte-105tl1d"> </span>'),_m=d('<div class="loading svelte-105tl1d"><div class="spinner svelte-105tl1d"></div> <p>Loading...</p></div>'),fm=d('<div class="manager-dashboard svelte-105tl1d"><div class="header svelte-105tl1d"><div class="header-content svelte-105tl1d"><h1 class="svelte-105tl1d">Manager Dashboard</h1> <p class="subtitle svelte-105tl1d"> </p></div></div> <div class="stats-grid svelte-105tl1d"><button type="button"><div class="stat-icon pending svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><path d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></div> <div class="stat-content svelte-105tl1d"><div class="stat-value svelte-105tl1d"> </div> <div class="stat-label svelte-105tl1d">Pending Timesheets</div></div> <!></button> <button type="button"><div class="stat-icon team svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 00-3-3.87"></path><path d="M16 3.13a4 4 0 010 7.75"></path></svg></div> <div class="stat-content svelte-105tl1d"><div class="stat-value svelte-105tl1d"> </div> <div class="stat-label svelte-105tl1d">My Team Members</div></div></button> <button type="button"><div class="stat-icon projects svelte-105tl1d"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-105tl1d"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg></div> <div class="stat-content svelte-105tl1d"><div class="stat-value svelte-105tl1d"> </div> <div class="stat-label svelte-105tl1d">Projects</div></div></button></div> <div class="tabs svelte-105tl1d"><button type="button">â° Timesheet Approvals <!></button> <button type="button">ðŸ‘¥ Manage Team</button> <button type="button">ðŸ“‹ Projects</button></div> <div class="content svelte-105tl1d"><!></div></div>');function bm(i,o){Xt(o,!0);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=mt(!1),_=mt("timesheets"),p=mt(0),u=mt(0),S=mt(0),C=va(()=>o.employee||n().employee);sa(()=>{le()});async function le(){s(g,!0);try{const fe=await fetch(`${c}/timesheet/pending`,{headers:{Authorization:`Bearer ${n().token}`}});if(fe.ok){const ke=await fe.json();s(p,Array.isArray(ke)?ke.length:0,!0)}const Oe=await fetch(`${c}/employees/team`,{headers:{Authorization:`Bearer ${n().token}`}});if(Oe.ok){const ke=await Oe.json();s(u,Array.isArray(ke)?ke.length:0,!0)}const Ie=await fetch(`${c}/projects`,{headers:{Authorization:`Bearer ${n().token}`}});if(Ie.ok){const ke=await Ie.json();s(S,Array.isArray(ke)?ke.length:0,!0)}}catch(fe){console.error("Error loading dashboard stats:",fe)}finally{s(g,!1)}}function E(fe){s(_,fe,!0)}function T(){le()}var L=fm(),z=t(L),P=t(z),R=a(t(P),2),me=t(R),X=a(z,2),re=t(X);re.__click=()=>E("timesheets");var Qe=a(t(re),2),Je=t(Qe),lt=t(Je),ut=a(Qe,2);{var ft=fe=>{var Oe=um(),Ie=t(Oe);x(()=>l(Ie,`${e(p)??""} need review`)),v(fe,Oe)};y(ut,fe=>{e(p)>0&&fe(ft)})}var ht=a(re,2);ht.__click=()=>E("team");var ot=a(t(ht),2),rt=t(ot),At=t(rt),it=a(ht,2);it.__click=()=>E("projects");var ct=a(t(it),2),yt=t(ct),dt=t(yt),pt=a(X,2),wt=t(pt);wt.__click=()=>E("timesheets");var St=a(t(wt));{var qt=fe=>{var Oe=pm(),Ie=t(Oe);x(()=>l(Ie,e(p))),v(fe,Oe)};y(St,fe=>{e(p)>0&&fe(qt)})}var $t=a(wt,2);$t.__click=()=>E("team");var Ae=a($t,2);Ae.__click=()=>E("projects");var Ne=a(pt,2),ye=t(Ne);{var He=fe=>{var Oe=_m();v(fe,Oe)},Ce=fe=>{var Oe=Pt(),Ie=nt(Oe);{var ke=Pe=>{R2(Pe,{onAction:T})},ge=Pe=>{var Be=Pt(),Xe=nt(Be);{var Ge=be=>{h2(be,{})},We=be=>{var f=Pt(),D=nt(f);{var H=xe=>{cm(xe,{get employee(){return e(C)}})};y(D,xe=>{e(_)==="projects"&&xe(H)},!0)}v(be,f)};y(Xe,be=>{e(_)==="team"?be(Ge):be(We,!1)},!0)}v(Pe,Be)};y(Ie,Pe=>{e(_)==="timesheets"?Pe(ke):Pe(ge,!1)},!0)}v(fe,Oe)};y(ye,fe=>{e(g)?fe(He):fe(Ce,!1)})}x(()=>{var fe;l(me,`Welcome back, ${(((fe=e(C))==null?void 0:fe.first_name)||"Manager")??""}`),st(re,1,`stat-card ${e(_)==="timesheets"?"active":""}`,"svelte-105tl1d"),l(lt,e(p)),st(ht,1,`stat-card ${e(_)==="team"?"active":""}`,"svelte-105tl1d"),l(At,e(u)),st(it,1,`stat-card ${e(_)==="projects"?"active":""}`,"svelte-105tl1d"),l(dt,e(S)),st(wt,1,`tab-btn ${e(_)==="timesheets"?"active":""}`,"svelte-105tl1d"),st($t,1,`tab-btn ${e(_)==="team"?"active":""}`,"svelte-105tl1d"),st(Ae,1,`tab-btn ${e(_)==="projects"?"active":""}`,"svelte-105tl1d")}),v(i,L),Zt(),h()}Pa(["click"]);var mm=d('<div class="loading svelte-19ts9ba">Loading your information...</div>'),hm=d("<span> </span>"),ym=d('<div class="alert alert-success svelte-19ts9ba"> </div>'),gm=d('<div class="alert alert-error svelte-19ts9ba"> </div>'),xm=d('<th class="date-col svelte-19ts9ba"><div class="date-header svelte-19ts9ba"><span class="day-name svelte-19ts9ba"> </span> <span class="day-date svelte-19ts9ba"> </span></div></th>'),wm=d("<option> </option>"),km=d('<td class="hours-cell svelte-19ts9ba"><input type="number" step="0.25" min="0" max="24" class="hours-input svelte-19ts9ba" placeholder="0"/> <button type="button"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-19ts9ba"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg></button></td>'),$m=d('<tr class="project-row svelte-19ts9ba"><td class="project-cell svelte-19ts9ba"><select class="project-select svelte-19ts9ba"></select></td><!><td class="total-cell svelte-19ts9ba"> </td><td class="actions-cell svelte-19ts9ba"><button type="button" class="btn-icon btn-delete svelte-19ts9ba" title="Delete row"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-19ts9ba"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path></svg></button></td></tr>'),jm=d('<tr><td colspan="10" class="empty-row svelte-19ts9ba">No projects added yet. Click "Add Project" to get started.</td></tr>'),Sm=d('<td class="day-total svelte-19ts9ba"> </td>'),Am=d('<div class="rejection-notice svelte-19ts9ba"><span>âš ï¸ Timesheet was rejected. Please make changes and resubmit.</span></div>'),Em=d('<button type="button" class="btn btn-secondary svelte-19ts9ba"> </button> <button type="button" class="btn btn-primary svelte-19ts9ba"> </button>',1),Cm=d('<div class="status-info svelte-19ts9ba">â³ Awaiting manager approval</div>'),Dm=d('<div class="status-info success svelte-19ts9ba">âœ“ Approved by manager</div>'),zm=d('<div class="timesheet-section svelte-19ts9ba"><div class="timesheet-header svelte-19ts9ba"><div class="header-left svelte-19ts9ba"><h2 class="svelte-19ts9ba">Weekly Timesheet</h2> <!></div> <div class="week-nav svelte-19ts9ba"><button type="button" class="btn btn-sm btn-secondary svelte-19ts9ba"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-19ts9ba"><polyline points="15 18 9 12 15 6"></polyline></svg> Previous</button> <button type="button" class="btn btn-sm btn-secondary svelte-19ts9ba">This Week</button> <button type="button" class="btn btn-sm btn-secondary svelte-19ts9ba">Next <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-19ts9ba"><polyline points="9 18 15 12 9 6"></polyline></svg></button></div></div> <div class="week-display svelte-19ts9ba"> </div> <!> <!> <div class="table-container svelte-19ts9ba"><table class="timesheet-table svelte-19ts9ba"><thead class="svelte-19ts9ba"><tr><th class="project-col svelte-19ts9ba">Project</th><!><th class="total-col svelte-19ts9ba">Total</th><th class="actions-col svelte-19ts9ba"></th></tr></thead><tbody><!><!><tr class="total-row svelte-19ts9ba"><td class="total-label svelte-19ts9ba">Week Total</td><!><td class="grand-total svelte-19ts9ba"> </td><td class="svelte-19ts9ba"></td></tr></tbody></table></div> <div class="timesheet-actions svelte-19ts9ba"><button type="button" class="btn btn-secondary svelte-19ts9ba"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-19ts9ba"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg> Add Project</button> <div class="action-group svelte-19ts9ba"><!> <!></div></div></div>'),Pm=d('<div class="empty-state svelte-19ts9ba"><p class="svelte-19ts9ba">No tasks assigned yet.</p> <p class="text-muted svelte-19ts9ba">Your assigned tasks will appear here.</p></div>'),Tm=d('<div class="task-due-date svelte-19ts9ba"> </div>'),qm=d('<div class="task-card svelte-19ts9ba"><div class="task-header svelte-19ts9ba"><h3 class="svelte-19ts9ba"> </h3> <span> </span></div> <p class="task-description svelte-19ts9ba"> </p> <div class="task-footer svelte-19ts9ba"><span class="task-type svelte-19ts9ba"> </span> <span> </span></div> <!></div>'),Mm=d('<div class="tasks-grid svelte-19ts9ba"></div>'),Bm=d('<div class="section svelte-19ts9ba"><h2 class="svelte-19ts9ba">Assigned Tasks</h2> <!></div>'),Im=d('<div class="stats-grid svelte-19ts9ba"><div class="stat-card svelte-19ts9ba"><div class="stat-icon svelte-19ts9ba">â±ï¸</div> <div class="stat-content svelte-19ts9ba"><div class="stat-value svelte-19ts9ba"> </div> <div class="stat-label svelte-19ts9ba">Hours This Week</div></div></div> <div class="stat-card svelte-19ts9ba"><div class="stat-icon svelte-19ts9ba">ðŸ“Š</div> <div class="stat-content svelte-19ts9ba"><div class="stat-value svelte-19ts9ba"> </div> <div class="stat-label svelte-19ts9ba">Active Projects</div></div></div> <div class="stat-card svelte-19ts9ba"><div class="stat-icon svelte-19ts9ba">ðŸ“‹</div> <div class="stat-content svelte-19ts9ba"><div class="stat-value svelte-19ts9ba"> </div> <div class="stat-label svelte-19ts9ba">Pending Tasks</div></div></div></div> <div class="tabs svelte-19ts9ba"><button type="button">â±ï¸ Timesheet</button> <button type="button">ðŸ“‹ Assigned Tasks</button></div> <div class="content svelte-19ts9ba"><!> <!></div>',1),Rm=d('<div class="modal-overlay svelte-19ts9ba" role="button" tabindex="0" aria-label="Close modal"><div class="modal svelte-19ts9ba" role="dialog" aria-labelledby="modal-title" aria-modal="true" tabindex="-1"><div class="modal-header svelte-19ts9ba"><h3 id="modal-title" class="svelte-19ts9ba">Add Note</h3> <button type="button" class="modal-close svelte-19ts9ba" aria-label="Close modal"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-19ts9ba"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button></div> <div class="modal-body svelte-19ts9ba"><p class="modal-info svelte-19ts9ba"> </p> <textarea placeholder="What did you work on?" rows="4" class="description-textarea svelte-19ts9ba"></textarea></div> <div class="modal-footer svelte-19ts9ba"><button type="button" class="btn btn-primary svelte-19ts9ba">Done</button></div></div></div>'),Fm=d('<div class="contractor-view svelte-19ts9ba"><div class="header svelte-19ts9ba"><div class="header-content svelte-19ts9ba"><h1 class="svelte-19ts9ba">ðŸ‘· Contractor Portal</h1> <p class="subtitle svelte-19ts9ba"> </p></div> <div class="header-badge svelte-19ts9ba"><span class="badge badge-contractor svelte-19ts9ba">Contractor</span></div></div> <!></div> <!>',1);function Lm(i,o){Xt(o,!0);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=mt(!1),_=mt(!1),p=mt("timesheet"),u=mt(Kt([])),S=mt(Kt([])),C=mt(Kt([])),le=mt(0),E=mt(Kt(Je(new Date))),T=mt(""),L=mt(""),z=mt(null),P=mt("draft"),R=mt(null),me=va(()=>o.employee||n().employee);const X=va(()=>e(P)==="draft"||e(P)==="rejected"),re=va(()=>lt(e(E))),Qe=va(()=>e(C).reduce((ne,_e)=>ne+_e.total,0));cs(()=>{console.log("[ContractorView] State:",{employeeProp:o.employee,authStoreEmployee:n().employee,currentEmployee:e(me)})}),sa(()=>{console.log("[ContractorView] onMount called"),it(),ct(),dt()});function Je(ne){const _e=new Date(ne),ze=_e.getDay(),Me=_e.getDate()-ze+(ze===0?-6:1);return _e.setDate(Me),_e.setHours(0,0,0,0),_e}function lt(ne){const _e=[];for(let ze=0;ze<7;ze++){const Me=new Date(ne);Me.setDate(ne.getDate()+ze),_e.push(Me)}return _e}function ut(ne){return ne.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function ft(ne){return ne.toISOString().split("T")[0]}function ht(ne){return ne.toLocaleDateString("en-US",{weekday:"short"})}function ot(){const ne=new Date(e(E));ne.setDate(ne.getDate()-7),s(E,ne,!0),dt()}function rt(){const ne=new Date(e(E));ne.setDate(ne.getDate()+7),s(E,ne,!0),dt()}function At(){s(E,Je(new Date),!0),dt()}async function it(){try{const ne=await fetch(`${c}/timesheet/projects`,{headers:{Authorization:`Bearer ${n().token}`}});ne.ok?s(S,await ne.json(),!0):(console.error("Failed to load projects:",ne.status),s(S,[],!0))}catch(ne){console.error("Error loading projects:",ne),s(S,[],!0)}}async function ct(){s(g,!0);try{await yt()}catch(ne){console.error("Error loading contractor data:",ne)}finally{s(g,!1)}}async function yt(){try{const ne=await fetch(`${c}/onboarding/tasks`,{headers:{Authorization:`Bearer ${n().token}`}});if(ne.ok){const _e=await ne.json();s(u,Array.isArray(_e)?_e:[],!0),s(le,e(u).filter(ze=>ze.status==="pending").length,!0)}}catch(ne){console.error("Error loading tasks:",ne),s(u,[],!0)}}async function dt(){try{const ne=ft(e(re)[0]),_e=ft(e(re)[6]),ze=await fetch(`${c}/timesheet/entries?start_date=${ne}&end_date=${_e}`,{headers:{Authorization:`Bearer ${n().token}`}});if(ze.ok){const Z=await ze.json();s(C,pt(Z),!0)}else s(C,[],!0);const Me=await fetch(`${c}/timesheet/summary?start_date=${ne}&end_date=${_e}`,{headers:{Authorization:`Bearer ${n().token}`}});if(Me.ok){const Z=await Me.json();s(P,Z.status||"draft",!0),s(R,Z.timesheet_id||null,!0)}else s(P,"draft"),s(R,null)}catch(ne){console.error("Error loading week entries:",ne),s(C,[],!0),s(P,"draft"),s(R,null)}}function pt(ne){const _e=new Map;return Array.isArray(ne)&&ne.forEach(ze=>{const Me=ze.project_id||"default",Z=ze.project_name||"General Hours",De=ze.date;_e.has(Me)||_e.set(Me,{project_id:Me,project_name:Z,hours:{},descriptions:{},entry_ids:{},total:0});const ae=_e.get(Me);ae.hours[De]=ze.hours||ze.total_hours||0,ae.descriptions[De]=ze.description||ze.notes||"",ae.entry_ids[De]=ze.id,ae.total=Object.values(ae.hours).reduce((B,J)=>B+J,0)}),Array.from(_e.values())}function wt(){if(e(S).length===0){s(L,"No projects assigned to you. Please ask your manager to assign you to a project before logging hours.");return}const ne=new Set(e(C).map(ze=>ze.project_id)),_e=e(S).find(ze=>!ne.has(ze.id))||e(S)[0];s(C,[...e(C),{project_id:_e.id,project_name:_e.name,hours:{},descriptions:{},entry_ids:{},total:0}],!0)}function St(ne){s(C,e(C).filter((_e,ze)=>ze!==ne),!0)}function qt(ne,_e,ze){const Me=parseFloat(ze)||0;e(C)[ne].hours[_e]=Me,e(C)[ne].total=Object.values(e(C)[ne].hours).reduce((Z,De)=>Z+De,0),s(C,[...e(C)],!0)}function $t(ne,_e){const ze=e(S).find(Me=>Me.id===_e);ze&&(e(C)[ne].project_id=_e,e(C)[ne].project_name=ze.name,s(C,[...e(C)],!0))}function Ae(ne,_e,ze){e(C)[ne].descriptions[_e]=ze}function Ne(ne,_e){s(z,`${ne}-${_e}`)}function ye(){s(z,null)}async function He(){await fe("draft")}async function Ce(){if(e(Qe)===0){s(L,"Please enter at least some hours before submitting.");return}await fe("submitted")}async function fe(ne){s(_,!0),s(L,""),s(T,"");try{const _e=[];if(e(C).forEach(ze=>{e(re).forEach(Me=>{const Z=ft(Me),De=ze.hours[Z]||0;De>0&&_e.push({date:Z,project_id:ze.project_id,hours:De,type:"regular",notes:ze.descriptions[Z]||""})})}),_e.length>0){const ze=await fetch(`${c}/timesheet/entries/bulk`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({entries:_e})});if(!ze.ok){const Me=await ze.json();throw new Error(Me.error||"Failed to save time entries")}}if(ne==="submitted"){const ze=ft(e(re)[0]),Me=ft(e(re)[6]),Z=await fetch(`${c}/timesheet/submit`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({start_date:ze,end_date:Me})});if(!Z.ok){const De=await Z.json();throw new Error(De.error||"Failed to submit timesheet")}s(T,"Timesheet submitted for manager approval!")}else s(T,"Timesheet saved as draft.");await dt()}catch(_e){console.error("Error saving timesheet:",_e),s(L,_e.message||"An error occurred while saving.",!0)}finally{s(_,!1)}}function Oe(ne){return{high:"priority-high",medium:"priority-medium",low:"priority-low"}[ne]||"priority-medium"}function Ie(ne){return{completed:"status-completed","in-progress":"status-progress",pending:"status-pending"}[ne]||"status-pending"}function ke(ne){return new Date(ne).toLocaleDateString()}var ge=Fm(),Pe=nt(ge),Be=t(Pe),Xe=t(Be),Ge=a(t(Xe),2),We=t(Ge),be=a(Be,2);{var f=ne=>{var _e=mm();v(ne,_e)},D=ne=>{var _e=Im(),ze=nt(_e),Me=t(ze),Z=a(t(Me),2),De=t(Z),ae=t(De),B=a(Me,2),J=a(t(B),2),G=t(J),$=t(G),j=a(B,2),k=a(t(j),2),b=t(k),F=t(b),A=a(ze,2),q=t(A);q.__click=()=>s(p,"timesheet");var w=a(q,2);w.__click=()=>s(p,"tasks");var N=a(A,2),K=t(N);{var I=ve=>{var Q=zm(),U=t(Q),V=t(U),se=a(t(V),2);{var ie=Dt=>{var Et=hm(),It=t(Et);x(()=>{st(Et,1,`status-badge status-${e(P)??""}`,"svelte-19ts9ba"),l(It,e(P)==="submitted"?"â³ Pending Approval":e(P)==="approved"?"âœ“ Approved":e(P)==="rejected"?"âœ— Rejected":e(P))}),v(Dt,Et)};y(se,Dt=>{e(P)!=="draft"&&Dt(ie)})}var we=a(V,2),pe=t(we);pe.__click=ot;var ue=a(pe,2);ue.__click=At;var Te=a(ue,2);Te.__click=rt;var he=a(U,2),qe=t(he),Se=a(he,2);{var je=Dt=>{var Et=ym(),It=t(Et);x(()=>l(It,e(T))),v(Dt,Et)};y(Se,Dt=>{e(T)&&Dt(je)})}var M=a(Se,2);{var te=Dt=>{var Et=gm(),It=t(Et);x(()=>l(It,e(L))),v(Dt,Et)};y(M,Dt=>{e(L)&&Dt(te)})}var de=a(M,2),ce=t(de),ee=t(ce),Le=t(ee),Ee=a(t(Le));_t(Ee,17,()=>e(re),bt,(Dt,Et)=>{var It=xm(),Tt=t(It),Mt=t(Tt),Ct=t(Mt),Ot=a(Mt,2),Rt=t(Ot);x((Wt,Nt)=>{l(Ct,Wt),l(Rt,Nt)},[()=>ht(e(Et)),()=>ut(e(Et))]),v(Dt,It)});var $e=a(ee),Re=t($e);_t(Re,17,()=>e(C),bt,(Dt,Et,It)=>{var Tt=$m(),Mt=t(Tt),Ct=t(Mt);Ct.__change=Ht=>$t(It,Ht.currentTarget.value),_t(Ct,21,()=>e(S),bt,(Ht,Qt)=>{var da=wm(),ya=t(da),ba={};x(()=>{l(ya,e(Qt).name),ba!==(ba=e(Qt).id)&&(da.value=(da.__value=e(Qt).id)??"")}),v(Ht,da)});var Ot;ir(Ct);var Rt=a(Mt);_t(Rt,17,()=>e(re),bt,(Ht,Qt)=>{const da=va(()=>ft(e(Qt))),ya=va(()=>e(Et).hours[e(da)]||0),ba=va(()=>e(Et).descriptions[e(da)]);var ga=km(),xa=t(ga);xa.__input=Oa=>qt(It,e(da),Oa.currentTarget.value);var La=a(xa,2);La.__click=()=>Ne(It,e(da)),x(()=>{Ql(xa,e(ya)||""),xa.disabled=!e(X),st(La,1,`note-btn ${e(ba)?"has-note":""}`,"svelte-19ts9ba"),ca(La,"title",e(ba)?"Edit note":"Add note"),La.disabled=!e(X)}),v(Ht,ga)});var Wt=a(Rt),Nt=t(Wt),Vt=a(Wt),Jt=t(Vt);Jt.__click=()=>St(It),x(Ht=>{Ct.disabled=!e(X),Ot!==(Ot=e(Et).project_id)&&(Ct.value=(Ct.__value=e(Et).project_id)??"",Rl(Ct,e(Et).project_id)),l(Nt,Ht),Jt.disabled=!e(X)},[()=>e(Et).total.toFixed(2)]),v(Dt,Tt)});var Ze=a(Re);{var Ve=Dt=>{var Et=jm();v(Dt,Et)};y(Ze,Dt=>{e(C).length===0&&Dt(Ve)})}var Fe=a(Ze),Ye=a(t(Fe));_t(Ye,17,()=>e(re),bt,(Dt,Et)=>{const It=va(()=>ft(e(Et))),Tt=va(()=>e(C).reduce((Ot,Rt)=>Ot+(Rt.hours[e(It)]||0),0));var Mt=Sm(),Ct=t(Mt);x(Ot=>l(Ct,Ot),[()=>e(Tt)>0?e(Tt).toFixed(2):""]),v(Dt,Mt)});var Ue=a(Ye),et=t(Ue),tt=a(de,2),Ke=t(tt);Ke.__click=wt;var vt=a(Ke,2),xt=t(vt);{var at=Dt=>{var Et=Am();v(Dt,Et)};y(xt,Dt=>{e(P)==="rejected"&&Dt(at)})}var Bt=a(xt,2);{var zt=Dt=>{var Et=Em(),It=nt(Et);It.__click=He;var Tt=t(It),Mt=a(It,2);Mt.__click=Ce;var Ct=t(Mt);x(()=>{It.disabled=e(_),l(Tt,e(_)?"Saving...":"Save Draft"),Mt.disabled=e(_)||e(Qe)===0,l(Ct,e(_)?"Submitting...":e(P)==="rejected"?"Resubmit Timesheet":"Submit Timesheet")}),v(Dt,Et)},Ft=Dt=>{var Et=Pt(),It=nt(Et);{var Tt=Ct=>{var Ot=Cm();v(Ct,Ot)},Mt=Ct=>{var Ot=Pt(),Rt=nt(Ot);{var Wt=Nt=>{var Vt=Dm();v(Nt,Vt)};y(Rt,Nt=>{e(P)==="approved"&&Nt(Wt)},!0)}v(Ct,Ot)};y(It,Ct=>{e(P)==="submitted"?Ct(Tt):Ct(Mt,!1)},!0)}v(Dt,Et)};y(Bt,Dt=>{e(X)?Dt(zt):Dt(Ft,!1)})}x((Dt,Et,It)=>{l(qe,`Week of ${Dt??""} - ${Et??""}`),l(et,It),Ke.disabled=!e(X)},[()=>ut(e(re)[0]),()=>ut(e(re)[6]),()=>e(Qe).toFixed(2)]),v(ve,Q)};y(K,ve=>{e(p)==="timesheet"&&ve(I)})}var oe=a(K,2);{var W=ve=>{var Q=Bm(),U=a(t(Q),2);{var V=ie=>{var we=Pm();v(ie,we)},se=ie=>{var we=Mm();_t(we,21,()=>e(u),bt,(pe,ue)=>{var Te=qm(),he=t(Te),qe=t(he),Se=t(qe),je=a(qe,2),M=t(je),te=a(he,2),de=t(te),ce=a(te,2),ee=t(ce),Le=t(ee),Ee=a(ee,2),$e=t(Ee),Re=a(ce,2);{var Ze=Ve=>{var Fe=Tm(),Ye=t(Fe);x(Ue=>l(Ye,`Due: ${Ue??""}`),[()=>ke(e(ue).due_date)]),v(Ve,Fe)};y(Re,Ve=>{e(ue).due_date&&Ve(Ze)})}x((Ve,Fe)=>{l(Se,e(ue).title),st(je,1,`task-priority ${Ve??""}`,"svelte-19ts9ba"),l(M,e(ue).priority),l(de,e(ue).description||"No description"),l(Le,e(ue).type),st(Ee,1,`task-status ${Fe??""}`,"svelte-19ts9ba"),l($e,e(ue).status)},[()=>Oe(e(ue).priority),()=>Ie(e(ue).status)]),v(pe,Te)}),v(ie,we)};y(U,ie=>{e(u).length===0?ie(V):ie(se,!1)})}v(ve,Q)};y(oe,ve=>{e(p)==="tasks"&&ve(W)})}x(ve=>{l(ae,ve),l($,e(C).length),l(F,e(le)),st(q,1,`tab-btn ${e(p)==="timesheet"?"active":""}`,"svelte-19ts9ba"),st(w,1,`tab-btn ${e(p)==="tasks"?"active":""}`,"svelte-19ts9ba")},[()=>e(Qe).toFixed(1)]),v(ne,_e)};y(be,ne=>{e(g)?ne(f):ne(D,!1)})}var H=a(Pe,2);{var xe=ne=>{const _e=va(()=>{const[b,F]=e(z).split("-");return{rowIndex:b,dateStr:F}}),ze=va(()=>e(C)[parseInt(e(_e).rowIndex)]);var Me=Rm();Me.__click=ye,Me.__keydown=b=>b.key==="Escape"&&ye();var Z=t(Me);Z.__click=b=>b.stopPropagation(),Z.__keydown=b=>b.stopPropagation();var De=t(Z),ae=a(t(De),2);ae.__click=ye;var B=a(De,2),J=t(B),G=t(J),$=a(J,2);$.__input=b=>Ae(parseInt(e(_e).rowIndex),e(_e).dateStr,b.currentTarget.value);var j=a(B,2),k=t(j);k.__click=ye,x(b=>{l(G,`${e(ze).project_name??""} - ${b??""}`),Ql($,e(ze).descriptions[e(_e).dateStr]||"")},[()=>ut(new Date(e(_e).dateStr))]),v(ne,Me)};y(H,ne=>{e(z)&&ne(xe)})}x(()=>{var ne;return l(We,`Welcome back, ${(((ne=e(me))==null?void 0:ne.first_name)||"Contractor")??""}!`)}),v(i,ge),Zt(),h()}Pa(["click","change","input","keydown"]);var Om=Il('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="check svelte-1d6lxbr"><polyline points="20 6 9 17 4 12"></polyline></svg>'),Nm=d('<button><div class="employee-avatar svelte-1d6lxbr"> </div> <div class="employee-info svelte-1d6lxbr"><div class="employee-name svelte-1d6lxbr"> </div> <div class="employee-position svelte-1d6lxbr"> </div></div> <!></button>'),Um=d('<div class="employee-dropdown svelte-1d6lxbr"><div class="dropdown-search svelte-1d6lxbr"><input type="text" placeholder="Search employees..." class="search-input svelte-1d6lxbr"/></div> <div class="employee-list svelte-1d6lxbr"></div></div>'),Wm=d('<div class="employee-selector-bar svelte-1d6lxbr"><div class="selector-label svelte-1d6lxbr">Viewing Dashboard For:</div> <button class="employee-selector-btn svelte-1d6lxbr"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1d6lxbr"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <span> </span> <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="chevron svelte-1d6lxbr"><polyline points="6 9 12 15 18 9"></polyline></svg></button> <!></div>'),Hm=d('<span class="badge svelte-1d6lxbr"> </span>'),Jm=d('<button><span class="action-icon svelte-1d6lxbr"> </span> <div class="action-content svelte-1d6lxbr"><h3 class="svelte-1d6lxbr"> </h3> <p class="svelte-1d6lxbr"> </p></div> <span class="action-arrow svelte-1d6lxbr">â†’</span></button>'),Vm=d('<div class="empty-state-small svelte-1d6lxbr"><span class="empty-icon svelte-1d6lxbr">âœ“</span> <p>No pending tasks</p></div>'),Ym=d('<div class="task-item svelte-1d6lxbr"><div class="task-header svelte-1d6lxbr"><span class="task-title svelte-1d6lxbr"> </span> <span> </span></div> <p class="task-description svelte-1d6lxbr"> </p> <div class="task-footer svelte-1d6lxbr"><span class="task-due svelte-1d6lxbr"> </span> <span> </span></div></div>'),Gm=d('<div class="task-list svelte-1d6lxbr"></div>'),Km=d('<div class="empty-state-small svelte-1d6lxbr"><span class="empty-icon svelte-1d6lxbr">â±ï¸</span> <p>No time entries yet</p></div>'),Qm=d('<div class="time-entry-row svelte-1d6lxbr"><div class="entry-date svelte-1d6lxbr"> </div> <div class="entry-time svelte-1d6lxbr"> </div> <div class="entry-hours svelte-1d6lxbr"> </div></div>'),Xm=d('<div class="time-entries svelte-1d6lxbr"></div>'),Zm=d('<section class="section card svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">PTO Balance</h2> <div class="pto-summary svelte-1d6lxbr"><div class="pto-item svelte-1d6lxbr"><span class="pto-icon svelte-1d6lxbr">ðŸ–ï¸</span> <div><div class="pto-value svelte-1d6lxbr"> </div> <div class="pto-label svelte-1d6lxbr">Vacation Days</div></div></div> <div class="pto-item svelte-1d6lxbr"><span class="pto-icon svelte-1d6lxbr">ðŸ¥</span> <div><div class="pto-value svelte-1d6lxbr"> </div> <div class="pto-label svelte-1d6lxbr">Sick Days</div></div></div> <div class="pto-item svelte-1d6lxbr"><span class="pto-icon svelte-1d6lxbr">â°</span> <div><div class="pto-value svelte-1d6lxbr"> </div> <div class="pto-label svelte-1d6lxbr">Personal Days</div></div></div></div> <button class="btn btn-primary btn-block svelte-1d6lxbr">Request Time Off</button></section>'),eh=d('<section class="section card highlight svelte-1d6lxbr"><div class="pay-preview svelte-1d6lxbr"><span class="pay-icon svelte-1d6lxbr">ðŸ’°</span> <div class="pay-info"><div class="pay-label svelte-1d6lxbr">Next Pay Date</div> <div class="pay-date svelte-1d6lxbr"> </div></div></div> <button class="btn btn-secondary btn-block svelte-1d6lxbr">View Pay Stubs</button></section>'),th=d('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Quick Actions</h2> <div class="quick-actions-grid svelte-1d6lxbr"></div></section> <div class="two-column svelte-1d6lxbr"><div class="column svelte-1d6lxbr"><section class="section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Pending Tasks</h2> <button class="link-btn svelte-1d6lxbr">View All â†’</button></div> <!></section> <section class="section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Recent Time Entries</h2> <button class="link-btn svelte-1d6lxbr">View All â†’</button></div> <!></section></div> <div class="column svelte-1d6lxbr"><!> <!> <section class="section card svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Benefits Portal</h2> <div class="benefits-links svelte-1d6lxbr"><button type="button" class="benefit-link svelte-1d6lxbr"><span class="benefit-icon svelte-1d6lxbr">ðŸ¥</span> <div><div class="benefit-title svelte-1d6lxbr">Healthcare</div> <div class="benefit-subtitle svelte-1d6lxbr">Medical, Dental, Vision</div></div> <span class="link-arrow svelte-1d6lxbr">â†’</span></button> <button type="button" class="benefit-link svelte-1d6lxbr"><span class="benefit-icon svelte-1d6lxbr">ðŸ’¼</span> <div><div class="benefit-title svelte-1d6lxbr">Retirement</div> <div class="benefit-subtitle svelte-1d6lxbr">401(k) Plan</div></div> <span class="link-arrow svelte-1d6lxbr">â†’</span></button></div></section></div></div>',1),ah=d(`<div class="empty-state svelte-1d6lxbr"><div class="empty-icon svelte-1d6lxbr">âœ“</div> <h3 class="svelte-1d6lxbr">All Caught Up!</h3> <p>You don't have any pending tasks.</p></div>`),sh=d('<div class="task-card svelte-1d6lxbr"><div class="task-card-header svelte-1d6lxbr"><span> </span> <span> </span></div> <h3 class="task-card-title svelte-1d6lxbr"> </h3> <p class="task-card-description svelte-1d6lxbr"> </p> <div class="task-card-footer svelte-1d6lxbr"><span class="task-type"> </span> <span class="task-due svelte-1d6lxbr"> </span></div> <button class="btn btn-primary btn-sm svelte-1d6lxbr">Complete Task</button></div>'),lh=d('<div class="tasks-grid svelte-1d6lxbr"></div>'),rh=d('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">My Tasks</h2> <!></section>'),ih=d('<div class="empty-state svelte-1d6lxbr"><div class="empty-icon svelte-1d6lxbr">ðŸ’°</div> <h3 class="svelte-1d6lxbr">No Pay Stubs Available</h3> <p>Pay stubs will appear here once payroll is processed.</p></div>'),vh=d('<div class="paystub-card svelte-1d6lxbr"><div class="paystub-header svelte-1d6lxbr"><div><h3 class="svelte-1d6lxbr"> </h3> <p class="paystub-date svelte-1d6lxbr"> </p></div> <span> </span></div> <div class="paystub-amounts svelte-1d6lxbr"><div class="amount-item svelte-1d6lxbr"><span class="amount-label svelte-1d6lxbr">Gross Pay</span> <span class="amount-value svelte-1d6lxbr"> </span></div> <div class="amount-item svelte-1d6lxbr"><span class="amount-label svelte-1d6lxbr">Net Pay</span> <span class="amount-value net svelte-1d6lxbr"> </span></div></div> <button class="btn btn-secondary btn-sm svelte-1d6lxbr">ðŸ“„ Download PDF</button></div>'),oh=d('<div class="paystubs-list svelte-1d6lxbr"></div>'),nh=d('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Pay Stubs</h2> <!></section>'),dh=d('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">Benefits Overview</h2> <div class="benefits-grid svelte-1d6lxbr"><div class="benefit-card svelte-1d6lxbr"><div class="benefit-card-header svelte-1d6lxbr"><span class="benefit-card-icon svelte-1d6lxbr">ðŸ¥</span> <h3 class="svelte-1d6lxbr">Healthcare Benefits</h3></div> <p class="benefit-description svelte-1d6lxbr">Medical, dental, and vision insurance plans</p> <div class="benefit-links-list svelte-1d6lxbr"><a href="https://example.com/healthcare" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Login to Healthcare Portal</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a> <a href="https://example.com/find-doctor" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Find a Doctor</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a> <a href="https://example.com/claims" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>View Claims</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a></div></div> <div class="benefit-card svelte-1d6lxbr"><div class="benefit-card-header svelte-1d6lxbr"><span class="benefit-card-icon svelte-1d6lxbr">ðŸ’¼</span> <h3 class="svelte-1d6lxbr">Retirement Plan</h3></div> <p class="benefit-description svelte-1d6lxbr">401(k) with company match up to 6%</p> <div class="benefit-links-list svelte-1d6lxbr"><a href="https://example.com/401k" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Login to 401(k) Portal</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a> <a href="https://example.com/contributions" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Manage Contributions</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a> <a href="https://example.com/investments" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>View Investments</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a></div></div> <div class="benefit-card svelte-1d6lxbr"><div class="benefit-card-header svelte-1d6lxbr"><span class="benefit-card-icon svelte-1d6lxbr">ðŸ›¡ï¸</span> <h3 class="svelte-1d6lxbr">Life Insurance</h3></div> <p class="benefit-description svelte-1d6lxbr">Basic and supplemental life insurance coverage</p> <div class="benefit-links-list svelte-1d6lxbr"><a href="https://example.com/life-insurance" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>View Coverage Details</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a> <a href="https://example.com/beneficiaries" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Update Beneficiaries</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a></div></div> <div class="benefit-card svelte-1d6lxbr"><div class="benefit-card-header svelte-1d6lxbr"><span class="benefit-card-icon svelte-1d6lxbr">ðŸ’³</span> <h3 class="svelte-1d6lxbr">FSA / HSA</h3></div> <p class="benefit-description svelte-1d6lxbr">Flexible spending and health savings accounts</p> <div class="benefit-links-list svelte-1d6lxbr"><a href="https://example.com/fsa" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Manage FSA/HSA</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a> <a href="https://example.com/submit-claim" target="_blank" class="benefit-external-link svelte-1d6lxbr"><span>Submit Claim</span> <span class="external-icon svelte-1d6lxbr">â†—</span></a></div></div></div> <div class="help-section svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Need Help with Benefits?</h3> <p class="svelte-1d6lxbr">Contact HR at <a href="/cdn-cgi/l/email-protection#482a2d262d2e213c3b082b272538292631662b2725" class="svelte-1d6lxbr"><span class="__cf_email__" data-cfemail="1577707b70737c616655767a7865747b6c3b767a78">[email&#160;protected]</span></a> or call (555) 123-4567</p></div></section>'),ch=d('<section class="section svelte-1d6lxbr"><h2 class="svelte-1d6lxbr">My Profile</h2> <div class="profile-sections svelte-1d6lxbr"><div class="profile-section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Personal Information</h3> <button class="btn btn-secondary btn-sm svelte-1d6lxbr">Edit</button></div> <div class="info-grid svelte-1d6lxbr"><div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Full Name</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Email</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Phone</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Date of Birth</span> <div class="info-value svelte-1d6lxbr"> </div></div></div></div> <div class="profile-section card svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Employment Information</h3> <div class="info-grid svelte-1d6lxbr"><div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Position</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Department</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Employment Type</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Hire Date</span> <div class="info-value svelte-1d6lxbr"> </div></div></div></div> <div class="profile-section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Address</h3> <button class="btn btn-secondary btn-sm svelte-1d6lxbr">Update</button></div> <div class="info-grid svelte-1d6lxbr"><div class="info-item full-width svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Street Address</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">City</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">State</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">ZIP Code</span> <div class="info-value svelte-1d6lxbr"> </div></div></div></div> <div class="profile-section card svelte-1d6lxbr"><div class="section-header svelte-1d6lxbr"><h3 class="svelte-1d6lxbr">Emergency Contact</h3> <button class="btn btn-secondary btn-sm svelte-1d6lxbr">Update</button></div> <div class="info-grid svelte-1d6lxbr"><div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Name</span> <div class="info-value svelte-1d6lxbr"> </div></div> <div class="info-item svelte-1d6lxbr"><span class="info-label svelte-1d6lxbr">Phone</span> <div class="info-value svelte-1d6lxbr"> </div></div></div></div></div></section>'),uh=d('<div class="dashboard-container svelte-1d6lxbr"><!> <div class="dashboard-header svelte-1d6lxbr"><div><h1 class="svelte-1d6lxbr"> </h1> <p class="subtitle svelte-1d6lxbr"> </p></div> <div class="header-stats svelte-1d6lxbr"><div class="stat-card svelte-1d6lxbr"><span class="stat-icon svelte-1d6lxbr">ðŸ“‹</span> <div><div class="stat-value svelte-1d6lxbr"> </div> <div class="stat-label svelte-1d6lxbr">Pending Tasks</div></div></div> <div class="stat-card svelte-1d6lxbr"><span class="stat-icon svelte-1d6lxbr">â°</span> <div><div class="stat-value svelte-1d6lxbr"> </div> <div class="stat-label svelte-1d6lxbr">This Week</div></div></div></div></div> <div class="tab-nav svelte-1d6lxbr"><button>Overview</button> <button>My Tasks <!></button> <button>Pay Stubs</button> <button>Benefits</button> <button>Profile</button></div> <div class="tab-content"><!> <!> <!> <!> <!></div></div>');function ph(i,o){Xt(o,!0);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=mt("overview"),_=mt(null);cs(()=>{console.log("[EmployeeView] State:",{employeeProp:o.employee,authStoreEmployee:n().employee,currentEmployee:e(_)})});let p=mt(null),u=mt(Kt([])),S=mt(!1),C=mt(!1),le=mt(Kt([])),E=mt(Kt([])),T=mt(null),L=mt(Kt([]));Kt([]);let z=mt(0),P=mt(0),R=mt("");sa(()=>{var j,k,b,F;console.log("[EmployeeView] onMount called"),s(_,o.employee||n().employee,!0),console.log("[EmployeeView] Initialized employee:",e(_)),s(C,((j=n().user)==null?void 0:j.role)==="admin"||((k=n().user)==null?void 0:k.role)==="hr-manager",!0),console.log("[EmployeeView] isAdmin:",e(C)),e(C)?(Qe(),s(p,((b=n().employee)==null?void 0:b.id)||null,!0)):s(p,((F=n().employee)==null?void 0:F.id)||null,!0),console.log("[EmployeeView] selectedEmployeeId:",e(p)),re()}),cs(()=>{e(p)&&re()});let me=mt(""),X=va(()=>e(u).filter(j=>{var b;if(!e(me))return!0;const k=e(me).toLowerCase();return j.first_name.toLowerCase().includes(k)||j.last_name.toLowerCase().includes(k)||j.email.toLowerCase().includes(k)||((b=j.position)==null?void 0:b.toLowerCase().includes(k))}));async function re(){try{await Promise.all([lt(),ut(),ft(),ht()])}catch(j){console.error("Error loading dashboard:",j)}finally{}}async function Qe(){try{const j=await fetch(`${c}/employees`,{headers:{Authorization:`Bearer ${n().token}`}});j.ok&&s(u,await j.json(),!0)}catch(j){console.error("Failed to load employees:",j)}}function Je(j){s(p,j,!0),s(S,!1),s(_,e(u).find(k=>k.id===j),!0)}async function lt(){if(!e(p)){s(le,[],!0);return}try{const j=await fetch(`${c}/onboarding?status=pending`,{headers:{Authorization:`Bearer ${n().token}`}});if(j.ok){const k=await j.json();Array.isArray(k)?(s(le,k,!0),s(z,e(le).filter(b=>b.status==="pending").length,!0)):(console.warn("Tasks response is not an array:",k),s(le,[],!0),s(z,0))}else console.log("Tasks endpoint returned error:",j.status),s(le,[],!0),s(z,0)}catch(j){console.error("Error loading tasks:",j),s(le,[],!0),s(z,0)}}async function ut(){try{const j=await fetch(`${c}/timesheet/entries`,{headers:{Authorization:`Bearer ${n().token}`}});if(j.ok){const k=await j.json();if(Array.isArray(k)){s(E,Array.isArray(k)?k.slice(0,5):[],!0);const b=ot();s(P,k.filter(F=>new Date(F.date)>=b).reduce((F,A)=>F+A.total_hours,0),!0)}else console.log("No timesheet entries found (API returned null)"),s(E,[],!0),s(P,0)}else console.log("Timesheet endpoint returned error:",j.status),s(E,[],!0),s(P,0)}catch(j){console.error("Error loading timesheet entries:",j),s(E,[],!0),s(P,0)}}async function ft(){try{const j=await fetch(`${c}/pto/balance`,{headers:{Authorization:`Bearer ${n().token}`}});j.ok?s(T,await j.json(),!0):(console.log("PTO endpoint not available yet:",j.status),s(T,{vacation_days:0,sick_days:0,personal_days:0},!0))}catch{console.log("PTO feature not implemented yet"),s(T,{vacation_days:0,sick_days:0,personal_days:0},!0)}}async function ht(){var j;try{if(!((j=n().employee)!=null&&j.id)){console.log("Employee ID not available, skipping payroll load"),s(L,[],!0),s(R,"");return}const k=await fetch(`${c}/payroll/paystubs/employee/${n().employee.id}`,{headers:{Authorization:`Bearer ${n().token}`}});if(k.ok){const b=await k.json();Array.isArray(b)?(s(L,b.slice(0,3),!0),b.length>0?s(R,b[0].pay_date,!0):s(R,"")):(console.warn("Pay stubs response is not an array:",b),s(L,[],!0),s(R,""))}else console.log("Payroll endpoint returned error:",k.status),s(L,[],!0),s(R,"")}catch(k){console.error("Error loading pay stubs:",k),s(L,[],!0),s(R,"")}}function ot(){const j=new Date,k=j.getDay(),b=j.getDate()-k+(k===0?-6:1);return new Date(j.setDate(b))}function rt(j){return new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function At(j){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(j)}const it=va(()=>[{id:"timesheet",title:"Submit Timesheet",description:"Log your hours for the week",icon:"â±ï¸",action:()=>o.navigate("timesheet"),color:"purple"},{id:"pto",title:"Request Time Off",description:"Submit a PTO request",icon:"ðŸ–ï¸",action:()=>o.navigate("pto"),color:"blue"},{id:"payroll",title:"View Pay Stubs",description:"Access your payment history",icon:"ðŸ’°",action:()=>s(g,"payroll"),color:"green"},{id:"benefits",title:"Manage Benefits",description:"Healthcare and retirement",icon:"ðŸ¥",action:()=>s(g,"benefits"),color:"red"},{id:"profile",title:"Update Profile",description:"Personal information",icon:"ðŸ‘¤",action:()=>s(g,"profile"),color:"gray"},{id:"tasks",title:"My Tasks",description:`${e(z)} pending`,icon:"âœ“",action:()=>s(g,"tasks"),color:"yellow"}]);function ct(j){switch(j){case"high":return"priority-high";case"medium":return"priority-medium";case"low":return"priority-low";default:return""}}function yt(j){switch(j){case"completed":return"status-completed";case"pending":return"status-pending";case"in_progress":return"status-progress";default:return""}}var dt=uh(),pt=t(dt);{var wt=j=>{var k=Wm(),b=a(t(k),2);b.__click=()=>s(S,!e(S));var F=a(t(b),2),A=t(F),q=a(b,2);{var w=N=>{var K=Um(),I=t(K),oe=t(I),W=a(I,2);_t(W,21,()=>e(X),bt,(ve,Q)=>{var U=Nm();let V;U.__click=()=>Je(e(Q).id);var se=t(U),ie=t(se),we=a(se,2),pe=t(we),ue=t(pe),Te=a(pe,2),he=t(Te),qe=a(we,2);{var Se=je=>{var M=Om();v(je,M)};y(qe,je=>{e(p)===e(Q).id&&je(Se)})}x(()=>{V=st(U,1,"employee-item svelte-1d6lxbr",null,V,{active:e(p)===e(Q).id}),l(ie,`${e(Q).first_name[0]??""}${e(Q).last_name[0]??""}`),l(ue,`${e(Q).first_name??""} ${e(Q).last_name??""}`),l(he,e(Q).position)}),v(ve,U)}),kt(oe,()=>e(me),ve=>s(me,ve)),v(N,K)};y(q,N=>{e(S)&&N(w)})}x(()=>l(A,e(_)?`${e(_).first_name} ${e(_).last_name}`:"Select Employee")),v(j,k)};y(pt,j=>{e(C)&&j(wt)})}var St=a(pt,2),qt=t(St),$t=t(qt),Ae=t($t),Ne=a($t,2),ye=t(Ne),He=a(qt,2),Ce=t(He),fe=a(t(Ce),2),Oe=t(fe),Ie=t(Oe),ke=a(Ce,2),ge=a(t(ke),2),Pe=t(ge),Be=t(Pe),Xe=a(St,2),Ge=t(Xe);Ge.__click=()=>s(g,"overview");var We=a(Ge,2);We.__click=()=>s(g,"tasks");var be=a(t(We));{var f=j=>{var k=Hm(),b=t(k);x(()=>l(b,e(z))),v(j,k)};y(be,j=>{e(z)>0&&j(f)})}var D=a(We,2);D.__click=()=>s(g,"payroll");var H=a(D,2);H.__click=()=>s(g,"benefits");var xe=a(H,2);xe.__click=()=>s(g,"profile");var ne=a(Xe,2),_e=t(ne);{var ze=j=>{var k=th(),b=nt(k),F=a(t(b),2);_t(F,21,()=>e(it),bt,(te,de)=>{var ce=Jm();ce.__click=function(...Fe){var Ye;(Ye=e(de).action)==null||Ye.apply(this,Fe)};var ee=t(ce),Le=t(ee),Ee=a(ee,2),$e=t(Ee),Re=t($e),Ze=a($e,2),Ve=t(Ze);x(()=>{st(ce,1,`quick-action-card action-${e(de).color??""}`,"svelte-1d6lxbr"),l(Le,e(de).icon),l(Re,e(de).title),l(Ve,e(de).description)}),v(te,ce)});var A=a(b,2),q=t(A),w=t(q),N=t(w),K=a(t(N),2);K.__click=()=>s(g,"tasks");var I=a(N,2);{var oe=te=>{var de=Vm();v(te,de)},W=te=>{var de=Gm();_t(de,21,()=>e(le).slice(0,3),bt,(ce,ee)=>{var Le=Ym(),Ee=t(Le),$e=t(Ee),Re=t($e),Ze=a($e,2),Ve=t(Ze),Fe=a(Ee,2),Ye=t(Fe),Ue=a(Fe,2),et=t(Ue),tt=t(et),Ke=a(et,2),vt=t(Ke);x((xt,at,Bt)=>{l(Re,e(ee).title),st(Ze,1,`priority-badge ${xt??""}`,"svelte-1d6lxbr"),l(Ve,e(ee).priority),l(Ye,e(ee).description),l(tt,`Due: ${at??""}`),st(Ke,1,`status-badge ${Bt??""}`,"svelte-1d6lxbr"),l(vt,e(ee).status)},[()=>ct(e(ee).priority),()=>rt(e(ee).due_date),()=>yt(e(ee).status)]),v(ce,Le)}),v(te,de)};y(I,te=>{e(le).length===0?te(oe):te(W,!1)})}var ve=a(w,2),Q=t(ve),U=a(t(Q),2);U.__click=()=>o.navigate("timesheet");var V=a(Q,2);{var se=te=>{var de=Km();v(te,de)},ie=te=>{var de=Xm();_t(de,21,()=>e(E),bt,(ce,ee)=>{var Le=Qm(),Ee=t(Le),$e=t(Ee),Re=a(Ee,2),Ze=t(Re),Ve=a(Re,2),Fe=t(Ve);x(Ye=>{l($e,Ye),l(Ze,`${e(ee).clock_in??""} - ${e(ee).clock_out??""}`),l(Fe,`${e(ee).total_hours??""}h`)},[()=>rt(e(ee).date)]),v(ce,Le)}),v(te,de)};y(V,te=>{e(E).length===0?te(se):te(ie,!1)})}var we=a(q,2),pe=t(we);{var ue=te=>{var de=Zm(),ce=a(t(de),2),ee=t(ce),Le=a(t(ee),2),Ee=t(Le),$e=t(Ee),Re=a(ee,2),Ze=a(t(Re),2),Ve=t(Ze),Fe=t(Ve),Ye=a(Re,2),Ue=a(t(Ye),2),et=t(Ue),tt=t(et),Ke=a(ce,2);Ke.__click=()=>o.navigate("pto"),x(()=>{l($e,e(T).vacation_days),l(Fe,e(T).sick_days),l(tt,e(T).personal_days)}),v(te,de)};y(pe,te=>{e(T)&&te(ue)})}var Te=a(pe,2);{var he=te=>{var de=eh(),ce=t(de),ee=a(t(ce),2),Le=a(t(ee),2),Ee=t(Le),$e=a(ce,2);$e.__click=()=>s(g,"payroll"),x(Re=>l(Ee,Re),[()=>rt(e(R))]),v(te,de)};y(Te,te=>{e(R)&&te(he)})}var qe=a(Te,2),Se=a(t(qe),2),je=t(Se);je.__click=()=>s(g,"benefits");var M=a(je,2);M.__click=()=>s(g,"benefits"),v(j,k)};y(_e,j=>{e(g)==="overview"&&j(ze)})}var Me=a(_e,2);{var Z=j=>{var k=rh(),b=a(t(k),2);{var F=q=>{var w=ah();v(q,w)},A=q=>{var w=lh();_t(w,21,()=>e(le),bt,(N,K)=>{var I=sh(),oe=t(I),W=t(oe),ve=t(W),Q=a(W,2),U=t(Q),V=a(oe,2),se=t(V),ie=a(V,2),we=t(ie),pe=a(ie,2),ue=t(pe),Te=t(ue),he=a(ue,2),qe=t(he);x((Se,je,M)=>{st(W,1,`priority-badge ${Se??""}`,"svelte-1d6lxbr"),l(ve,e(K).priority),st(Q,1,`status-badge ${je??""}`,"svelte-1d6lxbr"),l(U,e(K).status),l(se,e(K).title),l(we,e(K).description),l(Te,e(K).type),l(qe,`Due: ${M??""}`)},[()=>ct(e(K).priority),()=>yt(e(K).status),()=>rt(e(K).due_date)]),v(N,I)}),v(q,w)};y(b,q=>{e(le).length===0?q(F):q(A,!1)})}v(j,k)};y(Me,j=>{e(g)==="tasks"&&j(Z)})}var De=a(Me,2);{var ae=j=>{var k=nh(),b=a(t(k),2);{var F=q=>{var w=ih();v(q,w)},A=q=>{var w=oh();_t(w,21,()=>e(L),bt,(N,K)=>{var I=vh(),oe=t(I),W=t(oe),ve=t(W),Q=t(ve),U=a(ve,2),V=t(U),se=a(W,2),ie=t(se),we=a(oe,2),pe=t(we),ue=a(t(pe),2),Te=t(ue),he=a(pe,2),qe=a(t(he),2),Se=t(qe);x((je,M,te,de)=>{l(Q,`Pay Period: ${e(K).pay_period??""}`),l(V,`Pay Date: ${je??""}`),st(se,1,`status-badge ${M??""}`,"svelte-1d6lxbr"),l(ie,e(K).status),l(Te,te),l(Se,de)},[()=>rt(e(K).pay_date),()=>yt(e(K).status),()=>At(e(K).gross_pay),()=>At(e(K).net_pay)]),v(N,I)}),v(q,w)};y(b,q=>{e(L).length===0?q(F):q(A,!1)})}v(j,k)};y(De,j=>{e(g)==="payroll"&&j(ae)})}var B=a(De,2);{var J=j=>{var k=dh();v(j,k)};y(B,j=>{e(g)==="benefits"&&j(J)})}var G=a(B,2);{var $=j=>{var k=ch(),b=a(t(k),2),F=t(b),A=a(t(F),2),q=t(A),w=a(t(q),2),N=t(w),K=a(q,2),I=a(t(K),2),oe=t(I),W=a(K,2),ve=a(t(W),2),Q=t(ve),U=a(W,2),V=a(t(U),2),se=t(V),ie=a(F,2),we=a(t(ie),2),pe=t(we),ue=a(t(pe),2),Te=t(ue),he=a(pe,2),qe=a(t(he),2),Se=t(qe),je=a(he,2),M=a(t(je),2),te=t(M),de=a(je,2),ce=a(t(de),2),ee=t(ce),Le=a(ie,2),Ee=a(t(Le),2),$e=t(Ee),Re=a(t($e),2),Ze=t(Re),Ve=a($e,2),Fe=a(t(Ve),2),Ye=t(Fe),Ue=a(Ve,2),et=a(t(Ue),2),tt=t(et),Ke=a(Ue,2),vt=a(t(Ke),2),xt=t(vt),at=a(Le,2),Bt=a(t(at),2),zt=t(Bt),Ft=a(t(zt),2),Dt=t(Ft),Et=a(zt,2),It=a(t(Et),2),Tt=t(It);x((Mt,Ct)=>{var Ot,Rt,Wt,Nt,Vt,Jt,Ht,Qt,da,ya,ba,ga,xa;l(N,`${((Ot=e(_))==null?void 0:Ot.first_name)??""} ${((Rt=e(_))==null?void 0:Rt.last_name)??""}`),l(oe,(Wt=e(_))==null?void 0:Wt.email),l(Q,((Nt=e(_))==null?void 0:Nt.phone)||"Not provided"),l(se,Mt),l(Te,(Vt=e(_))==null?void 0:Vt.position),l(Se,(Jt=e(_))==null?void 0:Jt.department),l(te,(Ht=e(_))==null?void 0:Ht.employment_type),l(ee,Ct),l(Ze,((Qt=e(_))==null?void 0:Qt.street_address)||"Not provided"),l(Ye,((da=e(_))==null?void 0:da.city)||"Not provided"),l(tt,((ya=e(_))==null?void 0:ya.state)||"Not provided"),l(xt,((ba=e(_))==null?void 0:ba.zip_code)||"Not provided"),l(Dt,((ga=e(_))==null?void 0:ga.emergency_contact_name)||"Not provided"),l(Tt,((xa=e(_))==null?void 0:xa.emergency_contact_phone)||"Not provided")},[()=>{var Mt;return(Mt=e(_))!=null&&Mt.date_of_birth?rt(e(_).date_of_birth):"Not provided"},()=>{var Mt;return(Mt=e(_))!=null&&Mt.hire_date?rt(e(_).hire_date):"N/A"}]),v(j,k)};y(G,j=>{e(g)==="profile"&&j($)})}x(j=>{var k,b,F;l(Ae,`Welcome back, ${(((k=e(_))==null?void 0:k.first_name)||"Employee")??""}! ðŸ‘‹`),l(ye,`${(((b=e(_))==null?void 0:b.position)||"Position")??""} â€¢ ${(((F=e(_))==null?void 0:F.department)||"Department")??""}`),l(Ie,e(z)),l(Be,`${j??""}h`),st(Ge,1,`tab-btn ${e(g)==="overview"?"active":""}`,"svelte-1d6lxbr"),st(We,1,`tab-btn ${e(g)==="tasks"?"active":""}`,"svelte-1d6lxbr"),st(D,1,`tab-btn ${e(g)==="payroll"?"active":""}`,"svelte-1d6lxbr"),st(H,1,`tab-btn ${e(g)==="benefits"?"active":""}`,"svelte-1d6lxbr"),st(xe,1,`tab-btn ${e(g)==="profile"?"active":""}`,"svelte-1d6lxbr")},[()=>e(P).toFixed(1)]),v(i,dt),Zt(),h()}Pa(["click"]);var _h=d('<div class="loading-container svelte-10l5vfy"><div class="spinner svelte-10l5vfy"></div> <p class="svelte-10l5vfy">Loading your dashboard...</p></div>'),fh=d('<div class="employee-dashboard-router svelte-10l5vfy"><!></div>');function bh(i,o){Xt(o,!0);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=$a();let g=mt(Kt(n().employee)),_=mt(!0),p=mt("");sa(()=>{u()});async function u(){var z;s(_,!0),console.log("[EmployeeDashboard] Starting to load employee info"),console.log("[EmployeeDashboard] authStore.employee:",n().employee);try{n().employee?(s(g,n().employee,!0),s(p,((z=e(g).employment_type)==null?void 0:z.toLowerCase())||"employee",!0),console.log("[EmployeeDashboard] Loaded from store - Type:",e(p))):(console.log("[EmployeeDashboard] Employee not in store, fetching from API"),await S())}catch(P){console.error("[EmployeeDashboard] Error loading employee info:",P),s(p,"employee")}finally{s(_,!1),console.log("[EmployeeDashboard] Loading complete - isContractor:",e(C))}}async function S(){var z;try{console.log("[EmployeeDashboard] Fetching from API:",`${c}/employees/me`);const P=await fetch(`${c}/employees/me`,{headers:{Authorization:`Bearer ${n().token}`}});console.log("[EmployeeDashboard] API response status:",P.status),P.ok?(s(g,await P.json(),!0),s(p,((z=e(g).employment_type)==null?void 0:z.toLowerCase())||"employee",!0),console.log("[EmployeeDashboard] Fetched employee:",e(g)),console.log("[EmployeeDashboard] Employment type:",e(p))):console.error("[EmployeeDashboard] API returned error:",P.status)}catch(P){console.error("[EmployeeDashboard] Error fetching employee:",P)}}let C=va(()=>e(p)==="contractor"||e(p)==="independent contractor"||e(p)==="1099");cs(()=>{var z,P;n().employee&&n().employee.id!==((z=e(g))==null?void 0:z.id)&&(s(g,n().employee,!0),s(p,((P=e(g).employment_type)==null?void 0:P.toLowerCase())||"employee",!0))});var le=fh(),E=t(le);{var T=z=>{var P=_h();v(z,P)},L=z=>{var P=Pt(),R=nt(P);{var me=re=>{Lm(re,{get employee(){return e(g)}})},X=re=>{ph(re,{get navigate(){return o.navigate},get employee(){return e(g)}})};y(R,re=>{e(C)?re(me):re(X,!1)},!0)}v(z,P)};y(E,z=>{e(_)?z(T):z(L,!1)})}v(i,le),Zt(),h()}var mh=d('<div class="alert alert-error svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> <span> </span></div>'),hh=d('<div class="alert alert-success svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg> <span> </span></div>'),yh=d("<option> </option>"),gh=d('<div class="loading-state svelte-t8zyxe"><div class="spinner svelte-t8zyxe"></div> <p>Loading users...</p></div>'),xh=d('<div class="empty-state svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <h3 class="svelte-t8zyxe">No users found</h3> <p class="svelte-t8zyxe">Try adjusting your search or filters</p></div>'),wh=d('<span class="employee-link svelte-t8zyxe"> </span>'),kh=d('<span class="text-muted svelte-t8zyxe">Not linked</span>'),$h=d('<tr class="svelte-t8zyxe"><td class="svelte-t8zyxe"><div class="user-email svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg> </div></td><td class="svelte-t8zyxe"><span> </span></td><td class="svelte-t8zyxe"><!></td><td class="svelte-t8zyxe"> </td><td class="svelte-t8zyxe"><div class="action-buttons svelte-t8zyxe"><button class="btn-icon svelte-t8zyxe" title="Edit user"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg></button> <button class="btn-icon svelte-t8zyxe" title="Reset password"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg></button></div></td></tr>'),jh=d('<div class="table-container svelte-t8zyxe"><table class="users-table svelte-t8zyxe"><thead class="svelte-t8zyxe"><tr><th class="svelte-t8zyxe">Email</th><th class="svelte-t8zyxe">Role</th><th class="svelte-t8zyxe">Linked Employee</th><th class="svelte-t8zyxe">Created</th><th class="svelte-t8zyxe">Actions</th></tr></thead><tbody class="svelte-t8zyxe"></tbody></table></div>'),Sh=d("<option> </option>"),Ah=d('<div class="modal-overlay svelte-t8zyxe" role="button" tabindex="0"><div class="modal svelte-t8zyxe" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-t8zyxe"><h2 class="svelte-t8zyxe">Add New User</h2> <button class="btn-close svelte-t8zyxe">Ã—</button></div> <form><div class="modal-body svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><label for="username" class="svelte-t8zyxe">Username *</label> <input type="text" id="username" placeholder="johndoe" required class="svelte-t8zyxe"/></div> <label for="email" class="svelte-t8zyxe">Email *</label> <input type="email" id="email" placeholder="user@company.com" required class="svelte-t8zyxe"/></div> <div class="form-row svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><label for="password" class="svelte-t8zyxe">Password *</label> <input type="password" id="password" placeholder="Min 8 characters" required minlength="8" class="svelte-t8zyxe"/></div> <div class="form-group svelte-t8zyxe"><label for="confirmPassword" class="svelte-t8zyxe">Confirm Password *</label> <input type="password" id="confirmPassword" placeholder="Re-enter password" required minlength="8" class="svelte-t8zyxe"/></div></div> <div class="form-row svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><label for="role" class="svelte-t8zyxe">Role *</label> <select id="role" required class="svelte-t8zyxe"><option>Employee</option><option>Manager</option><option>HR Manager</option><option>Admin</option></select></div> <div class="form-group svelte-t8zyxe"><label for="employee" class="svelte-t8zyxe">Link to Employee (Optional)</label> <select id="employee" class="svelte-t8zyxe"><option>None</option><!></select></div></div> <div class="form-help svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg> <span>Password must be at least 8 characters. Linking to an employee is optional.</span></div></div> <div class="modal-footer svelte-t8zyxe"><button type="button" class="btn-secondary svelte-t8zyxe">Cancel</button> <button type="submit" class="btn-primary svelte-t8zyxe">Create User</button></div></form></div></div>'),Eh=d("<option> </option>"),Ch=d('<div class="modal-overlay svelte-t8zyxe" role="button" tabindex="0"><div class="modal svelte-t8zyxe" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-t8zyxe"><h2 class="svelte-t8zyxe">Edit User</h2> <button class="btn-close svelte-t8zyxe">Ã—</button></div> <form><div class="modal-body svelte-t8zyxe"><div class="form-group svelte-t8zyxe"><label for="edit-email" class="svelte-t8zyxe">Email</label> <input type="email" id="edit-email" required class="svelte-t8zyxe"/></div> <div class="form-group svelte-t8zyxe"><label for="edit-role" class="svelte-t8zyxe">Role</label> <select id="edit-role" required class="svelte-t8zyxe"><option>Employee</option><option>Manager</option><option>HR Manager</option><option>Admin</option></select></div> <div class="form-group svelte-t8zyxe"><label for="edit-employee" class="svelte-t8zyxe">Linked Employee</label> <select id="edit-employee" class="svelte-t8zyxe"><option>None</option><!></select></div></div> <div class="modal-footer svelte-t8zyxe"><button type="button" class="btn-secondary svelte-t8zyxe">Cancel</button> <button type="submit" class="btn-primary svelte-t8zyxe">Update User</button></div></form></div></div>'),Dh=d('<div class="modal-overlay svelte-t8zyxe"><div class="modal svelte-t8zyxe"><div class="modal-header svelte-t8zyxe"><h2 class="svelte-t8zyxe">Reset Password</h2> <button class="btn-close svelte-t8zyxe">Ã—</button></div> <form><div class="modal-body svelte-t8zyxe"><div class="info-box svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg> <span class="svelte-t8zyxe">Resetting password for: <strong> </strong></span></div> <div class="form-group svelte-t8zyxe"><label for="new-password" class="svelte-t8zyxe">New Password *</label> <input type="password" id="new-password" placeholder="Min 8 characters" required minlength="8" class="svelte-t8zyxe"/></div> <div class="form-group svelte-t8zyxe"><label for="confirm-password" class="svelte-t8zyxe">Confirm New Password *</label> <input type="password" id="confirm-password" placeholder="Re-enter password" required minlength="8" class="svelte-t8zyxe"/></div></div> <div class="modal-footer svelte-t8zyxe"><button type="button" class="btn-secondary svelte-t8zyxe">Cancel</button> <button type="submit" class="btn-primary svelte-t8zyxe">Reset Password</button></div></form></div></div>'),zh=d('<div class="users-container svelte-t8zyxe"><div class="page-header svelte-t8zyxe"><div class="header-left svelte-t8zyxe"><h1 class="svelte-t8zyxe">User Management</h1> <p class="svelte-t8zyxe">Manage system users and access control</p></div> <button class="btn-primary svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg> Add User</button></div> <!> <!> <div class="filters-bar svelte-t8zyxe"><div class="search-box svelte-t8zyxe"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-t8zyxe"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <input type="text" placeholder="Search by email..." class="svelte-t8zyxe"/></div> <select class="svelte-t8zyxe"><option>All Roles</option><!></select></div> <!></div> <!> <!> <!>',1);function si(i,o){Xt(o,!0);let n=mt(Kt([])),m=mt(Kt([])),h=mt(!0),c=mt(""),g=mt(""),_=mt(!1),p=mt(!1),u=mt(!1),S=mt(null),C=mt(""),le=mt("all"),E=mt(Kt({username:"",email:"",password:"",confirmPassword:"",role:"employee",employee_id:""})),T=mt(Kt({email:"",role:"",employee_id:""})),L=mt(Kt({new_password:"",confirm_password:""}));sa(()=>{z(),P()});async function z(){s(h,!0),s(c,"");try{const f=localStorage.getItem("token"),D=await fetch("/api/users",{headers:{Authorization:`Bearer ${f}`}});if(!D.ok)throw new Error("Failed to load users");const H=await D.json();s(n,H||[],!0)}catch(f){s(c,f.message||"Failed to load users",!0),s(n,[],!0)}finally{s(h,!1)}}async function P(){try{const f=localStorage.getItem("token"),D=await fetch("/api/employees",{headers:{Authorization:`Bearer ${f}`}});if(D.ok){const H=await D.json();s(m,H||[],!0)}}catch(f){console.error("Failed to load employees:",f)}}async function R(){if(s(c,""),s(g,""),!e(E).username||!e(E).email||!e(E).password||!e(E).role){s(c,"Please fill in all required fields");return}if(e(E).password!==e(E).confirmPassword){s(c,"Passwords do not match");return}if(e(E).password.length<8){s(c,"Password must be at least 8 characters");return}try{const f=localStorage.getItem("token"),D={username:e(E).username,email:e(E).email,password:e(E).password,role:e(E).role};e(E).employee_id&&(D.employee_id=e(E).employee_id);const H=await fetch("/api/users",{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify(D)});if(!H.ok){const xe=await H.json();throw new Error(xe.error||"Failed to create user")}s(g,"User created successfully"),s(_,!1),ht(),await z(),setTimeout(()=>{s(g,"")},3e3)}catch(f){s(c,f.message||"Failed to create user",!0)}}async function me(){if(s(c,""),s(g,""),!!e(S))try{const f=localStorage.getItem("token"),D={};e(T).email!==e(S).email&&(D.email=e(T).email),e(T).role!==e(S).role&&(D.role=e(T).role),e(T).employee_id&&(D.employee_id=e(T).employee_id);const H=await fetch(`/api/users/${e(S).id}`,{method:"PUT",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify(D)});if(!H.ok){const xe=await H.json();throw new Error(xe.error||"Failed to update user")}s(g,"User updated successfully"),s(p,!1),s(S,null),await z(),setTimeout(()=>{s(g,"")},3e3)}catch(f){s(c,f.message||"Failed to update user",!0)}}async function X(){if(s(c,""),s(g,""),!!e(S)){if(!e(L).new_password||!e(L).confirm_password){s(c,"Please fill in both password fields");return}if(e(L).new_password!==e(L).confirm_password){s(c,"Passwords do not match");return}if(e(L).new_password.length<8){s(c,"Password must be at least 8 characters");return}try{const f=localStorage.getItem("token"),D=await fetch(`/api/users/${e(S).id}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({new_password:e(L).new_password})});if(!D.ok){const H=await D.json();throw new Error(H.error||"Failed to reset password")}s(g,"Password reset successfully"),s(u,!1),s(S,null),s(L,{new_password:"",confirm_password:""},!0),setTimeout(()=>{s(g,"")},3e3)}catch(f){s(c,f.message||"Failed to reset password",!0)}}}function re(){ht(),s(_,!0)}function Qe(f){s(S,f,!0),s(T,{email:f.email,role:f.role,employee_id:f.employee_id||""},!0),s(p,!0)}function Je(f){s(S,f,!0),s(L,{new_password:"",confirm_password:""},!0),s(u,!0)}function lt(){s(_,!1),ht(),s(c,"")}function ut(){s(p,!1),s(S,null),s(c,"")}function ft(){s(u,!1),s(S,null),s(L,{new_password:"",confirm_password:""},!0),s(c,"")}function ht(){s(E,{username:"",email:"",password:"",confirmPassword:"",role:"employee",employee_id:""},!0)}function ot(f){return{admin:"badge-admin","hr-manager":"badge-hr",manager:"badge-manager",employee:"badge-employee"}[f]||"badge-employee"}function rt(f){return{admin:"Admin","hr-manager":"HR Manager",manager:"Manager",employee:"Employee"}[f]||f}function At(f){const D=e(m).find(H=>H.id===f);return D?`${D.first_name} ${D.last_name}`:"N/A"}let it=va(()=>e(n).filter(f=>{const D=!e(C)||f.email.toLowerCase().includes(e(C).toLowerCase()),H=e(le)==="all"||f.role===e(le);return D&&H})),ct=va(()=>[...new Set(e(n).map(f=>f.role))]);var yt=zh(),dt=nt(yt),pt=t(dt),wt=a(t(pt),2);wt.__click=re;var St=a(pt,2);{var qt=f=>{var D=mh(),H=a(t(D),2),xe=t(H);x(()=>l(xe,e(c))),v(f,D)};y(St,f=>{e(c)&&f(qt)})}var $t=a(St,2);{var Ae=f=>{var D=hh(),H=a(t(D),2),xe=t(H);x(()=>l(xe,e(g))),v(f,D)};y($t,f=>{e(g)&&f(Ae)})}var Ne=a($t,2),ye=t(Ne),He=a(t(ye),2),Ce=a(ye,2),fe=t(Ce);fe.value=fe.__value="all";var Oe=a(fe);_t(Oe,17,()=>e(ct),bt,(f,D)=>{var H=yh(),xe=t(H),ne={};x(_e=>{l(xe,_e),ne!==(ne=e(D))&&(H.value=(H.__value=e(D))??"")},[()=>rt(e(D))]),v(f,H)});var Ie=a(Ne,2);{var ke=f=>{var D=gh();v(f,D)},ge=f=>{var D=Pt(),H=nt(D);{var xe=_e=>{var ze=xh();v(_e,ze)},ne=_e=>{var ze=jh(),Me=t(ze),Z=a(t(Me));_t(Z,21,()=>e(it),bt,(De,ae)=>{var B=$h(),J=t(B),G=t(J),$=a(t(G)),j=a(J),k=t(j),b=t(k),F=a(j),A=t(F);{var q=Q=>{var U=wh(),V=t(U);x(se=>l(V,se),[()=>At(e(ae).employee_id)]),v(Q,U)},w=Q=>{var U=kh();v(Q,U)};y(A,Q=>{e(ae).employee_id?Q(q):Q(w,!1)})}var N=a(F),K=t(N),I=a(N),oe=t(I),W=t(oe);W.__click=()=>Qe(e(ae));var ve=a(W,2);ve.__click=()=>Je(e(ae)),x((Q,U,V)=>{l($,` ${e(ae).email??""}`),st(k,1,`role-badge ${Q??""}`,"svelte-t8zyxe"),l(b,U),l(K,V)},[()=>ot(e(ae).role),()=>rt(e(ae).role),()=>new Date(e(ae).created_at).toLocaleDateString()]),v(De,B)}),v(_e,ze)};y(H,_e=>{e(it).length===0?_e(xe):_e(ne,!1)},!0)}v(f,D)};y(Ie,f=>{e(h)?f(ke):f(ge,!1)})}var Pe=a(dt,2);{var Be=f=>{var D=Ah();D.__click=lt,D.__keydown=U=>U.key==="Escape"&&lt();var H=t(D);H.__click=U=>U.stopPropagation(),H.__keydown=U=>U.stopPropagation();var xe=t(H),ne=a(t(xe),2);ne.__click=lt;var _e=a(xe,2),ze=t(_e),Me=t(ze),Z=t(Me),De=a(t(Z),2),ae=a(Z,4),B=a(Me,2),J=t(B),G=a(t(J),2),$=a(J,2),j=a(t($),2),k=a(B,2),b=t(k),F=a(t(b),2),A=t(F);A.value=A.__value="employee";var q=a(A);q.value=q.__value="manager";var w=a(q);w.value=w.__value="hr-manager";var N=a(w);N.value=N.__value="admin";var K=a(b,2),I=a(t(K),2),oe=t(I);oe.value=oe.__value="";var W=a(oe);_t(W,17,()=>e(m),bt,(U,V)=>{var se=Sh(),ie=t(se),we={};x(()=>{l(ie,`${e(V).first_name??""} ${e(V).last_name??""} - ${e(V).email??""}`),we!==(we=e(V).id)&&(se.value=(se.__value=e(V).id)??"")}),v(U,se)});var ve=a(ze,2),Q=t(ve);Q.__click=lt,O("submit",_e,U=>{U.preventDefault(),R()}),kt(De,()=>e(E).username,U=>e(E).username=U),kt(ae,()=>e(E).email,U=>e(E).email=U),kt(G,()=>e(E).password,U=>e(E).password=U),kt(j,()=>e(E).confirmPassword,U=>e(E).confirmPassword=U),Lt(F,()=>e(E).role,U=>e(E).role=U),Lt(I,()=>e(E).employee_id,U=>e(E).employee_id=U),v(f,D)};y(Pe,f=>{e(_)&&f(Be)})}var Xe=a(Pe,2);{var Ge=f=>{var D=Ch();D.__click=ut,D.__keydown=w=>w.key==="Escape"&&ut();var H=t(D);H.__click=w=>w.stopPropagation(),H.__keydown=w=>w.stopPropagation();var xe=t(H),ne=a(t(xe),2);ne.__click=ut;var _e=a(xe,2),ze=t(_e),Me=t(ze),Z=a(t(Me),2),De=a(Me,2),ae=a(t(De),2),B=t(ae);B.value=B.__value="employee";var J=a(B);J.value=J.__value="manager";var G=a(J);G.value=G.__value="hr-manager";var $=a(G);$.value=$.__value="admin";var j=a(De,2),k=a(t(j),2),b=t(k);b.value=b.__value="";var F=a(b);_t(F,17,()=>e(m),bt,(w,N)=>{var K=Eh(),I=t(K),oe={};x(()=>{l(I,`${e(N).first_name??""} ${e(N).last_name??""} - ${e(N).email??""}`),oe!==(oe=e(N).id)&&(K.value=(K.__value=e(N).id)??"")}),v(w,K)});var A=a(ze,2),q=t(A);q.__click=ut,O("submit",_e,w=>{w.preventDefault(),me()}),kt(Z,()=>e(T).email,w=>e(T).email=w),Lt(ae,()=>e(T).role,w=>e(T).role=w),Lt(k,()=>e(T).employee_id,w=>e(T).employee_id=w),v(f,D)};y(Xe,f=>{e(p)&&e(S)&&f(Ge)})}var We=a(Xe,2);{var be=f=>{var D=Dh();D.__click=ft;var H=t(D);H.__click=b=>b.stopPropagation();var xe=t(H),ne=a(t(xe),2);ne.__click=ft;var _e=a(xe,2),ze=t(_e),Me=t(ze),Z=a(t(Me),2),De=a(t(Z)),ae=t(De),B=a(Me,2),J=a(t(B),2),G=a(B,2),$=a(t(G),2),j=a(ze,2),k=t(j);k.__click=ft,x(()=>l(ae,e(S).email)),O("submit",_e,b=>{b.preventDefault(),X()}),kt(J,()=>e(L).new_password,b=>e(L).new_password=b),kt($,()=>e(L).confirm_password,b=>e(L).confirm_password=b),v(f,D)};y(We,f=>{e(u)&&e(S)&&f(be)})}kt(He,()=>e(C),f=>s(C,f)),Lt(Ce,()=>e(le),f=>s(le,f)),v(i,yt),Zt()}Pa(["click","keydown"]);var Ph=d('<div class="alert alert-error svelte-2tl2dc"><span> </span> <button class="svelte-2tl2dc">âœ•</button></div>'),Th=d('<div class="alert alert-success svelte-2tl2dc"><span> </span> <button class="svelte-2tl2dc">âœ•</button></div>'),qh=d('<div class="loading svelte-2tl2dc">Loading jobs...</div>'),Mh=d('<div class="empty-state svelte-2tl2dc"><span class="empty-icon svelte-2tl2dc">ðŸ“‹</span> <p>No job postings found</p> <button class="btn btn-primary svelte-2tl2dc">Post Your First Job</button></div>'),Bh=d('<span class="job-detail svelte-2tl2dc"><span class="detail-icon svelte-2tl2dc">ðŸ’°</span> </span>'),Ih=d('<div class="job-card svelte-2tl2dc"><div class="job-header svelte-2tl2dc"><div><h3 class="job-title svelte-2tl2dc"> </h3> <p class="job-meta svelte-2tl2dc"> </p></div> <span> </span></div> <div class="job-details svelte-2tl2dc"><span class="job-detail svelte-2tl2dc"><span class="detail-icon svelte-2tl2dc">ðŸ’¼</span> </span> <!> <span class="job-detail svelte-2tl2dc"><span class="detail-icon svelte-2tl2dc">ðŸ“…</span> </span></div> <div class="job-applicants svelte-2tl2dc"><span class="applicants-count svelte-2tl2dc"> </span> <span class="applicants-label svelte-2tl2dc">Applicants</span></div> <div class="job-actions svelte-2tl2dc"><button class="btn btn-sm btn-primary svelte-2tl2dc">View Candidates</button> <button class="btn btn-sm btn-ghost svelte-2tl2dc">âœï¸ Edit</button> <button class="btn btn-sm btn-ghost svelte-2tl2dc">ðŸ“¤ Post to Boards</button></div></div>'),Rh=d('<div class="jobs-grid svelte-2tl2dc"></div>'),Fh=d('<div class="jobs-section"><div class="section-header svelte-2tl2dc"><div><h2 class="svelte-2tl2dc">Job Postings</h2> <p class="text-muted svelte-2tl2dc">Create and manage open positions</p></div> <button class="btn btn-primary svelte-2tl2dc">+ Post New Job</button></div> <div class="stats-grid svelte-2tl2dc"><div class="stat-card svelte-2tl2dc"><span class="stat-icon svelte-2tl2dc">ðŸ“‹</span> <div class="stat-info svelte-2tl2dc"><div class="stat-value svelte-2tl2dc"> </div> <div class="stat-label svelte-2tl2dc">Total Jobs</div></div></div> <div class="stat-card svelte-2tl2dc"><span class="stat-icon svelte-2tl2dc">âœ…</span> <div class="stat-info svelte-2tl2dc"><div class="stat-value svelte-2tl2dc"> </div> <div class="stat-label svelte-2tl2dc">Active</div></div></div> <div class="stat-card svelte-2tl2dc"><span class="stat-icon svelte-2tl2dc">ðŸŽ‰</span> <div class="stat-info svelte-2tl2dc"><div class="stat-value svelte-2tl2dc"> </div> <div class="stat-label svelte-2tl2dc">Filled</div></div></div> <div class="stat-card svelte-2tl2dc"><span class="stat-icon svelte-2tl2dc">ðŸ‘¥</span> <div class="stat-info svelte-2tl2dc"><div class="stat-value svelte-2tl2dc"> </div> <div class="stat-label svelte-2tl2dc">Total Applicants</div></div></div></div> <div class="filters svelte-2tl2dc"><select class="select select-sm svelte-2tl2dc"><option>All Status</option><option>Draft</option><option>Active</option><option>Closed</option><option>Filled</option></select></div> <!></div>'),Lh=d('<div class="stats-grid svelte-2tl2dc"><div class="stat-card svelte-2tl2dc"><span class="stat-icon svelte-2tl2dc">ðŸ‘¥</span> <div class="stat-info svelte-2tl2dc"><div class="stat-value svelte-2tl2dc"> </div> <div class="stat-label svelte-2tl2dc">Total</div></div></div> <div class="stat-card svelte-2tl2dc"><span class="stat-icon svelte-2tl2dc">ðŸ†•</span> <div class="stat-info svelte-2tl2dc"><div class="stat-value svelte-2tl2dc"> </div> <div class="stat-label svelte-2tl2dc">New</div></div></div> <div class="stat-card svelte-2tl2dc"><span class="stat-icon svelte-2tl2dc">ðŸ”</span> <div class="stat-info svelte-2tl2dc"><div class="stat-value svelte-2tl2dc"> </div> <div class="stat-label svelte-2tl2dc">Screening</div></div></div> <div class="stat-card svelte-2tl2dc"><span class="stat-icon svelte-2tl2dc">ðŸ’¬</span> <div class="stat-info svelte-2tl2dc"><div class="stat-value svelte-2tl2dc"> </div> <div class="stat-label svelte-2tl2dc">Interview</div></div></div> <div class="stat-card svelte-2tl2dc"><span class="stat-icon svelte-2tl2dc">ðŸŽ</span> <div class="stat-info svelte-2tl2dc"><div class="stat-value svelte-2tl2dc"> </div> <div class="stat-label svelte-2tl2dc">Offered</div></div></div></div>'),Oh=d('<div class="loading svelte-2tl2dc">Loading candidates...</div>'),Nh=d('<div class="empty-state svelte-2tl2dc"><span class="empty-icon svelte-2tl2dc">ðŸ‘¥</span> <p>No candidates found for this position</p></div>'),Uh=d('<p class="candidate-meta svelte-2tl2dc"> </p>'),Wh=d('<div class="candidate-score svelte-2tl2dc"><div class="score-circle svelte-2tl2dc"><span class="score-value svelte-2tl2dc"> </span></div> <span class="score-label svelte-2tl2dc">AI Match Score</span></div>'),Hh=d('<span class="skill-badge svelte-2tl2dc"> </span>'),Jh=d('<span class="skill-badge svelte-2tl2dc"> </span>'),Vh=d('<div class="candidate-card svelte-2tl2dc"><div class="candidate-header svelte-2tl2dc"><div class="candidate-avatar svelte-2tl2dc"> </div> <div class="candidate-info svelte-2tl2dc"><h3 class="candidate-name svelte-2tl2dc"> </h3> <p class="candidate-meta svelte-2tl2dc"> </p> <!></div></div> <!> <div class="candidate-skills svelte-2tl2dc"><!> <!></div> <div class="candidate-meta-row svelte-2tl2dc"><span> </span> <span class="candidate-date svelte-2tl2dc"> </span></div> <div class="candidate-actions svelte-2tl2dc"><button class="btn btn-sm btn-primary svelte-2tl2dc">View Profile</button> <button class="btn btn-sm btn-ghost svelte-2tl2dc"> </button> <button class="btn btn-sm btn-ghost svelte-2tl2dc">âœ‰ï¸ Email</button></div> <div class="candidate-status-select svelte-2tl2dc"><select class="select select-sm w-full svelte-2tl2dc"><option>New</option><option>Screening</option><option>Interview</option><option>Offered</option><option>Rejected</option><option>Hired</option></select></div></div>'),Yh=d('<div class="candidates-grid svelte-2tl2dc"></div>'),Gh=d('<div class="section-header svelte-2tl2dc"><div><h2 class="svelte-2tl2dc"> </h2> <p class="text-muted svelte-2tl2dc"> </p></div> <button class="btn btn-ghost svelte-2tl2dc">â† Back to Jobs</button></div> <!> <div class="filters svelte-2tl2dc"><select class="select select-sm svelte-2tl2dc"><option>All Status</option><option>New</option><option>Screening</option><option>Interview</option><option>Offered</option><option>Rejected</option><option>Hired</option></select></div> <!>',1),Kh=d('<div class="empty-state svelte-2tl2dc"><span class="empty-icon svelte-2tl2dc">ðŸ“‹</span> <p>Select a job posting to view candidates</p> <button class="btn btn-primary svelte-2tl2dc">View Job Postings</button></div>'),Qh=d('<div class="candidates-section"><!></div>'),Xh=d('<div class="analytics-section"><div class="section-header svelte-2tl2dc"><h2 class="svelte-2tl2dc">Recruiting Analytics</h2> <p class="text-muted svelte-2tl2dc">Track hiring performance and metrics</p></div> <div class="analytics-grid svelte-2tl2dc"><div class="analytics-card svelte-2tl2dc"><h3 class="svelte-2tl2dc">Time to Hire</h3> <div class="analytics-value svelte-2tl2dc">24 days</div> <div class="analytics-trend text-success svelte-2tl2dc">â†“ 15% vs last month</div></div> <div class="analytics-card svelte-2tl2dc"><h3 class="svelte-2tl2dc">Applications per Job</h3> <div class="analytics-value svelte-2tl2dc"> </div> <div class="analytics-trend svelte-2tl2dc">Average</div></div> <div class="analytics-card svelte-2tl2dc"><h3 class="svelte-2tl2dc">Interview Rate</h3> <div class="analytics-value svelte-2tl2dc">32%</div> <div class="analytics-trend text-success svelte-2tl2dc">â†‘ 8% vs last month</div></div> <div class="analytics-card svelte-2tl2dc"><h3 class="svelte-2tl2dc">Offer Acceptance</h3> <div class="analytics-value svelte-2tl2dc">85%</div> <div class="analytics-trend svelte-2tl2dc">Above average</div></div></div> <div class="empty-state svelte-2tl2dc"><span class="empty-icon svelte-2tl2dc">ðŸ“Š</span> <p>More detailed analytics coming soon...</p></div></div>'),Zh=d('<div class="array-item svelte-2tl2dc"><input type="text" class="input w-full svelte-2tl2dc"/> <button type="button" class="btn btn-sm btn-ghost svelte-2tl2dc">ðŸ—‘ï¸</button></div>'),ey=d('<div class="array-item svelte-2tl2dc"><input type="text" class="input w-full svelte-2tl2dc"/> <button type="button" class="btn btn-sm btn-ghost svelte-2tl2dc">ðŸ—‘ï¸</button></div>'),ty=d('<div class="modal svelte-2tl2dc"><div class="modal-box max-w-4xl svelte-2tl2dc" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-2tl2dc"><h2 class="svelte-2tl2dc"> </h2> <button class="btn btn-circle btn-sm svelte-2tl2dc">âœ•</button></div> <form class="form svelte-2tl2dc"><div class="form-row svelte-2tl2dc"><div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Job Title</span></label> <input type="text" class="input w-full svelte-2tl2dc" required placeholder="e.g., Senior Software Engineer"/></div> <div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Department</span></label> <input type="text" class="input w-full svelte-2tl2dc" required placeholder="e.g., Engineering"/></div></div> <div class="form-row svelte-2tl2dc"><div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Location</span></label> <input type="text" class="input w-full svelte-2tl2dc" required placeholder="e.g., San Francisco, CA / Remote"/></div> <div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Employment Type</span></label> <select class="select w-full svelte-2tl2dc" required><option>Full-Time</option><option>Part-Time</option><option>Contract</option><option>Internship</option></select></div></div> <div class="form-row svelte-2tl2dc"><div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Minimum Salary</span></label> <input type="number" class="input w-full svelte-2tl2dc" min="0" step="1000"/></div> <div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Maximum Salary</span></label> <input type="number" class="input w-full svelte-2tl2dc" min="0" step="1000"/></div></div> <div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Job Description</span></label> <textarea class="textarea w-full svelte-2tl2dc" rows="5" required placeholder="Describe the role..."></textarea></div> <div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Requirements</span></label> <div class="array-input svelte-2tl2dc"><!> <button type="button" class="btn btn-sm btn-ghost svelte-2tl2dc">+ Add Requirement</button></div></div> <div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Responsibilities</span></label> <div class="array-input svelte-2tl2dc"><!> <button type="button" class="btn btn-sm btn-ghost svelte-2tl2dc">+ Add Responsibility</button></div></div> <div class="modal-actions svelte-2tl2dc"><button type="submit" class="btn btn-primary svelte-2tl2dc"> </button> <button type="button" class="btn btn-ghost svelte-2tl2dc">Cancel</button></div></form></div></div>'),ay=d('<div class="info-item svelte-2tl2dc"><span class="info-label svelte-2tl2dc">Phone</span> <span class="info-value svelte-2tl2dc"> </span></div>'),sy=d('<div class="info-item svelte-2tl2dc"><span class="info-label svelte-2tl2dc">LinkedIn</span> <a target="_blank" class="link svelte-2tl2dc">View Profile</a></div>'),ly=d('<div class="info-item svelte-2tl2dc"><span class="info-label svelte-2tl2dc">Portfolio</span> <a target="_blank" class="link svelte-2tl2dc">View Portfolio</a></div>'),ry=d('<span class="skill-badge-large svelte-2tl2dc"> </span>'),iy=d('<div class="detail-section svelte-2tl2dc"><h3 class="svelte-2tl2dc">Skills</h3> <div class="skills-list svelte-2tl2dc"></div></div>'),vy=d('<li class="svelte-2tl2dc"> </li>'),oy=d('<div class="analysis-category svelte-2tl2dc"><h4 class="svelte-2tl2dc">âœ… Strengths</h4> <ul class="svelte-2tl2dc"></ul></div>'),ny=d('<li class="svelte-2tl2dc"> </li>'),dy=d('<div class="analysis-category svelte-2tl2dc"><h4 class="svelte-2tl2dc">âš ï¸ Areas for Consideration</h4> <ul class="svelte-2tl2dc"></ul></div>'),cy=d('<div class="detail-section svelte-2tl2dc"><h3 class="svelte-2tl2dc">AI Analysis</h3> <div class="ai-analysis svelte-2tl2dc"><p class="svelte-2tl2dc"> </p> <!> <!></div></div>'),uy=d('<div class="detail-section svelte-2tl2dc"><h3 class="svelte-2tl2dc">Cover Letter</h3> <div class="cover-letter svelte-2tl2dc"> </div></div>'),py=d('<a target="_blank" class="btn btn-primary svelte-2tl2dc">ðŸ“„ View Resume</a>'),_y=d('<div class="modal svelte-2tl2dc"><div class="modal-box max-w-4xl svelte-2tl2dc" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-2tl2dc"><div><h2 class="svelte-2tl2dc"> </h2> <p class="text-muted svelte-2tl2dc"> </p></div> <button class="btn btn-circle btn-sm svelte-2tl2dc">âœ•</button></div> <div class="candidate-detail svelte-2tl2dc"><div class="detail-section svelte-2tl2dc"><h3 class="svelte-2tl2dc">Contact Information</h3> <div class="info-grid svelte-2tl2dc"><div class="info-item svelte-2tl2dc"><span class="info-label svelte-2tl2dc">Email</span> <span class="info-value svelte-2tl2dc"> </span></div> <!> <!> <!></div></div> <!> <!> <!> <div class="detail-actions svelte-2tl2dc"><!> <button class="btn btn-ghost svelte-2tl2dc">ðŸ¤– AI Analysis</button> <button class="btn btn-ghost svelte-2tl2dc">âœ‰ï¸ Send Email</button></div></div></div></div>'),fy=d('<div class="modal svelte-2tl2dc"><div class="modal-box max-w-3xl svelte-2tl2dc" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-2tl2dc"><h2 class="svelte-2tl2dc">Compose Email</h2> <button class="btn btn-circle btn-sm svelte-2tl2dc">âœ•</button></div> <div class="email-templates svelte-2tl2dc"><button class="btn btn-sm btn-ghost svelte-2tl2dc">ðŸ“§ Screening</button> <button class="btn btn-sm btn-ghost svelte-2tl2dc">ðŸ’¬ Interview</button> <button class="btn btn-sm btn-ghost svelte-2tl2dc">ðŸŽ Offer</button> <button class="btn btn-sm btn-ghost svelte-2tl2dc">âœ‰ï¸ Rejection</button> <button class="btn btn-sm btn-primary svelte-2tl2dc"> </button></div> <form class="form svelte-2tl2dc"><div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc"> </span></label></div> <div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Subject</span></label> <input type="text" class="input w-full svelte-2tl2dc" required/></div> <div class="form-control svelte-2tl2dc"><label class="label svelte-2tl2dc"><span class="label-text svelte-2tl2dc">Message</span></label> <textarea class="textarea w-full svelte-2tl2dc" rows="15" required></textarea></div> <div class="modal-actions svelte-2tl2dc"><button type="submit" class="btn btn-primary svelte-2tl2dc"> </button> <button type="button" class="btn btn-ghost svelte-2tl2dc">Cancel</button></div></form></div></div>'),by=d('<div class="job-board-item svelte-2tl2dc"><div class="board-info svelte-2tl2dc"><span class="board-logo svelte-2tl2dc"> </span> <span class="board-name svelte-2tl2dc"> </span></div> <label class="switch svelte-2tl2dc"><input type="checkbox" class="svelte-2tl2dc"/> <span class="slider svelte-2tl2dc"></span></label></div>'),my=d('<div class="modal svelte-2tl2dc"><div class="modal-box svelte-2tl2dc" role="dialog" aria-modal="true" tabindex="-1"><div class="modal-header svelte-2tl2dc"><h2 class="svelte-2tl2dc">Post to Job Boards</h2> <button class="btn btn-circle btn-sm svelte-2tl2dc">âœ•</button></div> <div class="job-boards-list svelte-2tl2dc"></div> <div class="modal-actions svelte-2tl2dc"><button class="btn btn-primary svelte-2tl2dc">Post Selected</button> <button class="btn btn-ghost svelte-2tl2dc">Cancel</button></div></div></div>'),hy=d('<div class="recruiting-container svelte-2tl2dc"><div class="recruiting-header svelte-2tl2dc"><h1 class="svelte-2tl2dc">ðŸŽ¯ Recruiting</h1> <p class="text-muted svelte-2tl2dc">Post jobs, review candidates, and manage hiring pipeline</p></div> <!> <!> <div class="tabs svelte-2tl2dc"><button>ðŸ“‹ Job Postings</button> <button>ðŸ‘¥ Candidates</button> <button>ðŸ“Š Analytics</button></div> <div class="tab-content"><!> <!> <!></div></div> <!> <!> <!> <!>',1);function yy(i,o){Xt(o,!1);const n=()=>_a(ua,"$authStore",m),[m,h]=fa(),c=Y(),g=Y(),_=Y(),p=Y();let u=Y("jobs"),S=Y(!1),C=Y(""),le=Y(""),E=Y([]),T=Y(!1),L=Y(null),z=Y("all"),P=Y({title:"",department:"",location:"",employment_type:"full-time",salary_min:0,salary_max:0,description:"",requirements:[],responsibilities:[],benefits:[]}),R=Y([]),me=Y(null),X=Y(null),re=Y(!1),Qe=!1,Je=Y("all"),lt=Y(!1),ut=Y(!1),ft=Y([{id:"1",name:"LinkedIn",logo:"ðŸ’¼",enabled:!1,api_connected:!1},{id:"2",name:"Indeed",logo:"ðŸ”",enabled:!1,api_connected:!1},{id:"3",name:"Glassdoor",logo:"ðŸ¢",enabled:!1,api_connected:!1},{id:"4",name:"ZipRecruiter",logo:"ðŸ“®",enabled:!1,api_connected:!1},{id:"5",name:"Monster",logo:"ðŸ‘¹",enabled:!1,api_connected:!1}]),ht=Y(!1),ot=Y(""),rt=Y(""),At=Y(!1);const it={screening:{subject:"Next Steps - {{job_title}} Position at {{company}}",body:`Dear {{candidate_name}},

Thank you for your application for the {{job_title}} position. We've reviewed your resume and would like to proceed with the next step in our hiring process.

We'd like to schedule a {{interview_type}} to discuss your qualifications and learn more about your experience.

Please let us know your availability for a {{duration}} conversation in the next week.

Best regards,
{{recruiter_name}}
{{company}}`},interview:{subject:"Interview Invitation - {{job_title}} Position",body:`Dear {{candidate_name}},

We're pleased to invite you to interview for the {{job_title}} position at {{company}}.

Interview Details:
- Date & Time: {{interview_datetime}}
- Duration: {{duration}}
- Format: {{interview_format}}
- Location/Link: {{location_or_link}}

Please confirm your attendance by {{confirmation_deadline}}.

We look forward to speaking with you!

Best regards,
{{recruiter_name}}`},offer:{subject:"ðŸŽ‰ Job Offer - {{job_title}} at {{company}}",body:`Dear {{candidate_name}},

Congratulations! We're thrilled to extend an offer for the {{job_title}} position at {{company}}.

Offer Details:
- Start Date: {{start_date}}
- Salary: {{salary}}
- Benefits: {{benefits_summary}}

Please review the attached formal offer letter. We'd appreciate your response by {{response_deadline}}.

Welcome to the team!

Best regards,
{{recruiter_name}}`},rejection:{subject:"Update on Your Application - {{job_title}}",body:`Dear {{candidate_name}},

Thank you for taking the time to apply for the {{job_title}} position at {{company}} and for your interest in joining our team.

After careful consideration, we've decided to move forward with other candidates whose qualifications more closely match our current needs.

We were impressed by your background in {{candidate_strength}}, and we encourage you to apply for future positions that align with your skills.

We wish you the best in your job search.

Best regards,
{{recruiter_name}}`}};async function ct(){try{s(S,!0),s(C,"");const w=await fetch("/api/recruiting/jobs",{headers:{Authorization:`Bearer ${n().token}`}});if(!w.ok)throw new Error("Failed to load jobs");s(E,await w.json())}catch(w){s(C,w.message),s(E,[])}finally{s(S,!1)}}async function yt(){try{s(S,!0),s(C,""),s(le,"");const w=await fetch("/api/recruiting/jobs",{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(P))});if(!w.ok){const N=await w.json();throw new Error(N.error||"Failed to create job")}s(le,"Job posting created successfully"),s(T,!1),St(),await ct()}catch(w){s(C,w.message)}finally{s(S,!1)}}async function dt(){if(e(L))try{s(S,!0),s(C,""),s(le,"");const w=await fetch(`/api/recruiting/jobs/${e(L).id}`,{method:"PUT",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify(e(P))});if(!w.ok){const N=await w.json();throw new Error(N.error||"Failed to update job")}s(le,"Job posting updated successfully"),s(T,!1),s(L,null),St(),await ct()}catch(w){s(C,w.message)}finally{s(S,!1)}}async function pt(w){s(ut,!0)}function wt(w){w&&(s(L,w),s(P,{title:w.title,department:w.department,location:w.location,employment_type:w.employment_type,salary_min:w.salary_min||0,salary_max:w.salary_max||0,description:w.description,requirements:[...w.requirements],responsibilities:[...w.responsibilities],benefits:[...w.benefits]})),s(T,!0)}function St(){s(P,{title:"",department:"",location:"",employment_type:"full-time",salary_min:0,salary_max:0,description:"",requirements:[],responsibilities:[],benefits:[]}),s(L,null)}async function qt(w){try{s(S,!0),s(C,"");const N=await fetch(`/api/recruiting/jobs/${w}/candidates`,{headers:{Authorization:`Bearer ${n().token}`}});if(!N.ok)throw new Error("Failed to load candidates");s(R,await N.json())}catch(N){s(C,N.message),s(R,[])}finally{s(S,!1)}}async function $t(w){try{s(lt,!0),s(C,"");const N=await fetch(`/api/recruiting/candidates/${w.id}/analyze`,{method:"POST",headers:{Authorization:`Bearer ${n().token}`}});if(!N.ok)throw new Error("Failed to analyze resume");const K=await N.json();s(X,{...w,score:K.score,ai_summary:K.summary,strengths:K.strengths,weaknesses:K.weaknesses,experience_years:K.experience_years,skills:K.skills}),Qe=!0}catch(N){s(C,N.message)}finally{s(lt,!1)}}async function Ae(w,N){try{if(s(S,!0),s(C,""),s(le,""),!(await fetch(`/api/recruiting/candidates/${w}`,{method:"PUT",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({status:N})})).ok)throw new Error("Failed to update candidate");s(le,"Candidate status updated"),e(me)&&await qt(e(me).id)}catch(K){s(C,K.message)}finally{s(S,!1)}}function Ne(w){s(X,w),s(re,!0)}function ye(w){s(me,w),qt(w.id)}function He(w,N){var I,oe,W,ve;const K=it[N];K&&(s(ot,K.subject.replace("{{job_title}}",((I=e(me))==null?void 0:I.title)||"").replace("{{company}}","Your Company")),s(rt,K.body.replace(/{{candidate_name}}/g,`${w.first_name} ${w.last_name}`).replace(/{{job_title}}/g,((oe=e(me))==null?void 0:oe.title)||"").replace(/{{company}}/g,"Your Company").replace(/{{recruiter_name}}/g,((W=n().user)==null?void 0:W.name)||"Hiring Team").replace(/{{candidate_strength}}/g,((ve=w.strengths)==null?void 0:ve[0])||"your experience")),s(ht,!0))}async function Ce(w,N){var K;try{s(At,!0),s(C,"");const I=await fetch("/api/recruiting/email/generate",{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({candidate_id:w.id,job_id:(K=e(me))==null?void 0:K.id,context:N,tone:"professional_friendly"})});if(!I.ok)throw new Error("Failed to generate email");const oe=await I.json();s(ot,oe.subject),s(rt,oe.body),s(ht,!0)}catch(I){s(C,I.message)}finally{s(At,!1)}}async function fe(){if(e(X))try{if(s(S,!0),s(C,""),s(le,""),!(await fetch("/api/recruiting/email/send",{method:"POST",headers:{Authorization:`Bearer ${n().token}`,"Content-Type":"application/json"},body:JSON.stringify({candidate_id:e(X).id,subject:e(ot),body:e(rt)})})).ok)throw new Error("Failed to send email");s(le,"Email sent successfully"),s(ht,!1),Oe()}catch(w){s(C,w.message)}finally{s(S,!1)}}function Oe(){s(ot,""),s(rt,"")}function Ie(w){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(w)}function ke(w){return w?new Date(w).toLocaleDateString():"N/A"}function ge(w){return{draft:"badge-ghost",active:"badge-success",closed:"badge-error",filled:"badge-info",new:"badge-warning",screening:"badge-info",interview:"badge-primary",offered:"badge-success",rejected:"badge-error",hired:"badge-success"}[w]||"badge-ghost"}function Pe(w){return w>=80?"#10b981":w>=60?"#3b82f6":w>=40?"#f59e0b":"#ef4444"}function Be(w,N){return w.splice(N,1),w}sa(()=>{ct()}),Yt(()=>(e(E),e(z)),()=>{s(c,e(E).filter(w=>e(z)==="all"||w.status===e(z)))}),Yt(()=>(e(me),e(R),e(Je)),()=>{s(g,e(me)?e(R).filter(w=>{const N=w.job_posting_id===e(me).id,K=e(Je)==="all"||w.status===e(Je);return N&&K}):[])}),Yt(()=>e(E),()=>{s(_,{total:e(E).length,active:e(E).filter(w=>w.status==="active").length,filled:e(E).filter(w=>w.status==="filled").length,total_applicants:e(E).reduce((w,N)=>w+N.applications_count,0)})}),Yt(()=>(e(me),e(g)),()=>{s(p,e(me)?{total:e(g).length,new:e(g).filter(w=>w.status==="new").length,screening:e(g).filter(w=>w.status==="screening").length,interview:e(g).filter(w=>w.status==="interview").length,offered:e(g).filter(w=>w.status==="offered").length}:null)}),za(),na();var Xe=hy(),Ge=nt(Xe),We=a(t(Ge),2);{var be=w=>{var N=Ph(),K=t(N),I=t(K),oe=a(K,2);x(()=>l(I,e(C))),O("click",oe,()=>s(C,"")),v(w,N)};y(We,w=>{e(C)&&w(be)})}var f=a(We,2);{var D=w=>{var N=Th(),K=t(N),I=t(K),oe=a(K,2);x(()=>l(I,e(le))),O("click",oe,()=>s(le,"")),v(w,N)};y(f,w=>{e(le)&&w(D)})}var H=a(f,2),xe=t(H),ne=a(xe,2),_e=a(ne,2),ze=a(H,2),Me=t(ze);{var Z=w=>{var N=Fh(),K=t(N),I=a(t(K),2),oe=a(K,2),W=t(oe),ve=a(t(W),2),Q=t(ve),U=t(Q),V=a(W,2),se=a(t(V),2),ie=t(se),we=t(ie),pe=a(V,2),ue=a(t(pe),2),Te=t(ue),he=t(Te),qe=a(pe,2),Se=a(t(qe),2),je=t(Se),M=t(je),te=a(oe,2),de=t(te);x(()=>{e(z),Ut(()=>{})});var ce=t(de);ce.value=ce.__value="all";var ee=a(ce);ee.value=ee.__value="draft";var Le=a(ee);Le.value=Le.__value="active";var Ee=a(Le);Ee.value=Ee.__value="closed";var $e=a(Ee);$e.value=$e.__value="filled";var Re=a(te,2);{var Ze=Fe=>{var Ye=qh();v(Fe,Ye)},Ve=Fe=>{var Ye=Pt(),Ue=nt(Ye);{var et=Ke=>{var vt=Mh(),xt=a(t(vt),4);O("click",xt,()=>wt()),v(Ke,vt)},tt=Ke=>{var vt=Rh();_t(vt,5,()=>e(c),bt,(xt,at)=>{var Bt=Ih(),zt=t(Bt),Ft=t(zt),Dt=t(Ft),Et=t(Dt),It=a(Dt,2),Tt=t(It),Mt=a(Ft,2),Ct=t(Mt),Ot=a(zt,2),Rt=t(Ot),Wt=a(t(Rt)),Nt=a(Rt,2);{var Vt=Oa=>{var Ba=Bh(),ma=a(t(Ba));x((Ja,Bs)=>l(ma,` ${Ja??""} - ${Bs??""}`),[()=>(e(at),r(()=>Ie(e(at).salary_min))),()=>(e(at),r(()=>Ie(e(at).salary_max)))]),v(Oa,Ba)};y(Nt,Oa=>{e(at),r(()=>e(at).salary_min&&e(at).salary_max)&&Oa(Vt)})}var Jt=a(Nt,2),Ht=a(t(Jt)),Qt=a(Ot,2),da=t(Qt),ya=t(da),ba=a(Qt,2),ga=t(ba),xa=a(ga,2),La=a(xa,2);x((Oa,Ba,ma)=>{l(Et,(e(at),r(()=>e(at).title))),l(Tt,`${e(at),r(()=>e(at).department)??""} â€¢ ${e(at),r(()=>e(at).location)??""}`),st(Mt,1,`badge ${Oa??""}`,"svelte-2tl2dc"),l(Ct,(e(at),r(()=>e(at).status))),l(Wt,` ${Ba??""}`),l(Ht,` Posted ${ma??""}`),l(ya,(e(at),r(()=>e(at).applications_count)))},[()=>(e(at),r(()=>ge(e(at).status))),()=>(e(at),r(()=>e(at).employment_type.replace("-"," "))),()=>(e(at),r(()=>ke(e(at).posted_date||e(at).created_at)))]),O("click",ga,()=>ye(e(at))),O("click",xa,()=>wt(e(at))),O("click",La,()=>pt(e(at).id)),v(xt,Bt)}),v(Ke,vt)};y(Ue,Ke=>{e(c),r(()=>e(c).length===0)?Ke(et):Ke(tt,!1)},!0)}v(Fe,Ye)};y(Re,Fe=>{e(S)?Fe(Ze):Fe(Ve,!1)})}x(()=>{l(U,(e(_),r(()=>e(_).total))),l(we,(e(_),r(()=>e(_).active))),l(he,(e(_),r(()=>e(_).filled))),l(M,(e(_),r(()=>e(_).total_applicants)))}),O("click",I,()=>wt()),Lt(de,()=>e(z),Fe=>s(z,Fe)),v(w,N)};y(Me,w=>{e(u)==="jobs"&&w(Z)})}var De=a(Me,2);{var ae=w=>{var N=Qh(),K=t(N);{var I=W=>{var ve=Gh(),Q=nt(ve),U=t(Q),V=t(U),se=t(V),ie=a(V,2),we=t(ie),pe=a(U,2),ue=a(Q,2);{var Te=Re=>{var Ze=Lh(),Ve=t(Ze),Fe=a(t(Ve),2),Ye=t(Fe),Ue=t(Ye),et=a(Ve,2),tt=a(t(et),2),Ke=t(tt),vt=t(Ke),xt=a(et,2),at=a(t(xt),2),Bt=t(at),zt=t(Bt),Ft=a(xt,2),Dt=a(t(Ft),2),Et=t(Dt),It=t(Et),Tt=a(Ft,2),Mt=a(t(Tt),2),Ct=t(Mt),Ot=t(Ct);x(()=>{l(Ue,(e(p),r(()=>e(p).total))),l(vt,(e(p),r(()=>e(p).new))),l(zt,(e(p),r(()=>e(p).screening))),l(It,(e(p),r(()=>e(p).interview))),l(Ot,(e(p),r(()=>e(p).offered)))}),v(Re,Ze)};y(ue,Re=>{e(p)&&Re(Te)})}var he=a(ue,2),qe=t(he);x(()=>{e(Je),Ut(()=>{})});var Se=t(qe);Se.value=Se.__value="all";var je=a(Se);je.value=je.__value="new";var M=a(je);M.value=M.__value="screening";var te=a(M);te.value=te.__value="interview";var de=a(te);de.value=de.__value="offered";var ce=a(de);ce.value=ce.__value="rejected";var ee=a(ce);ee.value=ee.__value="hired";var Le=a(he,2);{var Ee=Re=>{var Ze=Oh();v(Re,Ze)},$e=Re=>{var Ze=Pt(),Ve=nt(Ze);{var Fe=Ue=>{var et=Nh();v(Ue,et)},Ye=Ue=>{var et=Yh();_t(et,5,()=>e(g),bt,(tt,Ke)=>{var vt=Vh(),xt=t(vt),at=t(xt),Bt=t(at),zt=a(at,2),Ft=t(zt),Dt=t(Ft),Et=a(Ft,2),It=t(Et),Tt=a(Et,2);{var Mt=ja=>{var Va=Uh(),fs=t(Va);x(()=>l(fs,(e(Ke),r(()=>e(Ke).phone)))),v(ja,Va)};y(Tt,ja=>{e(Ke),r(()=>e(Ke).phone)&&ja(Mt)})}var Ct=a(xt,2);{var Ot=ja=>{var Va=Wh(),fs=t(Va),Ll=t(fs),ev=t(Ll);x((tv,av)=>{oa(fs,`border-color: ${tv??""}`),oa(Ll,`color: ${av??""}`),l(ev,(e(Ke),r(()=>e(Ke).score)))},[()=>(e(Ke),r(()=>Pe(e(Ke).score))),()=>(e(Ke),r(()=>Pe(e(Ke).score)))]),v(ja,Va)};y(Ct,ja=>{e(Ke),r(()=>e(Ke).score!==void 0)&&ja(Ot)})}var Rt=a(Ct,2),Wt=t(Rt);_t(Wt,1,()=>(e(Ke),r(()=>e(Ke).skills.slice(0,3))),bt,(ja,Va)=>{var fs=Hh(),Ll=t(fs);x(()=>l(Ll,e(Va))),v(ja,fs)});var Nt=a(Wt,2);{var Vt=ja=>{var Va=Jh(),fs=t(Va);x(()=>l(fs,`+${e(Ke),r(()=>e(Ke).skills.length-3)??""}`)),v(ja,Va)};y(Nt,ja=>{e(Ke),r(()=>e(Ke).skills.length>3)&&ja(Vt)})}var Jt=a(Rt,2),Ht=t(Jt),Qt=t(Ht),da=a(Ht,2),ya=t(da),ba=a(Jt,2),ga=t(ba),xa=a(ga,2),La=t(xa),Oa=a(xa,2),Ba=a(ba,2),ma=t(Ba),Ja=t(ma);Ja.value=Ja.__value="new";var Bs=a(Ja);Bs.value=Bs.__value="screening";var tl=a(Bs);tl.value=tl.__value="interview";var vr=a(tl);vr.value=vr.__value="offered";var or=a(vr);or.value=or.__value="rejected";var Lr=a(or);Lr.value=Lr.__value="hired";var Or;ir(ma),x((ja,Va)=>{l(Bt,`${e(Ke),r(()=>e(Ke).first_name[0])??""}${e(Ke),r(()=>e(Ke).last_name[0])??""}`),l(Dt,`${e(Ke),r(()=>e(Ke).first_name)??""} ${e(Ke),r(()=>e(Ke).last_name)??""}`),l(It,(e(Ke),r(()=>e(Ke).email))),st(Ht,1,`badge ${ja??""}`,"svelte-2tl2dc"),l(Qt,(e(Ke),r(()=>e(Ke).status))),l(ya,`Applied ${Va??""}`),xa.disabled=e(lt),l(La,`${e(lt)?"ðŸ”„":"ðŸ¤–"} AI Review`),Or!==(Or=(e(Ke),r(()=>e(Ke).status)))&&(ma.value=(ma.__value=(e(Ke),r(()=>e(Ke).status)))??"",Rl(ma,(e(Ke),r(()=>e(Ke).status))))},[()=>(e(Ke),r(()=>ge(e(Ke).status))),()=>(e(Ke),r(()=>ke(e(Ke).applied_date)))]),O("click",ga,()=>Ne(e(Ke))),O("click",xa,()=>$t(e(Ke))),O("click",Oa,()=>He(e(Ke),"screening")),O("change",ma,ja=>Ae(e(Ke).id,ja.currentTarget.value)),v(tt,vt)}),v(Ue,et)};y(Ve,Ue=>{e(g),r(()=>e(g).length===0)?Ue(Fe):Ue(Ye,!1)},!0)}v(Re,Ze)};y(Le,Re=>{e(S)?Re(Ee):Re($e,!1)})}x(()=>{l(se,`Candidates for ${e(me),r(()=>e(me).title)??""}`),l(we,`${e(me),r(()=>e(me).department)??""} â€¢ ${e(me),r(()=>e(me).location)??""}`)}),O("click",pe,()=>{s(me,null),s(R,[])}),Lt(qe,()=>e(Je),Re=>s(Je,Re)),v(W,ve)},oe=W=>{var ve=Kh(),Q=a(t(ve),4);O("click",Q,()=>s(u,"jobs")),v(W,ve)};y(K,W=>{e(me)?W(I):W(oe,!1)})}v(w,N)};y(De,w=>{e(u)==="candidates"&&w(ae)})}var B=a(De,2);{var J=w=>{var N=Xh(),K=a(t(N),2),I=a(t(K),2),oe=a(t(I),2),W=t(oe);x(ve=>l(W,ve),[()=>(e(_),r(()=>e(_).total>0?Math.round(e(_).total_applicants/e(_).total):0))]),v(w,N)};y(B,w=>{e(u)==="analytics"&&w(J)})}var G=a(Ge,2);{var $=w=>{var N=ty(),K=t(N),I=t(K),oe=t(I),W=t(oe),ve=a(oe,2),Q=a(I,2),U=t(Q),V=t(U),se=a(t(V),2),ie=a(V,2),we=a(t(ie),2),pe=a(U,2),ue=t(pe),Te=a(t(ue),2),he=a(ue,2),qe=a(t(he),2);x(()=>{e(P),Ut(()=>{})});var Se=t(qe);Se.value=Se.__value="full-time";var je=a(Se);je.value=je.__value="part-time";var M=a(je);M.value=M.__value="contract";var te=a(M);te.value=te.__value="internship";var de=a(pe,2),ce=t(de),ee=a(t(ce),2),Le=a(ce,2),Ee=a(t(Le),2),$e=a(de,2),Re=a(t($e),2),Ze=a($e,2),Ve=a(t(Ze),2),Fe=t(Ve);_t(Fe,1,()=>(e(P),r(()=>e(P).requirements)),bt,(zt,Ft,Dt)=>{var Et=Zh(),It=t(Et),Tt=a(It,2);kt(It,()=>e(P).requirements[Dt],Mt=>gt(P,e(P).requirements[Dt]=Mt)),O("click",Tt,()=>gt(P,e(P).requirements=Be(e(P).requirements,Dt))),v(zt,Et)});var Ye=a(Fe,2),Ue=a(Ze,2),et=a(t(Ue),2),tt=t(et);_t(tt,1,()=>(e(P),r(()=>e(P).responsibilities)),bt,(zt,Ft,Dt)=>{var Et=ey(),It=t(Et),Tt=a(It,2);kt(It,()=>e(P).responsibilities[Dt],Mt=>gt(P,e(P).responsibilities[Dt]=Mt)),O("click",Tt,()=>gt(P,e(P).responsibilities=Be(e(P).responsibilities,Dt))),v(zt,Et)});var Ke=a(tt,2),vt=a(Ue,2),xt=t(vt),at=t(xt),Bt=a(xt,2);x(()=>{l(W,`${e(L)?"Edit":"Create"} Job Posting`),xt.disabled=e(S),l(at,e(S)?"Saving...":e(L)?"Update Job":"Post Job")}),O("click",ve,()=>{s(T,!1),St()}),kt(se,()=>e(P).title,zt=>gt(P,e(P).title=zt)),kt(we,()=>e(P).department,zt=>gt(P,e(P).department=zt)),kt(Te,()=>e(P).location,zt=>gt(P,e(P).location=zt)),Lt(qe,()=>e(P).employment_type,zt=>gt(P,e(P).employment_type=zt)),kt(ee,()=>e(P).salary_min,zt=>gt(P,e(P).salary_min=zt)),kt(Ee,()=>e(P).salary_max,zt=>gt(P,e(P).salary_max=zt)),kt(Re,()=>e(P).description,zt=>gt(P,e(P).description=zt)),O("click",Ye,()=>gt(P,e(P).requirements=[...e(P).requirements,""])),O("click",Ke,()=>gt(P,e(P).responsibilities=[...e(P).responsibilities,""])),O("click",Bt,()=>{s(T,!1),St()}),O("submit",Q,qs(function(...zt){var Ft;(Ft=e(L)?dt:yt)==null||Ft.apply(this,zt)})),O("click",K,Gt(function(zt){aa.call(this,o,zt)})),O("keydown",K,Gt(function(zt){aa.call(this,o,zt)})),O("click",N,()=>{s(T,!1),St()}),v(w,N)};y(G,w=>{e(T)&&w($)})}var j=a(G,2);{var k=w=>{var N=_y(),K=t(N),I=t(K),oe=t(I),W=t(oe),ve=t(W),Q=a(W,2),U=t(Q),V=a(oe,2),se=a(I,2),ie=t(se),we=a(t(ie),2),pe=t(we),ue=a(t(pe),2),Te=t(ue),he=a(pe,2);{var qe=Ue=>{var et=ay(),tt=a(t(et),2),Ke=t(tt);x(()=>l(Ke,(e(X),r(()=>e(X).phone)))),v(Ue,et)};y(he,Ue=>{e(X),r(()=>e(X).phone)&&Ue(qe)})}var Se=a(he,2);{var je=Ue=>{var et=sy(),tt=a(t(et),2);x(()=>ca(tt,"href",(e(X),r(()=>e(X).linkedin_url)))),v(Ue,et)};y(Se,Ue=>{e(X),r(()=>e(X).linkedin_url)&&Ue(je)})}var M=a(Se,2);{var te=Ue=>{var et=ly(),tt=a(t(et),2);x(()=>ca(tt,"href",(e(X),r(()=>e(X).portfolio_url)))),v(Ue,et)};y(M,Ue=>{e(X),r(()=>e(X).portfolio_url)&&Ue(te)})}var de=a(ie,2);{var ce=Ue=>{var et=iy(),tt=a(t(et),2);_t(tt,5,()=>(e(X),r(()=>e(X).skills)),bt,(Ke,vt)=>{var xt=ry(),at=t(xt);x(()=>l(at,e(vt))),v(Ke,xt)}),v(Ue,et)};y(de,Ue=>{e(X),r(()=>e(X).skills.length>0)&&Ue(ce)})}var ee=a(de,2);{var Le=Ue=>{var et=cy(),tt=a(t(et),2),Ke=t(tt),vt=t(Ke),xt=a(Ke,2);{var at=Ft=>{var Dt=oy(),Et=a(t(Dt),2);_t(Et,5,()=>(e(X),r(()=>e(X).strengths)),bt,(It,Tt)=>{var Mt=vy(),Ct=t(Mt);x(()=>l(Ct,e(Tt))),v(It,Mt)}),v(Ft,Dt)};y(xt,Ft=>{e(X),r(()=>e(X).strengths&&e(X).strengths.length>0)&&Ft(at)})}var Bt=a(xt,2);{var zt=Ft=>{var Dt=dy(),Et=a(t(Dt),2);_t(Et,5,()=>(e(X),r(()=>e(X).weaknesses)),bt,(It,Tt)=>{var Mt=ny(),Ct=t(Mt);x(()=>l(Ct,e(Tt))),v(It,Mt)}),v(Ft,Dt)};y(Bt,Ft=>{e(X),r(()=>e(X).weaknesses&&e(X).weaknesses.length>0)&&Ft(zt)})}x(()=>l(vt,(e(X),r(()=>e(X).ai_summary)))),v(Ue,et)};y(ee,Ue=>{e(X),r(()=>e(X).ai_summary)&&Ue(Le)})}var Ee=a(ee,2);{var $e=Ue=>{var et=uy(),tt=a(t(et),2),Ke=t(tt);x(()=>l(Ke,(e(X),r(()=>e(X).cover_letter)))),v(Ue,et)};y(Ee,Ue=>{e(X),r(()=>e(X).cover_letter)&&Ue($e)})}var Re=a(Ee,2),Ze=t(Re);{var Ve=Ue=>{var et=py();x(()=>ca(et,"href",(e(X),r(()=>e(X).resume_url)))),v(Ue,et)};y(Ze,Ue=>{e(X),r(()=>e(X).resume_url)&&Ue(Ve)})}var Fe=a(Ze,2),Ye=a(Fe,2);x(()=>{l(ve,`${e(X),r(()=>e(X).first_name)??""} ${e(X),r(()=>e(X).last_name)??""}`),l(U,(e(X),r(()=>e(X).email))),l(Te,(e(X),r(()=>e(X).email)))}),O("click",V,()=>s(re,!1)),O("click",Fe,()=>$t(e(X))),O("click",Ye,()=>He(e(X),"interview")),O("click",K,Gt(function(Ue){aa.call(this,o,Ue)})),O("keydown",K,Gt(function(Ue){aa.call(this,o,Ue)})),O("click",N,()=>s(re,!1)),v(w,N)};y(j,w=>{e(re)&&e(X)&&w(k)})}var b=a(j,2);{var F=w=>{var N=fy(),K=t(N),I=t(K),oe=a(t(I),2),W=a(I,2),ve=t(W),Q=a(ve,2),U=a(Q,2),V=a(U,2),se=a(V,2),ie=t(se),we=a(W,2),pe=t(we),ue=t(pe),Te=t(ue),he=t(Te),qe=a(pe,2),Se=a(t(qe),2),je=a(qe,2),M=a(t(je),2),te=a(je,2),de=t(te),ce=t(de),ee=a(de,2);x(()=>{se.disabled=e(At),l(ie,e(At)?"ðŸ”„ Generating...":"ðŸ¤– AI Generate"),l(he,`To: ${e(X),r(()=>{var Le;return(Le=e(X))==null?void 0:Le.email})??""}`),de.disabled=e(S),l(ce,e(S)?"Sending...":"ðŸ“¤ Send Email")}),O("click",oe,()=>{s(ht,!1),Oe()}),O("click",ve,()=>He(e(X),"screening")),O("click",Q,()=>He(e(X),"interview")),O("click",U,()=>He(e(X),"offer")),O("click",V,()=>He(e(X),"rejection")),O("click",se,()=>Ce(e(X),"custom")),kt(Se,()=>e(ot),Le=>s(ot,Le)),kt(M,()=>e(rt),Le=>s(rt,Le)),O("click",ee,()=>{s(ht,!1),Oe()}),O("submit",we,qs(fe)),O("click",K,Gt(function(Le){aa.call(this,o,Le)})),O("keydown",K,Gt(function(Le){aa.call(this,o,Le)})),O("click",N,()=>{s(ht,!1),Oe()}),v(w,N)};y(b,w=>{e(ht)&&w(F)})}var A=a(b,2);{var q=w=>{var N=my(),K=t(N),I=t(K),oe=a(t(I),2),W=a(I,2);_t(W,5,()=>e(ft),bt,(V,se,ie)=>{var we=by(),pe=t(we),ue=t(pe),Te=t(ue),he=a(ue,2),qe=t(he),Se=a(pe,2),je=t(Se);x(()=>{l(Te,(e(se),r(()=>e(se).logo))),l(qe,(e(se),r(()=>e(se).name)))}),ys(je,()=>e(se).enabled,M=>(e(se).enabled=M,Ut(()=>e(ft)))),v(V,we)});var ve=a(W,2),Q=t(ve),U=a(Q,2);O("click",oe,()=>s(ut,!1)),O("click",Q,()=>s(ut,!1)),O("click",U,()=>s(ut,!1)),O("click",K,Gt(function(V){aa.call(this,o,V)})),O("keydown",K,Gt(function(V){aa.call(this,o,V)})),O("click",N,()=>s(ut,!1)),v(w,N)};y(A,w=>{e(ut)&&w(q)})}x(()=>{st(xe,1,`tab ${e(u)==="jobs"?"tab-active":""}`,"svelte-2tl2dc"),st(ne,1,`tab ${e(u)==="candidates"?"tab-active":""}`,"svelte-2tl2dc"),st(_e,1,`tab ${e(u)==="analytics"?"tab-active":""}`,"svelte-2tl2dc")}),O("click",xe,()=>s(u,"jobs")),O("click",ne,()=>s(u,"candidates")),O("click",_e,()=>s(u,"analytics")),v(i,Xe),Zt(),h()}var gy=d('<div class="alert alert-error svelte-1b8iquk"> <button class="svelte-1b8iquk">Ã—</button></div>'),xy=d('<div class="alert alert-success svelte-1b8iquk"> <button class="svelte-1b8iquk">Ã—</button></div>'),wy=d('<div class="loading svelte-1b8iquk">Loading projects...</div>'),ky=d('<div class="empty-state svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg> <h3 class="svelte-1b8iquk">No projects yet</h3> <p class="svelte-1b8iquk">Create your first project to get started</p> <button class="btn-primary svelte-1b8iquk">Create Project</button></div>'),$y=d('<div class="project-info svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg> <span> </span></div>'),jy=d('<div class="project-info warning svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg> <span>No manager assigned</span></div>'),Sy=d('<div class="project-card svelte-1b8iquk"><div class="project-header svelte-1b8iquk"><h3 class="svelte-1b8iquk"> </h3> <div class="project-meta svelte-1b8iquk"><span> </span> <span> </span></div></div> <p class="project-description svelte-1b8iquk"> </p> <!> <div class="project-info svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <span> </span></div> <div class="project-actions svelte-1b8iquk"><button class="btn-secondary svelte-1b8iquk">Add Member</button> <button class="btn-icon svelte-1b8iquk">View Details</button> <button class="btn-icon danger svelte-1b8iquk">Delete</button></div></div>'),Ay=d('<div class="projects-grid svelte-1b8iquk"></div>'),Ey=d('<div class="projects-section"><div class="filters svelte-1b8iquk"><input type="text" placeholder="Search projects..." class="search-input svelte-1b8iquk"/> <select class="filter-select svelte-1b8iquk"><option>All Status</option><option>Active</option><option>On Hold</option><option>Completed</option><option>Archived</option></select></div> <!></div>'),Cy=d('<p class="text-muted svelte-1b8iquk">All employees have been assigned to managers</p>'),Dy=d('<div class="employee-card svelte-1b8iquk"><div class="employee-avatar svelte-1b8iquk"> </div> <div class="employee-info svelte-1b8iquk"><div class="employee-name svelte-1b8iquk"> </div> <div class="employee-position svelte-1b8iquk"> </div> <div class="employee-dept svelte-1b8iquk"> </div></div> <button class="btn-secondary btn-sm svelte-1b8iquk">Assign Manager</button></div>'),zy=d('<div class="employees-grid svelte-1b8iquk"></div>'),Py=d('<div class="team-member svelte-1b8iquk"><span class="member-name svelte-1b8iquk"> </span> <span class="member-position svelte-1b8iquk"> </span></div>'),Ty=d('<div class="manager-group svelte-1b8iquk"><div class="manager-header svelte-1b8iquk"><div class="manager-info svelte-1b8iquk"><div class="manager-avatar svelte-1b8iquk"> </div> <div><div class="manager-name svelte-1b8iquk"> </div> <div class="manager-title svelte-1b8iquk"> </div></div></div> <div class="team-count svelte-1b8iquk"> </div></div> <div class="team-members svelte-1b8iquk"></div></div>'),qy=d('<div class="assignments-section"><div class="section-header svelte-1b8iquk"><h2 class="svelte-1b8iquk">Manager Assignments</h2> <button class="btn-primary svelte-1b8iquk">Assign Employee to Manager</button></div> <div class="unassigned-section svelte-1b8iquk"><h3 class="svelte-1b8iquk"> </h3> <!></div> <div class="assigned-section svelte-1b8iquk"><h3 class="svelte-1b8iquk">Employees by Manager</h3> <!></div></div>'),My=d("<option> </option>"),By=d('<div class="modal svelte-1b8iquk"><div class="modal-content svelte-1b8iquk"><div class="modal-header svelte-1b8iquk"><h2 class="svelte-1b8iquk">Create New Project</h2> <button class="close-btn svelte-1b8iquk">Ã—</button></div> <form class="svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Project Name *</label> <input type="text" placeholder="Enter project name" required class="svelte-1b8iquk"/></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Description</label> <textarea placeholder="Project description" rows="3" class="svelte-1b8iquk"></textarea></div> <div class="form-row svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Status</label> <select class="svelte-1b8iquk"><option>Active</option><option>On Hold</option><option>Completed</option><option>Archived</option></select></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Priority</label> <select class="svelte-1b8iquk"><option>Low</option><option>Medium</option><option>High</option><option>Critical</option></select></div></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Project Manager</label> <select class="svelte-1b8iquk"><option>Select Manager (Optional)</option><!></select></div> <div class="form-row svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Start Date</label> <input type="date" class="svelte-1b8iquk"/></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">End Date</label> <input type="date" class="svelte-1b8iquk"/></div></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Budget</label> <input type="number" placeholder="0.00" step="0.01" min="0" class="svelte-1b8iquk"/></div> <div class="modal-actions svelte-1b8iquk"><button type="button" class="btn-secondary svelte-1b8iquk">Cancel</button> <button type="submit" class="btn-primary svelte-1b8iquk">Create Project</button></div></form></div></div>'),Iy=d("<option> </option>"),Ry=d('<div class="modal svelte-1b8iquk"><div class="modal-content svelte-1b8iquk"><div class="modal-header svelte-1b8iquk"><h2 class="svelte-1b8iquk"> </h2> <button class="close-btn svelte-1b8iquk">Ã—</button></div> <form class="svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Employee *</label> <select required class="svelte-1b8iquk"><option>Select Employee</option><!></select></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Role</label> <input type="text" placeholder="e.g., Developer, Designer, Analyst" class="svelte-1b8iquk"/></div> <div class="modal-actions svelte-1b8iquk"><button type="button" class="btn-secondary svelte-1b8iquk">Cancel</button> <button type="submit" class="btn-primary svelte-1b8iquk">Assign Member</button></div></form></div></div>'),Fy=d("<option> </option>"),Ly=d("<option> </option>"),Oy=d('<div class="modal svelte-1b8iquk"><div class="modal-content svelte-1b8iquk"><div class="modal-header svelte-1b8iquk"><h2 class="svelte-1b8iquk">Assign Employee to Manager</h2> <button class="close-btn svelte-1b8iquk">Ã—</button></div> <form class="svelte-1b8iquk"><div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Employee *</label> <select required class="svelte-1b8iquk"><option>Select Employee</option><!></select></div> <div class="form-group svelte-1b8iquk"><label class="svelte-1b8iquk">Manager *</label> <select required class="svelte-1b8iquk"><option>Select Manager</option><!></select></div> <div class="modal-actions svelte-1b8iquk"><button type="button" class="btn-secondary svelte-1b8iquk">Cancel</button> <button type="submit" class="btn-primary svelte-1b8iquk">Assign to Manager</button></div></form></div></div>'),Ny=d('<div class="project-management svelte-1b8iquk"><div class="header svelte-1b8iquk"><div><h1 class="svelte-1b8iquk">Project Management</h1> <p class="subtitle svelte-1b8iquk">Create projects, assign managers, and manage teams</p></div> <button class="btn-primary svelte-1b8iquk"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M12 5v14M5 12h14"></path></svg> Create Project</button></div> <!> <!> <div class="tabs svelte-1b8iquk"><button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg> </button> <button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1b8iquk"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"></path></svg> Manager Assignments</button></div> <!> <!> <!> <!> <!></div>');function Uy(i,o){Xt(o,!0);const n=$a();let m=mt(Kt([])),h=mt(Kt([])),c=mt(Kt([])),g=mt(!1),_=mt("projects"),p=mt(!1),u=mt(!1),S=mt(!1),C=mt(null),le=mt("all"),E=mt(""),T=mt(""),L=mt(""),z=mt(Kt({name:"",description:"",status:"active",priority:"medium",manager_id:"",start_date:"",end_date:"",budget:""})),P=mt(Kt({employee_id:"",role:"member"})),R=mt(Kt({employee_id:"",manager_id:""}));sa(()=>{me(),X()});async function me(){s(g,!0);try{const be=localStorage.getItem("token"),f=new URLSearchParams;e(le)!=="all"&&f.append("status",e(le));const D=`${n}/projects?${f.toString()}`,H=await fetch(D,{headers:{Authorization:`Bearer ${be}`}});if(H.ok){const xe=await H.json();s(m,Array.isArray(xe)?xe:[],!0)}else s(m,[],!0)}catch(be){console.error("Error loading projects:",be),s(m,[],!0)}finally{s(g,!1)}}async function X(){try{const be=localStorage.getItem("token"),f=await fetch(`${n}/employees`,{headers:{Authorization:`Bearer ${be}`}});if(f.ok){const D=await f.json();s(h,Array.isArray(D)?D:[],!0),s(c,e(h).filter(H=>{var xe,ne,_e;return((xe=H.position)==null?void 0:xe.toLowerCase().includes("manager"))||((ne=H.position)==null?void 0:ne.toLowerCase().includes("director"))||((_e=H.position)==null?void 0:_e.toLowerCase().includes("lead"))}),!0)}}catch(be){console.error("Error loading employees:",be),s(h,[],!0)}}async function re(){if(s(T,""),s(L,""),!e(z).name.trim()){s(T,"Project name is required");return}try{const be=localStorage.getItem("token"),f={name:e(z).name,description:e(z).description,status:e(z).status,priority:e(z).priority};e(z).manager_id&&(f.manager_id=e(z).manager_id),e(z).start_date&&(f.start_date=new Date(e(z).start_date).toISOString()),e(z).end_date&&(f.end_date=new Date(e(z).end_date).toISOString()),e(z).budget&&(f.budget=parseFloat(e(z).budget)),console.log("Creating project with data:",f);const D=await fetch(`${n}/projects`,{method:"POST",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"},body:JSON.stringify(f)});if(D.ok)s(L,"Project created successfully"),s(p,!1),ft(),me();else{const H=await D.json();console.error("Backend error:",H),s(T,H.error||"Failed to create project",!0)}}catch(be){console.error("Error creating project:",be),s(T,"Error creating project")}}async function Qe(be){if(s(T,""),s(L,""),!e(P).employee_id){s(T,"Please select an employee");return}try{const f=localStorage.getItem("token"),D=await fetch(`${n}/projects/${be}/members`,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify(e(P))});if(D.ok)s(L,"Member assigned successfully"),s(u,!1),s(P,{employee_id:"",role:"member"},!0),lt(be);else{const H=await D.json();s(T,H.error||"Failed to assign member",!0)}}catch(f){console.error("Error assigning member:",f),s(T,"Error assigning member")}}async function Je(){if(s(T,""),s(L,""),!e(R).employee_id||!e(R).manager_id){s(T,"Please select both employee and manager");return}try{const be=localStorage.getItem("token"),f=await fetch(`${n}/managers/assign`,{method:"POST",headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"},body:JSON.stringify(e(R))});if(f.ok)s(L,"Employee assigned to manager successfully"),s(S,!1),s(R,{employee_id:"",manager_id:""},!0),X();else{const D=await f.json();s(T,D.error||"Failed to assign employee to manager",!0)}}catch(be){console.error("Error assigning to manager:",be),s(T,"Error assigning to manager")}}async function lt(be){var f;try{const D=localStorage.getItem("token"),H=await fetch(`${n}/projects/${be}`,{headers:{Authorization:`Bearer ${D}`}});if(H.ok){const xe=await H.json(),ne=e(m).findIndex(_e=>_e.id===be);ne!==-1&&(e(m)[ne]=xe),((f=e(C))==null?void 0:f.id)===be&&s(C,xe,!0)}}catch(D){console.error("Error loading project details:",D)}}async function ut(be){var f;if(confirm("Are you sure you want to delete this project?"))try{const D=localStorage.getItem("token");(await fetch(`${n}/projects/${be}`,{method:"DELETE",headers:{Authorization:`Bearer ${D}`}})).ok&&(s(L,"Project deleted successfully"),me(),((f=e(C))==null?void 0:f.id)===be&&s(C,null))}catch(D){console.error("Error deleting project:",D),s(T,"Error deleting project")}}function ft(){s(z,{name:"",description:"",status:"active",priority:"medium",manager_id:"",start_date:"",end_date:"",budget:""},!0)}function ht(be){s(C,be,!0),s(u,!0),s(T,""),s(L,"")}function ot(be){return{active:"status-active","on-hold":"status-onhold",completed:"status-completed",archived:"status-archived"}[be]||""}function rt(be){return{low:"priority-low",medium:"priority-medium",high:"priority-high",critical:"priority-critical"}[be]||""}let At=va(()=>e(m).filter(be=>{var D;return be.name.toLowerCase().includes(e(E).toLowerCase())||((D=be.description)==null?void 0:D.toLowerCase().includes(e(E).toLowerCase()))})),it=va(()=>e(h).filter(be=>!be.manager_id));var ct=Ny(),yt=t(ct),dt=a(t(yt),2);dt.__click=()=>{s(p,!0),s(T,""),s(L,"")};var pt=a(yt,2);{var wt=be=>{var f=gy(),D=t(f),H=a(D);H.__click=()=>s(T,""),x(()=>l(D,`${e(T)??""} `)),v(be,f)};y(pt,be=>{e(T)&&be(wt)})}var St=a(pt,2);{var qt=be=>{var f=xy(),D=t(f),H=a(D);H.__click=()=>s(L,""),x(()=>l(D,`${e(L)??""} `)),v(be,f)};y(St,be=>{e(L)&&be(qt)})}var $t=a(St,2),Ae=t($t);let Ne;Ae.__click=()=>s(_,"projects");var ye=a(t(Ae)),He=a(Ae,2);let Ce;He.__click=()=>s(_,"assignments");var fe=a($t,2);{var Oe=be=>{var f=Ey(),D=t(f),H=t(D),xe=a(H,2);xe.__change=()=>me();var ne=t(xe);ne.value=ne.__value="all";var _e=a(ne);_e.value=_e.__value="active";var ze=a(_e);ze.value=ze.__value="on-hold";var Me=a(ze);Me.value=Me.__value="completed";var Z=a(Me);Z.value=Z.__value="archived";var De=a(D,2);{var ae=J=>{var G=wy();v(J,G)},B=J=>{var G=Pt(),$=nt(G);{var j=b=>{var F=ky(),A=a(t(F),6);A.__click=()=>s(p,!0),v(b,F)},k=b=>{var F=Ay();_t(F,21,()=>e(At),bt,(A,q)=>{var w=Sy(),N=t(w),K=t(N),I=t(K),oe=a(K,2),W=t(oe),ve=t(W),Q=a(W,2),U=t(Q),V=a(N,2),se=t(V),ie=a(V,2);{var we=te=>{var de=$y(),ce=a(t(de),2),ee=t(ce);x(()=>l(ee,`Manager: ${e(q).manager_name??""}`)),v(te,de)},pe=te=>{var de=jy();v(te,de)};y(ie,te=>{e(q).manager_name?te(we):te(pe,!1)})}var ue=a(ie,2),Te=a(t(ue),2),he=t(Te),qe=a(ue,2),Se=t(qe);Se.__click=()=>ht(e(q));var je=a(Se,2);je.__click=()=>s(C,e(q),!0);var M=a(je,2);M.__click=()=>ut(e(q).id),x((te,de)=>{l(I,e(q).name),st(W,1,`status ${te??""}`,"svelte-1b8iquk"),l(ve,e(q).status),st(Q,1,`priority ${de??""}`,"svelte-1b8iquk"),l(U,e(q).priority),l(se,e(q).description||"No description"),l(he,`${e(q).member_count??""} team members`)},[()=>ot(e(q).status),()=>rt(e(q).priority)]),v(A,w)}),v(b,F)};y($,b=>{e(At).length===0?b(j):b(k,!1)},!0)}v(J,G)};y(De,J=>{e(g)?J(ae):J(B,!1)})}kt(H,()=>e(E),J=>s(E,J)),Lt(xe,()=>e(le),J=>s(le,J)),v(be,f)};y(fe,be=>{e(_)==="projects"&&be(Oe)})}var Ie=a(fe,2);{var ke=be=>{var f=qy(),D=t(f),H=a(t(D),2);H.__click=()=>{s(S,!0),s(T,""),s(L,"")};var xe=a(D,2),ne=t(xe),_e=t(ne),ze=a(ne,2);{var Me=B=>{var J=Cy();v(B,J)},Z=B=>{var J=zy();_t(J,21,()=>e(it),bt,(G,$)=>{var j=Dy(),k=t(j),b=t(k),F=a(k,2),A=t(F),q=t(A),w=a(A,2),N=t(w),K=a(w,2),I=t(K),oe=a(F,2);oe.__click=()=>{e(R).employee_id=e($).id,s(S,!0)},x(()=>{l(b,`${e($).first_name[0]??""}${e($).last_name[0]??""}`),l(q,`${e($).first_name??""} ${e($).last_name??""}`),l(N,e($).position),l(I,e($).department)}),v(G,j)}),v(B,J)};y(ze,B=>{e(it).length===0?B(Me):B(Z,!1)})}var De=a(xe,2),ae=a(t(De),2);_t(ae,17,()=>e(c),bt,(B,J)=>{const G=va(()=>e(h).filter(b=>b.manager_id===e(J).id));var $=Pt(),j=nt($);{var k=b=>{var F=Ty(),A=t(F),q=t(A),w=t(q),N=t(w),K=a(w,2),I=t(K),oe=t(I),W=a(I,2),ve=t(W),Q=a(q,2),U=t(Q),V=a(A,2);_t(V,21,()=>e(G),bt,(se,ie)=>{var we=Py(),pe=t(we),ue=t(pe),Te=a(pe,2),he=t(Te);x(()=>{l(ue,`${e(ie).first_name??""} ${e(ie).last_name??""}`),l(he,e(ie).position)}),v(se,we)}),x(()=>{l(N,`${e(J).first_name[0]??""}${e(J).last_name[0]??""}`),l(oe,`${e(J).first_name??""} ${e(J).last_name??""}`),l(ve,e(J).position),l(U,`${e(G).length??""} team members`)}),v(b,F)};y(j,b=>{e(G).length>0&&b(k)})}v(B,$)}),x(()=>l(_e,`Unassigned Employees (${e(it).length??""})`)),v(be,f)};y(Ie,be=>{e(_)==="assignments"&&be(ke)})}var ge=a(Ie,2);{var Pe=be=>{var f=By();f.__click=ue=>{ue.target.classList.contains("modal")&&s(p,!1)};var D=t(f),H=t(D),xe=a(t(H),2);xe.__click=()=>s(p,!1);var ne=a(H,2),_e=t(ne),ze=a(t(_e),2),Me=a(_e,2),Z=a(t(Me),2),De=a(Me,2),ae=t(De),B=a(t(ae),2),J=t(B);J.value=J.__value="active";var G=a(J);G.value=G.__value="on-hold";var $=a(G);$.value=$.__value="completed";var j=a($);j.value=j.__value="archived";var k=a(ae,2),b=a(t(k),2),F=t(b);F.value=F.__value="low";var A=a(F);A.value=A.__value="medium";var q=a(A);q.value=q.__value="high";var w=a(q);w.value=w.__value="critical";var N=a(De,2),K=a(t(N),2),I=t(K);I.value=I.__value="";var oe=a(I);_t(oe,17,()=>e(c),bt,(ue,Te)=>{var he=My(),qe=t(he),Se={};x(()=>{l(qe,`${e(Te).first_name??""} ${e(Te).last_name??""} - ${e(Te).position??""}`),Se!==(Se=e(Te).id)&&(he.value=(he.__value=e(Te).id)??"")}),v(ue,he)});var W=a(N,2),ve=t(W),Q=a(t(ve),2),U=a(ve,2),V=a(t(U),2),se=a(W,2),ie=a(t(se),2),we=a(se,2),pe=t(we);pe.__click=()=>s(p,!1),O("submit",ne,ue=>{ue.preventDefault(),re()}),kt(ze,()=>e(z).name,ue=>e(z).name=ue),kt(Z,()=>e(z).description,ue=>e(z).description=ue),Lt(B,()=>e(z).status,ue=>e(z).status=ue),Lt(b,()=>e(z).priority,ue=>e(z).priority=ue),Lt(K,()=>e(z).manager_id,ue=>e(z).manager_id=ue),kt(Q,()=>e(z).start_date,ue=>e(z).start_date=ue),kt(V,()=>e(z).end_date,ue=>e(z).end_date=ue),kt(ie,()=>e(z).budget,ue=>e(z).budget=ue),v(be,f)};y(ge,be=>{e(p)&&be(Pe)})}var Be=a(ge,2);{var Xe=be=>{var f=Ry();f.__click=j=>{j.target.classList.contains("modal")&&s(u,!1)};var D=t(f),H=t(D),xe=t(H),ne=t(xe),_e=a(xe,2);_e.__click=()=>s(u,!1);var ze=a(H,2),Me=t(ze),Z=a(t(Me),2),De=t(Z);De.value=De.__value="";var ae=a(De);_t(ae,17,()=>e(h),bt,(j,k)=>{var b=Iy(),F=t(b),A={};x(()=>{l(F,`${e(k).first_name??""} ${e(k).last_name??""} - ${e(k).position??""}`),A!==(A=e(k).id)&&(b.value=(b.__value=e(k).id)??"")}),v(j,b)});var B=a(Me,2),J=a(t(B),2),G=a(B,2),$=t(G);$.__click=()=>s(u,!1),x(()=>l(ne,`Assign Member to ${e(C).name??""}`)),O("submit",ze,j=>{j.preventDefault(),Qe(e(C).id)}),Lt(Z,()=>e(P).employee_id,j=>e(P).employee_id=j),kt(J,()=>e(P).role,j=>e(P).role=j),v(be,f)};y(Be,be=>{e(u)&&e(C)&&be(Xe)})}var Ge=a(Be,2);{var We=be=>{var f=Oy();f.__click=j=>{j.target.classList.contains("modal")&&s(S,!1)};var D=t(f),H=t(D),xe=a(t(H),2);xe.__click=()=>s(S,!1);var ne=a(H,2),_e=t(ne),ze=a(t(_e),2),Me=t(ze);Me.value=Me.__value="";var Z=a(Me);_t(Z,17,()=>e(h),bt,(j,k)=>{var b=Fy(),F=t(b),A={};x(()=>{l(F,`${e(k).first_name??""} ${e(k).last_name??""} - ${e(k).position??""}`),A!==(A=e(k).id)&&(b.value=(b.__value=e(k).id)??"")}),v(j,b)});var De=a(_e,2),ae=a(t(De),2),B=t(ae);B.value=B.__value="";var J=a(B);_t(J,17,()=>e(c),bt,(j,k)=>{var b=Ly(),F=t(b),A={};x(()=>{l(F,`${e(k).first_name??""} ${e(k).last_name??""} - ${e(k).position??""}`),A!==(A=e(k).id)&&(b.value=(b.__value=e(k).id)??"")}),v(j,b)});var G=a(De,2),$=t(G);$.__click=()=>s(S,!1),O("submit",ne,j=>{j.preventDefault(),Je()}),Lt(ze,()=>e(R).employee_id,j=>e(R).employee_id=j),Lt(ae,()=>e(R).manager_id,j=>e(R).manager_id=j),v(be,f)};y(Ge,be=>{e(S)&&be(We)})}x(()=>{Ne=st(Ae,1,"tab-btn svelte-1b8iquk",null,Ne,{active:e(_)==="projects"}),l(ye,` Projects (${e(m).length??""})`),Ce=st(He,1,"tab-btn svelte-1b8iquk",null,Ce,{active:e(_)==="assignments"})}),v(i,ct),Zt()}Pa(["click","change"]);var Wy=d('<button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path></svg> <span class="svelte-1n46o8q">HR Dashboard</span></button>'),Hy=d('<button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="9" y1="9" x2="15" y2="9"></line><line x1="9" y1="15" x2="15" y2="15"></line></svg> <span class="svelte-1n46o8q">Manager Dashboard</span></button>'),Jy=d('<button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line></svg> <span class="svelte-1n46o8q">Users</span></button>'),Vy=d('<div class="app-container svelte-1n46o8q"><aside class="sidebar svelte-1n46o8q"><div class="logo svelte-1n46o8q"><div class="logo-icon svelte-1n46o8q"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg></div> <span class="logo-text svelte-1n46o8q">CoCom PeopleHub</span></div> <nav class="nav svelte-1n46o8q"><!> <!> <button><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg> <span class="svelte-1n46o8q">Employee Dashboard</span></button> <!></nav> <button class="logout-btn svelte-1n46o8q"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="svelte-1n46o8q"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg> <span>Logout</span></button></aside> <div class="content svelte-1n46o8q"><!></div></div>'),Yy=d('<main class="app svelte-1n46o8q"><!></main>');function Gy(i,o){Xt(o,!0);const n=()=>_a(ua,"$authStore",m),[m,h]=fa();let c=mt("dashboard"),g=mt(""),_=mt(!1),p=mt(null);sa(()=>{const R=localStorage.getItem("token"),me=localStorage.getItem("user"),X=localStorage.getItem("employee");if(R&&me){const re=JSON.parse(me),Qe=X?JSON.parse(X):null;if(ua.set({token:R,user:re,employee:Qe,isAuthenticated:!0}),Qe&&Qe.status==="Onboarding"){s(c,"onboarding");return}re.role==="admin"||re.role==="hr-manager"?s(c,"hr-dashboard"):re.role==="manager"?s(c,"manager-dashboard"):s(c,"employee-dashboard")}}),cs(()=>ua.subscribe(me=>{var X;s(_,me.isAuthenticated,!0),s(p,((X=me.user)==null?void 0:X.role)||null,!0),e(_)&&me.user&&(me.user.role==="hr-manager"||me.user.role==="admin"?e(c)==="dashboard"&&s(c,"hr-dashboard"):me.user.role==="manager"?e(c)==="dashboard"&&s(c,"manager-dashboard"):e(c)==="dashboard"&&s(c,"employee-dashboard"))}));function u(R,me){const X=n().employee;if((X==null?void 0:X.status)==="onboarding"&&R!=="onboarding"){console.log("Cannot navigate: Employee must complete onboarding first");return}s(c,R,!0),me&&s(g,me,!0)}function S(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("employee"),ua.set({token:null,user:null,employee:null,isAuthenticated:!1}),s(c,"dashboard")}function C(R){s(g,R,!0),s(c,"workflow-detail")}var le={navigateToWorkflowDetail:C},E=Yy(),T=t(E);{var L=R=>{Ro(R,{})},z=R=>{var me=Vy(),X=t(me),re=a(t(X),2),Qe=t(re);{var Je=pt=>{var wt=Wy();let St;wt.__click=()=>u("hr-dashboard"),x(()=>St=st(wt,1,"nav-item svelte-1n46o8q",null,St,{active:e(c)==="hr-dashboard"})),v(pt,wt)};y(Qe,pt=>{(e(p)==="hr-manager"||e(p)==="admin")&&pt(Je)})}var lt=a(Qe,2);{var ut=pt=>{var wt=Hy();let St;wt.__click=()=>u("manager-dashboard"),x(()=>St=st(wt,1,"nav-item svelte-1n46o8q",null,St,{active:e(c)==="manager-dashboard"})),v(pt,wt)};y(lt,pt=>{(e(p)==="manager"||e(p)==="admin")&&pt(ut)})}var ft=a(lt,2);let ht;ft.__click=()=>u("employee-dashboard");var ot=a(ft,2);{var rt=pt=>{var wt=Jy();let St;wt.__click=()=>u("users"),x(()=>St=st(wt,1,"nav-item svelte-1n46o8q",null,St,{active:e(c)==="users"})),v(pt,wt)};y(ot,pt=>{e(p)==="admin"&&pt(rt)})}var At=a(re,2);At.__click=S;var it=a(X,2),ct=t(it);{var yt=pt=>{Lo(pt,{})},dt=pt=>{var wt=Pt(),St=nt(wt);{var qt=Ae=>{Ko(Ae,{})},$t=Ae=>{var Ne=Pt(),ye=nt(Ne);{var He=fe=>{Zo(fe,{navigate:u})},Ce=fe=>{var Oe=Pt(),Ie=nt(Oe);{var ke=Pe=>{un(Pe,{navigate:u})},ge=Pe=>{var Be=Pt(),Xe=nt(Be);{var Ge=be=>{Qb(be,{navigate:u})},We=be=>{var f=Pt(),D=nt(f);{var H=ne=>{bm(ne,{navigate:u})},xe=ne=>{var _e=Pt(),ze=nt(_e);{var Me=De=>{bh(De,{navigate:u})},Z=De=>{var ae=Pt(),B=nt(ae);{var J=$=>{si($,{})},G=$=>{var j=Pt(),k=nt(j);{var b=A=>{Nn(A,{get id(){return e(g)},navigate:u})},F=A=>{var q=Pt(),w=nt(q);{var N=I=>{id(I,{})},K=I=>{var oe=Pt(),W=nt(oe);{var ve=U=>{Cd(U,{})},Q=U=>{var V=Pt(),se=nt(V);{var ie=pe=>{ic(pe,{})},we=pe=>{var ue=Pt(),Te=nt(ue);{var he=Se=>{Hc(Se,{})},qe=Se=>{var je=Pt(),M=nt(je);{var te=ce=>{Uy(ce,{navigate:u})},de=ce=>{var ee=Pt(),Le=nt(ee);{var Ee=Re=>{yy(Re,{})},$e=Re=>{var Ze=Pt(),Ve=nt(Ze);{var Fe=Ye=>{si(Ye,{})};y(Ve,Ye=>{e(c)==="users"&&Ye(Fe)},!0)}v(Re,Ze)};y(Le,Re=>{e(c)==="recruiting"?Re(Ee):Re($e,!1)},!0)}v(ce,ee)};y(M,ce=>{e(c)==="projects"?ce(te):ce(de,!1)},!0)}v(Se,je)};y(Te,Se=>{e(c)==="payroll"?Se(he):Se(qe,!1)},!0)}v(pe,ue)};y(se,pe=>{e(c)==="benefits"?pe(ie):pe(we,!1)},!0)}v(U,V)};y(W,U=>{e(c)==="pto"?U(ve):U(Q,!1)},!0)}v(I,oe)};y(w,I=>{e(c)==="timesheet"?I(N):I(K,!1)},!0)}v(A,q)};y(k,A=>{e(c)==="workflow-detail"?A(b):A(F,!1)},!0)}v($,j)};y(B,$=>{e(c)==="users"?$(J):$(G,!1)},!0)}v(De,ae)};y(ze,De=>{e(c)==="employee-dashboard"?De(Me):De(Z,!1)},!0)}v(ne,_e)};y(D,ne=>{e(c)==="manager-dashboard"?ne(H):ne(xe,!1)},!0)}v(be,f)};y(Xe,be=>{e(c)==="hr-dashboard"?be(Ge):be(We,!1)},!0)}v(Pe,Be)};y(Ie,Pe=>{e(c)==="workflows"?Pe(ke):Pe(ge,!1)},!0)}v(fe,Oe)};y(ye,fe=>{e(c)==="onboarding"?fe(He):fe(Ce,!1)},!0)}v(Ae,Ne)};y(St,Ae=>{e(c)==="employees"?Ae(qt):Ae($t,!1)},!0)}v(pt,wt)};y(ct,pt=>{e(c)==="dashboard"?pt(yt):pt(dt,!1)})}x(()=>ht=st(ft,1,"nav-item svelte-1n46o8q",null,ht,{active:e(c)==="employee-dashboard"})),v(R,me)};y(T,R=>{e(_)?R(z,!1):R(L)})}v(i,E);var P=Zt(le);return h(),P}Pa(["click"]);po(Gy,{target:document.getElementById("app")});
